<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ProfileData/SampleProfReader.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_2bae76e1a673950fcc3bf0aaed73b64f.html">ProfileData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SampleProfReader.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SampleProfReader_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- SampleProfReader.cpp - Read LLVM sample profile data ---------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the class that reads LLVM sample profiles. It</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// supports three file formats: text, binary and gcov.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// The textual representation is useful for debugging and testing purposes. The</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// binary representation is more compact, resulting in smaller file sizes.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// The gcov encoding is the one generated by GCC&#39;s AutoFDO profile creation</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// tool (https://github.com/google/autofdo)</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// All three encodings can be used interchangeably as an input sample profile.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProfReader_8h.html">llvm/ProfileData/SampleProfReader.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfileSummary_8h.html">llvm/IR/ProfileSummary.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfileCommon_8h.html">llvm/ProfileData/ProfileCommon.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProf_8h.html">llvm/ProfileData/SampleProf.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compression_8h.html">llvm/Support/Compression.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorOr_8h.html">llvm/Support/ErrorOr.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JSON_8h.html">llvm/Support/JSON.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LEB128_8h.html">llvm/Support/LEB128.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LineIterator_8h.html">llvm/Support/LineIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MD5_8h.html">llvm/Support/MD5.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuffer_8h.html">llvm/Support/MemoryBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtualFileSystem_8h.html">llvm/Support/VirtualFileSystem.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;system_error&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">using namespace </span>sampleprof;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   51</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;samplepgo-reader&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// This internal option specifies if the profile uses FS discriminators.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// It only applies to text, binary and compact binary format profiles.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// For ext-binary format profiles, the flag is set in the summary.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="SampleProfReader_8cpp.html#af18f760584a90ec99b354b9074afee48">ProfileIsFSDisciminator</a>(</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="stringliteral">&quot;profile-isfs&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Profile uses flow sensitive discriminators&quot;</span>));</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/// Dump the function profile for \p FName.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// \param FContext Name + context of the function to print.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// \param OS Stream to emit the output to.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a0e37b10404b74d1912e0ab1b675085d9">   64</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a0e37b10404b74d1912e0ab1b675085d9">SampleProfileReader::dumpFunctionProfile</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a> FContext,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                              <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Function: &quot;</span> &lt;&lt; FContext.<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#ade2e9346cc9a993d02dab4742aff2bdf">toString</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>[FContext];</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/// Dump all the function profiles found on stream \p OS.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a241493be5796817782fda51d1b3fa61d">   70</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a241493be5796817782fda51d1b3fa61d">SampleProfileReader::dump</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  std::vector&lt;NameFunctionSamples&gt; V;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a11f675e2f1396d64eefeaf67cdce624e">sortFuncProfiles</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>, V);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : V)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a0e37b10404b74d1912e0ab1b675085d9">dumpFunctionProfile</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#a3f66983ff782c5a6bc67a19058c7ea6b">   77</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SampleProfReader_8cpp.html#a3f66983ff782c5a6bc67a19058c7ea6b">dumpFunctionProfileJson</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                    <a class="code" href="classllvm_1_1json_1_1OStream.html">json::OStream</a> &amp;JOS, <span class="keywordtype">bool</span> TopLevel = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keyword">auto</span> DumpBody = [&amp;](<span class="keyword">const</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a9ee68c6bcc54e825b442d88349f7d083">BodySampleMap</a> &amp;BodySamples) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : BodySamples) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a> &amp;Loc = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleRecord.html">SampleRecord</a> &amp;Sample = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a06d556674c46c15e5906f2f645f4fbe5">object</a>([&amp;] {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;line&quot;</span>, Loc.<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html#ac38b029469edc31486c5ce8adf89e5f3">LineOffset</a>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">if</span> (Loc.<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html#ac8129e173d0cdcdd59271bf89f32544c">Discriminator</a>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;          JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;discriminator&quot;</span>, Loc.<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html#ac8129e173d0cdcdd59271bf89f32544c">Discriminator</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;samples&quot;</span>, Sample.<a class="code" href="classllvm_1_1sampleprof_1_1SampleRecord.html#a6e5033adccbe0a93cc7c77cd89ed2fec">getSamples</a>());</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keyword">auto</span> CallTargets = Sample.<a class="code" href="classllvm_1_1sampleprof_1_1SampleRecord.html#abe2b5ee88eea4c21f9efe473183744ed">getSortedCallTargets</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (!CallTargets.empty()) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a7ff67320cc541a438d8fc170124af74f">attributeArray</a>(<span class="stringliteral">&quot;calls&quot;</span>, [&amp;] {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;J : CallTargets) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;              JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a06d556674c46c15e5906f2f645f4fbe5">object</a>([&amp;] {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;function&quot;</span>, J.first);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;samples&quot;</span>, J.second);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;              });</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          });</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      });</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  };</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">auto</span> DumpCallsiteSamples = [&amp;](<span class="keyword">const</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a58784dd6e513ce25ab067a3d60ae9a05">CallsiteSampleMap</a> &amp;CallsiteSamples) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : CallsiteSamples)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keyword">const</span> <a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a> &amp;Loc = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;CalleeSamples = <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.second;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a06d556674c46c15e5906f2f645f4fbe5">object</a>([&amp;] {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;line&quot;</span>, Loc.<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html#ac38b029469edc31486c5ce8adf89e5f3">LineOffset</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;          <span class="keywordflow">if</span> (Loc.<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html#ac8129e173d0cdcdd59271bf89f32544c">Discriminator</a>)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;discriminator&quot;</span>, Loc.<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html#ac8129e173d0cdcdd59271bf89f32544c">Discriminator</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a7ff67320cc541a438d8fc170124af74f">attributeArray</a>(</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;              <span class="stringliteral">&quot;samples&quot;</span>, [&amp;] { <a class="code" href="SampleProfReader_8cpp.html#a3f66983ff782c5a6bc67a19058c7ea6b">dumpFunctionProfileJson</a>(CalleeSamples, JOS); });</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        });</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  };</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a06d556674c46c15e5906f2f645f4fbe5">object</a>([&amp;] {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getName());</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;total&quot;</span>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getTotalSamples());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (TopLevel)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">attribute</a>(<span class="stringliteral">&quot;head&quot;</span>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getHeadSamples());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;BodySamples = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getBodySamples();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (!BodySamples.empty())</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a7ff67320cc541a438d8fc170124af74f">attributeArray</a>(<span class="stringliteral">&quot;body&quot;</span>, [&amp;] { DumpBody(BodySamples); });</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;CallsiteSamples = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getCallsiteSamples();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (!CallsiteSamples.empty())</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a7ff67320cc541a438d8fc170124af74f">attributeArray</a>(<span class="stringliteral">&quot;callsites&quot;</span>,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                         [&amp;] { DumpCallsiteSamples(CallsiteSamples); });</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  });</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/// Dump all the function profiles found on stream \p OS in the JSON format.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad1a3cf9f9ad94831f204a4654a423906">  137</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SampleProfileReader::dumpJson(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  std::vector&lt;NameFunctionSamples&gt; V;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a11f675e2f1396d64eefeaf67cdce624e">sortFuncProfiles</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>, V);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="classllvm_1_1json_1_1OStream.html">json::OStream</a> JOS(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, 2);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#a5741cf7e48bbab22369fa2aa8c9e151f">arrayBegin</a>();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : V)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="SampleProfReader_8cpp.html#a3f66983ff782c5a6bc67a19058c7ea6b">dumpFunctionProfileJson</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.second, JOS, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  JOS.<a class="code" href="classllvm_1_1json_1_1OStream.html#aa4ef0d3ce12400b17d9f9a5cd028a211">arrayEnd</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// Emit a newline character at the end as json::OStream doesn&#39;t emit one.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">/// Parse \p Input as function head.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">/// Parse one line of \p Input, and update function name in \p FName,</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">/// function&#39;s total sample count in \p NumSamples, function&#39;s entry</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">/// count in \p NumHeadSamples.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">/// \returns true if parsing is successful.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#a1fd43a2ed35eec1123b619bf7237c8e0">  157</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SampleProfReader_8cpp.html#a1fd43a2ed35eec1123b619bf7237c8e0">ParseHead</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;Input, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;FName,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;NumSamples, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;NumHeadSamples) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (Input[0] == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">size_t</span> n2 = Input.<a class="code" href="classllvm_1_1StringRef.html#a97d45ce069c1a09ca84672df63acf096">rfind</a>(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">size_t</span> n1 = Input.<a class="code" href="classllvm_1_1StringRef.html#a97d45ce069c1a09ca84672df63acf096">rfind</a>(<span class="charliteral">&#39;:&#39;</span>, n2 - 1);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  FName = Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(0, n1);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">if</span> (Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n1 + 1, n2 - n1 - 1).<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, NumSamples))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n2 + 1).<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, NumHeadSamples))</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/// Returns true if line offset \p L is legal (only has 16 bits).</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#a528869d42ce7fca106b21792fe00bf0a">  172</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SampleProfReader_8cpp.html#a528869d42ce7fca106b21792fe00bf0a">isOffsetLegal</a>(<span class="keywordtype">unsigned</span> L) { <span class="keywordflow">return</span> (L &amp; 0xffff) == L; }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/// Parse \p Input that contains metadata.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/// Possible metadata:</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// - CFG Checksum information:</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">///     !CFGChecksum: 12345</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// - CFG Checksum information:</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">///     !Attributes: 1</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/// Stores the FunctionHash (a.k.a. CFG Checksum) into \p FunctionHash.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#aee16ef63867cb58a1e046d39fb99e49f">  181</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SampleProfReader_8cpp.html#aee16ef63867cb58a1e046d39fb99e49f">parseMetadata</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;Input, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;FunctionHash,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                          <a class="code" href="classuint32__t.html">uint32_t</a> &amp;<a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (Input.<a class="code" href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">startswith</a>(<span class="stringliteral">&quot;!CFGChecksum:&quot;</span>)) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> CFGInfo = Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(strlen(<span class="stringliteral">&quot;!CFGChecksum:&quot;</span>)).<a class="code" href="classllvm_1_1StringRef.html#ab9990397f97b40d5d8564e000d00174a">trim</a>();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> !CFGInfo.<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, FunctionHash);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (Input.<a class="code" href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">startswith</a>(<span class="stringliteral">&quot;!Attributes:&quot;</span>)) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Attrib = Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(strlen(<span class="stringliteral">&quot;!Attributes:&quot;</span>)).<a class="code" href="classllvm_1_1StringRef.html#ab9990397f97b40d5d8564e000d00174a">trim</a>();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> !Attrib.<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, <a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52">  196</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52">LineType</a> {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52aa0e878d937063b60d7579f0a8dd6c413">CallSiteProfile</a>,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ae9d5d3b62ee70cbc11df84c2f39d9f12">BodyProfile</a>,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="classllvm_1_1Metadata.html">Metadata</a>,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;};</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// Parse \p Input as line sample.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/// \param Input input line.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/// \param LineTy Type of this line.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/// \param Depth the depth of the inline stack.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">/// \param NumSamples total samples of the line/inlined callsite.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">/// \param LineOffset line offset to the start of the function.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// \param Discriminator discriminator of the line.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/// \param TargetCountMap map from indirect call target to count.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/// \param FunctionHash the function&#39;s CFG hash, used by pseudo probe.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/// returns true if parsing is successful.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#a90dc51ea6ffd59682b2c433277f30f5d">  214</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SampleProfReader_8cpp.html#a90dc51ea6ffd59682b2c433277f30f5d">ParseLine</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;Input, <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52">LineType</a> &amp;LineTy, <a class="code" href="classuint32__t.html">uint32_t</a> &amp;<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;NumSamples, <a class="code" href="classuint32__t.html">uint32_t</a> &amp;LineOffset,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                      <a class="code" href="classuint32__t.html">uint32_t</a> &amp;Discriminator, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;CalleeName,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;StringRef, uint64_t&gt;</a> &amp;TargetCountMap,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;FunctionHash, <a class="code" href="classuint32__t.html">uint32_t</a> &amp;<a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> = 0; Input[<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>] == <span class="charliteral">&#39; &#39;</span>; <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>++)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    ;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> == 0)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (Input[<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>] == <span class="charliteral">&#39;!&#39;</span>) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    LineTy = <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ace21470ab49d1d1976bc3dc72438c183">LineType::Metadata</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SampleProfReader_8cpp.html#aee16ef63867cb58a1e046d39fb99e49f">parseMetadata</a>(Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>), FunctionHash, <a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">size_t</span> n1 = Input.<a class="code" href="classllvm_1_1StringRef.html#aab312a8386488873bac2eddfc67c22be">find</a>(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Loc = Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>, n1 - <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordtype">size_t</span> n2 = Loc.<a class="code" href="classllvm_1_1StringRef.html#aab312a8386488873bac2eddfc67c22be">find</a>(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (n2 == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, LineOffset) || !<a class="code" href="SampleProfReader_8cpp.html#a528869d42ce7fca106b21792fe00bf0a">isOffsetLegal</a>(LineOffset))</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    Discriminator = 0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(0, n2).<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, LineOffset))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n2 + 1).<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, Discriminator))</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Rest = Input.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n1 + 2);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="RustDemangle_8cpp.html#a12d4f37888b638bcbd9fc0201492c776">isDigit</a>(Rest[0])) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    LineTy = <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ae9d5d3b62ee70cbc11df84c2f39d9f12">LineType::BodyProfile</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">size_t</span> n3 = Rest.<a class="code" href="classllvm_1_1StringRef.html#aab312a8386488873bac2eddfc67c22be">find</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (n3 == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">if</span> (Rest.<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, NumSamples))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">if</span> (Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(0, n3).<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, NumSamples))</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// Find call targets and their sample counts.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Note: In some cases, there are symbols in the profile which are not</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// mangled. To accommodate such cases, use colon + integer pairs as the</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// anchor points.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// An example:</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// _M_construct&lt;char *&gt;:1000 string_view&lt;std::allocator&lt;char&gt; &gt;:437</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// &quot;:1000&quot; and &quot;:437&quot; are used as anchor points so the string above will</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// be interpreted as</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// target: _M_construct&lt;char *&gt;</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// count: 1000</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// target: string_view&lt;std::allocator&lt;char&gt; &gt;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// count: 437</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">while</span> (n3 != <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      n3 += Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n3).<a class="code" href="classllvm_1_1StringRef.html#ae851887270f35d2a2670a79b9833d45b">find_first_not_of</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      Rest = Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n3);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      n3 = Rest.<a class="code" href="classllvm_1_1StringRef.html#a93b15a8c0022febbe39d17ab933737a8">find_first_of</a>(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (n3 == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a> || n3 == 0)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classllvm_1_1Target.html">Target</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>, n4;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="comment">// Get the segment after the current colon.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> AfterColon = Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n3 + 1);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// Get the target symbol before the current colon.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="classllvm_1_1Target.html">Target</a> = Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(0, n3);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// Check if the word after the current colon is an integer.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        n4 = AfterColon.<a class="code" href="classllvm_1_1StringRef.html#a93b15a8c0022febbe39d17ab933737a8">find_first_of</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        n4 = (n4 != <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) ? n3 + n4 + 1 : Rest.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> WordAfterColon = Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n3 + 1, n4 - n3 - 1);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (!WordAfterColon.<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, <a class="code" href="namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">// Try to find the next colon.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> n5 = AfterColon.<a class="code" href="classllvm_1_1StringRef.html#a93b15a8c0022febbe39d17ab933737a8">find_first_of</a>(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (n5 == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        n3 += n5 + 1;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="comment">// An anchor point is found. Save the {target, count} pair</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      TargetCountMap[<a class="code" href="classllvm_1_1Target.html">Target</a>] = <a class="code" href="namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">if</span> (n4 == Rest.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>())</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// Change n3 to the next blank space after colon + integer pair.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      n3 = n4;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    LineTy = <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52aa0e878d937063b60d7579f0a8dd6c413">LineType::CallSiteProfile</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">size_t</span> n3 = Rest.<a class="code" href="classllvm_1_1StringRef.html#a7a7c222449f3208a532168c90bfb654d">find_last_of</a>(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    CalleeName = Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(0, n3);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (Rest.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(n3 + 1).<a class="code" href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">getAsInteger</a>(10, NumSamples))</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">/// Load samples from a text file.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">/// See the documentation at the top of the file for an explanation of</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">/// the expected format.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">/// \returns true if the file was loaded successfully, false otherwise.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#aa8f17958c50ff564f5817c64850da276">  317</a></span>&#160;<span class="comment"></span>std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#aa8f17958c50ff564f5817c64850da276">SampleProfileReaderText::readImpl</a>() {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classllvm_1_1line__iterator.html">line_iterator</a> LineIt(*<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>, <span class="comment">/*SkipBlanks=*/</span><span class="keyword">true</span>, <span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbe">sampleprof_error</a> Result = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">InlineCallStack</a> InlineStack;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> TopLevelProbeProfileCount = 0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// DepthMetadata tracks whether we have processed metadata for the current</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// top-level or nested function profile.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> DepthMetadata = 0;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a> = <a class="code" href="SampleProfReader_8cpp.html#af18f760584a90ec99b354b9074afee48">ProfileIsFSDisciminator</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac78db34e62da1555e9b84b5b5b1d907d">FunctionSamples::ProfileIsFS</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">for</span> (; !LineIt.<a class="code" href="classllvm_1_1line__iterator.html#a617941704a472090ba3304c9daf1c37f">is_at_eof</a>(); ++LineIt) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">size_t</span> pos = LineIt-&gt;<a class="code" href="classllvm_1_1StringRef.html#ae851887270f35d2a2670a79b9833d45b">find_first_not_of</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (pos == LineIt-&gt;<a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">npos</a> || (*LineIt)[pos] == <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// Read the header of each function.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// Note that for function identifiers we are actually expecting</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// mangled names, but we may not always get them. This happens when</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// the compiler decides not to emit the function (e.g., it was inlined</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// and removed). In this case, the binary will not have the linkage</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// name for the function, so the profiler will emit the function&#39;s</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// unmangled name, which may contain characters like &#39;:&#39; and &#39;&gt;&#39; in its</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// name (member functions, templates, etc).</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">// The only requirement we place on the identifier, then, is that it</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// should not begin with a number.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> ((*LineIt)[0] != <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NumSamples, NumHeadSamples;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FName;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="SampleProfReader_8cpp.html#a1fd43a2ed35eec1123b619bf7237c8e0">ParseHead</a>(*LineIt, FName, NumSamples, NumHeadSamples)) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(LineIt.<a class="code" href="classllvm_1_1line__iterator.html#a51eb9a429555dd682d9b265cff7f869f">line_number</a>(),</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="stringliteral">&quot;Expected &#39;mangled_name:NUM:NUM&#39;, found &quot;</span> + *LineIt);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      DepthMetadata = 0;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a> FContext(FName, CSNameTable);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span> (FContext.<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#a3f47a41fc180017373f06a00976d7c5c">hasContext</a>())</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        ++<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>[FContext] = <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;FProfile = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>[FContext];</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6507284ccb03c1c44fe0e7d37650493">setContext</a>(FContext);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="namespacellvm.html#aa94c384442d22ccd2be86c77e3b297c6">MergeResult</a>(Result, FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a263b944b1e1d1b8906ccfa19a565d2ed">addTotalSamples</a>(NumSamples));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <a class="code" href="namespacellvm.html#aa94c384442d22ccd2be86c77e3b297c6">MergeResult</a>(Result, FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a8dda47f9492c59e96d8b43fa6244af20">addHeadSamples</a>(NumHeadSamples));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      InlineStack.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      InlineStack.push_back(&amp;FProfile);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NumSamples;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FName;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;StringRef, uint64_t&gt;</a> TargetCountMap;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>, LineOffset, Discriminator;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52">LineType</a> LineTy;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FunctionHash = 0;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a> = 0;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="SampleProfReader_8cpp.html#a90dc51ea6ffd59682b2c433277f30f5d">ParseLine</a>(*LineIt, LineTy, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>, NumSamples, LineOffset,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                     Discriminator, FName, TargetCountMap, FunctionHash,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                     <a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>)) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(LineIt.<a class="code" href="classllvm_1_1line__iterator.html#a51eb9a429555dd682d9b265cff7f869f">line_number</a>(),</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <span class="stringliteral">&quot;Expected &#39;NUM[.NUM]: NUM[ mangled_name:NUM]*&#39;, found &quot;</span> +</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        *LineIt);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> (LineTy != <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ace21470ab49d1d1976bc3dc72438c183">LineType::Metadata</a> &amp;&amp; <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> == DepthMetadata) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// Metadata must be put at the end of a function profile.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(LineIt.<a class="code" href="classllvm_1_1line__iterator.html#a51eb9a429555dd682d9b265cff7f869f">line_number</a>(),</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <span class="stringliteral">&quot;Found non-metadata after metadata: &quot;</span> + *LineIt);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="comment">// Here we handle FS discriminators.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      Discriminator &amp;= <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a8c0b29b235366b7d2447ab4dc39398ed">getDiscriminatorMask</a>();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">while</span> (InlineStack.size() &gt; <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        InlineStack.pop_back();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">switch</span> (LineTy) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52aa0e878d937063b60d7579f0a8dd6c413">LineType::CallSiteProfile</a>: {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;FSamples = InlineStack.back()-&gt;functionSamplesAt(</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a>(LineOffset, Discriminator))[std::string(FName)];</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        FSamples.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a11e6c7371ce7b1d7da71ca96fe9c4b9a">setName</a>(FName);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="namespacellvm.html#aa94c384442d22ccd2be86c77e3b297c6">MergeResult</a>(Result, FSamples.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a263b944b1e1d1b8906ccfa19a565d2ed">addTotalSamples</a>(NumSamples));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        InlineStack.push_back(&amp;FSamples);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        DepthMetadata = 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ae9d5d3b62ee70cbc11df84c2f39d9f12">LineType::BodyProfile</a>: {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">while</span> (InlineStack.size() &gt; <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;          InlineStack.pop_back();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;FProfile = *InlineStack.back();</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;name_count : TargetCountMap) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          <a class="code" href="namespacellvm.html#aa94c384442d22ccd2be86c77e3b297c6">MergeResult</a>(Result, FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aca2f0dbbf7497002b732004d2ce3bbe3">addCalledTargetSamples</a>(</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                  LineOffset, Discriminator, name_count.first,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                  name_count.second));</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="namespacellvm.html#aa94c384442d22ccd2be86c77e3b297c6">MergeResult</a>(Result, FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ab38820a59b382631568b3735469b0890">addBodySamples</a>(LineOffset, Discriminator,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                                    NumSamples));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ace21470ab49d1d1976bc3dc72438c183">LineType::Metadata</a>: {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;FProfile = *InlineStack.back();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">if</span> (FunctionHash) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac015e530d60203906c93e241682e8359">setFunctionHash</a>(FunctionHash);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> == 1)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            ++TopLevelProbeProfileCount;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aad432df568c6b098cb07dfe80a6ce6ad">getContext</a>().<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#aa7894022c49174ef967469c3ddd81857">setAllAttributes</a>(<a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a> &amp; (<a class="code" href="classuint32__t.html">uint32_t</a>)<a class="code" href="namespacellvm_1_1sampleprof.html#a9c9cec0dc85381494fb418ae0e88a40fa9a35039dfc5e52a8ee9289957a726bee">ContextShouldBeInlined</a>)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a09599626d454548b75a8508733b742ce">ProfileIsPreInlined</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        DepthMetadata = <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a> == 0 || <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a> == <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>.size()) &amp;&amp;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;         <span class="stringliteral">&quot;Cannot have both context-sensitive and regular profile&quot;</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a> = (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a> &gt; 0);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((TopLevelProbeProfileCount == 0 ||</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          TopLevelProbeProfileCount == <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>.size()) &amp;&amp;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;         <span class="stringliteral">&quot;Cannot have both probe-based profiles and regular profiles&quot;</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af3bd0368cb44b2cc97123f03de71efaa">ProfileIsProbeBased</a> = (TopLevelProbeProfileCount &gt; 0);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aa37fe7429ffcf70c306c27a55d714d31">FunctionSamples::ProfileIsProbeBased</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af3bd0368cb44b2cc97123f03de71efaa">ProfileIsProbeBased</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a67e19eb484a5eaa31b22894398e258c0">FunctionSamples::ProfileIsCS</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a08b33b498078ac3694a992f4ab8a5761">FunctionSamples::ProfileIsPreInlined</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a09599626d454548b75a8508733b742ce">ProfileIsPreInlined</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (Result == <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a862a85fc052e3da0f7109bc54ef4998d">computeSummary</a>();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#ac6f6906a46a807e4f041c463b04511fa">  452</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#ac6f6906a46a807e4f041c463b04511fa">SampleProfileReaderText::hasFormat</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> &amp;Buffer) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">// Check that the first non-comment line is a valid function header.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="classllvm_1_1line__iterator.html">line_iterator</a> LineIt(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>, <span class="comment">/*SkipBlanks=*/</span><span class="keyword">true</span>, <span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (!LineIt.<a class="code" href="classllvm_1_1line__iterator.html#a617941704a472090ba3304c9daf1c37f">is_at_eof</a>()) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> ((*LineIt)[0] != <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NumSamples, NumHeadSamples;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FName;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a> = <a class="code" href="SampleProfReader_8cpp.html#a1fd43a2ed35eec1123b619bf7237c8e0">ParseHead</a>(*LineIt, FName, NumSamples, NumHeadSamples);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a253ea7b225121d422aa3378a18dc2030">  468</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;T&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a253ea7b225121d422aa3378a18dc2030">SampleProfileReaderBinary::readNumber</a>() {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordtype">unsigned</span> NumBytesRead = 0;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Val = <a class="code" href="namespacellvm.html#a3720bbfe79232f7792ab4b969dfbeed0">decodeULEB128</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>, &amp;NumBytesRead);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (Val &gt; <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;T&gt;::max</a>())</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    EC = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> + NumBytesRead &gt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    EC = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    EC = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (EC) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(0, EC.message());</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> += NumBytesRead;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classT.html">T</a><span class="keyword">&gt;</span>(Val);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a136a5648f006c4f55171f4559f5ce4b0">  489</a></span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;StringRef&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a136a5648f006c4f55171f4559f5ce4b0">SampleProfileReaderBinary::readString</a>() {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> + Str.size() + 1 &gt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    EC = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(0, EC.message());</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> += Str.size() + 1;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">return</span> Str;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9c60d8b65cd491edeafb796ba396acf8">  503</a></span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;T&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9c60d8b65cd491edeafb796ba396acf8">SampleProfileReaderBinary::readUnencodedNumber</a>() {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> + <span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>) &gt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    EC = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(0, EC.message());</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keyword">using namespace </span><a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad34c196412ad9a6a78795035f587fa26">support</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="classT.html">T</a> Val = endian::readNext&lt;T, little, unaligned&gt;(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">return</span> Val;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a60804a3023392598f579f231bcc4df01">  518</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint32_t&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a60804a3023392598f579f231bcc4df01">SampleProfileReaderBinary::readStringIndex</a>(<a class="code" href="classT.html">T</a> &amp;Table) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keyword">auto</span> Idx = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Idx.getError())</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (*Idx &gt;= Table.size())</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea98266342cea8a7fb97a2c17d98fd230a">sampleprof_error::truncated_name_table</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">return</span> *Idx;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">  528</a></span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;StringRef&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">SampleProfileReaderBinary::readStringFromTable</a>() {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keyword">auto</span> Idx = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a60804a3023392598f579f231bcc4df01">readStringIndex</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Idx.getError())</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>[*Idx];</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">  536</a></span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;SampleContext&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">SampleProfileReaderBinary::readSampleContextFromTable</a>() {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keyword">auto</span> FName(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">readStringFromTable</a>());</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = FName.getError())</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a>(*FName);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a013a5d888193042ffaaf4cbe45aa9a4a">  543</a></span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;StringRef&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a013a5d888193042ffaaf4cbe45aa9a4a">SampleProfileReaderExtBinaryBase::readStringFromTable</a>() {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">if</span> (!FixedLengthMD5)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">SampleProfileReaderBinary::readStringFromTable</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// read NameTable index.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keyword">auto</span> Idx = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a60804a3023392598f579f231bcc4df01">readStringIndex</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Idx.getError())</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// Check whether the name to be accessed has been accessed before,</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// if not, read it from memory directly.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;SR = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>[*Idx];</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">if</span> (SR.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>()) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keyword">const</span> uint8_t *SavedData = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = MD5NameMemStart + ((*Idx) * <span class="keyword">sizeof</span>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">auto</span> FID = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FID.getError())</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// Save the string converted from uint64_t in MD5StringBuf. All the</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// references to the name are all StringRefs refering to the string</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// in MD5StringBuf.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    MD5StringBuf-&gt;push_back(<a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(*FID));</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    SR = MD5StringBuf-&gt;<a class="code" href="classllvm_1_1StringRef.html#a5b6faabb08339ea1dd11e9d37a668634">back</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = SavedData;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">return</span> SR;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;StringRef&gt;</a> SampleProfileReaderCompactBinary::readStringFromTable() {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keyword">auto</span> Idx = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a60804a3023392598f579f231bcc4df01">readStringIndex</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Idx.getError())</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>[*Idx]);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;std::error_code</div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a0320040b070e4fc2904794078a64e46c">  580</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a0320040b070e4fc2904794078a64e46c">SampleProfileReaderBinary::readProfile</a>(<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;FProfile) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keyword">auto</span> NumSamples = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumSamples.getError())</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a263b944b1e1d1b8906ccfa19a565d2ed">addTotalSamples</a>(*NumSamples);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">// Read the samples in the body.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keyword">auto</span> NumRecords = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumRecords.getError())</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *NumRecords; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keyword">auto</span> LineOffset = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = LineOffset.getError())</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SampleProfReader_8cpp.html#a528869d42ce7fca106b21792fe00bf0a">isOffsetLegal</a>(*LineOffset)) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">return</span> std::error_code();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keyword">auto</span> Discriminator = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = Discriminator.getError())</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keyword">auto</span> NumSamples = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = NumSamples.getError())</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keyword">auto</span> NumCalls = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = NumCalls.getError())</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// Here we handle FS discriminators:</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> DiscriminatorVal = (*Discriminator) &amp; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a8c0b29b235366b7d2447ab4dc39398ed">getDiscriminatorMask</a>();</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> J = 0; J &lt; *NumCalls; ++J) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keyword">auto</span> CalledFunction(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">readStringFromTable</a>());</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = CalledFunction.getError())</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keyword">auto</span> CalledFunctionSamples = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = CalledFunctionSamples.getError())</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aca2f0dbbf7497002b732004d2ce3bbe3">addCalledTargetSamples</a>(*LineOffset, DiscriminatorVal,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                                      *CalledFunction, *CalledFunctionSamples);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ab38820a59b382631568b3735469b0890">addBodySamples</a>(*LineOffset, DiscriminatorVal, *NumSamples);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// Read all the samples for inlined function calls.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keyword">auto</span> NumCallsites = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumCallsites.getError())</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> J = 0; J &lt; *NumCallsites; ++J) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keyword">auto</span> LineOffset = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = LineOffset.getError())</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">auto</span> Discriminator = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = Discriminator.getError())</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keyword">auto</span> FName(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">readStringFromTable</a>());</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FName.getError())</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// Here we handle FS discriminators:</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> DiscriminatorVal = (*Discriminator) &amp; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a8c0b29b235366b7d2447ab4dc39398ed">getDiscriminatorMask</a>();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;CalleeProfile = FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6b310bafee8bcdc3589c3df5de188f9">functionSamplesAt</a>(</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a>(*LineOffset, DiscriminatorVal))[std::string(*FName)];</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    CalleeProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a11e6c7371ce7b1d7da71ca96fe9c4b9a">setName</a>(*FName);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a0320040b070e4fc2904794078a64e46c">readProfile</a>(CalleeProfile))</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;std::error_code</div>
<div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">  663</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">SampleProfileReaderBinary::readFuncProfile</a>(<span class="keyword">const</span> uint8_t *Start) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = Start;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keyword">auto</span> NumHeadSamples = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumHeadSamples.getError())</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;SampleContext&gt;</a> FContext(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">readSampleContextFromTable</a>());</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = FContext.<a class="code" href="classllvm_1_1ErrorOr.html#a8300c72908f1845c931951ed4b2a2375">getError</a>())</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>[*FContext] = <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a>();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> &amp;FProfile = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>[*FContext];</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6507284ccb03c1c44fe0e7d37650493">setContext</a>(*FContext);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  FProfile.<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a8dda47f9492c59e96d8b43fa6244af20">addHeadSamples</a>(*NumHeadSamples);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span> (FContext-&gt;hasContext())</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a>++;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a0320040b070e4fc2904794078a64e46c">readProfile</a>(FProfile))</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a5ad89ebfc9008ab04dbaf011e1f1e8db">  686</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a5ad89ebfc9008ab04dbaf011e1f1e8db">SampleProfileReaderBinary::readImpl</a>() {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a> = <a class="code" href="SampleProfReader_8cpp.html#af18f760584a90ec99b354b9074afee48">ProfileIsFSDisciminator</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac78db34e62da1555e9b84b5b5b1d907d">FunctionSamples::ProfileIsFS</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a51e261d8b8a598c10a09ceea8a951301">at_eof</a>()) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">readFuncProfile</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>))</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;SampleContextFrames&gt;</a></div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a4c9aaef504a353ce54ae5468a625d6ce">  698</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a4c9aaef504a353ce54ae5468a625d6ce">SampleProfileReaderExtBinaryBase::readContextFromTable</a>() {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keyword">auto</span> ContextIdx = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = ContextIdx.getError())</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="keywordflow">if</span> (*ContextIdx &gt;= CSNameTable-&gt;size())</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea98266342cea8a7fb97a2c17d98fd230a">sampleprof_error::truncated_name_table</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">return</span> (*CSNameTable)[*ContextIdx];</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;SampleContext&gt;</a></div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#afbe3e463e073e4c5de229fad330f961b">  708</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#afbe3e463e073e4c5de229fad330f961b">SampleProfileReaderExtBinaryBase::readSampleContextFromTable</a>() {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a>) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keyword">auto</span> FContext(readContextFromTable());</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FContext.getError())</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a>(*FContext);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keyword">auto</span> FName(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">readStringFromTable</a>());</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FName.getError())</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a>(*FName);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab0c499972ec35ad7872cbceafa870704">  722</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab0c499972ec35ad7872cbceafa870704">SampleProfileReaderExtBinaryBase::readOneSection</a>(</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keyword">const</span> uint8_t *Start, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size, <span class="keyword">const</span> <a class="code" href="structllvm_1_1sampleprof_1_1SecHdrTableEntry.html">SecHdrTableEntry</a> &amp;Entry) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = Start;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> = Start + Size;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">switch</span> (Entry.Type) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a8c51d0a5a19b4b2ae76846092b479354">SecProfSummary</a>:</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aec2ab856ea5858bcc170eaaf185693d6">readSummary</a>())</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462ab8c5c1b9457b958b7c66a02adb2dc97a">SecProfSummaryFlags::SecFlagPartial</a>))</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a808d204826972c99cd36562eea139d23">Summary</a>-&gt;setPartialProfile(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462ad8375f4e079a5af243f36f91334691e7">SecProfSummaryFlags::SecFlagFullContext</a>))</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a67e19eb484a5eaa31b22894398e258c0">FunctionSamples::ProfileIsCS</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462a6517bd773ca68b78f926ec08f55daac3">SecProfSummaryFlags::SecFlagIsPreInlined</a>))</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a08b33b498078ac3694a992f4ab8a5761">FunctionSamples::ProfileIsPreInlined</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a09599626d454548b75a8508733b742ce">ProfileIsPreInlined</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462abbe7033a4a1f24db956320bb1a7b7ce3">SecProfSummaryFlags::SecFlagFSDiscriminator</a>))</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac78db34e62da1555e9b84b5b5b1d907d">FunctionSamples::ProfileIsFS</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a04e75d4659b0c502eb2280e6d6fd6378">SecNameTable</a>: {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    FixedLengthMD5 =</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a5121eb700a5270cadcb8ec87c2593288">SecNameTableFlags::SecFlagFixedLengthMD5</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordtype">bool</span> UseMD5 = <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a1780ac16db816da7bda99433dbdb73bf">SecNameTableFlags::SecFlagMD5Name</a>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!FixedLengthMD5 || UseMD5) &amp;&amp;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;           <span class="stringliteral">&quot;If FixedLengthMD5 is true, UseMD5 has to be true&quot;</span>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ad20fb2a274b13a7820568739fbcba383">FunctionSamples::HasUniqSuffix</a> =</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a27ba0d92f39f8d4651a98190c098df5d">SecNameTableFlags::SecFlagUniqSuffix</a>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readNameTableSec(UseMD5))</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a99873f635fc6dccc55e1bc82ef297827">SecCSNameTable</a>: {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readCSNameTableSec())</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a0e83cbbb890deaad56570290e86506ed">SecLBRProfile</a>:</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readFuncProfiles())</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85ae3b5e1c40206f7ac0a1e8b9c1f4fa4d7">SecFuncOffsetTable</a>:</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    FuncOffsetsOrdered = <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#abed83dc828c8bfb55967efc3b9313758a3cc23f4782f1fd246c14392b45a2646f">SecFuncOffsetFlags::SecFlagOrdered</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readFuncOffsetTable())</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85aaa2da63cc16b51f0005debd3ae000a18">SecFuncMetadata</a>: {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af3bd0368cb44b2cc97123f03de71efaa">ProfileIsProbeBased</a> =</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#ad2f473dc3a871939a4781efc92f0931ba538d11ebcb8192686ae93eb46ec92ebc">SecFuncMetadataFlags::SecFlagIsProbeBased</a>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aa37fe7429ffcf70c306c27a55d714d31">FunctionSamples::ProfileIsProbeBased</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af3bd0368cb44b2cc97123f03de71efaa">ProfileIsProbeBased</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordtype">bool</span> HasAttribute =</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#ad2f473dc3a871939a4781efc92f0931ba4771c0f8db64857edd1ee64cfde3edca">SecFuncMetadataFlags::SecFlagHasAttribute</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readFuncMetadata(HasAttribute))</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85ac77da6bc3aa6f736acc11b4fa1c59857">SecProfileSymbolList</a>:</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readProfileSymbolList())</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readCustomSection(Entry))</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a0d0cdeb3cf9845558d9577f37fc326b3">  787</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a0d0cdeb3cf9845558d9577f37fc326b3">SampleProfileReaderExtBinaryBase::collectFuncsFromModule</a>() {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a2be68a56c1386faa6c75baf21a462df7">M</a>)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  FuncsToUse.clear();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : *<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a2be68a56c1386faa6c75baf21a462df7">M</a>)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    FuncsToUse.insert(<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aa7122a07ea48e47fc71083e68b829003">FunctionSamples::getCanonicalFnName</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a008cc734a7a06814838c697a958ee982">  796</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a008cc734a7a06814838c697a958ee982">SampleProfileReaderExtBinaryBase::readFuncOffsetTable</a>() {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">// If there are more than one FuncOffsetTable, the profile read associated</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// with previous FuncOffsetTable has to be done before next FuncOffsetTable</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">// is read.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  FuncOffsetTable.clear();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keyword">auto</span> Size = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  FuncOffsetTable.reserve(*Size);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (FuncOffsetsOrdered) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    OrderedFuncOffsets =</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        std::make_unique&lt;std::vector&lt;std::pair&lt;SampleContext, uint64_t&gt;&gt;&gt;();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    OrderedFuncOffsets-&gt;reserve(*Size);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keyword">auto</span> FContext(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">readSampleContextFromTable</a>());</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FContext.getError())</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keyword">auto</span> Offset = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = Offset.getError())</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    FuncOffsetTable[*FContext] = *Offset;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">if</span> (FuncOffsetsOrdered)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      OrderedFuncOffsets-&gt;emplace_back(*FContext, *Offset);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a727bcceedcf0fe170cb330513c25ab2a">  831</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a727bcceedcf0fe170cb330513c25ab2a">SampleProfileReaderExtBinaryBase::readFuncProfiles</a>() {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">// Collect functions used by current module if the Reader has been</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">// given a module.</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">// collectFuncsFromModule uses FunctionSamples::getCanonicalFnName</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// which will query FunctionSamples::HasUniqSuffix, so it has to be</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// called after FunctionSamples::HasUniqSuffix is set, i.e. after</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// NameTable section is read.</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordtype">bool</span> LoadFuncsToBeUsed = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#abfc0f7bf9921713c80c3c67aca32fd05">collectFuncsFromModule</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// When LoadFuncsToBeUsed is false, load all the function profiles.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keyword">const</span> uint8_t *Start = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span> (!LoadFuncsToBeUsed) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> &lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">readFuncProfile</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>))</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> == <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> &amp;&amp; <span class="stringliteral">&quot;More data is read than expected&quot;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// Load function profiles on demand.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">Remapper</a>) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> Name : FuncsToUse) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">Remapper</a>-&gt;insert(Name);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a>) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;uint64_t&gt;</a> FuncGuidsToUse;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a40cb32e3b7be4f49c1a65a2a89002542">useMD5</a>()) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> Name : FuncsToUse)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;          FuncGuidsToUse.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">Function::getGUID</a>(Name));</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="comment">// For each function in current module, load all context profiles for</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="comment">// the function as well as their callee contexts which can help profile</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="comment">// guided importing for ThinLTO. This can be achieved by walking</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="comment">// through an ordered context container, where contexts are laid out</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="comment">// as if they were walked in preorder of a context trie. While</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="comment">// traversing the trie, a link to the highest common ancestor node is</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="comment">// kept so that all of its decendants will be loaded.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OrderedFuncOffsets.get() &amp;&amp;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;             <span class="stringliteral">&quot;func offset table should always be sorted in CS profile&quot;</span>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a> *CommonContext = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;NameOffset : *OrderedFuncOffsets) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;FContext = NameOffset.first;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keyword">auto</span> FName = FContext.<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#a3027ef3713410577edaf554822731b50">getName</a>();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">// For function in the current module, keep its farthest ancestor</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment">// context. This can be used to load itself and its child and</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="comment">// sibling contexts.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a40cb32e3b7be4f49c1a65a2a89002542">useMD5</a>() &amp;&amp; FuncGuidsToUse.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(std::stoull(FName.data()))) ||</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            (!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a40cb32e3b7be4f49c1a65a2a89002542">useMD5</a>() &amp;&amp; (FuncsToUse.count(FName) ||</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                           (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">Remapper</a> &amp;&amp; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">Remapper</a>-&gt;exist(FName))))) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;          <span class="keywordflow">if</span> (!CommonContext || !CommonContext-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#ac3e3d237f91ef41f092580f316412c08">IsPrefixOf</a>(FContext))</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            CommonContext = &amp;FContext;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">if</span> (CommonContext == &amp;FContext ||</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            (CommonContext &amp;&amp; CommonContext-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#ac3e3d237f91ef41f092580f316412c08">IsPrefixOf</a>(FContext))) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;          <span class="comment">// Load profile for the current context which originated from</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          <span class="comment">// the common ancestor.</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          <span class="keyword">const</span> uint8_t *FuncProfileAddr = Start + NameOffset.second;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FuncProfileAddr &lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> &amp;&amp; <span class="stringliteral">&quot;out of LBRProfile section&quot;</span>);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">readFuncProfile</a>(FuncProfileAddr))</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a40cb32e3b7be4f49c1a65a2a89002542">useMD5</a>()) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> Name : FuncsToUse) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          <span class="keyword">auto</span> GUID = <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(<a class="code" href="namespacellvm.html#abcc6aac115764c36b17d83e4bd4cc36e">MD5Hash</a>(Name));</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;          <span class="keyword">auto</span> iter = FuncOffsetTable.find(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(GUID));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          <span class="keywordflow">if</span> (iter == FuncOffsetTable.end())</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;          <span class="keyword">const</span> uint8_t *FuncProfileAddr = Start + iter-&gt;second;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FuncProfileAddr &lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> &amp;&amp; <span class="stringliteral">&quot;out of LBRProfile section&quot;</span>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;          <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">readFuncProfile</a>(FuncProfileAddr))</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> NameOffset : FuncOffsetTable) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;          <a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html">SampleContext</a> FContext(NameOffset.first);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          <span class="keyword">auto</span> FuncName = FContext.<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#a3027ef3713410577edaf554822731b50">getName</a>();</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          <span class="keywordflow">if</span> (!FuncsToUse.count(FuncName) &amp;&amp;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;              (!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">Remapper</a> || !<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">Remapper</a>-&gt;exist(FuncName)))</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;          <span class="keyword">const</span> uint8_t *FuncProfileAddr = Start + NameOffset.second;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FuncProfileAddr &lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> &amp;&amp; <span class="stringliteral">&quot;out of LBRProfile section&quot;</span>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">readFuncProfile</a>(FuncProfileAddr))</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a> == 0 || <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a> == <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>.size()) &amp;&amp;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;         <span class="stringliteral">&quot;Cannot have both context-sensitive and regular profile&quot;</span>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">CSProfileCount</a> || <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a>) &amp;&amp;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;         <span class="stringliteral">&quot;Section flag should be consistent with actual profile&quot;</span>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae9691c4736a7e6c9c247e997383771f4">  931</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae9691c4736a7e6c9c247e997383771f4">SampleProfileReaderExtBinaryBase::readProfileSymbolList</a>() {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordflow">if</span> (!ProfSymList)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    ProfSymList = std::make_unique&lt;ProfileSymbolList&gt;();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = ProfSymList-&gt;read(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>, <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> - <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;std::error_code SampleProfileReaderExtBinaryBase::decompressSection(</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keyword">const</span> uint8_t *SecStart, <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SecSize,</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keyword">const</span> uint8_t *&amp;DecompressBuf, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;DecompressBufSize) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = SecStart;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> = SecStart + SecSize;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">auto</span> DecompressSize = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = DecompressSize.getError())</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  DecompressBufSize = *DecompressSize;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keyword">auto</span> CompressSize = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = CompressSize.getError())</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1compression_1_1zlib.html#a369da242fd5c0d70a31ffcd3374a0909">llvm::compression::zlib::isAvailable</a>())</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea118528c0f1f3fe8233e94bd4b70d7455">sampleprof_error::zlib_unavailable</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  uint8_t *<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a> = <a class="code" href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">Allocator</a>.Allocate&lt;uint8_t&gt;(DecompressBufSize);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordtype">size_t</span> UCSize = DecompressBufSize;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="classllvm_1_1Error.html">llvm::Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm_1_1compression_1_1zlib.html#a1f2be1038afa2414d1df3da720de0c55">compression::zlib::decompress</a>(<a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>, *CompressSize),</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                                <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>, UCSize);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea58143522d563e1d9b0a0d8ba52a01b9f">sampleprof_error::uncompress_failed</a>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  DecompressBuf = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#aa3075229a3db86f1b533efcc85f82d97">  969</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#aa3075229a3db86f1b533efcc85f82d97">SampleProfileReaderExtBinaryBase::readImpl</a>() {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keyword">const</span> uint8_t *BufStart =</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferStart());</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : SecHdrTable) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">// Skip empty section.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (!Entry.Size)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// Skip sections without context when SkipFlatProf is true.</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">if</span> (SkipFlatProf &amp;&amp; <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a249a6a299581a44359596da9619a4b19a303d1d200e078b6e1510e624147dfe0e">SecCommonFlags::SecFlagFlat</a>))</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keyword">const</span> uint8_t *SecStart = BufStart + Entry.Offset;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SecSize = Entry.Size;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// If the section is compressed, decompress it into a buffer</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="comment">// DecompressBuf before reading the actual data. The pointee of</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// &#39;Data&#39; will be changed to buffer hold by DecompressBuf</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// temporarily when reading the actual data.</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordtype">bool</span> isCompressed = <a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a249a6a299581a44359596da9619a4b19a16052b6981a5cb6f18149f985d66ab87">SecCommonFlags::SecFlagCompress</a>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (isCompressed) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keyword">const</span> uint8_t *DecompressBuf;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DecompressBufSize;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = decompressSection(</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;              SecStart, SecSize, DecompressBuf, DecompressBufSize))</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      SecStart = DecompressBuf;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      SecSize = DecompressBufSize;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readOneSection(SecStart, SecSize, Entry))</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> != SecStart + SecSize)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="comment">// Change the pointee of &#39;Data&#39; from DecompressBuf to original Buffer.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">if</span> (isCompressed) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = BufStart + Entry.Offset;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> = BufStart + <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferSize();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a0b331ea0dda5cee561558f9eb4bfe4f4"> 1015</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a0b331ea0dda5cee561558f9eb4bfe4f4">SampleProfileReaderCompactBinary::readImpl</a>() {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// Collect functions used by current module if the Reader has been</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// given a module.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordtype">bool</span> LoadFuncsToBeUsed = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#abfc0f7bf9921713c80c3c67aca32fd05">collectFuncsFromModule</a>();</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a> = <a class="code" href="SampleProfReader_8cpp.html#af18f760584a90ec99b354b9074afee48">ProfileIsFSDisciminator</a>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac78db34e62da1555e9b84b5b5b1d907d">FunctionSamples::ProfileIsFS</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">ProfileIsFS</a>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  std::vector&lt;uint64_t&gt; OffsetsToUse;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (!LoadFuncsToBeUsed) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="comment">// load all the function profiles.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> FuncEntry : FuncOffsetTable) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      OffsetsToUse.push_back(FuncEntry.second);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">// load function profiles on demand.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Name : FuncsToUse) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keyword">auto</span> GUID = <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(<a class="code" href="namespacellvm.html#abcc6aac115764c36b17d83e4bd4cc36e">MD5Hash</a>(Name));</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="keyword">auto</span> iter = FuncOffsetTable.find(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(GUID));</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keywordflow">if</span> (iter == FuncOffsetTable.end())</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      OffsetsToUse.push_back(iter-&gt;second);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Offset : OffsetsToUse) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keyword">const</span> uint8_t *SavedData = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">readFuncProfile</a>(</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferStart()) +</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            Offset))</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = SavedData;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;std::error_code SampleProfileReaderRawBinary::verifySPMagic(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a>) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <a class="code" href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">SPMagic</a>())</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea35ca84a2e9411227c0819d26eed0ce2c">sampleprof_error::bad_magic</a>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;std::error_code SampleProfileReaderExtBinary::verifySPMagic(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a>) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <a class="code" href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">SPMagic</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a373137ee5de445ffb3a1dbc685cf66eca46bc649d3816ce5a94ef37c9e826c8ff">SPF_Ext_Binary</a>))</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea35ca84a2e9411227c0819d26eed0ce2c">sampleprof_error::bad_magic</a>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;std::error_code</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;SampleProfileReaderCompactBinary::verifySPMagic(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a>) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <a class="code" href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">SPMagic</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a373137ee5de445ffb3a1dbc685cf66eca9425a826cb2a1ee8d7838e759233ee4e">SPF_Compact_Binary</a>))</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea35ca84a2e9411227c0819d26eed0ce2c">sampleprof_error::bad_magic</a>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a08a6c4a1c3536fa7e594a3151e0773f9"> 1068</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a08a6c4a1c3536fa7e594a3151e0773f9">SampleProfileReaderBinary::readNameTable</a>() {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keyword">auto</span> Size = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.reserve(*Size + <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.size());</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keyword">auto</span> Name(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a136a5648f006c4f55171f4559f5ce4b0">readString</a>());</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = Name.getError())</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.push_back(*Name);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab621e81eb9b58d526addb7aeba9a47e3"> 1083</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab621e81eb9b58d526addb7aeba9a47e3">SampleProfileReaderExtBinaryBase::readMD5NameTable</a>() {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keyword">auto</span> Size = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  MD5StringBuf = std::make_unique&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  MD5StringBuf-&gt;reserve(*Size);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">if</span> (FixedLengthMD5) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// Preallocate and initialize NameTable so we can check whether a name</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// index has been read before by checking whether the element in the</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// NameTable is empty, meanwhile readStringIndex can do the boundary</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// check using the size of NameTable.</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.resize(*Size + <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.size());</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    MD5NameMemStart = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> + (*Size) * <span class="keyword">sizeof</span>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.reserve(*Size);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keyword">auto</span> FID = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FID.getError())</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    MD5StringBuf-&gt;push_back(<a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(*FID));</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="comment">// NameTable is a vector of StringRef. Here it is pushing back a</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// StringRef initialized with the last string in MD5stringBuf.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.push_back(MD5StringBuf-&gt;back());</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a0b71c8ee5a87ae722bdc3feba4377e5c"> 1113</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a0b71c8ee5a87ae722bdc3feba4377e5c">SampleProfileReaderExtBinaryBase::readNameTableSec</a>(<span class="keywordtype">bool</span> IsMD5) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keywordflow">if</span> (IsMD5)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">return</span> readMD5NameTable();</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a08a6c4a1c3536fa7e594a3151e0773f9">SampleProfileReaderBinary::readNameTable</a>();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">// Read in the CS name table section, which basically contains a list of context</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">// vectors. Each element of a context vector, aka a frame, refers to the</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">// underlying raw function names that are stored in the name table, as well as</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">// a callsite identifier that only makes sense for non-leaf frames.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a272ffb93f3958019735d7a4ef9bf22d2"> 1123</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a272ffb93f3958019735d7a4ef9bf22d2">SampleProfileReaderExtBinaryBase::readCSNameTableSec</a>() {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keyword">auto</span> Size = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  std::vector&lt;SampleContextFrameVector&gt; *PNameVec =</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keyword">new</span> std::vector&lt;SampleContextFrameVector&gt;();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  PNameVec-&gt;reserve(*Size);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    PNameVec-&gt;emplace_back(<a class="code" href="namespacellvm_1_1sampleprof.html#aaf6d3893e88bc0bbd0f0b687de382142">SampleContextFrameVector</a>());</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keyword">auto</span> ContextSize = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = ContextSize.getError())</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> J = 0; J &lt; *ContextSize; ++J) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="keyword">auto</span> FName(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">readStringFromTable</a>());</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = FName.getError())</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keyword">auto</span> LineOffset = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = LineOffset.getError())</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="SampleProfReader_8cpp.html#a528869d42ce7fca106b21792fe00bf0a">isOffsetLegal</a>(*LineOffset))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">return</span> std::error_code();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keyword">auto</span> Discriminator = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = Discriminator.getError())</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      PNameVec-&gt;back().emplace_back(</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;          FName.get(), <a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a>(LineOffset.get(), Discriminator.get()));</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// From this point the underlying object of CSNameTable should be immutable.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  CSNameTable.reset(PNameVec);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;std::error_code</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a9b9e845ee3096f8360407bfa4f0f3d1a"> 1163</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a077db87ff742498d2add620c1a7130db">SampleProfileReaderExtBinaryBase::readFuncMetadata</a>(<span class="keywordtype">bool</span> ProfileHasAttribute,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                                                   <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *FProfile) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> &lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>) {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af3bd0368cb44b2cc97123f03de71efaa">ProfileIsProbeBased</a>) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keyword">auto</span> Checksum = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = Checksum.getError())</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">if</span> (FProfile)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac015e530d60203906c93e241682e8359">setFunctionHash</a>(*Checksum);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (ProfileHasAttribute) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keyword">auto</span> <a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a> = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>.getError())</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">if</span> (FProfile)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aad432df568c6b098cb07dfe80a6ce6ad">getContext</a>().<a class="code" href="classllvm_1_1sampleprof_1_1SampleContext.html#aa7894022c49174ef967469c3ddd81857">setAllAttributes</a>(*<a class="code" href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">ProfileIsCS</a>) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">// Read all the attributes for inlined function calls.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keyword">auto</span> NumCallsites = readNumber&lt;uint32_t&gt;();</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="keywordflow">if</span> (std::error_code EC = NumCallsites.getError())</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> J = 0; J &lt; *NumCallsites; ++J) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keyword">auto</span> LineOffset = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="keywordflow">if</span> (std::error_code EC = LineOffset.getError())</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;          <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keyword">auto</span> Discriminator = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">if</span> (std::error_code EC = Discriminator.getError())</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;          <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keyword">auto</span> FContext(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">readSampleContextFromTable</a>());</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span> (std::error_code EC = FContext.getError())</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;          <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *CalleeProfile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">if</span> (FProfile) {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          CalleeProfile = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;              &amp;FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6b310bafee8bcdc3589c3df5de188f9">functionSamplesAt</a>(<a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a>(</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                  *LineOffset,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                  *Discriminator))[std::string(FContext.get().getName())]);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keywordflow">if</span> (std::error_code EC =</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                readFuncMetadata(ProfileHasAttribute, CalleeProfile))</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;std::error_code</div>
<div class="line"><a name="l01219"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a077db87ff742498d2add620c1a7130db"> 1219</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a077db87ff742498d2add620c1a7130db">SampleProfileReaderExtBinaryBase::readFuncMetadata</a>(<span class="keywordtype">bool</span> ProfileHasAttribute) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> &lt; <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a>) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keyword">auto</span> FContext(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">readSampleContextFromTable</a>());</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FContext.getError())</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *FProfile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keyword">auto</span> It = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>.find(*FContext);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> (It != <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>.end())</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      FProfile = &amp;It-&gt;second;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readFuncMetadata(ProfileHasAttribute, FProfile))</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> == <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> &amp;&amp; <span class="stringliteral">&quot;More data is read than expected&quot;</span>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;std::error_code SampleProfileReaderCompactBinary::readNameTable() {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keyword">auto</span> Size = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.reserve(*Size);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keyword">auto</span> FID = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FID.getError())</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">NameTable</a>.push_back(<a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(*FID));</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;}</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;std::error_code</div>
<div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#abb27f51bea045d12134c5a19f03f6d7b"> 1252</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#abb27f51bea045d12134c5a19f03f6d7b">SampleProfileReaderExtBinaryBase::readSecHdrTableEntry</a>(<a class="code" href="classuint32__t.html">uint32_t</a> Idx) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <a class="code" href="structllvm_1_1sampleprof_1_1SecHdrTableEntry.html">SecHdrTableEntry</a> Entry;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keyword">auto</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1Type.html">Type</a>.getError())</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  Entry.Type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85">SecType</a><span class="keyword">&gt;</span>(*Type);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="keyword">auto</span> Flags = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Flags.getError())</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  Entry.Flags = *Flags;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keyword">auto</span> Offset = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Offset.getError())</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  Entry.Offset = *Offset;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keyword">auto</span> Size = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  Entry.Size = *Size;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  Entry.LayoutIndex = Idx;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  SecHdrTable.push_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Entry));</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;}</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a71d1634305839ada83dff4daee355a95"> 1279</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a71d1634305839ada83dff4daee355a95">SampleProfileReaderExtBinaryBase::readSecHdrTable</a>() {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keyword">auto</span> EntryNum = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = EntryNum.getError())</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (*EntryNum); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readSecHdrTableEntry(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae375ab166c92c7d215eea3a3f0277d46"> 1291</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae375ab166c92c7d215eea3a3f0277d46">SampleProfileReaderExtBinaryBase::readHeader</a>() {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keyword">const</span> uint8_t *BufStart =</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferStart());</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = BufStart;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> = BufStart + <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferSize();</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#af1e730478b6c28793c5298b372252601">readMagicIdent</a>())</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = readSecHdrTable())</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a192f65175b8cab2ec3ce9ff6bfd38ebb"> 1306</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a192f65175b8cab2ec3ce9ff6bfd38ebb">SampleProfileReaderExtBinaryBase::getSectionSize</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85">SecType</a> <a class="code" href="classllvm_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size = 0;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : SecHdrTable) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">if</span> (Entry.Type == <a class="code" href="classllvm_1_1Type.html">Type</a>)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      Size += Entry.Size;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;}</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae5212e24c2c507eb51d7ad201800cbfc"> 1315</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae5212e24c2c507eb51d7ad201800cbfc">SampleProfileReaderExtBinaryBase::getFileSize</a>() {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// Sections in SecHdrTable is not necessarily in the same order as</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">// sections in the profile because section like FuncOffsetTable needs</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="comment">// to be written after section LBRProfile but needs to be read before</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// section LBRProfile, so we cannot simply use the last entry in</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// SecHdrTable to calculate the file size.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FileSize = 0;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : SecHdrTable) {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    FileSize = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Entry.Offset + Entry.Size, FileSize);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordflow">return</span> FileSize;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;}</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#aa1579cd3c85df19630fb1ca933b2679c"> 1328</a></span>&#160;<span class="keyword">static</span> std::string <a class="code" href="SampleProfReader_8cpp.html#aa1579cd3c85df19630fb1ca933b2679c">getSecFlagsStr</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1sampleprof_1_1SecHdrTableEntry.html">SecHdrTableEntry</a> &amp;Entry) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  std::string Flags;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a249a6a299581a44359596da9619a4b19a16052b6981a5cb6f18149f985d66ab87">SecCommonFlags::SecFlagCompress</a>))</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    Flags.append(<span class="stringliteral">&quot;{compressed,&quot;</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    Flags.append(<span class="stringliteral">&quot;{&quot;</span>);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a249a6a299581a44359596da9619a4b19a303d1d200e078b6e1510e624147dfe0e">SecCommonFlags::SecFlagFlat</a>))</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    Flags.append(<span class="stringliteral">&quot;flat,&quot;</span>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordflow">switch</span> (Entry.Type) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a04e75d4659b0c502eb2280e6d6fd6378">SecNameTable</a>:</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a5121eb700a5270cadcb8ec87c2593288">SecNameTableFlags::SecFlagFixedLengthMD5</a>))</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      Flags.append(<span class="stringliteral">&quot;fixlenmd5,&quot;</span>);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a1780ac16db816da7bda99433dbdb73bf">SecNameTableFlags::SecFlagMD5Name</a>))</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      Flags.append(<span class="stringliteral">&quot;md5,&quot;</span>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a27ba0d92f39f8d4651a98190c098df5d">SecNameTableFlags::SecFlagUniqSuffix</a>))</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      Flags.append(<span class="stringliteral">&quot;uniq,&quot;</span>);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a8c51d0a5a19b4b2ae76846092b479354">SecProfSummary</a>:</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462ab8c5c1b9457b958b7c66a02adb2dc97a">SecProfSummaryFlags::SecFlagPartial</a>))</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      Flags.append(<span class="stringliteral">&quot;partial,&quot;</span>);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462ad8375f4e079a5af243f36f91334691e7">SecProfSummaryFlags::SecFlagFullContext</a>))</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      Flags.append(<span class="stringliteral">&quot;context,&quot;</span>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462a6517bd773ca68b78f926ec08f55daac3">SecProfSummaryFlags::SecFlagIsPreInlined</a>))</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      Flags.append(<span class="stringliteral">&quot;preInlined,&quot;</span>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462abbe7033a4a1f24db956320bb1a7b7ce3">SecProfSummaryFlags::SecFlagFSDiscriminator</a>))</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      Flags.append(<span class="stringliteral">&quot;fs-discriminator,&quot;</span>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85ae3b5e1c40206f7ac0a1e8b9c1f4fa4d7">SecFuncOffsetTable</a>:</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#abed83dc828c8bfb55967efc3b9313758a3cc23f4782f1fd246c14392b45a2646f">SecFuncOffsetFlags::SecFlagOrdered</a>))</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      Flags.append(<span class="stringliteral">&quot;ordered,&quot;</span>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85aaa2da63cc16b51f0005debd3ae000a18">SecFuncMetadata</a>:</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#ad2f473dc3a871939a4781efc92f0931ba538d11ebcb8192686ae93eb46ec92ebc">SecFuncMetadataFlags::SecFlagIsProbeBased</a>))</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      Flags.append(<span class="stringliteral">&quot;probe,&quot;</span>);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">hasSecFlag</a>(Entry, <a class="code" href="namespacellvm_1_1sampleprof.html#ad2f473dc3a871939a4781efc92f0931ba4771c0f8db64857edd1ee64cfde3edca">SecFuncMetadataFlags::SecFlagHasAttribute</a>))</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      Flags.append(<span class="stringliteral">&quot;attr,&quot;</span>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894dae1876e1602335f6a4e50b3c18cd836da">last</a> = Flags.back();</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894dae1876e1602335f6a4e50b3c18cd836da">last</a> == <span class="charliteral">&#39;,&#39;</span>)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894dae1876e1602335f6a4e50b3c18cd836da">last</a> = <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    Flags.append(<span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">return</span> Flags;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab0f3253a66867b0999fc9d2be549268c"> 1378</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab0f3253a66867b0999fc9d2be549268c">SampleProfileReaderExtBinaryBase::dumpSectionInfo</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TotalSecsSize = 0;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : SecHdrTable) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="namespacellvm_1_1sampleprof.html#adb8cd928bc57ee59a1e5dfb79f023c75">getSecName</a>(Entry.Type) &lt;&lt; <span class="stringliteral">&quot; - Offset: &quot;</span> &lt;&lt; Entry.Offset</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, Size: &quot;</span> &lt;&lt; Entry.Size &lt;&lt; <span class="stringliteral">&quot;, Flags: &quot;</span> &lt;&lt; <a class="code" href="SampleProfReader_8cpp.html#aa1579cd3c85df19630fb1ca933b2679c">getSecFlagsStr</a>(Entry)</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    ;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    TotalSecsSize += Entry.Size;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BTF.html#a3b20e188bd3a15443a74fc637b6aed33a4af5f992bdc47a779c499ffc6fdcaf43">HeaderSize</a> = SecHdrTable.front().Offset;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1BTF.html#a3b20e188bd3a15443a74fc637b6aed33a4af5f992bdc47a779c499ffc6fdcaf43">HeaderSize</a> + TotalSecsSize == getFileSize() &amp;&amp;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;         <span class="stringliteral">&quot;Size of &#39;header + sections&#39; doesn&#39;t match the total size of profile&quot;</span>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Header Size: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1BTF.html#a3b20e188bd3a15443a74fc637b6aed33a4af5f992bdc47a779c499ffc6fdcaf43">HeaderSize</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Total Sections Size: &quot;</span> &lt;&lt; TotalSecsSize &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;File Size: &quot;</span> &lt;&lt; getFileSize() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#af1e730478b6c28793c5298b372252601"> 1397</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#af1e730478b6c28793c5298b372252601">SampleProfileReaderBinary::readMagicIdent</a>() {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="comment">// Read and check the magic identifier.</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a>.getError())</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::error_code EC = verifySPMagic(*<a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a>))</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="comment">// Read the version number.</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>.getError())</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> != <a class="code" href="namespacellvm_1_1sampleprof.html#aec06640e3197b264c40e6f84e9a7ad6a">SPVersion</a>())</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea2af01f2c39c66a1641045dd660e839b5">sampleprof_error::unsupported_version</a>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a36208a5b2efdedf5b0640c8b47e235b8"> 1415</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a36208a5b2efdedf5b0640c8b47e235b8">SampleProfileReaderBinary::readHeader</a>() {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferStart());</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> + <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferSize();</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#af1e730478b6c28793c5298b372252601">readMagicIdent</a>())</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aec2ab856ea5858bcc170eaaf185693d6">readSummary</a>())</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a08a6c4a1c3536fa7e594a3151e0773f9">readNameTable</a>())</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;}</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;std::error_code SampleProfileReaderCompactBinary::readHeader() {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a36208a5b2efdedf5b0640c8b47e235b8">SampleProfileReaderBinary::readHeader</a>();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = readFuncOffsetTable())</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;}</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;std::error_code SampleProfileReaderCompactBinary::readFuncOffsetTable() {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keyword">auto</span> TableOffset = readUnencodedNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = TableOffset.getError())</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keyword">const</span> uint8_t *SavedData = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keyword">const</span> uint8_t *TableStart =</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>-&gt;getBufferStart()) +</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      *TableOffset;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = TableStart;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keyword">auto</span> Size = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Size.getError())</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  FuncOffsetTable.reserve(*Size);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; *Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keyword">auto</span> FName(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">readStringFromTable</a>());</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = FName.getError())</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keyword">auto</span> Offset = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = Offset.getError())</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    FuncOffsetTable[*FName] = *Offset;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">End</a> = TableStart;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> = SavedData;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;}</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#ad3761761c4197d83e19e299943ca0743"> 1469</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#ad3761761c4197d83e19e299943ca0743">SampleProfileReaderCompactBinary::collectFuncsFromModule</a>() {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a2be68a56c1386faa6c75baf21a462df7">M</a>)</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  FuncsToUse.clear();</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : *<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a2be68a56c1386faa6c75baf21a462df7">M</a>)</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    FuncsToUse.insert(<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aa7122a07ea48e47fc71083e68b829003">FunctionSamples::getCanonicalFnName</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;std::error_code SampleProfileReaderBinary::readSummaryEntry(</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    std::vector&lt;ProfileSummaryEntry&gt; &amp;Entries) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keyword">auto</span> Cutoff = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Cutoff.getError())</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keyword">auto</span> MinBlockCount = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = MinBlockCount.getError())</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keyword">auto</span> NumBlocks = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumBlocks.getError())</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  Entries.emplace_back(*Cutoff, *MinBlockCount, *NumBlocks);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aec2ab856ea5858bcc170eaaf185693d6"> 1496</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aec2ab856ea5858bcc170eaaf185693d6">SampleProfileReaderBinary::readSummary</a>() {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keyword">auto</span> TotalCount = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = TotalCount.getError())</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keyword">auto</span> MaxBlockCount = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = MaxBlockCount.getError())</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keyword">auto</span> MaxFunctionCount = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = MaxFunctionCount.getError())</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keyword">auto</span> NumBlocks = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumBlocks.getError())</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keyword">auto</span> NumFunctions = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumFunctions.getError())</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keyword">auto</span> NumSummaryEntries = readNumber&lt;uint64_t&gt;();</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = NumSummaryEntries.getError())</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  std::vector&lt;ProfileSummaryEntry&gt; Entries;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; *NumSummaryEntries; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    std::error_code EC = readSummaryEntry(Entries);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (EC != <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>)</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a808d204826972c99cd36562eea139d23">Summary</a> = std::make_unique&lt;ProfileSummary&gt;(</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="classllvm_1_1ProfileSummary.html#aa5aa682b3904e88749fa973b3da370c2a0c86eaeebf5b6120b601ecc93a1c2e3a">ProfileSummary::PSK_Sample</a>, Entries, *TotalCount, *MaxBlockCount, 0,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      *MaxFunctionCount, *NumBlocks, *NumFunctions);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;}</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary.html#ac52edce1e67044bb74c9839d0b91445e"> 1534</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary.html#ac52edce1e67044bb74c9839d0b91445e">SampleProfileReaderRawBinary::hasFormat</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> &amp;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keyword">const</span> uint8_t *<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> =</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>.getBufferStart());</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> = <a class="code" href="namespacellvm.html#a3720bbfe79232f7792ab4b969dfbeed0">decodeULEB128</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <a class="code" href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">SPMagic</a>();</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;}</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary.html#ac37600268c671eee29e31904b1532c17"> 1541</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary.html#ac37600268c671eee29e31904b1532c17">SampleProfileReaderExtBinary::hasFormat</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> &amp;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keyword">const</span> uint8_t *<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> =</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>.getBufferStart());</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> = <a class="code" href="namespacellvm.html#a3720bbfe79232f7792ab4b969dfbeed0">decodeULEB128</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <a class="code" href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">SPMagic</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a373137ee5de445ffb3a1dbc685cf66eca46bc649d3816ce5a94ef37c9e826c8ff">SPF_Ext_Binary</a>);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a02ace14a8877effd3d03a8097c84cb54"> 1548</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a02ace14a8877effd3d03a8097c84cb54">SampleProfileReaderCompactBinary::hasFormat</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> &amp;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keyword">const</span> uint8_t *<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a> =</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>.getBufferStart());</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> = <a class="code" href="namespacellvm.html#a3720bbfe79232f7792ab4b969dfbeed0">decodeULEB128</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">Data</a>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <a class="code" href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">SPMagic</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a373137ee5de445ffb3a1dbc685cf66eca9425a826cb2a1ee8d7838e759233ee4e">SPF_Compact_Binary</a>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;}</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ab5bbfe5b0f863708d31b6ce2e126ec0c"> 1555</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ab5bbfe5b0f863708d31b6ce2e126ec0c">SampleProfileReaderGCC::skipNextWord</a>() {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> dummy;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(dummy))</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;}</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a3692dc50c07c5eda5e01f891cc03047c"> 1562</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;T&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a3692dc50c07c5eda5e01f891cc03047c">SampleProfileReaderGCC::readNumber</a>() {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>) &lt;= <span class="keyword">sizeof</span>(<a class="code" href="classuint32__t.html">uint32_t</a>)) {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Val;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (GcovBuffer.readInt(Val) &amp;&amp; Val &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;T&gt;::max</a>())</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classT.html">T</a><span class="keyword">&gt;</span>(Val);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>) &lt;= <span class="keyword">sizeof</span>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Val;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">if</span> (GcovBuffer.readInt64(Val) &amp;&amp; <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">Val &lt;= std::numeric_limits&lt;T&gt;::max</a>())</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classT.html">T</a><span class="keyword">&gt;</span>(Val);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  std::error_code EC = <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">reportError</a>(0, EC.message());</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a8e54d8ccf59b2b783a1254168ce468d7"> 1578</a></span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;StringRef&gt;</a> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a8e54d8ccf59b2b783a1254168ce468d7">SampleProfileReaderGCC::readString</a>() {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readString(Str))</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">return</span> Str;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;}</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a7e2ac14aece78da6927b8e8e698c5ce1"> 1585</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a7e2ac14aece78da6927b8e8e698c5ce1">SampleProfileReaderGCC::readHeader</a>() {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// Read the magic identifier.</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readGCDAFormat())</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbead5b649348c44c8f1f89cb53fe7604f64">sampleprof_error::unrecognized_format</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="comment">// Read the version number. Note - the GCC reader does not validate this</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="comment">// version, but the profile creator generates v704.</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="namespacellvm_1_1GCOV.html#aa1bb0e8b1c685b30bf6d3247fb3feb08">GCOV::GCOVVersion</a> version;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readGCOVVersion(version))</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbead5b649348c44c8f1f89cb53fe7604f64">sampleprof_error::unrecognized_format</a>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">if</span> (version != <a class="code" href="namespacellvm_1_1GCOV.html#aa1bb0e8b1c685b30bf6d3247fb3feb08a28fc20af08dacec19f1191703628427b">GCOV::V407</a>)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea2af01f2c39c66a1641045dd660e839b5">sampleprof_error::unsupported_version</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">// Skip the empty integer.</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = skipNextWord())</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;}</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#af817ec9dd6d3474c66b2212251c6e338"> 1606</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#af817ec9dd6d3474c66b2212251c6e338">SampleProfileReaderGCC::readSectionTag</a>(<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1Expected.html">Expected</a>) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>))</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> != <a class="code" href="classllvm_1_1Expected.html">Expected</a>)</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = skipNextWord())</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;}</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a622597173a279123bf79b590ee419180"> 1620</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a622597173a279123bf79b590ee419180">SampleProfileReaderGCC::readNameTable</a>() {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = readSectionTag(GCOVTagAFDOFileNames))</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> Size;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(Size))</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Size; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">if</span> (!GcovBuffer.readString(Str))</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    Names.push_back(std::string(Str));</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#aa53d5b8b15dd26564754966d3159f822"> 1638</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#aa53d5b8b15dd26564754966d3159f822">SampleProfileReaderGCC::readFunctionProfiles</a>() {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = readSectionTag(GCOVTagAFDOFunction))</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NumFunctions;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(NumFunctions))</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">InlineCallStack</a> Stack;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumFunctions; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readOneFunctionProfile(Stack, <span class="keyword">true</span>, 0))</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a862a85fc052e3da0f7109bc54ef4998d">computeSummary</a>();</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;}</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a98a6af42792c32db070dee8826e1412e"> 1655</a></span>&#160;std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a98a6af42792c32db070dee8826e1412e">SampleProfileReaderGCC::readOneFunctionProfile</a>(</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">InlineCallStack</a> &amp;InlineStack, <span class="keywordtype">bool</span> Update, <a class="code" href="classuint32__t.html">uint32_t</a> Offset) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> HeadCount = 0;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">if</span> (InlineStack.size() == 0)</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">if</span> (!GcovBuffer.readInt64(HeadCount))</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NameIdx;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(NameIdx))</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name(Names[NameIdx]);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NumPosCounts;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(NumPosCounts))</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NumCallsites;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">if</span> (!GcovBuffer.readInt(NumCallsites))</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *FProfile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (InlineStack.size() == 0) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">// If this is a top function that we have already processed, do not</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="comment">// update its profile again.  This happens in the presence of</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">// function aliases.  Since these aliases share the same function</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="comment">// body, there will be identical replicated profiles for the</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="comment">// original function.  In this case, we simply not bother updating</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="comment">// the profile of the original function.</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    FProfile = &amp;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>[Name];</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a8dda47f9492c59e96d8b43fa6244af20">addHeadSamples</a>(HeadCount);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">if</span> (FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#adb2786061d3e569b42b7d661ccc57484">getTotalSamples</a>() &gt; 0)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      Update = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="comment">// Otherwise, we are reading an inlined instance. The top of the</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// inline stack contains the profile of the caller. Insert this</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="comment">// callee in the caller&#39;s CallsiteMap.</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *CallerProfile = InlineStack.front();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> LineOffset = Offset &gt;&gt; 16;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Discriminator = Offset &amp; 0xffff;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    FProfile = &amp;CallerProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6b310bafee8bcdc3589c3df5de188f9">functionSamplesAt</a>(</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <a class="code" href="structllvm_1_1sampleprof_1_1LineLocation.html">LineLocation</a>(LineOffset, Discriminator))[std::string(Name)];</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a11e6c7371ce7b1d7da71ca96fe9c4b9a">setName</a>(Name);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumPosCounts; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Offset;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">if</span> (!GcovBuffer.readInt(Offset))</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> NumTargets;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">if</span> (!GcovBuffer.readInt(NumTargets))</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Count;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">if</span> (!GcovBuffer.readInt64(Count))</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// The line location is encoded in the offset as:</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="comment">//   high 16 bits: line offset to the start of the function.</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="comment">//   low 16 bits: discriminator.</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> LineOffset = Offset &gt;&gt; 16;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Discriminator = Offset &amp; 0xffff;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">InlineCallStack</a> NewStack;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    NewStack.push_back(FProfile);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(NewStack, InlineStack);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (Update) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="comment">// Walk up the inline stack, adding the samples on this line to</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="comment">// the total sample count of the callers in the chain.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *CallerProfile : NewStack)</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        CallerProfile-&gt;addTotalSamples(Count);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <span class="comment">// Update the body samples for the current profile.</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ab38820a59b382631568b3735469b0890">addBodySamples</a>(LineOffset, Discriminator, Count);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="comment">// Process the list of functions called at an indirect call site.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="comment">// These are all the targets that a function pointer (or virtual</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">// function) resolved at runtime.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> J = 0; J &lt; NumTargets; J++) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> HistVal;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      <span class="keywordflow">if</span> (!GcovBuffer.readInt(HistVal))</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <span class="keywordflow">if</span> (HistVal != <a class="code" href="namespacellvm_1_1sampleprof.html#a7fbf1e7e1c95fffa247e7bba9f850584a525ad6441353eaf3d43be721b6d743c1">HIST_TYPE_INDIR_CALL_TOPN</a>)</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TargetIdx;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      <span class="keywordflow">if</span> (!GcovBuffer.readInt64(TargetIdx))</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TargetName(Names[TargetIdx]);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TargetCount;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordflow">if</span> (!GcovBuffer.readInt64(TargetCount))</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <span class="keywordflow">if</span> (Update)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        FProfile-&gt;<a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aca2f0dbbf7497002b732004d2ce3bbe3">addCalledTargetSamples</a>(LineOffset, Discriminator,</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                                         TargetName, TargetCount);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="comment">// Process all the inlined callers into the current function. These</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="comment">// are all the callsites that were inlined into this function.</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumCallsites; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">// The offset is encoded as:</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">//   high 16 bits: line offset to the start of the function.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="comment">//   low 16 bits: discriminator.</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Offset;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">if</span> (!GcovBuffer.readInt(Offset))</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">sampleprof_error::truncated</a>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">InlineCallStack</a> NewStack;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    NewStack.push_back(FProfile);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(NewStack, InlineStack);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = readOneFunctionProfile(NewStack, Update, Offset))</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">/// Read a GCC AutoFDO profile.</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">/// This format is generated by the Linux Perf conversion tool at</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">/// https://github.com/google/autofdo.</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a4eafbdaec23df0b928d64cf6d16c2831"> 1781</a></span>&#160;<span class="comment"></span>std::error_code <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a4eafbdaec23df0b928d64cf6d16c2831">SampleProfileReaderGCC::readImpl</a>() {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="SampleProfReader_8cpp.html#af18f760584a90ec99b354b9074afee48">ProfileIsFSDisciminator</a> &amp;&amp; <span class="stringliteral">&quot;Gcc profiles not support FSDisciminator&quot;</span>);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="comment">// Read the string table.</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a08a6c4a1c3536fa7e594a3151e0773f9">readNameTable</a>())</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160; </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="comment">// Read the source profile.</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = readFunctionProfiles())</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">sampleprof_error::success</a>;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;}</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ade9bafe407ebfb2eed960233a4f5da22"> 1794</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ade9bafe407ebfb2eed960233a4f5da22">SampleProfileReaderGCC::hasFormat</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> &amp;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>.getBufferStart()));</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">Magic</a> == <span class="stringliteral">&quot;adcg*704&quot;</span>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;}</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a350d411fd6958a014b935b78c165f610"> 1799</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a350d411fd6958a014b935b78c165f610">SampleProfileReaderItaniumRemapper::applyRemapping</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#afe19488a2996e10c93bccbe3d332ca93">Ctx</a>) {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="comment">// If the reader uses MD5 to represent string, we can&#39;t remap it because</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="comment">// we don&#39;t know what the original function names were.</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="keywordflow">if</span> (Reader.useMD5()) {</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#afe19488a2996e10c93bccbe3d332ca93">Ctx</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aad03ef5cfbe6e7cad076d9e45ba06592">diagnose</a>(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        Reader.getBuffer()-&gt;getBufferIdentifier(),</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="stringliteral">&quot;Profile data remapping cannot be applied to profile data &quot;</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <span class="stringliteral">&quot;in compact format (original mangled names are not available).&quot;</span>,</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <a class="code" href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">DS_Warning</a>));</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="comment">// CSSPGO-TODO: Remapper is not yet supported.</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="comment">// We will need to remap the entire context string.</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Remappings &amp;&amp; <span class="stringliteral">&quot;should be initialized while creating remapper&quot;</span>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Sample : Reader.getProfiles()) {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;StringRef&gt;</a> NamesInSample;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    Sample.second.findAllNames(NamesInSample);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Name : NamesInSample)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = Remappings-&gt;insert(Name))</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        NameMap.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>({<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>, Name});</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  RemappingApplied = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;}</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;std::optional&lt;StringRef&gt;</div>
<div class="line"><a name="l01826"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#ae86f8a71098cd0a7a0ccd0d2e9f9156f"> 1826</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#ae86f8a71098cd0a7a0ccd0d2e9f9156f">SampleProfileReaderItaniumRemapper::lookUpNameInProfile</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Fname) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = Remappings-&gt;lookup(Fname))</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">return</span> NameMap.lookup(<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;}</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">/// Prepare a memory buffer for the contents of \p Filename.</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment">/// \returns an error code indicating the status of the buffer.</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;MemoryBuffer&gt;</a>&gt;</div>
<div class="line"><a name="l01836"></a><span class="lineno"><a class="line" href="SampleProfReader_8cpp.html#aef54c80d78e27567b8879ae70e834e2d"> 1836</a></span>&#160;<a class="code" href="SampleProfReader_8cpp.html#aef54c80d78e27567b8879ae70e834e2d">setupMemoryBuffer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;Filename, <a class="code" href="classllvm_1_1vfs_1_1FileSystem.html">vfs::FileSystem</a> &amp;<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>) {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keyword">auto</span> BufferOrErr = Filename.str() == <span class="stringliteral">&quot;-&quot;</span> ? <a class="code" href="classllvm_1_1MemoryBuffer.html#ae56e946cf4266646c30b0898033b88bc">MemoryBuffer::getSTDIN</a>()</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                                           : <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>.getBufferForFile(Filename);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = BufferOrErr.getError())</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keyword">auto</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a> = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(BufferOrErr.get());</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">Buffer</a>);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;}</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="comment">/// Create a sample profile reader based on the format of the input file.</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="comment">/// \param Filename The file to open.</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="comment">/// \param C The LLVM context to use to emit diagnostics.</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="comment">/// \param P The FSDiscriminatorPass.</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="comment">/// \param RemapFilename The file used for profile remapping.</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="comment">/// \returns an error code indicating the status of the created reader.</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;SampleProfileReader&gt;</a>&gt;</div>
<div class="line"><a name="l01858"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31"> 1858</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">SampleProfileReader::create</a>(<span class="keyword">const</span> std::string Filename, <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                            <a class="code" href="classllvm_1_1vfs_1_1FileSystem.html">vfs::FileSystem</a> &amp;<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">FSDiscriminatorPass</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                            <span class="keyword">const</span> std::string RemapFilename) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keyword">auto</span> BufferOrError = <a class="code" href="SampleProfReader_8cpp.html#aef54c80d78e27567b8879ae70e834e2d">setupMemoryBuffer</a>(Filename, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = BufferOrError.getError())</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">create</a>(BufferOrError.get(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, RemapFilename);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;}</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">/// Create a sample profile remapper from the given input, to remap the</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment">/// function names in the given profile data.</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">/// \param Filename The file to open.</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="comment">/// \param Reader The profile reader the remapper is going to be applied to.</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="comment">/// \param C The LLVM context to use to emit diagnostics.</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="comment">/// \returns an error code indicating the status of the created reader.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;SampleProfileReaderItaniumRemapper&gt;</a>&gt;</div>
<div class="line"><a name="l01878"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a13874fb8714b4e930ee517250aa79806"> 1878</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a13874fb8714b4e930ee517250aa79806">SampleProfileReaderItaniumRemapper::create</a>(<span class="keyword">const</span> std::string Filename,</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                                           <a class="code" href="classllvm_1_1vfs_1_1FileSystem.html">vfs::FileSystem</a> &amp;<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>,</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                                           <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html">SampleProfileReader</a> &amp;Reader,</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                                           <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="keyword">auto</span> BufferOrError = <a class="code" href="SampleProfReader_8cpp.html#aef54c80d78e27567b8879ae70e834e2d">setupMemoryBuffer</a>(Filename, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = BufferOrError.getError())</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">create</a>(BufferOrError.get(), Reader, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;}</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">/// Create a sample profile remapper from the given input, to remap the</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">/// function names in the given profile data.</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment">/// \param B The memory buffer to create the reader from (assumes ownership).</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment">/// \param C The LLVM context to use to emit diagnostics.</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="comment">/// \param Reader The profile reader the remapper is going to be applied to.</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;<span class="comment">/// \returns an error code indicating the status of the created reader.</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;SampleProfileReaderItaniumRemapper&gt;</a>&gt;</div>
<div class="line"><a name="l01899"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#ab86d93032dfafc59c9fe7abf873d3394"> 1899</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a13874fb8714b4e930ee517250aa79806">SampleProfileReaderItaniumRemapper::create</a>(std::unique_ptr&lt;MemoryBuffer&gt; &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>,</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                                           <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html">SampleProfileReader</a> &amp;Reader,</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                                           <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keyword">auto</span> Remappings = std::make_unique&lt;SymbolRemappingReader&gt;();</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Remappings-&gt;read(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <a class="code" href="namespacellvm.html#a2aa0f5c36ac6291f5d5f2b4efd9ffe70">handleAllErrors</a>(</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>), [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1SymbolRemappingParseError.html">SymbolRemappingParseError</a> &amp;ParseError) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.diagnose(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getBufferIdentifier(),</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                                 ParseError.<a class="code" href="classllvm_1_1SymbolRemappingParseError.html#a217ad16f31a72df240a9dc84ae82c7b8">getLineNum</a>(),</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                                                 ParseError.<a class="code" href="classllvm_1_1SymbolRemappingParseError.html#a316b8b3fd59636aa35cb7e23ff727e11">getMessage</a>()));</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        });</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">sampleprof_error::malformed</a>;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;SampleProfileReaderItaniumRemapper&gt;(</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Remappings), Reader);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment">/// Create a sample profile reader based on the format of the input data.</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment">/// \param B The memory buffer to create the reader from (assumes ownership).</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment">/// \param C The LLVM context to use to emit diagnostics.</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="comment">/// \param P The FSDiscriminatorPass.</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">/// \param RemapFilename The file used for profile remapping.</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">/// \returns an error code indicating the status of the created reader.</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;SampleProfileReader&gt;</a>&gt;</div>
<div class="line"><a name="l01929"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af54292cc1657bdf684a0f8cd1af4e5dd"> 1929</a></span>&#160;<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">SampleProfileReader::create</a>(std::unique_ptr&lt;MemoryBuffer&gt; &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                            <a class="code" href="classllvm_1_1vfs_1_1FileSystem.html">vfs::FileSystem</a> &amp;<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">FSDiscriminatorPass</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                            <span class="keyword">const</span> std::string RemapFilename) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  std::unique_ptr&lt;SampleProfileReader&gt; Reader;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary.html#ac52edce1e67044bb74c9839d0b91445e">SampleProfileReaderRawBinary::hasFormat</a>(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    Reader.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary.html">SampleProfileReaderRawBinary</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary.html#ac37600268c671eee29e31904b1532c17">SampleProfileReaderExtBinary::hasFormat</a>(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    Reader.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary.html">SampleProfileReaderExtBinary</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a02ace14a8877effd3d03a8097c84cb54">SampleProfileReaderCompactBinary::hasFormat</a>(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    Reader.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html">SampleProfileReaderCompactBinary</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ade9bafe407ebfb2eed960233a4f5da22">SampleProfileReaderGCC::hasFormat</a>(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    Reader.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html">SampleProfileReaderGCC</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#ac6f6906a46a807e4f041c463b04511fa">SampleProfileReaderText::hasFormat</a>(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    Reader.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html">SampleProfileReaderText</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbead5b649348c44c8f1f89cb53fe7604f64">sampleprof_error::unrecognized_format</a>;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="keywordflow">if</span> (!RemapFilename.empty()) {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keyword">auto</span> ReaderOrErr = <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a13874fb8714b4e930ee517250aa79806">SampleProfileReaderItaniumRemapper::create</a>(</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        RemapFilename, <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>, *Reader, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordflow">if</span> (std::error_code EC = ReaderOrErr.getError()) {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;      std::string <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a> = <span class="stringliteral">&quot;Could not create remapper: &quot;</span> + EC.message();</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.diagnose(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(RemapFilename, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>));</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    Reader-&gt;Remapper = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ReaderOrErr.get());</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="keywordflow">if</span> (std::error_code EC = Reader-&gt;readHeader()) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">return</span> EC;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  Reader-&gt;setDiscriminatorMaskedBitFrom(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Reader);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;}</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="comment">// For text and GCC file formats, we compute the summary after reading the</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="comment">// profile. Binary format has the profile summary in its header.</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"><a class="line" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a862a85fc052e3da0f7109bc54ef4998d"> 1968</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a862a85fc052e3da0f7109bc54ef4998d">SampleProfileReader::computeSummary</a>() {</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <a class="code" href="classllvm_1_1SampleProfileSummaryBuilder.html">SampleProfileSummaryBuilder</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(<a class="code" href="classllvm_1_1ProfileSummaryBuilder.html#a9b2e51220aabb88a132d3bc8fbdf5a66">ProfileSummaryBuilder::DefaultCutoffs</a>);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a808d204826972c99cd36562eea139d23">Summary</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.computeSummaryForProfiles(<a class="code" href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">Profiles</a>);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_ab3c8e7a5bebd5fa73b577fdc7677f7a5"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ab3c8e7a5bebd5fa73b577fdc7677f7a5">llvm::sampleprof::SampleProfileReader::ProfileIsFS</a></div><div class="ttdeci">bool ProfileIsFS</div><div class="ttdoc">Whether the function profiles use FS discriminators.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00553">SampleProfReader.h:553</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aMemoryBuffer_8h_html"><div class="ttname"><a href="MemoryBuffer_8h.html">MemoryBuffer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a241493be5796817782fda51d1b3fa61d"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a241493be5796817782fda51d1b3fa61d">llvm::sampleprof::SampleProfileReader::dump</a></div><div class="ttdeci">void dump(raw_ostream &amp;OS=dbgs())</div><div class="ttdoc">Print all the profiles on stream OS.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00070">SampleProfReader.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleRecord_html_a6e5033adccbe0a93cc7c77cd89ed2fec"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleRecord.html#a6e5033adccbe0a93cc7c77cd89ed2fec">llvm::sampleprof::SampleRecord::getSamples</a></div><div class="ttdeci">uint64_t getSamples() const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00392">SampleProf.h:392</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea58143522d563e1d9b0a0d8ba52a01b9f"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea58143522d563e1d9b0a0d8ba52a01b9f">llvm::sampleprof_error::uncompress_failed</a></div><div class="ttdeci">@ uncompress_failed</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderText_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html">llvm::sampleprof::SampleProfileReaderText</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00568">SampleProfReader.h:568</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a08a6c4a1c3536fa7e594a3151e0773f9"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a08a6c4a1c3536fa7e594a3151e0773f9">llvm::sampleprof::SampleProfileReaderBinary::readNameTable</a></div><div class="ttdeci">virtual std::error_code readNameTable()</div><div class="ttdoc">Read the whole name table.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01068">SampleProfReader.cpp:1068</a></div></div>
<div class="ttc" id="aCompression_8h_html"><div class="ttname"><a href="Compression_8h.html">Compression.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a1bd87b526bf1a09487cf4d75d9e638ef"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a1bd87b526bf1a09487cf4d75d9e638ef">llvm::sampleprof::SampleProfileReader::CSProfileCount</a></div><div class="ttdeci">uint32_t CSProfileCount</div><div class="ttdoc">Number of context-sensitive profiles.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00550">SampleProfReader.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_1_1compression_1_1zlib_html_a1f2be1038afa2414d1df3da720de0c55"><div class="ttname"><a href="namespacellvm_1_1compression_1_1zlib.html#a1f2be1038afa2414d1df3da720de0c55">llvm::compression::zlib::decompress</a></div><div class="ttdeci">Error decompress(ArrayRef&lt; uint8_t &gt; Input, uint8_t *Output, size_t &amp;UncompressedSize)</div><div class="ttdef"><b>Definition:</b> <a href="Compression_8cpp_source.html#l00123">Compression.cpp:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderText_html_aa8f17958c50ff564f5817c64850da276"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#aa8f17958c50ff564f5817c64850da276">llvm::sampleprof::SampleProfileReaderText::readImpl</a></div><div class="ttdeci">std::error_code readImpl() override</div><div class="ttdoc">Read sample profiles from the associated file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00317">SampleProfReader.cpp:317</a></div></div>
<div class="ttc" id="anamespacellvm_1_1binaryformat_html_ab355a2b14b4cc35373b4526fbfab894dae1876e1602335f6a4e50b3c18cd836da"><div class="ttname"><a href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894dae1876e1602335f6a4e50b3c18cd836da">llvm::binaryformat::last</a></div><div class="ttdeci">@ last</div><div class="ttdef"><b>Definition:</b> <a href="Swift_8h_source.html#l00019">Swift.h:19</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_ad2f473dc3a871939a4781efc92f0931ba4771c0f8db64857edd1ee64cfde3edca"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#ad2f473dc3a871939a4781efc92f0931ba4771c0f8db64857edd1ee64cfde3edca">llvm::sampleprof::SecFuncMetadataFlags::SecFlagHasAttribute</a></div><div class="ttdeci">@ SecFlagHasAttribute</div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a9ee68c6bcc54e825b442d88349f7d083"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a9ee68c6bcc54e825b442d88349f7d083">llvm::sampleprof::BodySampleMap</a></div><div class="ttdeci">std::map&lt; LineLocation, SampleRecord &gt; BodySampleMap</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00715">SampleProf.h:715</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a2be68a56c1386faa6c75baf21a462df7"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a2be68a56c1386faa6c75baf21a462df7">llvm::sampleprof::SampleProfileReader::M</a></div><div class="ttdeci">const Module * M</div><div class="ttdoc">The current module being compiled if SampleProfileReader is used by compiler.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00561">SampleProfReader.h:561</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_aa229d20f76a2d8473f321b97cb494462abbe7033a4a1f24db956320bb1a7b7ce3"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462abbe7033a4a1f24db956320bb1a7b7ce3">llvm::sampleprof::SecProfSummaryFlags::SecFlagFSDiscriminator</a></div><div class="ttdeci">@ SecFlagFSDiscriminator</div><div class="ttdoc">SecFlagFSDiscriminator means this profile uses flow-sensitive discriminators.</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a31a0b1a6e53cb0a08dbf78fc3cebc224"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a31a0b1a6e53cb0a08dbf78fc3cebc224">llvm::sampleprof::SampleProfileReader::Remapper</a></div><div class="ttdeci">std::unique_ptr&lt; SampleProfileReaderItaniumRemapper &gt; Remapper</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00538">SampleProfReader.h:538</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_aa37fe7429ffcf70c306c27a55d714d31"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aa37fe7429ffcf70c306c27a55d714d31">llvm::sampleprof::FunctionSamples::ProfileIsProbeBased</a></div><div class="ttdeci">static bool ProfileIsProbeBased</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01126">SampleProf.h:1126</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a97d45ce069c1a09ca84672df63acf096"><div class="ttname"><a href="classllvm_1_1StringRef.html#a97d45ce069c1a09ca84672df63acf096">llvm::StringRef::rfind</a></div><div class="ttdeci">size_t rfind(char C, size_t From=npos) const</div><div class="ttdoc">Search for the last character C in the string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00345">StringRef.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_a67e19eb484a5eaa31b22894398e258c0"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a67e19eb484a5eaa31b22894398e258c0">llvm::sampleprof::FunctionSamples::ProfileIsCS</a></div><div class="ttdeci">static bool ProfileIsCS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01128">SampleProf.h:1128</a></div></div>
<div class="ttc" id="aclassllvm_1_1line__iterator_html"><div class="ttname"><a href="classllvm_1_1line__iterator.html">llvm::line_iterator</a></div><div class="ttdoc">A forward iterator which reads text lines from a buffer.</div><div class="ttdef"><b>Definition:</b> <a href="LineIterator_8h_source.html#l00033">LineIterator.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_aa53d5b8b15dd26564754966d3159f822"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#aa53d5b8b15dd26564754966d3159f822">llvm::sampleprof::SampleProfileReaderGCC::readFunctionProfiles</a></div><div class="ttdeci">std::error_code readFunctionProfiles()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01638">SampleProfReader.cpp:1638</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ab9990397f97b40d5d8564e000d00174a"><div class="ttname"><a href="classllvm_1_1StringRef.html#ab9990397f97b40d5d8564e000d00174a">llvm::StringRef::trim</a></div><div class="ttdeci">StringRef trim(char Char) const</div><div class="ttdoc">Return string with consecutive Char characters starting from the left and right removed.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00803">StringRef.h:803</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_af817ec9dd6d3474c66b2212251c6e338"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#af817ec9dd6d3474c66b2212251c6e338">llvm::sampleprof::SampleProfileReaderGCC::readSectionTag</a></div><div class="ttdeci">std::error_code readSectionTag(uint32_t Expected)</div><div class="ttdoc">Read the section tag and check that it's the same as Expected.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01606">SampleProfReader.cpp:1606</a></div></div>
<div class="ttc" id="aProfileSummary_8h_html"><div class="ttname"><a href="ProfileSummary_8h.html">ProfileSummary.h</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="astructllvm_1_1sampleprof_1_1SecHdrTableEntry_html"><div class="ttname"><a href="structllvm_1_1sampleprof_1_1SecHdrTableEntry.html">llvm::sampleprof::SecHdrTableEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00159">SampleProf.h:159</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a58784dd6e513ce25ab067a3d60ae9a05"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a58784dd6e513ce25ab067a3d60ae9a05">llvm::sampleprof::CallsiteSampleMap</a></div><div class="ttdeci">std::map&lt; LineLocation, FunctionSamplesMap &gt; CallsiteSampleMap</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00719">SampleProf.h:719</a></div></div>
<div class="ttc" id="aclassllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdoc">Target - Wrapper for Target specific information.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00149">TargetRegistry.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a272ffb93f3958019735d7a4ef9bf22d2"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a272ffb93f3958019735d7a4ef9bf22d2">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readCSNameTableSec</a></div><div class="ttdeci">std::error_code readCSNameTableSec()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01123">SampleProfReader.cpp:1123</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a7d0799e340cf7553a27f898ef20ad6f7a5121eb700a5270cadcb8ec87c2593288"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a5121eb700a5270cadcb8ec87c2593288">llvm::sampleprof::SecNameTableFlags::SecFlagFixedLengthMD5</a></div><div class="ttdeci">@ SecFlagFixedLengthMD5</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad0f54a163ac500b144590640c6f1eb6b"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">llvm::StringRef::npos</a></div><div class="ttdeci">static constexpr size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00052">StringRef.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a0320040b070e4fc2904794078a64e46c"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a0320040b070e4fc2904794078a64e46c">llvm::sampleprof::SampleProfileReaderBinary::readProfile</a></div><div class="ttdeci">std::error_code readProfile(FunctionSamples &amp;FProfile)</div><div class="ttdoc">Read the contents of the given profile instance.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00580">SampleProfReader.cpp:580</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a4c9aaef504a353ce54ae5468a625d6ce"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a4c9aaef504a353ce54ae5468a625d6ce">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readContextFromTable</a></div><div class="ttdeci">ErrorOr&lt; SampleContextFrames &gt; readContextFromTable()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00698">SampleProfReader.cpp:698</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_ae56e946cf4266646c30b0898033b88bc"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#ae56e946cf4266646c30b0898033b88bc">llvm::MemoryBuffer::getSTDIN</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; getSTDIN()</div><div class="ttdoc">Read all of stdin into a file buffer, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8cpp_source.html#l00535">MemoryBuffer.cpp:535</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_aa229d20f76a2d8473f321b97cb494462ad8375f4e079a5af243f36f91334691e7"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462ad8375f4e079a5af243f36f91334691e7">llvm::sampleprof::SecProfSummaryFlags::SecFlagFullContext</a></div><div class="ttdeci">@ SecFlagFullContext</div><div class="ttdoc">SecFlagContext means this is context-sensitive flat profile for CSSPGO.</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a013a5d888193042ffaaf4cbe45aa9a4a"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a013a5d888193042ffaaf4cbe45aa9a4a">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readStringFromTable</a></div><div class="ttdeci">ErrorOr&lt; StringRef &gt; readStringFromTable() override</div><div class="ttdoc">Read a string indirectly via the name table.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00543">SampleProfReader.cpp:543</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GCOV_html_aa1bb0e8b1c685b30bf6d3247fb3feb08"><div class="ttname"><a href="namespacellvm_1_1GCOV.html#aa1bb0e8b1c685b30bf6d3247fb3feb08">llvm::GCOV::GCOVVersion</a></div><div class="ttdeci">GCOVVersion</div><div class="ttdef"><b>Definition:</b> <a href="GCOV_8h_source.html#l00041">GCOV.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_ade9bafe407ebfb2eed960233a4f5da22"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ade9bafe407ebfb2eed960233a4f5da22">llvm::sampleprof::SampleProfileReaderGCC::hasFormat</a></div><div class="ttdeci">static bool hasFormat(const MemoryBuffer &amp;Buffer)</div><div class="ttdoc">Return true if Buffer is in the format supported by this class.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01794">SampleProfReader.cpp:1794</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a0b71c8ee5a87ae722bdc3feba4377e5c"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a0b71c8ee5a87ae722bdc3feba4377e5c">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readNameTableSec</a></div><div class="ttdeci">std::error_code readNameTableSec(bool IsMD5)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01113">SampleProfReader.cpp:1113</a></div></div>
<div class="ttc" id="aclassllvm_1_1SymbolRemappingParseError_html_a316b8b3fd59636aa35cb7e23ff727e11"><div class="ttname"><a href="classllvm_1_1SymbolRemappingParseError.html#a316b8b3fd59636aa35cb7e23ff727e11">llvm::SymbolRemappingParseError::getMessage</a></div><div class="ttdeci">StringRef getMessage() const</div><div class="ttdef"><b>Definition:</b> <a href="SymbolRemappingReader_8h_source.html#l00084">SymbolRemappingReader.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleContext_html_ade2e9346cc9a993d02dab4742aff2bdf"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleContext.html#ade2e9346cc9a993d02dab4742aff2bdf">llvm::sampleprof::SampleContext::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00621">SampleProf.h:621</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea2af01f2c39c66a1641045dd660e839b5"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea2af01f2c39c66a1641045dd660e839b5">llvm::sampleprof_error::unsupported_version</a></div><div class="ttdeci">@ unsupported_version</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a3efc74fee0efccc34cb5a64de6b1d84a"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a3efc74fee0efccc34cb5a64de6b1d84a">llvm::sampleprof::hasSecFlag</a></div><div class="ttdeci">static bool hasSecFlag(const SecHdrTableEntry &amp;Entry, SecFlagType Flag)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00267">SampleProf.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper_html_a350d411fd6958a014b935b78c165f610"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a350d411fd6958a014b935b78c165f610">llvm::sampleprof::SampleProfileReaderItaniumRemapper::applyRemapping</a></div><div class="ttdeci">void applyRemapping(LLVMContext &amp;Ctx)</div><div class="ttdoc">Apply remappings to the profile read by Reader.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01799">SampleProfReader.cpp:1799</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">llvm::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00036">SIMachineScheduler.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a93b15a8c0022febbe39d17ab933737a8"><div class="ttname"><a href="classllvm_1_1StringRef.html#a93b15a8c0022febbe39d17ab933737a8">llvm::StringRef::find_first_of</a></div><div class="ttdeci">size_t find_first_of(char C, size_t From=0) const</div><div class="ttdoc">Find the first character in the string that is C, or npos if not found.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00376">StringRef.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a9c9cec0dc85381494fb418ae0e88a40fa9a35039dfc5e52a8ee9289957a726bee"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a9c9cec0dc85381494fb418ae0e88a40fa9a35039dfc5e52a8ee9289957a726bee">llvm::sampleprof::ContextShouldBeInlined</a></div><div class="ttdeci">@ ContextShouldBeInlined</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00458">SampleProf.h:458</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_a622597173a279123bf79b590ee419180"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a622597173a279123bf79b590ee419180">llvm::sampleprof::SampleProfileReaderGCC::readNameTable</a></div><div class="ttdeci">std::error_code readNameTable()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01620">SampleProfReader.cpp:1620</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85ae3b5e1c40206f7ac0a1e8b9c1f4fa4d7"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85ae3b5e1c40206f7ac0a1e8b9c1f4fa4d7">llvm::sampleprof::SecFuncOffsetTable</a></div><div class="ttdeci">@ SecFuncOffsetTable</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00126">SampleProf.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper_html_ae86f8a71098cd0a7a0ccd0d2e9f9156f"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#ae86f8a71098cd0a7a0ccd0d2e9f9156f">llvm::sampleprof::SampleProfileReaderItaniumRemapper::lookUpNameInProfile</a></div><div class="ttdeci">std::optional&lt; StringRef &gt; lookUpNameInProfile(StringRef FunctionName)</div><div class="ttdoc">Return the equivalent name in the profile for FunctionName if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01826">SampleProfReader.cpp:1826</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1OStream_html_a7ff67320cc541a438d8fc170124af74f"><div class="ttname"><a href="classllvm_1_1json_1_1OStream.html#a7ff67320cc541a438d8fc170124af74f">llvm::json::OStream::attributeArray</a></div><div class="ttdeci">void attributeArray(llvm::StringRef Key, Block Contents)</div><div class="ttdoc">Emit an attribute whose value is an array with elements from the Block.</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l01015">JSON.h:1015</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a249a6a299581a44359596da9619a4b19a16052b6981a5cb6f18149f985d66ab87"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a249a6a299581a44359596da9619a4b19a16052b6981a5cb6f18149f985d66ab87">llvm::sampleprof::SecCommonFlags::SecFlagCompress</a></div><div class="ttdeci">@ SecFlagCompress</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_ab621e81eb9b58d526addb7aeba9a47e3"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab621e81eb9b58d526addb7aeba9a47e3">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readMD5NameTable</a></div><div class="ttdeci">std::error_code readMD5NameTable()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01083">SampleProfReader.cpp:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_abb27f51bea045d12134c5a19f03f6d7b"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#abb27f51bea045d12134c5a19f03f6d7b">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readSecHdrTableEntry</a></div><div class="ttdeci">std::error_code readSecHdrTableEntry(uint32_t Idx)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01252">SampleProfReader.cpp:1252</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a7d0799e340cf7553a27f898ef20ad6f7a1780ac16db816da7bda99433dbdb73bf"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a1780ac16db816da7bda99433dbdb73bf">llvm::sampleprof::SecNameTableFlags::SecFlagMD5Name</a></div><div class="ttdeci">@ SecFlagMD5Name</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_afbe3e463e073e4c5de229fad330f961b"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#afbe3e463e073e4c5de229fad330f961b">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readSampleContextFromTable</a></div><div class="ttdeci">ErrorOr&lt; SampleContext &gt; readSampleContextFromTable() override</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00708">SampleProfReader.cpp:708</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_abfc0f7bf9921713c80c3c67aca32fd05"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#abfc0f7bf9921713c80c3c67aca32fd05">llvm::sampleprof::SampleProfileReader::collectFuncsFromModule</a></div><div class="ttdeci">virtual bool collectFuncsFromModule()</div><div class="ttdoc">Collect functions with definitions in Module M.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00393">SampleProfReader.h:393</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper_html_a13874fb8714b4e930ee517250aa79806"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderItaniumRemapper.html#a13874fb8714b4e930ee517250aa79806">llvm::sampleprof::SampleProfileReaderItaniumRemapper::create</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; SampleProfileReaderItaniumRemapper &gt; &gt; create(const std::string Filename, vfs::FileSystem &amp;FS, SampleProfileReader &amp;Reader, LLVMContext &amp;C)</div><div class="ttdoc">Create a remapper from the given remapping file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01878">SampleProfReader.cpp:1878</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ac94a19fc8c57bf0350fc4e9f45897828"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">llvm::dwarf::Tag</a></div><div class="ttdeci">Tag</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00103">Dwarf.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aProfileCommon_8h_html"><div class="ttname"><a href="ProfileCommon_8h.html">ProfileCommon.h</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_a528869d42ce7fca106b21792fe00bf0a"><div class="ttname"><a href="SampleProfReader_8cpp.html#a528869d42ce7fca106b21792fe00bf0a">isOffsetLegal</a></div><div class="ttdeci">static bool isOffsetLegal(unsigned L)</div><div class="ttdoc">Returns true if line offset L is legal (only has 16 bits).</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00172">SampleProfReader.cpp:172</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a808d204826972c99cd36562eea139d23"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a808d204826972c99cd36562eea139d23">llvm::sampleprof::SampleProfileReader::Summary</a></div><div class="ttdeci">std::unique_ptr&lt; ProfileSummary &gt; Summary</div><div class="ttdoc">Profile summary information.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00527">SampleProfReader.h:527</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_a98a6af42792c32db070dee8826e1412e"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a98a6af42792c32db070dee8826e1412e">llvm::sampleprof::SampleProfileReaderGCC::readOneFunctionProfile</a></div><div class="ttdeci">std::error_code readOneFunctionProfile(const InlineCallStack &amp;InlineStack, bool Update, uint32_t Offset)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01655">SampleProfReader.cpp:1655</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileSummaryBuilder_html"><div class="ttname"><a href="classllvm_1_1SampleProfileSummaryBuilder.html">llvm::SampleProfileSummaryBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="ProfileCommon_8h_source.html#l00088">ProfileCommon.h:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html">llvm::MemoryBuffer</a></div><div class="ttdoc">This interface provides simple read-only access to a block of memory, and provides simple methods for...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00051">MemoryBuffer.h:51</a></div></div>
<div class="ttc" id="astructllvm_1_1sampleprof_1_1LineLocation_html_ac8129e173d0cdcdd59271bf89f32544c"><div class="ttname"><a href="structllvm_1_1sampleprof_1_1LineLocation.html#ac8129e173d0cdcdd59271bf89f32544c">llvm::sampleprof::LineLocation::Discriminator</a></div><div class="ttdeci">uint32_t Discriminator</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00303">SampleProf.h:303</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_a3692dc50c07c5eda5e01f891cc03047c"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a3692dc50c07c5eda5e01f891cc03047c">llvm::sampleprof::SampleProfileReaderGCC::readNumber</a></div><div class="ttdeci">ErrorOr&lt; T &gt; readNumber()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01562">SampleProfReader.cpp:1562</a></div></div>
<div class="ttc" id="astructllvm_1_1sampleprof_1_1LineLocation_html_ac38b029469edc31486c5ce8adf89e5f3"><div class="ttname"><a href="structllvm_1_1sampleprof_1_1LineLocation.html#ac38b029469edc31486c5ce8adf89e5f3">llvm::sampleprof::LineLocation::LineOffset</a></div><div class="ttdeci">uint32_t LineOffset</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00302">SampleProf.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a511e42f8ce60cfa061e38233fbadd2f8"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a511e42f8ce60cfa061e38233fbadd2f8">llvm::sampleprof::SampleProfileReaderBinary::readStringFromTable</a></div><div class="ttdeci">virtual ErrorOr&lt; StringRef &gt; readStringFromTable()</div><div class="ttdoc">Read a string indirectly via the name table.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00528">SampleProfReader.cpp:528</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_ae070adaf1b4bf0e7c12fcae2b9c5ae67"><div class="ttname"><a href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a></div><div class="ttdeci">It looks like we only need to define PPCfmarto for these because according to these instructions perform RTO on fma s result</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00256">README_P9.txt:256</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fc"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fc">llvm::sampleprof::FSDiscriminatorPass</a></div><div class="ttdeci">FSDiscriminatorPass</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00057">Discriminator.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ad20fb2a274b13a7820568739fbcba383"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ad20fb2a274b13a7820568739fbcba383">llvm::sampleprof::FunctionSamples::HasUniqSuffix</a></div><div class="ttdeci">static bool HasUniqSuffix</div><div class="ttdoc">Whether the profile contains any &quot;.__uniq.&quot; suffix in a name.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01140">SampleProf.h:1140</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3720bbfe79232f7792ab4b969dfbeed0"><div class="ttname"><a href="namespacellvm.html#a3720bbfe79232f7792ab4b969dfbeed0">llvm::decodeULEB128</a></div><div class="ttdeci">uint64_t decodeULEB128(const uint8_t *p, unsigned *n=nullptr, const uint8_t *end=nullptr, const char **error=nullptr)</div><div class="ttdoc">Utility function to decode a ULEB128 value.</div><div class="ttdef"><b>Definition:</b> <a href="LEB128_8h_source.html#l00128">LEB128.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a8c0b29b235366b7d2447ab4dc39398ed"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a8c0b29b235366b7d2447ab4dc39398ed">llvm::sampleprof::SampleProfileReader::getDiscriminatorMask</a></div><div class="ttdeci">uint32_t getDiscriminatorMask() const</div><div class="ttdoc">Get the bitmask the discriminators: For FS profiles, return the bit mask for this pass.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00366">SampleProfReader.h:366</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_ad2f473dc3a871939a4781efc92f0931ba538d11ebcb8192686ae93eb46ec92ebc"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#ad2f473dc3a871939a4781efc92f0931ba538d11ebcb8192686ae93eb46ec92ebc">llvm::sampleprof::SecFuncMetadataFlags::SecFlagIsProbeBased</a></div><div class="ttdeci">@ SecFlagIsProbeBased</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a1722e108dd0544ffd84dbb6c6aa6d1b0"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a1722e108dd0544ffd84dbb6c6aa6d1b0">llvm::sampleprof::SampleProfileReaderBinary::NameTable</a></div><div class="ttdeci">std::vector&lt; StringRef &gt; NameTable</div><div class="ttdoc">Function name table.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00653">SampleProfReader.h:653</a></div></div>
<div class="ttc" id="aclassllvm_1_1SymbolRemappingParseError_html_a217ad16f31a72df240a9dc84ae82c7b8"><div class="ttname"><a href="classllvm_1_1SymbolRemappingParseError.html#a217ad16f31a72df240a9dc84ae82c7b8">llvm::SymbolRemappingParseError::getLineNum</a></div><div class="ttdeci">int64_t getLineNum() const</div><div class="ttdef"><b>Definition:</b> <a href="SymbolRemappingReader_8h_source.html#l00083">SymbolRemappingReader.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a84cd09ccc918883d51a387f0e0f374f3"><div class="ttname"><a href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">llvm::StringRef::startswith</a></div><div class="ttdeci">bool startswith(StringRef Prefix) const</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00261">StringRef.h:261</a></div></div>
<div class="ttc" id="aMD5_8h_html"><div class="ttname"><a href="MD5_8h.html">MD5.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary_html_a0b331ea0dda5cee561558f9eb4bfe4f4"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a0b331ea0dda5cee561558f9eb4bfe4f4">llvm::sampleprof::SampleProfileReaderCompactBinary::readImpl</a></div><div class="ttdeci">std::error_code readImpl() override</div><div class="ttdoc">Read samples only for functions to use.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01015">SampleProfReader.cpp:1015</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_adb2786061d3e569b42b7d661ccc57484"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#adb2786061d3e569b42b7d661ccc57484">llvm::sampleprof::FunctionSamples::getTotalSamples</a></div><div class="ttdeci">uint64_t getTotalSamples() const</div><div class="ttdoc">Return the total number of samples collected inside the function.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00891">SampleProf.h:891</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31"><div class="ttname"><a href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">llvm::DS_Warning</a></div><div class="ttdeci">@ DS_Warning</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00051">DiagnosticInfo.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BTF_html_a3b20e188bd3a15443a74fc637b6aed33a4af5f992bdc47a779c499ffc6fdcaf43"><div class="ttname"><a href="namespacellvm_1_1BTF.html#a3b20e188bd3a15443a74fc637b6aed33a4af5f992bdc47a779c499ffc6fdcaf43">llvm::BTF::HeaderSize</a></div><div class="ttdeci">@ HeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="BTF_8h_source.html#l00060">BTF.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1OStream_html_a06d556674c46c15e5906f2f645f4fbe5"><div class="ttname"><a href="classllvm_1_1json_1_1OStream.html#a06d556674c46c15e5906f2f645f4fbe5">llvm::json::OStream::object</a></div><div class="ttdeci">void object(Block Contents)</div><div class="ttdoc">Emit an object whose elements are emitted in the provided Block.</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00986">JSON.h:986</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary_html_ac52edce1e67044bb74c9839d0b91445e"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary.html#ac52edce1e67044bb74c9839d0b91445e">llvm::sampleprof::SampleProfileReaderRawBinary::hasFormat</a></div><div class="ttdeci">static bool hasFormat(const MemoryBuffer &amp;Buffer)</div><div class="ttdoc">Return true if Buffer is in the format supported by this class.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01534">SampleProfReader.cpp:1534</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_aa172ac1d7f119592a8ef1bdd63ff5ccf"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aa172ac1d7f119592a8ef1bdd63ff5ccf">llvm::sampleprof::SampleProfileReaderBinary::readFuncProfile</a></div><div class="ttdeci">std::error_code readFuncProfile(const uint8_t *Start)</div><div class="ttdoc">Read the next function profile instance.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00663">SampleProfReader.cpp:663</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GCOV_html_aa1bb0e8b1c685b30bf6d3247fb3feb08a28fc20af08dacec19f1191703628427b"><div class="ttname"><a href="namespacellvm_1_1GCOV.html#aa1bb0e8b1c685b30bf6d3247fb3feb08a28fc20af08dacec19f1191703628427b">llvm::GCOV::V407</a></div><div class="ttdeci">@ V407</div><div class="ttdef"><b>Definition:</b> <a href="GCOV_8h_source.html#l00041">GCOV.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_aa229d20f76a2d8473f321b97cb494462ab8c5c1b9457b958b7c66a02adb2dc97a"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462ab8c5c1b9457b958b7c66a02adb2dc97a">llvm::sampleprof::SecProfSummaryFlags::SecFlagPartial</a></div><div class="ttdeci">@ SecFlagPartial</div><div class="ttdoc">SecFlagPartial means the profile is for common/shared code.</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a1881146f2dcc2ca57c9c5f77f938db9d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a1881146f2dcc2ca57c9c5f77f938db9d">llvm::StringRef::getAsInteger</a></div><div class="ttdeci">bool getAsInteger(unsigned Radix, T &amp;Result) const</div><div class="ttdoc">Parse the current string as an integer of the specified radix.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00469">StringRef.h:469</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a25f1fd81f2132805676c82ab8ae0c109"><div class="ttname"><a href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">llvm::StringRef::substr</a></div><div class="ttdeci">constexpr StringRef substr(size_t Start, size_t N=npos) const</div><div class="ttdoc">Return a reference to the substring from [Start, Start + N).</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00559">StringRef.h:559</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html_a8300c72908f1845c931951ed4b2a2375"><div class="ttname"><a href="classllvm_1_1ErrorOr.html#a8300c72908f1845c931951ed4b2a2375">llvm::ErrorOr::getError</a></div><div class="ttdeci">std::error_code getError() const</div><div class="ttdef"><b>Definition:</b> <a href="ErrorOr_8h_source.html#l00153">ErrorOr.h:153</a></div></div>
<div class="ttc" id="aSampleProf_8h_html"><div class="ttname"><a href="SampleProf_8h.html">SampleProf.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a136a5648f006c4f55171f4559f5ce4b0"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a136a5648f006c4f55171f4559f5ce4b0">llvm::sampleprof::SampleProfileReaderBinary::readString</a></div><div class="ttdeci">ErrorOr&lt; StringRef &gt; readString()</div><div class="ttdoc">Read a string from the profile.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00489">SampleProfReader.cpp:489</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a197283c05a4797bf186135efd511ceaf"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a197283c05a4797bf186135efd511ceaf">llvm::sampleprof::SPMagic</a></div><div class="ttdeci">static uint64_t SPMagic(SampleProfileFormat Format=SPF_Binary)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00099">SampleProf.h:99</a></div></div>
<div class="ttc" id="aLineIterator_8h_html"><div class="ttname"><a href="LineIterator_8h.html">LineIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_aa1579cd3c85df19630fb1ca933b2679c"><div class="ttname"><a href="SampleProfReader_8cpp.html#aa1579cd3c85df19630fb1ca933b2679c">getSecFlagsStr</a></div><div class="ttdeci">static std::string getSecFlagsStr(const SecHdrTableEntry &amp;Entry)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01328">SampleProfReader.cpp:1328</a></div></div>
<div class="ttc" id="anamespacellvm_1_1IndexedInstrProf_html_a3890d6a47a6ff8b8c4ecc8a1f9040a04"><div class="ttname"><a href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">llvm::IndexedInstrProf::Version</a></div><div class="ttdeci">const uint64_t Version</div><div class="ttdef"><b>Definition:</b> <a href="InstrProf_8h_source.html#l01058">InstrProf.h:1058</a></div></div>
<div class="ttc" id="aJSON_8h_html"><div class="ttname"><a href="JSON_8h.html">JSON.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderText_html_ac6f6906a46a807e4f041c463b04511fa"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderText.html#ac6f6906a46a807e4f041c463b04511fa">llvm::sampleprof::SampleProfileReaderText::hasFormat</a></div><div class="ttdeci">static bool hasFormat(const MemoryBuffer &amp;Buffer)</div><div class="ttdoc">Return true if Buffer is in the format supported by this class.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00452">SampleProfReader.cpp:452</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummary_html_aa5aa682b3904e88749fa973b3da370c2a0c86eaeebf5b6120b601ecc93a1c2e3a"><div class="ttname"><a href="classllvm_1_1ProfileSummary.html#aa5aa682b3904e88749fa973b3da370c2a0c86eaeebf5b6120b601ecc93a1c2e3a">llvm::ProfileSummary::PSK_Sample</a></div><div class="ttdeci">@ PSK_Sample</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummary_8h_source.html#l00047">ProfileSummary.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleContext_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleContext.html">llvm::sampleprof::SampleContext</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00517">SampleProf.h:517</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_aee16ef63867cb58a1e046d39fb99e49f"><div class="ttname"><a href="SampleProfReader_8cpp.html#aee16ef63867cb58a1e046d39fb99e49f">parseMetadata</a></div><div class="ttdeci">static bool parseMetadata(const StringRef &amp;Input, uint64_t &amp;FunctionHash, uint32_t &amp;Attributes)</div><div class="ttdoc">Parse Input that contains metadata.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00181">SampleProfReader.cpp:181</a></div></div>
<div class="ttc" id="anamespacellvm_1_1compression_1_1zlib_html_a369da242fd5c0d70a31ffcd3374a0909"><div class="ttname"><a href="namespacellvm_1_1compression_1_1zlib.html#a369da242fd5c0d70a31ffcd3374a0909">llvm::compression::zlib::isAvailable</a></div><div class="ttdeci">bool isAvailable()</div><div class="ttdef"><b>Definition:</b> <a href="Compression_8cpp_source.html#l00105">Compression.cpp:105</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a11f675e2f1396d64eefeaf67cdce624e"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a11f675e2f1396d64eefeaf67cdce624e">llvm::sampleprof::sortFuncProfiles</a></div><div class="ttdeci">void sortFuncProfiles(const SampleProfileMap &amp;ProfileMap, std::vector&lt; NameFunctionSamples &gt; &amp;SortedProfiles)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8cpp_source.html#l00201">SampleProf.cpp:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ac78db34e62da1555e9b84b5b5b1d907d"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac78db34e62da1555e9b84b5b5b1d907d">llvm::sampleprof::FunctionSamples::ProfileIsFS</a></div><div class="ttdeci">static bool ProfileIsFS</div><div class="ttdoc">If this profile uses flow sensitive discriminators.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01143">SampleProf.h:1143</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; uint64_t &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a373137ee5de445ffb3a1dbc685cf66eca9425a826cb2a1ee8d7838e759233ee4e"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a373137ee5de445ffb3a1dbc685cf66eca9425a826cb2a1ee8d7838e759233ee4e">llvm::sampleprof::SPF_Compact_Binary</a></div><div class="ttdeci">@ SPF_Compact_Binary</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00093">SampleProf.h:93</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85a8c51d0a5a19b4b2ae76846092b479354"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a8c51d0a5a19b4b2ae76846092b479354">llvm::sampleprof::SecProfSummary</a></div><div class="ttdeci">@ SecProfSummary</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00123">SampleProf.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1OStream_html"><div class="ttname"><a href="classllvm_1_1json_1_1OStream.html">llvm::json::OStream</a></div><div class="ttdoc">json::OStream allows writing well-formed JSON without materializing all structures as json::Value ahe...</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00956">JSON.h:956</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab1772fd431decccb7926d484ea223db7"><div class="ttname"><a href="namespacellvm.html#ab1772fd431decccb7926d484ea223db7">llvm::count</a></div><div class="ttdeci">auto count(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::count to count the number of times an element Element occurs in the give...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01896">STLExtras.h:1896</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_a8dda47f9492c59e96d8b43fa6244af20"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a8dda47f9492c59e96d8b43fa6244af20">llvm::sampleprof::FunctionSamples::addHeadSamples</a></div><div class="ttdeci">sampleprof_error addHeadSamples(uint64_t Num, uint64_t Weight=1)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00750">SampleProf.h:750</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a71d1634305839ada83dff4daee355a95"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a71d1634305839ada83dff4daee355a95">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readSecHdrTable</a></div><div class="ttdeci">std::error_code readSecHdrTable()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01279">SampleProfReader.cpp:1279</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a192f65175b8cab2ec3ce9ff6bfd38ebb"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a192f65175b8cab2ec3ce9ff6bfd38ebb">llvm::sampleprof::SampleProfileReaderExtBinaryBase::getSectionSize</a></div><div class="ttdeci">uint64_t getSectionSize(SecType Type)</div><div class="ttdoc">Get the total size of all Type sections.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01306">SampleProfReader.cpp:1306</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html">llvm::sampleprof::SampleProfileReaderGCC</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00864">SampleProfReader.h:864</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html">llvm::sampleprof::FunctionSamples</a></div><div class="ttdoc">Representation of the samples collected for a function.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00726">SampleProf.h:726</a></div></div>
<div class="ttc" id="aLEB128_8h_html"><div class="ttname"><a href="LEB128_8h.html">LEB128.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a373137ee5de445ffb3a1dbc685cf66eca46bc649d3816ce5a94ef37c9e826c8ff"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a373137ee5de445ffb3a1dbc685cf66eca46bc649d3816ce5a94ef37c9e826c8ff">llvm::sampleprof::SPF_Ext_Binary</a></div><div class="ttdeci">@ SPF_Ext_Binary</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00095">SampleProf.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1OStream_html_a5741cf7e48bbab22369fa2aa8c9e151f"><div class="ttname"><a href="classllvm_1_1json_1_1OStream.html#a5741cf7e48bbab22369fa2aa8c9e151f">llvm::json::OStream::arrayBegin</a></div><div class="ttdeci">void arrayBegin()</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8cpp_source.html#l00842">JSON.cpp:842</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ae6b310bafee8bcdc3589c3df5de188f9"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6b310bafee8bcdc3589c3df5de188f9">llvm::sampleprof::FunctionSamples::functionSamplesAt</a></div><div class="ttdeci">FunctionSamplesMap &amp; functionSamplesAt(const LineLocation &amp;Loc)</div><div class="ttdoc">Return the function samples at the given callsite location.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00865">SampleProf.h:865</a></div></div>
<div class="ttc" id="aErrorOr_8h_html"><div class="ttname"><a href="ErrorOr_8h.html">ErrorOr.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85a0e83cbbb890deaad56570290e86506ed"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a0e83cbbb890deaad56570290e86506ed">llvm::sampleprof::SecLBRProfile</a></div><div class="ttdeci">@ SecLBRProfile</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00131">SampleProf.h:131</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_aef54c80d78e27567b8879ae70e834e2d"><div class="ttname"><a href="SampleProfReader_8cpp.html#aef54c80d78e27567b8879ae70e834e2d">setupMemoryBuffer</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; setupMemoryBuffer(const Twine &amp;Filename, vfs::FileSystem &amp;FS)</div><div class="ttdoc">Prepare a memory buffer for the contents of Filename.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01836">SampleProfReader.cpp:1836</a></div></div>
<div class="ttc" id="aSampleProfReader_8h_html"><div class="ttname"><a href="SampleProfReader_8h.html">SampleProfReader.h</a></div></div>
<div class="ttc" id="aAMDGPULowerKernelAttributes_8cpp_html_a5a7ac0d6f6157bfa62400fdc021157dc"><div class="ttname"><a href="AMDGPULowerKernelAttributes_8cpp.html#a5a7ac0d6f6157bfa62400fdc021157dc">Attributes</a></div><div class="ttdeci">AMDGPU Kernel Attributes</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULowerKernelAttributes_8cpp_source.html#l00347">AMDGPULowerKernelAttributes.cpp:347</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ae6507284ccb03c1c44fe0e7d37650493"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ae6507284ccb03c1c44fe0e7d37650493">llvm::sampleprof::FunctionSamples::setContext</a></div><div class="ttdeci">void setContext(const SampleContext &amp;FContext)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01134">SampleProf.h:1134</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_aca2f0dbbf7497002b732004d2ce3bbe3"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aca2f0dbbf7497002b732004d2ce3bbe3">llvm::sampleprof::FunctionSamples::addCalledTargetSamples</a></div><div class="ttdeci">sampleprof_error addCalledTargetSamples(uint32_t LineOffset, uint32_t Discriminator, StringRef FName, uint64_t Num, uint64_t Weight=1)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00764">SampleProf.h:764</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a80b20ce6a7869719477d903cfe51c422"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a80b20ce6a7869719477d903cfe51c422">llvm::sampleprof::SampleProfileReaderBinary::readSampleContextFromTable</a></div><div class="ttdeci">virtual ErrorOr&lt; SampleContext &gt; readSampleContextFromTable()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00536">SampleProfReader.cpp:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleRecord_html_abe2b5ee88eea4c21f9efe473183744ed"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleRecord.html#abe2b5ee88eea4c21f9efe473183744ed">llvm::sampleprof::SampleRecord::getSortedCallTargets</a></div><div class="ttdeci">const SortedCallTargetSet getSortedCallTargets() const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00394">SampleProf.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleContext_html_aa7894022c49174ef967469c3ddd81857"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleContext.html#aa7894022c49174ef967469c3ddd81857">llvm::sampleprof::SampleContext::setAllAttributes</a></div><div class="ttdeci">void setAllAttributes(uint32_t A)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00599">SampleProf.h:599</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea7596fdd04dba990373ab2f3da0c7dd3f">llvm::sampleprof_error::malformed</a></div><div class="ttdeci">@ malformed</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a09599626d454548b75a8508733b742ce"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a09599626d454548b75a8508733b742ce">llvm::sampleprof::SampleProfileReader::ProfileIsPreInlined</a></div><div class="ttdeci">bool ProfileIsPreInlined</div><div class="ttdoc">Whether function profile contains ShouldBeInlined contexts.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00547">SampleProfReader.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleContext_html_a3027ef3713410577edaf554822731b50"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleContext.html#a3027ef3713410577edaf554822731b50">llvm::sampleprof::SampleContext::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00605">SampleProf.h:605</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a077db87ff742498d2add620c1a7130db"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a077db87ff742498d2add620c1a7130db">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readFuncMetadata</a></div><div class="ttdeci">std::error_code readFuncMetadata(bool ProfileHasAttribute)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01219">SampleProfReader.cpp:1219</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_a8e54d8ccf59b2b783a1254168ce468d7"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a8e54d8ccf59b2b783a1254168ce468d7">llvm::sampleprof::SampleProfileReaderGCC::readString</a></div><div class="ttdeci">ErrorOr&lt; StringRef &gt; readString()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01578">SampleProfReader.cpp:1578</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ae851887270f35d2a2670a79b9833d45b"><div class="ttname"><a href="classllvm_1_1StringRef.html#ae851887270f35d2a2670a79b9833d45b">llvm::StringRef::find_first_not_of</a></div><div class="ttdeci">size_t find_first_not_of(char C, size_t From=0) const</div><div class="ttdoc">Find the first character in the string that is not C or npos if not found.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8cpp_source.html#l00251">StringRef.cpp:251</a></div></div>
<div class="ttc" id="astructllvm_1_1sampleprof_1_1LineLocation_html"><div class="ttname"><a href="structllvm_1_1sampleprof_1_1LineLocation.html">llvm::sampleprof::LineLocation</a></div><div class="ttdoc">Represents the relative location of an instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00283">SampleProf.h:283</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoSampleProfile_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoSampleProfile.html">llvm::DiagnosticInfoSampleProfile</a></div><div class="ttdoc">Diagnostic information for the sample profiler.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00235">DiagnosticInfo.h:235</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary.html">llvm::sampleprof::SampleProfileReaderExtBinary</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00796">SampleProfReader.h:796</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_af1e730478b6c28793c5298b372252601"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#af1e730478b6c28793c5298b372252601">llvm::sampleprof::SampleProfileReaderBinary::readMagicIdent</a></div><div class="ttdeci">std::error_code readMagicIdent()</div><div class="ttdoc">Read the contents of Magic number and Version number.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01397">SampleProfReader.cpp:1397</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a9204d2f85c4a30d8b6a1040ccb873eed"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9204d2f85c4a30d8b6a1040ccb873eed">llvm::sampleprof::SampleProfileReaderBinary::End</a></div><div class="ttdeci">const uint8_t * End</div><div class="ttdoc">Points to the end of the buffer.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00650">SampleProfReader.h:650</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html">llvm::sampleprof::SampleProfileReaderCompactBinary</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00814">SampleProfReader.h:814</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa94c384442d22ccd2be86c77e3b297c6"><div class="ttname"><a href="namespacellvm.html#aa94c384442d22ccd2be86c77e3b297c6">llvm::MergeResult</a></div><div class="ttdeci">sampleprof_error MergeResult(sampleprof_error &amp;Accumulator, sampleprof_error Result)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00068">SampleProf.h:68</a></div></div>
<div class="ttc" id="aRustDemangle_8cpp_html_a12d4f37888b638bcbd9fc0201492c776"><div class="ttname"><a href="RustDemangle_8cpp.html#a12d4f37888b638bcbd9fc0201492c776">isDigit</a></div><div class="ttdeci">static bool isDigit(const char C)</div><div class="ttdef"><b>Definition:</b> <a href="RustDemangle_8cpp_source.html#l00173">RustDemangle.cpp:173</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_afd074c27ba0a2809258258751b754f52aa0e878d937063b60d7579f0a8dd6c413"><div class="ttname"><a href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52aa0e878d937063b60d7579f0a8dd6c413">LineType::CallSiteProfile</a></div><div class="ttdeci">@ CallSiteProfile</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleContext_html_ac3e3d237f91ef41f092580f316412c08"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleContext.html#ac3e3d237f91ef41f092580f316412c08">llvm::sampleprof::SampleContext::IsPrefixOf</a></div><div class="ttdeci">bool IsPrefixOf(const SampleContext &amp;That) const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00683">SampleProf.h:683</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_aa3075229a3db86f1b533efcc85f82d97"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#aa3075229a3db86f1b533efcc85f82d97">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readImpl</a></div><div class="ttdeci">std::error_code readImpl() override</div><div class="ttdoc">Read sample profiles in extensible format from the associated file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00969">SampleProfReader.cpp:969</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1msf_html_afa98ccc224894a8f32ec9ed84776e709"><div class="ttname"><a href="namespacellvm_1_1msf.html#afa98ccc224894a8f32ec9ed84776e709">llvm::msf::Magic</a></div><div class="ttdeci">static const char Magic[]</div><div class="ttdef"><b>Definition:</b> <a href="MSFCommon_8h_source.html#l00023">MSFCommon.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbead5b649348c44c8f1f89cb53fe7604f64"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbead5b649348c44c8f1f89cb53fe7604f64">llvm::sampleprof_error::unrecognized_format</a></div><div class="ttdeci">@ unrecognized_format</div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ab38820a59b382631568b3735469b0890"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ab38820a59b382631568b3735469b0890">llvm::sampleprof::FunctionSamples::addBodySamples</a></div><div class="ttdeci">sampleprof_error addBodySamples(uint32_t LineOffset, uint32_t Discriminator, uint64_t Num, uint64_t Weight=1)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00758">SampleProf.h:758</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_af7db78adf47785867ea84d77ace26cc6"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af7db78adf47785867ea84d77ace26cc6">llvm::sampleprof::SampleProfileReader::reportError</a></div><div class="ttdeci">void reportError(int64_t LineNumber, const Twine &amp;Msg) const</div><div class="ttdoc">Report a parse error message.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00448">SampleProfReader.h:448</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a862a85fc052e3da0f7109bc54ef4998d"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a862a85fc052e3da0f7109bc54ef4998d">llvm::sampleprof::SampleProfileReader::computeSummary</a></div><div class="ttdeci">void computeSummary()</div><div class="ttdoc">Compute summary for this profile.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01968">SampleProfReader.cpp:1968</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a7a7c222449f3208a532168c90bfb654d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7a7c222449f3208a532168c90bfb654d">llvm::StringRef::find_last_of</a></div><div class="ttdeci">size_t find_last_of(char C, size_t From=npos) const</div><div class="ttdoc">Find the last character in the string that is C, or npos if not found.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00399">StringRef.h:399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_abed83dc828c8bfb55967efc3b9313758a3cc23f4782f1fd246c14392b45a2646f"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#abed83dc828c8bfb55967efc3b9313758a3cc23f4782f1fd246c14392b45a2646f">llvm::sampleprof::SecFuncOffsetFlags::SecFlagOrdered</a></div><div class="ttdeci">@ SecFlagOrdered</div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_adb8cd928bc57ee59a1e5dfb79f023c75"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#adb8cd928bc57ee59a1e5dfb79f023c75">llvm::sampleprof::getSecName</a></div><div class="ttdeci">static std::string getSecName(SecType Type)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00134">SampleProf.h:134</a></div></div>
<div class="ttc" id="aVirtualFileSystem_8h_html"><div class="ttname"><a href="VirtualFileSystem_8h.html">VirtualFileSystem.h</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_ad7fab8522e49be1b20c4db4fc431bd3c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">llvm::AMDGPU::SendMsg::Msg</a></div><div class="ttdeci">const CustomOperand&lt; const MCSubtargetInfo &amp; &gt; Msg[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUAsmUtils_8cpp_source.html#l00039">AMDGPUAsmUtils.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderRawBinary.html">llvm::sampleprof::SampleProfileReaderRawBinary</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00664">SampleProfReader.h:664</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_a1fd43a2ed35eec1123b619bf7237c8e0"><div class="ttname"><a href="SampleProfReader_8cpp.html#a1fd43a2ed35eec1123b619bf7237c8e0">ParseHead</a></div><div class="ttdeci">static bool ParseHead(const StringRef &amp;Input, StringRef &amp;FName, uint64_t &amp;NumSamples, uint64_t &amp;NumHeadSamples)</div><div class="ttdoc">Parse Input as function head.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00157">SampleProfReader.cpp:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5db9240c74644c67759dd0f901fc3c7d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">llvm::StringRef::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdoc">size - Get the string size.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00137">StringRef.h:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html_aad03ef5cfbe6e7cad076d9e45ba06592"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#aad03ef5cfbe6e7cad076d9e45ba06592">llvm::LLVMContext::diagnose</a></div><div class="ttdeci">void diagnose(const DiagnosticInfo &amp;DI)</div><div class="ttdoc">Report a message to the currently installed diagnostic handler.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8cpp_source.html#l00248">LLVMContext.cpp:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1vfs_1_1FileSystem_html"><div class="ttname"><a href="classllvm_1_1vfs_1_1FileSystem.html">llvm::vfs::FileSystem</a></div><div class="ttdoc">The virtual file system interface.</div><div class="ttdef"><b>Definition:</b> <a href="VirtualFileSystem_8h_source.html#l00267">VirtualFileSystem.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_ad31357a0bab13543c1d9e22e22f33ec4"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad31357a0bab13543c1d9e22e22f33ec4">llvm::sampleprof::SampleProfileReader::Profiles</a></div><div class="ttdeci">SampleProfileMap Profiles</div><div class="ttdoc">Map every function to its associated profile.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00514">SampleProfReader.h:514</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_ab5bbfe5b0f863708d31b6ce2e126ec0c"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#ab5bbfe5b0f863708d31b6ce2e126ec0c">llvm::sampleprof::SampleProfileReaderGCC::skipNextWord</a></div><div class="ttdeci">std::error_code skipNextWord()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01555">SampleProfReader.cpp:1555</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_aec06640e3197b264c40e6f84e9a7ad6a"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#aec06640e3197b264c40e6f84e9a7ad6a">llvm::sampleprof::SPVersion</a></div><div class="ttdeci">static uint64_t SPVersion()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00116">SampleProf.h:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_aec2ab856ea5858bcc170eaaf185693d6"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#aec2ab856ea5858bcc170eaaf185693d6">llvm::sampleprof::SampleProfileReaderBinary::readSummary</a></div><div class="ttdeci">std::error_code readSummary()</div><div class="ttdoc">Read profile summary.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01496">SampleProfReader.cpp:1496</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_a7e2ac14aece78da6927b8e8e698c5ce1"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a7e2ac14aece78da6927b8e8e698c5ce1">llvm::sampleprof::SampleProfileReaderGCC::readHeader</a></div><div class="ttdeci">std::error_code readHeader() override</div><div class="ttdoc">Read and validate the file header.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01585">SampleProfReader.cpp:1585</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a71ee7e63264e4997a3340a781d44832e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">llvm::GlobalValue::getGUID</a></div><div class="ttdeci">GUID getGUID() const</div><div class="ttdoc">Return a 64-bit global unique ID constructed from global value name (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00591">GlobalValue.h:591</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85ac77da6bc3aa6f736acc11b4fa1c59857"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85ac77da6bc3aa6f736acc11b4fa1c59857">llvm::sampleprof::SecProfileSymbolList</a></div><div class="ttdeci">@ SecProfileSymbolList</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00125">SampleProf.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_a263b944b1e1d1b8906ccfa19a565d2ed"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a263b944b1e1d1b8906ccfa19a565d2ed">llvm::sampleprof::FunctionSamples::addTotalSamples</a></div><div class="ttdeci">sampleprof_error addTotalSamples(uint64_t Num, uint64_t Weight=1)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00733">SampleProf.h:733</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85">llvm::sampleprof::SecType</a></div><div class="ttdeci">SecType</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00121">SampleProf.h:121</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_afd074c27ba0a2809258258751b754f52"><div class="ttname"><a href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52">LineType</a></div><div class="ttdeci">LineType</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00196">SampleProfReader.cpp:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html">llvm::sampleprof::SampleProfileReader</a></div><div class="ttdoc">Sample-based profile reader.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00346">SampleProfReader.h:346</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_ae5212e24c2c507eb51d7ad201800cbfc"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae5212e24c2c507eb51d7ad201800cbfc">llvm::sampleprof::SampleProfileReaderExtBinaryBase::getFileSize</a></div><div class="ttdeci">uint64_t getFileSize()</div><div class="ttdoc">Get the total size of header and all sections.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01315">SampleProfReader.cpp:1315</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleRecord_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleRecord.html">llvm::sampleprof::SampleRecord</a></div><div class="ttdoc">Representation of a single sample record.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00325">SampleProf.h:325</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbe"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbe">llvm::sampleprof_error</a></div><div class="ttdeci">sampleprof_error</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00046">SampleProf.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea118528c0f1f3fe8233e94bd4b70d7455"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea118528c0f1f3fe8233e94bd4b70d7455">llvm::sampleprof_error::zlib_unavailable</a></div><div class="ttdeci">@ zlib_unavailable</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleContext_html_a3f47a41fc180017373f06a00976d7c5c"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleContext.html#a3f47a41fc180017373f06a00976d7c5c">llvm::sampleprof::SampleContext::hasContext</a></div><div class="ttdeci">bool hasContext() const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00603">SampleProf.h:603</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_ae375ab166c92c7d215eea3a3f0277d46"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae375ab166c92c7d215eea3a3f0277d46">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readHeader</a></div><div class="ttdeci">std::error_code readHeader() override</div><div class="ttdoc">Read and validate the file header.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01291">SampleProfReader.cpp:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1line__iterator_html_a617941704a472090ba3304c9daf1c37f"><div class="ttname"><a href="classllvm_1_1line__iterator.html#a617941704a472090ba3304c9daf1c37f">llvm::line_iterator::is_at_eof</a></div><div class="ttdeci">bool is_at_eof() const</div><div class="ttdoc">Return true if we've reached EOF or are an &quot;end&quot; iterator.</div><div class="ttdef"><b>Definition:</b> <a href="LineIterator_8h_source.html#l00060">LineIterator.h:60</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a7fbf1e7e1c95fffa247e7bba9f850584a525ad6441353eaf3d43be721b6d743c1"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a7fbf1e7e1c95fffa247e7bba9f850584a525ad6441353eaf3d43be721b6d743c1">llvm::sampleprof::HIST_TYPE_INDIR_CALL_TOPN</a></div><div class="ttdeci">@ HIST_TYPE_INDIR_CALL_TOPN</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00861">SampleProfReader.h:861</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_aad432df568c6b098cb07dfe80a6ce6ad"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aad432df568c6b098cb07dfe80a6ce6ad">llvm::sampleprof::FunctionSamples::getContext</a></div><div class="ttdeci">SampleContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01132">SampleProf.h:1132</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea260ca9dd8a4577fc00b7bd5810298076">llvm::sampleprof_error::success</a></div><div class="ttdeci">@ success</div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a7d0799e340cf7553a27f898ef20ad6f7a27ba0d92f39f8d4651a98190c098df5d"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a7d0799e340cf7553a27f898ef20ad6f7a27ba0d92f39f8d4651a98190c098df5d">llvm::sampleprof::SecNameTableFlags::SecFlagUniqSuffix</a></div><div class="ttdeci">@ SecFlagUniqSuffix</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a9c60d8b65cd491edeafb796ba396acf8"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a9c60d8b65cd491edeafb796ba396acf8">llvm::sampleprof::SampleProfileReaderBinary::readUnencodedNumber</a></div><div class="ttdeci">ErrorOr&lt; T &gt; readUnencodedNumber()</div><div class="ttdoc">Read a numeric value of type T from the profile.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00503">SampleProfReader.cpp:503</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_ad27f134383b571c14bae9790536a6d31"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#ad27f134383b571c14bae9790536a6d31">llvm::sampleprof::SampleProfileReader::create</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; SampleProfileReader &gt; &gt; create(const std::string Filename, LLVMContext &amp;C, vfs::FileSystem &amp;FS, FSDiscriminatorPass P=FSDiscriminatorPass::Base, const std::string RemapFilename=&quot;&quot;)</div><div class="ttdoc">Create a sample profile reader appropriate to the file format.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01858">SampleProfReader.cpp:1858</a></div></div>
<div class="ttc" id="aclassllvm_1_1line__iterator_html_a51eb9a429555dd682d9b265cff7f869f"><div class="ttname"><a href="classllvm_1_1line__iterator.html#a51eb9a429555dd682d9b265cff7f869f">llvm::line_iterator::line_number</a></div><div class="ttdeci">int64_t line_number() const</div><div class="ttdoc">Return the current line number. May return any number at EOF.</div><div class="ttdef"><b>Definition:</b> <a href="LineIterator_8h_source.html#l00066">LineIterator.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_aa7122a07ea48e47fc71083e68b829003"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#aa7122a07ea48e47fc71083e68b829003">llvm::sampleprof::FunctionSamples::getCanonicalFnName</a></div><div class="ttdeci">static StringRef getCanonicalFnName(const Function &amp;F)</div><div class="ttdoc">Return the canonical name for a function, taking into account suffix elision policy attributes.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01036">SampleProf.h:1036</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a253ea7b225121d422aa3378a18dc2030"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a253ea7b225121d422aa3378a18dc2030">llvm::sampleprof::SampleProfileReaderBinary::readNumber</a></div><div class="ttdeci">ErrorOr&lt; T &gt; readNumber()</div><div class="ttdoc">Read a numeric value of type T from the profile.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00468">SampleProfReader.cpp:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a5ad89ebfc9008ab04dbaf011e1f1e8db"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a5ad89ebfc9008ab04dbaf011e1f1e8db">llvm::sampleprof::SampleProfileReaderBinary::readImpl</a></div><div class="ttdeci">std::error_code readImpl() override</div><div class="ttdoc">Read sample profiles from the associated file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00686">SampleProfReader.cpp:686</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a727bcceedcf0fe170cb330513c25ab2a"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a727bcceedcf0fe170cb330513c25ab2a">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readFuncProfiles</a></div><div class="ttdeci">std::error_code readFuncProfiles()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00831">SampleProfReader.cpp:831</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_afe19488a2996e10c93bccbe3d332ca93"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#afe19488a2996e10c93bccbe3d332ca93">llvm::sampleprof::SampleProfileReader::Ctx</a></div><div class="ttdeci">LLVMContext &amp; Ctx</div><div class="ttdoc">LLVM context used to emit diagnostics.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00517">SampleProfReader.h:517</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_a3f66983ff782c5a6bc67a19058c7ea6b"><div class="ttname"><a href="SampleProfReader_8cpp.html#a3f66983ff782c5a6bc67a19058c7ea6b">dumpFunctionProfileJson</a></div><div class="ttdeci">static void dumpFunctionProfileJson(const FunctionSamples &amp;S, json::OStream &amp;JOS, bool TopLevel=false)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00077">SampleProfReader.cpp:77</a></div></div>
<div class="ttc" id="aRegAllocBasic_8cpp_html_ad5d00e1d77644d95847b9bf8da12b759"><div class="ttname"><a href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">Allocator</a></div><div class="ttdeci">Basic Register Allocator</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocBasic_8cpp_source.html#l00143">RegAllocBasic.cpp:143</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a249a6a299581a44359596da9619a4b19a303d1d200e078b6e1510e624147dfe0e"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a249a6a299581a44359596da9619a4b19a303d1d200e078b6e1510e624147dfe0e">llvm::sampleprof::SecCommonFlags::SecFlagFlat</a></div><div class="ttdeci">@ SecFlagFlat</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary_html_ad3761761c4197d83e19e299943ca0743"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#ad3761761c4197d83e19e299943ca0743">llvm::sampleprof::SampleProfileReaderCompactBinary::collectFuncsFromModule</a></div><div class="ttdeci">bool collectFuncsFromModule() override</div><div class="ttdoc">Collect functions with definitions in Module M.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01469">SampleProfReader.cpp:1469</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85a99873f635fc6dccc55e1bc82ef297827"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a99873f635fc6dccc55e1bc82ef297827">llvm::sampleprof::SecCSNameTable</a></div><div class="ttdeci">@ SecCSNameTable</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00128">SampleProf.h:128</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_afd074c27ba0a2809258258751b754f52ace21470ab49d1d1976bc3dc72438c183"><div class="ttname"><a href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ace21470ab49d1d1976bc3dc72438c183">LineType::Metadata</a></div><div class="ttdeci">@ Metadata</div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1OStream_html_aa4ef0d3ce12400b17d9f9a5cd028a211"><div class="ttname"><a href="classllvm_1_1json_1_1OStream.html#aa4ef0d3ce12400b17d9f9a5cd028a211">llvm::json::OStream::arrayEnd</a></div><div class="ttdeci">void arrayEnd()</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8cpp_source.html#l00850">JSON.cpp:850</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html"><div class="ttname"><a href="classllvm_1_1ErrorOr.html">llvm::ErrorOr</a></div><div class="ttdoc">Represents either an error or a value T.</div><div class="ttdef"><b>Definition:</b> <a href="ErrorOr_8h_source.html#l00056">ErrorOr.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a40cb32e3b7be4f49c1a65a2a89002542"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a40cb32e3b7be4f49c1a65a2a89002542">llvm::sampleprof::SampleProfileReader::useMD5</a></div><div class="ttdeci">virtual bool useMD5()</div><div class="ttdoc">Return whether names in the profile are all MD5 numbers.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00496">SampleProfReader.h:496</a></div></div>
<div class="ttc" id="anamespacellvm_html_a13c1b5a253da5da49ce33d03dc1efc07"><div class="ttname"><a href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">llvm::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="ScopedPrinter_8h_source.html#l00085">ScopedPrinter.h:85</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad34c196412ad9a6a78795035f587fa26"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad34c196412ad9a6a78795035f587fa26">support</a></div><div class="ttdeci">Reimplement select in terms of SEL *We would really like to support but we need to prove that the add doesn t need to overflow between the two bit chunks *Implement pre post increment support(e.g. PR935) *Implement smarter const ant generation for binops with large immediates. A few ARMv6T2 ops should be pattern matched</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00010">README.txt:10</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_aa229d20f76a2d8473f321b97cb494462a6517bd773ca68b78f926ec08f55daac3"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#aa229d20f76a2d8473f321b97cb494462a6517bd773ca68b78f926ec08f55daac3">llvm::sampleprof::SecProfSummaryFlags::SecFlagIsPreInlined</a></div><div class="ttdeci">@ SecFlagIsPreInlined</div><div class="ttdoc">SecFlagIsPreInlined means this profile contains ShouldBeInlined contexts thus this is CS preinliner c...</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5b6faabb08339ea1dd11e9d37a668634"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5b6faabb08339ea1dd11e9d37a668634">llvm::StringRef::back</a></div><div class="ttdeci">char back() const</div><div class="ttdoc">back - Get the last character in the string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00146">StringRef.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_ab0c499972ec35ad7872cbceafa870704"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab0c499972ec35ad7872cbceafa870704">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readOneSection</a></div><div class="ttdeci">virtual std::error_code readOneSection(const uint8_t *Start, uint64_t Size, const SecHdrTableEntry &amp;Entry)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00722">SampleProfReader.cpp:722</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a008cc734a7a06814838c697a958ee982"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a008cc734a7a06814838c697a958ee982">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readFuncOffsetTable</a></div><div class="ttdeci">std::error_code readFuncOffsetTable()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00796">SampleProfReader.cpp:796</a></div></div>
<div class="ttc" id="aclassllvm_1_1SymbolRemappingParseError_html"><div class="ttname"><a href="classllvm_1_1SymbolRemappingParseError.html">llvm::SymbolRemappingParseError</a></div><div class="ttdef"><b>Definition:</b> <a href="SymbolRemappingReader_8h_source.html#l00070">SymbolRemappingReader.h:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a0e37b10404b74d1912e0ab1b675085d9"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a0e37b10404b74d1912e0ab1b675085d9">llvm::sampleprof::SampleProfileReader::dumpFunctionProfile</a></div><div class="ttdeci">void dumpFunctionProfile(SampleContext FContext, raw_ostream &amp;OS=dbgs())</div><div class="ttdoc">Print the profile for FContext on stream OS.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00064">SampleProfReader.cpp:64</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85a04e75d4659b0c502eb2280e6d6fd6378"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85a04e75d4659b0c502eb2280e6d6fd6378">llvm::sampleprof::SecNameTable</a></div><div class="ttdeci">@ SecNameTable</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00124">SampleProf.h:124</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_a90dc51ea6ffd59682b2c433277f30f5d"><div class="ttname"><a href="SampleProfReader_8cpp.html#a90dc51ea6ffd59682b2c433277f30f5d">ParseLine</a></div><div class="ttdeci">static bool ParseLine(const StringRef &amp;Input, LineType &amp;LineTy, uint32_t &amp;Depth, uint64_t &amp;NumSamples, uint32_t &amp;LineOffset, uint32_t &amp;Discriminator, StringRef &amp;CalleeName, DenseMap&lt; StringRef, uint64_t &gt; &amp;TargetCountMap, uint64_t &amp;FunctionHash, uint32_t &amp;Attributes)</div><div class="ttdoc">Parse Input as line sample.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00214">SampleProfReader.cpp:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_ae9691c4736a7e6c9c247e997383771f4"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ae9691c4736a7e6c9c247e997383771f4">llvm::sampleprof::SampleProfileReaderExtBinaryBase::readProfileSymbolList</a></div><div class="ttdeci">std::error_code readProfileSymbolList()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00931">SampleProfReader.cpp:931</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_aab312a8386488873bac2eddfc67c22be"><div class="ttname"><a href="classllvm_1_1StringRef.html#aab312a8386488873bac2eddfc67c22be">llvm::StringRef::find</a></div><div class="ttdeci">size_t find(char C, size_t From=0) const</div><div class="ttdoc">Search for the first character C in the string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00295">StringRef.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary_html_a02ace14a8877effd3d03a8097c84cb54"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderCompactBinary.html#a02ace14a8877effd3d03a8097c84cb54">llvm::sampleprof::SampleProfileReaderCompactBinary::hasFormat</a></div><div class="ttdeci">static bool hasFormat(const MemoryBuffer &amp;Buffer)</div><div class="ttdoc">Return true if Buffer is in the format supported by this class.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01548">SampleProfReader.cpp:1548</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_af9c6f2601a71ffce0953ca9df59a3e85aaa2da63cc16b51f0005debd3ae000a18"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#af9c6f2601a71ffce0953ca9df59a3e85aaa2da63cc16b51f0005debd3ae000a18">llvm::sampleprof::SecFuncMetadata</a></div><div class="ttdeci">@ SecFuncMetadata</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00127">SampleProf.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea98266342cea8a7fb97a2c17d98fd230a"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea98266342cea8a7fb97a2c17d98fd230a">llvm::sampleprof_error::truncated_name_table</a></div><div class="ttdeci">@ truncated_name_table</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a53cef5334d9e6535928ce4d79e7529e3"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a53cef5334d9e6535928ce4d79e7529e3">llvm::sampleprof::SampleProfileReader::ProfileIsCS</a></div><div class="ttdeci">bool ProfileIsCS</div><div class="ttdoc">Whether function profiles are context-sensitive flat profiles.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00544">SampleProfReader.h:544</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_afd074c27ba0a2809258258751b754f52ae9d5d3b62ee70cbc11df84c2f39d9f12"><div class="ttname"><a href="SampleProfReader_8cpp.html#afd074c27ba0a2809258258751b754f52ae9d5d3b62ee70cbc11df84c2f39d9f12">LineType::BodyProfile</a></div><div class="ttdeci">@ BodyProfile</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_ab0f3253a66867b0999fc9d2be549268c"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#ab0f3253a66867b0999fc9d2be549268c">llvm::sampleprof::SampleProfileReaderExtBinaryBase::dumpSectionInfo</a></div><div class="ttdeci">bool dumpSectionInfo(raw_ostream &amp;OS=dbgs()) override</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01378">SampleProfReader.cpp:1378</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1OStream_html_a4754bca88e59468dba45df18b849920a"><div class="ttname"><a href="classllvm_1_1json_1_1OStream.html#a4754bca88e59468dba45df18b849920a">llvm::json::OStream::attribute</a></div><div class="ttdeci">void attribute(llvm::StringRef Key, const Value &amp;Contents)</div><div class="ttdoc">Emit an attribute whose value is self-contained (number, vector&lt;int&gt; etc).</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l01011">JSON.h:1011</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aSampleProfReader_8cpp_html_af18f760584a90ec99b354b9074afee48"><div class="ttname"><a href="SampleProfReader_8cpp.html#af18f760584a90ec99b354b9074afee48">ProfileIsFSDisciminator</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ProfileIsFSDisciminator(&quot;profile-isfs&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Profile uses flow sensitive discriminators&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary_html_ac37600268c671eee29e31904b1532c17"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinary.html#ac37600268c671eee29e31904b1532c17">llvm::sampleprof::SampleProfileReaderExtBinary::hasFormat</a></div><div class="ttdeci">static bool hasFormat(const MemoryBuffer &amp;Buffer)</div><div class="ttdoc">Return true if Buffer is in the format supported by this class.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01541">SampleProfReader.cpp:1541</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_aaf6d3893e88bc0bbd0f0b687de382142"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#aaf6d3893e88bc0bbd0f0b687de382142">llvm::sampleprof::SampleContextFrameVector</a></div><div class="ttdeci">SmallVector&lt; SampleContextFrame, 1 &gt; SampleContextFrameVector</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00498">SampleProf.h:498</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderGCC_html_a4eafbdaec23df0b928d64cf6d16c2831"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderGCC.html#a4eafbdaec23df0b928d64cf6d16c2831">llvm::sampleprof::SampleProfileReaderGCC::readImpl</a></div><div class="ttdeci">std::error_code readImpl() override</div><div class="ttdoc">Read sample profiles from the associated file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01781">SampleProfReader.cpp:1781</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a60804a3023392598f579f231bcc4df01"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a60804a3023392598f579f231bcc4df01">llvm::sampleprof::SampleProfileReaderBinary::readStringIndex</a></div><div class="ttdeci">ErrorOr&lt; uint32_t &gt; readStringIndex(T &amp;Table)</div><div class="ttdoc">Read the string index and check whether it overflows the table.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00518">SampleProfReader.cpp:518</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryBuilder_html_a9b2e51220aabb88a132d3bc8fbdf5a66"><div class="ttname"><a href="classllvm_1_1ProfileSummaryBuilder.html#a9b2e51220aabb88a132d3bc8fbdf5a66">llvm::ProfileSummaryBuilder::DefaultCutoffs</a></div><div class="ttdeci">static const ArrayRef&lt; uint32_t &gt; DefaultCutoffs</div><div class="ttdoc">A vector of useful cutoff values for detailed summary.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileCommon_8h_source.html#l00065">ProfileCommon.h:65</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2aa0f5c36ac6291f5d5f2b4efd9ffe70"><div class="ttname"><a href="namespacellvm.html#a2aa0f5c36ac6291f5d5f2b4efd9ffe70">llvm::handleAllErrors</a></div><div class="ttdeci">void handleAllErrors(Error E, HandlerTs &amp;&amp;... Handlers)</div><div class="ttdoc">Behaves the same as handleErrors, except that by contract all errors must be handled by the given han...</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00966">Error.h:966</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbeaac273a9aa2a7a6e63ef477fa7f6d1980">llvm::sampleprof_error::truncated</a></div><div class="ttdeci">@ truncated</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a09a7b8c381919bc366c86a06bbde0e82"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a09a7b8c381919bc366c86a06bbde0e82">llvm::sampleprof::SampleProfileReaderBinary::Data</a></div><div class="ttdeci">const uint8_t * Data</div><div class="ttdoc">Points to the current location in the buffer.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00647">SampleProfReader.h:647</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a36208a5b2efdedf5b0640c8b47e235b8"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a36208a5b2efdedf5b0640c8b47e235b8">llvm::sampleprof::SampleProfileReaderBinary::readHeader</a></div><div class="ttdeci">std::error_code readHeader() override</div><div class="ttdoc">Read and validate the file header.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l01415">SampleProfReader.cpp:1415</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_a317d9b9a39f8213c84429fbf54a7055f"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#a317d9b9a39f8213c84429fbf54a7055f">llvm::sampleprof::SampleProfileReader::Buffer</a></div><div class="ttdeci">std::unique_ptr&lt; MemoryBuffer &gt; Buffer</div><div class="ttdoc">Memory buffer holding the profile file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00520">SampleProfReader.h:520</a></div></div>
<div class="ttc" id="anamespacellvm_html_a748f2fd08e59530b1373ed304c04ffbea35ca84a2e9411227c0819d26eed0ce2c"><div class="ttname"><a href="namespacellvm.html#a748f2fd08e59530b1373ed304c04ffbea35ca84a2e9411227c0819d26eed0ce2c">llvm::sampleprof_error::bad_magic</a></div><div class="ttdeci">@ bad_magic</div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ac015e530d60203906c93e241682e8359"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ac015e530d60203906c93e241682e8359">llvm::sampleprof::FunctionSamples::setFunctionHash</a></div><div class="ttdeci">void setFunctionHash(uint64_t Hash)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01030">SampleProf.h:1030</a></div></div>
<div class="ttc" id="anamespacellvm_html_abcc6aac115764c36b17d83e4bd4cc36e"><div class="ttname"><a href="namespacellvm.html#abcc6aac115764c36b17d83e4bd4cc36e">llvm::MD5Hash</a></div><div class="ttdeci">uint64_t MD5Hash(StringRef Str)</div><div class="ttdoc">Helper to compute and return lower 64 bits of the given string's MD5 hash.</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8h_source.html#l00109">MD5.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase_html_a0d0cdeb3cf9845558d9577f37fc326b3"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderExtBinaryBase.html#a0d0cdeb3cf9845558d9577f37fc326b3">llvm::sampleprof::SampleProfileReaderExtBinaryBase::collectFuncsFromModule</a></div><div class="ttdeci">bool collectFuncsFromModule() override</div><div class="ttdoc">Collect functions with definitions in Module M.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8cpp_source.html#l00787">SampleProfReader.cpp:787</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReader_html_af3bd0368cb44b2cc97123f03de71efaa"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReader.html#af3bd0368cb44b2cc97123f03de71efaa">llvm::sampleprof::SampleProfileReader::ProfileIsProbeBased</a></div><div class="ttdeci">bool ProfileIsProbeBased</div><div class="ttdoc">Whether samples are collected based on pseudo probes.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00541">SampleProfReader.h:541</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_a08b33b498078ac3694a992f4ab8a5761"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a08b33b498078ac3694a992f4ab8a5761">llvm::sampleprof::FunctionSamples::ProfileIsPreInlined</a></div><div class="ttdeci">static bool ProfileIsPreInlined</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01130">SampleProf.h:1130</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1SampleProfileReaderBinary_html_a51e261d8b8a598c10a09ceea8a951301"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1SampleProfileReaderBinary.html#a51e261d8b8a598c10a09ceea8a951301">llvm::sampleprof::SampleProfileReaderBinary::at_eof</a></div><div class="ttdeci">bool at_eof() const</div><div class="ttdoc">Return true if we've reached the end of file.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfReader_8h_source.html#l00629">SampleProfReader.h:629</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_a11e6c7371ce7b1d7da71ca96fe9c4b9a"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#a11e6c7371ce7b1d7da71ca96fe9c4b9a">llvm::sampleprof::FunctionSamples::setName</a></div><div class="ttdeci">void setName(StringRef FunctionName)</div><div class="ttdoc">Set the name of the function.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l01022">SampleProf.h:1022</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:06:57 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
