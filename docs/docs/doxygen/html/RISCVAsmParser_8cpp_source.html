<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/RISCV/AsmParser/RISCVAsmParser.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_fc62c913e8b7bfce256a9466d87d79c7.html">RISCV</a></li><li class="navelem"><a class="el" href="dir_55e3427c7de2a85179d7ce9c74029903.html">AsmParser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RISCVAsmParser.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="RISCVAsmParser_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- RISCVAsmParser.cpp - Parse RISCV assembly to MCInst instructions --===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVAsmBackend_8h.html">MCTargetDesc/RISCVAsmBackend.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVBaseInfo_8h.html">MCTargetDesc/RISCVBaseInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVInstPrinter_8h.html">MCTargetDesc/RISCVInstPrinter.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVMCExpr_8h.html">MCTargetDesc/RISCVMCExpr.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVMCTargetDesc_8h.html">MCTargetDesc/RISCVMCTargetDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVMatInt_8h.html">MCTargetDesc/RISCVMatInt.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVTargetStreamer_8h.html">MCTargetDesc/RISCVTargetStreamer.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVTargetInfo_8h.html">TargetInfo/RISCVTargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallBitVector_8h.html">llvm/ADT/SmallBitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallString_8h.html">llvm/ADT/SmallString.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAssembler_8h.html">llvm/MC/MCAssembler.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCExpr_8h.html">llvm/MC/MCExpr.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInst_8h.html">llvm/MC/MCInst.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstBuilder_8h.html">llvm/MC/MCInstBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstrInfo_8h.html">llvm/MC/MCInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCObjectFileInfo_8h.html">llvm/MC/MCObjectFileInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmLexer_8h.html">llvm/MC/MCParser/MCAsmLexer.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCParsedAsmOperand_8h.html">llvm/MC/MCParser/MCParsedAsmOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCTargetAsmParser_8h.html">llvm/MC/MCParser/MCTargetAsmParser.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCStreamer_8h.html">llvm/MC/MCStreamer.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSubtargetInfo_8h.html">llvm/MC/MCSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCValue_8h.html">llvm/MC/MCValue.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegistry_8h.html">llvm/MC/TargetRegistry.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVAttributes_8h.html">llvm/Support/RISCVAttributes.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVISAInfo_8h.html">llvm/Support/RISCVISAInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   46</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;riscv-asm-parser&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(RISCVNumInstrsCompressed,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;          <span class="stringliteral">&quot;Number of RISC-V Compressed instructions emitted&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="structllvm_1_1SubtargetFeatureKV.html">SubtargetFeatureKV</a> <a class="code" href="namespacellvm.html#ae51d584e6bd7deb9a5ae3cca19625641">RISCVFeatureKV</a>[RISCV::NumSubtargetFeatures];</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">struct </span>RISCVOperand;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">struct </span>ParserOptionsSet {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordtype">bool</span> IsPicEnabled;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;};</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">class </span>RISCVAsmParser : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MCTargetAsmParser.html">MCTargetAsmParser</a> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;FeatureBitset, 4&gt;</a> FeatureBitStack;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ParserOptionsSet, 4&gt;</a> ParserOptionsStack;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  ParserOptionsSet ParserOptions;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> getLoc()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getParser().getTok().getLoc(); }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">bool</span> isRV64()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getSTI().hasFeature(RISCV::Feature64Bit); }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">bool</span> isRV32E()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getSTI().hasFeature(RISCV::FeatureRV32E); }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="classllvm_1_1RISCVTargetStreamer.html">RISCVTargetStreamer</a> &amp;getTargetStreamer() {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(getParser().getStreamer().getTargetStreamer() &amp;&amp;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;           <span class="stringliteral">&quot;do not have a target streamer&quot;</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classllvm_1_1MCTargetStreamer.html">MCTargetStreamer</a> &amp;TS = *getParser().<a class="code" href="classllvm_1_1MCTargetStreamer.html#a019897005f280c86f9e994d4f75cdcef">getStreamer</a>().<a class="code" href="classllvm_1_1MCStreamer.html#a9e3f4aeecc5a194635c993c9f432b48a">getTargetStreamer</a>();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1RISCVTargetStreamer.html">RISCVTargetStreamer</a> &amp;<span class="keyword">&gt;</span>(TS);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">unsigned</span> validateTargetOperandClass(<a class="code" href="classllvm_1_1MCParsedAsmOperand.html">MCParsedAsmOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                      <span class="keywordtype">unsigned</span> Kind) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">unsigned</span> checkTargetMatchPredicate(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordtype">bool</span> generateImmOutOfRangeError(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1ErrorInfo.html">ErrorInfo</a>,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                  int64_t Lower, int64_t Upper, <a class="code" href="classllvm_1_1Twine.html">Twine</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordtype">bool</span> MatchAndEmitInstruction(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <span class="keywordtype">unsigned</span> &amp;Opcode,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                               <a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                               <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;<a class="code" href="classllvm_1_1ErrorInfo.html">ErrorInfo</a>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                               <span class="keywordtype">bool</span> MatchingInlineAsm) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">bool</span> parseRegister(<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> &amp;RegNo, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> &amp;StartLoc,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                     <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> &amp;EndLoc) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> tryParseRegister(<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> &amp;RegNo, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> &amp;StartLoc,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                        <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> &amp;EndLoc) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">bool</span> ParseInstruction(<a class="code" href="structllvm_1_1ParseInstructionInfo.html">ParseInstructionInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> NameLoc, <a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordtype">bool</span> ParseDirective(<a class="code" href="classllvm_1_1AsmToken.html">AsmToken</a> DirectiveID) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// Helper to actually emit an instruction to the MCStreamer. Also, when</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// possible, compression of the instruction is performed.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">void</span> emitToStreamer(<a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// Helper to emit a combination of LUI, ADDI(W), and SLLI instructions that</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// synthesize the desired immedate value into the destination register.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">void</span> emitLoadImm(<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg, int64_t <a class="code" href="classllvm_1_1Value.html">Value</a>, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Helper to emit a combination of AUIPC and SecondOpcode. Used to implement</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// helpers such as emitLoadLocalAddress and emitLoadAddress.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordtype">void</span> emitAuipcInstPair(<a class="code" href="classllvm_1_1MCOperand.html">MCOperand</a> DestReg, <a class="code" href="classllvm_1_1MCOperand.html">MCOperand</a> TmpReg,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *Symbol, <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VKHi,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                         <span class="keywordtype">unsigned</span> SecondOpcode, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Helper to emit pseudo instruction &quot;lla&quot; used in PC-rel addressing.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">void</span> emitLoadLocalAddress(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// Helper to emit pseudo instruction &quot;la&quot; used in GOT/PC-rel addressing.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordtype">void</span> emitLoadAddress(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Helper to emit pseudo instruction &quot;la.tls.ie&quot; used in initial-exec TLS</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// addressing.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">void</span> emitLoadTLSIEAddress(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// Helper to emit pseudo instruction &quot;la.tls.gd&quot; used in global-dynamic TLS</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// addressing.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">void</span> emitLoadTLSGDAddress(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// Helper to emit pseudo load/store instruction with a symbol.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordtype">void</span> emitLoadStoreSymbol(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                           <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out, <span class="keywordtype">bool</span> HasTmpReg);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Helper to emit pseudo sign/zero extend instruction.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordtype">void</span> emitPseudoExtend(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <span class="keywordtype">bool</span> SignExtend, int64_t <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                        <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// Helper to emit pseudo vmsge{u}.vx instruction.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">void</span> emitVMSGE(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Checks that a PseudoAddTPRel is using x4/tp in its second input operand.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Enforcing this using a restricted register class for the second input</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// operand of PseudoAddTPRel results in a poor diagnostic due to the fact</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// &#39;add&#39; is an overloaded mnemonic.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">bool</span> checkPseudoAddTPRel(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// Check instruction constraints.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">bool</span> validateInstruction(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  /// Helper for processing MC instructions that have been successfully matched</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// by MatchAndEmitInstruction. Modifications to the emitted instructions,</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// like the expansion of pseudo instructions (e.g., &quot;li&quot;), can be performed</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">  /// in this method.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> processInstruction(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;Inst, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IDLoc, <a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                          <a class="code" href="classllvm_1_1MCStreamer.html">MCStreamer</a> &amp;Out);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">// Auto-generated instruction matching functions</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a5d893b5c4dfecbb36ed7e313c1d96278">  157</a></span>&#160;<span class="preprocessor">#define GET_ASSEMBLER_HEADER</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#include &quot;RISCVGenAsmMatcher.inc&quot;</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseCSRSystemRegister(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> <a class="code" href="WebAssemblyDisassembler_8cpp.html#ae6a0d5accd0cfdbb19d3201773677035">parseImmediate</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseRegister(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                     <span class="keywordtype">bool</span> AllowParens = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseMemOpBaseReg(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseZeroOffsetMemOp(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseOperandWithModifier(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseBareSymbol(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseCallSymbol(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parsePseudoJumpSymbol(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseJALOffset(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseVTypeI(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseMaskReg(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseInsnDirectiveOpcode(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseGPRAsFPR(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseFRMArg(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">OperandMatchResultTy</a> parseFenceArg(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">bool</span> parseOperand(<a class="code" href="classllvm_1_1SmallVectorImpl.html">OperandVector</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Mnemonic);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordtype">bool</span> parseDirectiveOption();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">bool</span> parseDirectiveAttribute();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordtype">bool</span> parseDirectiveInsn(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> L);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordtype">bool</span> parseDirectiveVariantCC();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">void</span> setFeatureBits(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Feature, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FeatureString) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (!(getSTI().getFeatureBits()[Feature])) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;STI = copySTI();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      setAvailableFeatures(</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          ComputeAvailableFeatures(STI.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#acaa1de0987d9c003e41c92f310c45746">ToggleFeature</a>(FeatureString)));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordtype">bool</span> getFeatureBits(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Feature) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> getSTI().getFeatureBits()[Feature];</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordtype">void</span> clearFeatureBits(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Feature, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FeatureString) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (getSTI().getFeatureBits()[Feature]) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;STI = copySTI();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      setAvailableFeatures(</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          ComputeAvailableFeatures(STI.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#acaa1de0987d9c003e41c92f310c45746">ToggleFeature</a>(FeatureString)));</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">void</span> pushFeatureBits() {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FeatureBitStack.size() == ParserOptionsStack.size() &amp;&amp;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;           <span class="stringliteral">&quot;These two stacks must be kept synchronized&quot;</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    FeatureBitStack.push_back(getSTI().getFeatureBits());</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    ParserOptionsStack.push_back(ParserOptions);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordtype">bool</span> popFeatureBits() {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FeatureBitStack.size() == ParserOptionsStack.size() &amp;&amp;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;           <span class="stringliteral">&quot;These two stacks must be kept synchronized&quot;</span>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (FeatureBitStack.empty())</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classllvm_1_1FeatureBitset.html">FeatureBitset</a> FeatureBits = FeatureBitStack.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    copySTI().setFeatureBits(FeatureBits);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    setAvailableFeatures(ComputeAvailableFeatures(FeatureBits));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    ParserOptions = ParserOptionsStack.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  std::unique_ptr&lt;RISCVOperand&gt; defaultMaskRegOp() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  std::unique_ptr&lt;RISCVOperand&gt; defaultFRMArgOp() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keyword">enum</span> RISCVMatchResultTy {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    Match_Dummy = FIRST_TARGET_MATCH_RESULT_TY,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    Match_RequiresEvenGPRs,</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a970a8fe8c8691552e797253ea6f5329c">  234</a></span>&#160;<span class="preprocessor">#define GET_OPERAND_DIAGNOSTIC_TYPES</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#include &quot;RISCVGenAsmMatcher.inc&quot;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#undef GET_OPERAND_DIAGNOSTIC_TYPES</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  };</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> classifySymbolRef(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *Expr,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> &amp;Kind);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  RISCVAsmParser(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;STI, <a class="code" href="classllvm_1_1MCAsmParser.html">MCAsmParser</a> &amp;Parser,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrInfo.html">MCInstrInfo</a> &amp;MII, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCTargetOptions.html">MCTargetOptions</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      : <a class="code" href="classllvm_1_1MCTargetAsmParser.html">MCTargetAsmParser</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>, STI, MII) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    Parser.<a class="code" href="classllvm_1_1MCAsmParser.html#abd600bd726e3f0dc6745757b8ff99322">addAliasForDirective</a>(<span class="stringliteral">&quot;.half&quot;</span>, <span class="stringliteral">&quot;.2byte&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    Parser.<a class="code" href="classllvm_1_1MCAsmParser.html#abd600bd726e3f0dc6745757b8ff99322">addAliasForDirective</a>(<span class="stringliteral">&quot;.hword&quot;</span>, <span class="stringliteral">&quot;.2byte&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    Parser.<a class="code" href="classllvm_1_1MCAsmParser.html#abd600bd726e3f0dc6745757b8ff99322">addAliasForDirective</a>(<span class="stringliteral">&quot;.word&quot;</span>, <span class="stringliteral">&quot;.4byte&quot;</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    Parser.<a class="code" href="classllvm_1_1MCAsmParser.html#abd600bd726e3f0dc6745757b8ff99322">addAliasForDirective</a>(<span class="stringliteral">&quot;.dword&quot;</span>, <span class="stringliteral">&quot;.8byte&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    setAvailableFeatures(ComputeAvailableFeatures(STI.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0846b627834611da8db9f9e9660c2938">getFeatureBits</a>()));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">auto</span> ABIName = <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a>.ABIName);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (ABIName.endswith(<span class="stringliteral">&quot;f&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        !getSTI().getFeatureBits()[RISCV::FeatureStdExtF]) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Hard-float &#39;f&#39; ABI can&#39;t be used for a target that &quot;</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="stringliteral">&quot;doesn&#39;t support the F instruction set extension (ignoring &quot;</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="stringliteral">&quot;target-abi)\n&quot;</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ABIName.endswith(<span class="stringliteral">&quot;d&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;               !getSTI().getFeatureBits()[RISCV::FeatureStdExtD]) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Hard-float &#39;d&#39; ABI can&#39;t be used for a target that &quot;</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="stringliteral">&quot;doesn&#39;t support the D instruction set extension (ignoring &quot;</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="stringliteral">&quot;target-abi)\n&quot;</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Use computeTargetABI to check if ABIName is valid. If invalid, output</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// error message.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVABI.html#aaf73f32a2ee0338a1bffa1bc2139c181">RISCVABI::computeTargetABI</a>(STI.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#ade49ed181f638745d20791212153660d">getTargetTriple</a>(), STI.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a0846b627834611da8db9f9e9660c2938">getFeatureBits</a>(),</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                               ABIName);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCObjectFileInfo.html">MCObjectFileInfo</a> *MOFI = Parser.<a class="code" href="classllvm_1_1MCAsmParser.html#a62578eeb472bc0ff0f22bb437a22df6c">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#a3a4f79e9c6f9e277f0299783010a67dc">getObjectFileInfo</a>();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    ParserOptions.IsPicEnabled = MOFI-&gt;<a class="code" href="classllvm_1_1MCObjectFileInfo.html#a97edf1bb7914cfc9e329b9d2d103e2fe">isPositionIndependent</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;};</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">/// RISCVOperand - Instances of this class represent a parsed machine</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/// instruction</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span><span class="keyword">struct </span>RISCVOperand final : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MCParsedAsmOperand.html">MCParsedAsmOperand</a> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keyword">enum class</span> KindTy {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    Token,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a>,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    Immediate,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    SystemRegister,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    VType,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    FRM,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    Fence,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  } <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keyword">struct </span>RegOp {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> RegNum;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">bool</span> IsGPRAsFPR;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  };</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">struct </span>ImmOp {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *Val;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">bool</span> IsRV64;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  };</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keyword">struct </span>SysRegOp {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">unsigned</span> Encoding;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// FIXME: Add the Encoding parsed fields as needed for checks,</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// e.g.: read/write or user/supervisor/machine privileges.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  };</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">struct </span>VTypeOp {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordtype">unsigned</span> Val;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  };</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">struct </span>FRMOp {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76">RISCVFPRndMode::RoundingMode</a> FRM;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  };</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keyword">struct </span>FenceOp {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">unsigned</span> Val;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  };</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> StartLoc, EndLoc;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">union </span>{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Tok;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    RegOp <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    ImmOp <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keyword">struct </span>SysRegOp SysReg;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">struct </span>VTypeOp VType;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">struct </span>FRMOp FRM;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keyword">struct </span>FenceOp Fence;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  };</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  RISCVOperand(KindTy K) : <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>(K) {}</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  RISCVOperand(<span class="keyword">const</span> RISCVOperand &amp;o) : <a class="code" href="classllvm_1_1MCParsedAsmOperand.html">MCParsedAsmOperand</a>() {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> = o.Kind;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    StartLoc = o.StartLoc;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    EndLoc = o.EndLoc;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">KindTy::Register</a>:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = o.Reg;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">case</span> KindTy::Immediate:</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = o.Imm;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">case</span> KindTy::Token:</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      Tok = o.Tok;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">case</span> KindTy::SystemRegister:</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      SysReg = o.SysReg;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">case</span> KindTy::VType:</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      VType = o.VType;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">case</span> KindTy::FRM:</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      FRM = o.FRM;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">case</span> KindTy::Fence:</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      Fence = o.Fence;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">bool</span> isToken()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Token; }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="MipsInstPrinter_8cpp.html#a85e8dc708ae90b1129b892cb8ae1500f">isReg</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">KindTy::Register</a>; }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordtype">bool</span> isV0Reg()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">KindTy::Register</a> &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.RegNum == RISCV::V0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Immediate; }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a1eb2e33eb1a7368945a838c85438b040">isMem</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordtype">bool</span> isSystemRegister()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::SystemRegister; }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordtype">bool</span> isGPR()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">KindTy::Register</a> &amp;&amp;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;           RISCVMCRegisterClasses[RISCV::GPRRegClassID].contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.RegNum);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordtype">bool</span> isGPRAsFPR()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isGPR() &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.IsGPRAsFPR; }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordtype">bool</span> isGPRF64AsFPR()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isGPR() &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.IsGPRAsFPR; }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordtype">bool</span> isGPRPF64AsFPR()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isGPR() &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.IsGPRAsFPR; }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> evaluateConstantImm(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *Expr, int64_t &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                  <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> &amp;VK) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *RE = dyn_cast&lt;RISCVMCExpr&gt;(Expr)) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      VK = RE-&gt;getKind();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> RE-&gt;evaluateAsConstant(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> CE = dyn_cast&lt;MCConstantExpr&gt;(Expr)) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1WinEH.html#a1c8d8103d6b914c2ade85873cb97f6d9a7a86131338bf955e0a56311f264aa6aa">CE</a>-&gt;getValue();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// True if operand is a symbol with no modifiers, or a constant with no</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// modifiers and isShiftedInt&lt;N-1, 1&gt;(Op).</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> N&gt; <span class="keywordtype">bool</span> isBareSimmNLsb0()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordtype">bool</span> IsValid;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (!IsConstantImm)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      IsValid = RISCVAsmParser::classifySymbolRef(getImm(), VK);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      IsValid = <a class="code" href="namespacellvm.html#abcb678e42ef8094f2b744592ec378feb">isShiftedInt</a>&lt;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> - 1, 1&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> IsValid &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// Predicate methods for AsmOperands defined in RISCVInstrInfo.td</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordtype">bool</span> isBareSymbol()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// Must be of &#39;immediate&#39; type but not a constant.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>() || evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK))</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> RISCVAsmParser::classifySymbolRef(getImm(), VK) &amp;&amp;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordtype">bool</span> isCallSymbol()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// Must be of &#39;immediate&#39; type but not a constant.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>() || evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK))</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">return</span> RISCVAsmParser::classifySymbolRef(getImm(), VK) &amp;&amp;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;           (VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6aa4478c3f29a4ad6e0fe8e721c821c476">RISCVMCExpr::VK_RISCV_CALL</a> ||</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a7f0a2ade0160be4082351dd594bfab25">RISCVMCExpr::VK_RISCV_CALL_PLT</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordtype">bool</span> isPseudoJumpSymbol()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// Must be of &#39;immediate&#39; type but not a constant.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>() || evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK))</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> RISCVAsmParser::classifySymbolRef(getImm(), VK) &amp;&amp;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6aa4478c3f29a4ad6e0fe8e721c821c476">RISCVMCExpr::VK_RISCV_CALL</a>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordtype">bool</span> isTPRelAddSymbol()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// Must be of &#39;immediate&#39; type but not a constant.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>() || evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK))</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span> RISCVAsmParser::classifySymbolRef(getImm(), VK) &amp;&amp;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a9396ec898399370b727b35de80497248">RISCVMCExpr::VK_RISCV_TPREL_ADD</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordtype">bool</span> isCSRSystemRegister()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isSystemRegister(); }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordtype">bool</span> isVTypeImm(<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; <a class="code" href="namespacellvm.html#a1a995470163b6d76695cba5bc8dfb529">isUIntN</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// If the last operand of the vsetvli/vsetvli instruction is a constant</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// expression, KindTy is Immediate.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordtype">bool</span> isVTypeI10()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Immediate)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">return</span> isVTypeImm(10);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::VType;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordtype">bool</span> isVTypeI11()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Immediate)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">return</span> isVTypeImm(11);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::VType;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">  /// Return true if the operand is a valid for the fence instruction e.g.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">  /// (&#39;iorw&#39;).</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isFenceArg()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Fence; }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">  /// Return true if the operand is a valid floating point rounding mode.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isFRMArg()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::FRM; }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordtype">bool</span> isImmXLenLI()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a3c930f90b860b3ff02df7bd420c1f89e">RISCVMCExpr::VK_RISCV_LO</a> || VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a4b697ccb4bf41db17dc4422189098f55">RISCVMCExpr::VK_RISCV_PCREL_LO</a>)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// Given only Imm, ensuring that the actually specified constant is either</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// a signed or unsigned 64-bit number is unfortunately impossible.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a> &amp;&amp;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;           (isRV64Imm() || (isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) || isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)));</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordtype">bool</span> isUImmLog2XLen()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (!evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK) ||</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        VK != <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> (isRV64Imm() &amp;&amp; isUInt&lt;6&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) || isUInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordtype">bool</span> isUImmLog2XLenNonZero()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (!evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK) ||</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        VK != <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 0)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> (isRV64Imm() &amp;&amp; isUInt&lt;6&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) || isUInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordtype">bool</span> isUImmLog2XLenHalf()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (!evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK) ||</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        VK != <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> (isRV64Imm() &amp;&amp; isUInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) || isUInt&lt;4&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> N&gt; <span class="keywordtype">bool</span> IsUImm()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isUInt&lt;N&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">bool</span> isUImm2() { <span class="keywordflow">return</span> IsUImm&lt;2&gt;(); }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordtype">bool</span> isUImm3() { <span class="keywordflow">return</span> IsUImm&lt;3&gt;(); }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">bool</span> isUImm5() { <span class="keywordflow">return</span> IsUImm&lt;5&gt;(); }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordtype">bool</span> isUImm7() { <span class="keywordflow">return</span> IsUImm&lt;7&gt;(); }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordtype">bool</span> isRnumArg()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;= INT64_C(0) &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt;= INT64_C(10) &amp;&amp;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordtype">bool</span> isSImm5()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordtype">bool</span> isSImm6()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isInt&lt;6&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordtype">bool</span> isSImm6NonZero()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isInt&lt;6&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0) &amp;&amp;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordtype">bool</span> isCLUIImm()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0) &amp;&amp;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;           (isUInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) || (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;= 0xfffe0 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &lt;= 0xfffff)) &amp;&amp;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordtype">bool</span> isUImm2Lsb0()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedUInt&lt;1, 1&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordtype">bool</span> isUImm7Lsb00()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedUInt&lt;5, 2&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordtype">bool</span> isUImm8Lsb00()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedUInt&lt;6, 2&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordtype">bool</span> isUImm8Lsb000()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedUInt&lt;5, 3&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordtype">bool</span> isSImm9Lsb0()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isBareSimmNLsb0&lt;9&gt;(); }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordtype">bool</span> isUImm9Lsb000()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedUInt&lt;6, 3&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordtype">bool</span> isUImm10Lsb00NonZero()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedUInt&lt;8, 2&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0) &amp;&amp;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">bool</span> isSImm12()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordtype">bool</span> IsValid;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">if</span> (!IsConstantImm)</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      IsValid = RISCVAsmParser::classifySymbolRef(getImm(), VK);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      IsValid = isInt&lt;12&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">return</span> IsValid &amp;&amp; ((IsConstantImm &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>) ||</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                       VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a3c930f90b860b3ff02df7bd420c1f89e">RISCVMCExpr::VK_RISCV_LO</a> ||</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                       VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a4b697ccb4bf41db17dc4422189098f55">RISCVMCExpr::VK_RISCV_PCREL_LO</a> ||</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                       VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a1cfe2bb904199433c2ef567b6227db8c">RISCVMCExpr::VK_RISCV_TPREL_LO</a>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordtype">bool</span> isSImm12Lsb0()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isBareSimmNLsb0&lt;12&gt;(); }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordtype">bool</span> isSImm12Lsb00000()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isShiftedInt&lt;7, 5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordtype">bool</span> isSImm13Lsb0()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isBareSimmNLsb0&lt;13&gt;(); }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordtype">bool</span> isSImm10Lsb0000NonZero()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0) &amp;&amp; isShiftedInt&lt;6, 4&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="keywordtype">bool</span> isUImm20LUI()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordtype">bool</span> IsValid;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (!IsConstantImm) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      IsValid = RISCVAsmParser::classifySymbolRef(getImm(), VK);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">return</span> IsValid &amp;&amp; (VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6ab5c3ca301e449ab85f42444601bba378">RISCVMCExpr::VK_RISCV_HI</a> ||</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                         VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a28a380cf34cda5c68bbe50aa22378bb1">RISCVMCExpr::VK_RISCV_TPREL_HI</a>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">return</span> isUInt&lt;20&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; (VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a> ||</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                 VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6ab5c3ca301e449ab85f42444601bba378">RISCVMCExpr::VK_RISCV_HI</a> ||</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                                 VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a28a380cf34cda5c68bbe50aa22378bb1">RISCVMCExpr::VK_RISCV_TPREL_HI</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordtype">bool</span> isUImm20AUIPC()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordtype">bool</span> IsValid;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (!IsConstantImm) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      IsValid = RISCVAsmParser::classifySymbolRef(getImm(), VK);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">return</span> IsValid &amp;&amp; (VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a380387ebfe7e093c92941ec73b8a2557">RISCVMCExpr::VK_RISCV_PCREL_HI</a> ||</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                         VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6af53e7457e88370f76455f7cf9c525a8f">RISCVMCExpr::VK_RISCV_GOT_HI</a> ||</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                         VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a17c514839d8a0aca51f132e5dae74967">RISCVMCExpr::VK_RISCV_TLS_GOT_HI</a> ||</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                         VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a739b9795700df7ae19816f89508f1b49">RISCVMCExpr::VK_RISCV_TLS_GD_HI</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">return</span> isUInt&lt;20&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; (VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a> ||</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                 VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a380387ebfe7e093c92941ec73b8a2557">RISCVMCExpr::VK_RISCV_PCREL_HI</a> ||</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                 VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6af53e7457e88370f76455f7cf9c525a8f">RISCVMCExpr::VK_RISCV_GOT_HI</a> ||</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                 VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a17c514839d8a0aca51f132e5dae74967">RISCVMCExpr::VK_RISCV_TLS_GOT_HI</a> ||</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                 VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a739b9795700df7ae19816f89508f1b49">RISCVMCExpr::VK_RISCV_TLS_GD_HI</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordtype">bool</span> isSImm21Lsb0JAL()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isBareSimmNLsb0&lt;21&gt;(); }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordtype">bool</span> isImmZero()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 0) &amp;&amp; VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordtype">bool</span> isSImm5Plus1()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>())</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">RISCVMCExpr::VariantKind</a> VK = <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordtype">bool</span> IsConstantImm = evaluateConstantImm(getImm(), <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, VK);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> IsConstantImm &amp;&amp; isInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> - 1) &amp;&amp;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;           VK == <a class="code" href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">RISCVMCExpr::VK_RISCV_None</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">  /// getStartLoc - Gets location of the first token of this operand</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> getStartLoc()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> StartLoc; }<span class="comment"></span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">  /// getEndLoc - Gets location of the last token of this operand</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> getEndLoc()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> EndLoc; }<span class="comment"></span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">  /// True if this operand is for an RV64 instruction</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isRV64Imm()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Immediate &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.IsRV64;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>()<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">KindTy::Register</a> &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.RegNum.id();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> getSysReg()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::SystemRegister &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(SysReg.Data, SysReg.Length);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *getImm()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Immediate &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.Val;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> getToken()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Token &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">return</span> Tok;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordtype">unsigned</span> getVType()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::VType &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">return</span> VType.Val;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76">RISCVFPRndMode::RoundingMode</a> getFRM()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::FRM &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> FRM.FRM;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordtype">unsigned</span> getFence()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == KindTy::Fence &amp;&amp; <span class="stringliteral">&quot;Invalid type access!&quot;</span>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> Fence.Val;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keyword">auto</span> <a class="code" href="LVLGen_8cpp.html#a0a198e38a5def54ba58bebc655eda8e7">RegName</a> = [](<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1RISCVInstPrinter.html#a150fc71b3d1a82817f7626c912b01abe">RISCVInstPrinter::getRegisterName</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;noreg&quot;</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    };</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">case</span> KindTy::Immediate:</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; *getImm();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">KindTy::Register</a>:</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;register &quot;</span> &lt;&lt; <a class="code" href="LVLGen_8cpp.html#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>(<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>()) &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">case</span> KindTy::Token:</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; getToken() &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">case</span> KindTy::SystemRegister:</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;sysreg: &quot;</span> &lt;&lt; getSysReg() &lt;&lt; <span class="charliteral">&#39;&gt;&#39;</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">case</span> KindTy::VType:</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;vtype: &quot;</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVVType.html#acab957b7266a5cb7bb0a69c3d1277397">RISCVVType::printVType</a>(getVType(), <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      OS &lt;&lt; &#39;&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="stringliteral">    case KindTy::FRM:</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="stringliteral">      OS &lt;&lt; &quot;&lt;frm: &quot;;</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="stringliteral">      roundingModeToString(getFRM());</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="stringliteral">      OS &lt;&lt; &#39;</span>&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="stringliteral">    case KindTy::Fence:</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="stringliteral">      OS &lt;&lt; &quot;&lt;fence: &quot;;</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="stringliteral">      OS &lt;&lt; getFence();</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="stringliteral">      OS &lt;&lt; &#39;</span>&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt; createToken(StringRef Str, SMLoc S) {</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::Token);</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="stringliteral">    Op-&gt;Tok = Str;</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = S;</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt;</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="stringliteral">  createReg(unsigned RegNo, SMLoc S, SMLoc E, bool IsGPRAsFPR = false) {</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::Register);</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="stringliteral">    Op-&gt;Reg.RegNum = RegNo;</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="stringliteral">    Op-&gt;Reg.IsGPRAsFPR = IsGPRAsFPR;</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = E;</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt; createImm(const MCExpr *Val, SMLoc S,</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="stringliteral">                                                 SMLoc E, bool IsRV64) {</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::Immediate);</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="stringliteral">    Op-&gt;Imm.Val = Val;</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="stringliteral">    Op-&gt;Imm.IsRV64 = IsRV64;</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = E;</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt; createSysReg(StringRef Str, SMLoc S,</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="stringliteral">                                                    unsigned Encoding) {</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::SystemRegister);</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="stringliteral">    Op-&gt;SysReg.Data = Str.data();</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="stringliteral">    Op-&gt;SysReg.Length = Str.size();</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="stringliteral">    Op-&gt;SysReg.Encoding = Encoding;</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = S;</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt;</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="stringliteral">  createFRMArg(RISCVFPRndMode::RoundingMode FRM, SMLoc S) {</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::FRM);</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="stringliteral">    Op-&gt;FRM.FRM = FRM;</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = S;</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt; createFenceArg(unsigned Val, SMLoc S) {</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::Fence);</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="stringliteral">    Op-&gt;Fence.Val = Val;</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = S;</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="stringliteral">  static std::unique_ptr&lt;RISCVOperand&gt; createVType(unsigned VTypeI, SMLoc S) {</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="stringliteral">    auto Op = std::make_unique&lt;RISCVOperand&gt;(KindTy::VType);</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="stringliteral">    Op-&gt;VType.Val = VTypeI;</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="stringliteral">    Op-&gt;StartLoc = S;</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="stringliteral">    Op-&gt;EndLoc = S;</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="stringliteral">    return Op;</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="stringliteral">  static void addExpr(MCInst &amp;Inst, const MCExpr *Expr) {</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="stringliteral">    assert(Expr &amp;&amp; &quot;Expr shouldn&#39;</span><a class="code" href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a> <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <span class="keyword">null</span>!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="stringliteral">    int64_t Imm = 0;</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="stringliteral">    RISCVMCExpr::VariantKind VK = RISCVMCExpr::VK_RISCV_None;</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="stringliteral">    bool IsConstant = evaluateConstantImm(Expr, Imm, VK);</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="stringliteral">    if (IsConstant)</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="stringliteral">      Inst.addOperand(MCOperand::createImm(Imm));</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="stringliteral">    else</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="stringliteral">      Inst.addOperand(MCOperand::createExpr(Expr));</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="stringliteral">  // Used by the TableGen Code</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="stringliteral">  void addRegOperands(MCInst &amp;Inst, unsigned N) const {</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="stringliteral">    assert(N == 1 &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> operands!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="stringliteral">    Inst.addOperand(MCOperand::createReg(getReg()));</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="stringliteral">  void addImmOperands(MCInst &amp;Inst, unsigned N) const {</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="stringliteral">    assert(N == 1 &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> operands!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="stringliteral">    addExpr(Inst, getImm());</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="stringliteral">  void addFenceArgOperands(MCInst &amp;Inst, unsigned N) const {</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="stringliteral">    assert(N == 1 &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> operands!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="stringliteral">    Inst.addOperand(MCOperand::createImm(Fence.Val));</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="stringliteral">  void addCSRSystemRegisterOperands(MCInst &amp;Inst, unsigned N) const {</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="stringliteral">    assert(N == 1 &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> operands!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="stringliteral">    Inst.addOperand(MCOperand::createImm(SysReg.Encoding));</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="stringliteral">  // Support non-canonical syntax:</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="stringliteral">  // &quot;</span>vsetivli rd, uimm, 0xabc<span class="stringliteral">&quot; or &quot;</span>vsetvli rd, rs1, 0xabc<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="stringliteral">  // &quot;</span>vsetivli rd, uimm, (0xc &lt;&lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="stringliteral">&quot; or &quot;</span>vsetvli rd, rs1, (0xc &lt;&lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="stringliteral">  void addVTypeIOperands(MCInst &amp;Inst, unsigned N) const {</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="stringliteral">    assert(N == 1 &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> operands!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="stringliteral">    int64_t Imm = 0;</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="stringliteral">    if (Kind == KindTy::Immediate) {</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="stringliteral">      RISCVMCExpr::VariantKind VK = RISCVMCExpr::VK_RISCV_None;</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="stringliteral">      bool IsConstantImm = evaluateConstantImm(getImm(), Imm, VK);</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="stringliteral">      (void)IsConstantImm;</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="stringliteral">      assert(IsConstantImm &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> VTypeI Operand!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="stringliteral">    } else {</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="stringliteral">      Imm = getVType();</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="stringliteral">    Inst.addOperand(MCOperand::createImm(Imm));</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="stringliteral">  void addFRMArgOperands(MCInst &amp;Inst, unsigned N) const {</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="stringliteral">    assert(N == 1 &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> operands!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="stringliteral">    Inst.addOperand(MCOperand::createImm(getFRM()));</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="stringliteral">};</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="stringliteral">} // end anonymous namespace.</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00968"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a97de2baad077d3029a9cb8f211cf67c1">  968</a></span>&#160;<span class="stringliteral">#define GET_REGISTER_MATCHER</span></div>
<div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#abbc30f3405ed1391dc720236bbaf83e6">  969</a></span>&#160;<span class="stringliteral">#define GET_SUBTARGET_FEATURE_NAME</span></div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a0a1f42da52344bd4e34e744266abff0d">  970</a></span>&#160;<span class="stringliteral">#define GET_MATCHER_IMPLEMENTATION</span></div>
<div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a5d7409cd71d8243937b1f5b4962f6456">  971</a></span>&#160;<span class="stringliteral">#define GET_MNEMONIC_SPELL_CHECKER</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="stringliteral">#include &quot;</span>RISCVGenAsmMatcher.inc<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#ab02d828a4a8fe967389707fb682678a8">  974</a></span>&#160;<span class="stringliteral">static MCRegister convertFPR64ToFPR16(MCRegister Reg) {</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="stringliteral">  assert(Reg &gt;= RISCV::F0_D &amp;&amp; Reg &lt;= RISCV::F31_D &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> <span class="keyword">register</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="stringliteral">  return Reg - RISCV::F0_D + RISCV::F0_H;</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a9944b95e95f191f78ad0fac8ea521c59">  979</a></span>&#160;<span class="stringliteral">static MCRegister convertFPR64ToFPR32(MCRegister Reg) {</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="stringliteral">  assert(Reg &gt;= RISCV::F0_D &amp;&amp; Reg &lt;= RISCV::F31_D &amp;&amp; &quot;</span><a class="code" href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a> <span class="keyword">register</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="stringliteral">  return Reg - RISCV::F0_D + RISCV::F0_F;</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#ae595490c22a7dee4fe405d5c91182591">  984</a></span>&#160;<span class="stringliteral">static MCRegister convertVRToVRMx(const MCRegisterInfo &amp;RI, MCRegister Reg,</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="stringliteral">                                  unsigned Kind) {</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="stringliteral">  unsigned RegClassID;</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="stringliteral">  if (Kind == MCK_VRM2)</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="stringliteral">    RegClassID = RISCV::VRM2RegClassID;</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="stringliteral">  else if (Kind == MCK_VRM4)</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="stringliteral">    RegClassID = RISCV::VRM4RegClassID;</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="stringliteral">  else if (Kind == MCK_VRM8)</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="stringliteral">    RegClassID = RISCV::VRM8RegClassID;</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="stringliteral">  else</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="stringliteral">    return 0;</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="stringliteral">  return RI.getMatchingSuperReg(Reg, RISCV::sub_vrm1_0,</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="stringliteral">                                &amp;RISCVMCRegisterClasses[RegClassID]);</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="stringliteral">unsigned RISCVAsmParser::validateTargetOperandClass(MCParsedAsmOperand &amp;AsmOp,</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="stringliteral">                                                    unsigned Kind) {</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="stringliteral">  RISCVOperand &amp;Op = static_cast&lt;RISCVOperand &amp;&gt;(AsmOp);</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="stringliteral">  if (!Op.isReg())</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="stringliteral">    return Match_InvalidOperand;</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="stringliteral">  MCRegister Reg = Op.getReg();</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="stringliteral">  bool IsRegFPR64 =</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="stringliteral">      RISCVMCRegisterClasses[RISCV::FPR64RegClassID].contains(Reg);</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="stringliteral">  bool IsRegFPR64C =</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="stringliteral">      RISCVMCRegisterClasses[RISCV::FPR64CRegClassID].contains(Reg);</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="stringliteral">  bool IsRegVR = RISCVMCRegisterClasses[RISCV::VRRegClassID].contains(Reg);</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="stringliteral">  // As the parser couldn&#39;t differentiate an FPR32 from an FPR64, coerce the</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="stringliteral">  // register from FPR64 to FPR32 or FPR64C to FPR32C if necessary.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="stringliteral">  if ((IsRegFPR64 &amp;&amp; Kind == MCK_FPR32) ||</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="stringliteral">      (IsRegFPR64C &amp;&amp; Kind == MCK_FPR32C)) {</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="stringliteral">    Op.Reg.RegNum = convertFPR64ToFPR32(Reg);</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="stringliteral">    return Match_Success;</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="stringliteral">  // As the parser couldn&#39;t differentiate an FPR16 from an FPR64, coerce the</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="stringliteral">  // register from FPR64 to FPR16 if necessary.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="stringliteral">  if (IsRegFPR64 &amp;&amp; Kind == MCK_FPR16) {</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="stringliteral">    Op.Reg.RegNum = convertFPR64ToFPR16(Reg);</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="stringliteral">    return Match_Success;</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="stringliteral">  // As the parser couldn&#39;t differentiate an VRM2/VRM4/VRM8 from an VR, coerce</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="stringliteral">  // the register from VR to VRM2/VRM4/VRM8 if necessary.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="stringliteral">  if (IsRegVR &amp;&amp; (Kind == MCK_VRM2 || Kind == MCK_VRM4 || Kind == MCK_VRM8)) {</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="stringliteral">    Op.Reg.RegNum = convertVRToVRMx(*getContext().getRegisterInfo(), Reg, Kind);</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="stringliteral">    if (Op.Reg.RegNum == 0)</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="stringliteral">      return Match_InvalidOperand;</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="stringliteral">    return Match_Success;</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="stringliteral">  return Match_InvalidOperand;</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="stringliteral">unsigned RISCVAsmParser::checkTargetMatchPredicate(MCInst &amp;Inst) {</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="stringliteral">  const MCInstrDesc &amp;MCID = MII.get(Inst.getOpcode());</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="stringliteral">  for (unsigned I = 0; I &lt; MCID.NumOperands; ++I) {</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="stringliteral">    if (MCID.operands()[I].RegClass == RISCV::GPRPF64RegClassID) {</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="stringliteral">      const auto &amp;Op = Inst.getOperand(I);</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="stringliteral">      assert(Op.isReg());</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="stringliteral">      MCRegister Reg = Op.getReg();</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="stringliteral">      if (((Reg.id() - RISCV::X0) &amp; 1) != 0)</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="stringliteral">        return Match_RequiresEvenGPRs;</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="stringliteral">  return Match_Success;</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="stringliteral">bool RISCVAsmParser::generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="stringliteral">    OperandVector &amp;Operands, uint64_t ErrorInfo, int64_t Lower, int64_t Upper,</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="stringliteral">  SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="stringliteral">  return Error(ErrorLoc, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(Lower) + &quot;</span>, <span class="stringliteral">&quot; + Twine(Upper) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="stringliteral">bool RISCVAsmParser::MatchAndEmitInstruction(SMLoc IDLoc, unsigned &amp;Opcode,</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="stringliteral">                                             OperandVector &amp;Operands,</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="stringliteral">                                             MCStreamer &amp;Out,</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="stringliteral">                                             uint64_t &amp;ErrorInfo,</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="stringliteral">                                             bool MatchingInlineAsm) {</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="stringliteral">  MCInst Inst;</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="stringliteral">  FeatureBitset MissingFeatures;</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="stringliteral">  auto Result = MatchInstructionImpl(Operands, Inst, ErrorInfo, MissingFeatures,</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="stringliteral">                                     MatchingInlineAsm);</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="stringliteral">  switch (Result) {</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="stringliteral">  case Match_Success:</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="stringliteral">    if (validateInstruction(Inst, Operands))</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="stringliteral">    return processInstruction(Inst, IDLoc, Operands, Out);</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="stringliteral">  case Match_MissingFeature: {</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="stringliteral">    assert(MissingFeatures.any() &amp;&amp; &quot;</span><a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4a88183b946cc5f0e8c96b2e66e1c74a7e">Unknown</a> missing features!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="stringliteral">    bool FirstFeature = true;</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="stringliteral">    std::string Msg = &quot;</span><a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a> requires the <a class="code" href="lib_2Target_2README_8txt.html#a9026bda84f719fb903ddea83fc478a76">following</a>:<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="stringliteral">    for (unsigned i = 0, e = MissingFeatures.size(); i != e; ++i) {</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="stringliteral">      if (MissingFeatures[i]) {</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="stringliteral">        Msg += FirstFeature ? &quot;</span> <span class="stringliteral">&quot; : &quot;</span>, <span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="stringliteral">        Msg += getSubtargetFeatureName(i);</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="stringliteral">        FirstFeature = false;</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="stringliteral">      }</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="stringliteral">    return Error(IDLoc, Msg);</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="stringliteral">  case Match_MnemonicFail: {</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="stringliteral">    FeatureBitset FBS = ComputeAvailableFeatures(getSTI().getFeatureBits());</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="stringliteral">    std::string Suggestion = RISCVMnemonicSpellCheck(</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="stringliteral">        ((RISCVOperand &amp;)*Operands[0]).getToken(), FBS, 0);</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="stringliteral">    return Error(IDLoc, &quot;</span>unrecognized <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a> mnemonic<span class="stringliteral">&quot; + Suggestion);</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="stringliteral">  case Match_InvalidOperand: {</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = IDLoc;</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="stringliteral">    if (ErrorInfo != ~0ULL) {</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="stringliteral">      if (ErrorInfo &gt;= Operands.size())</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="stringliteral">        return Error(ErrorLoc, &quot;</span><a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a8e96f00729aa3d4404fa4eff73925f9d">too</a> few operands <span class="keywordflow">for</span> <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="stringliteral">      ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="stringliteral">      if (ErrorLoc == SMLoc())</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="stringliteral">        ErrorLoc = IDLoc;</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>invalid operand <span class="keywordflow">for</span> <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="stringliteral">  // Handle the case when the error message is of specific type</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="stringliteral">  // other than the generic Match_InvalidOperand, and the</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="stringliteral">  // corresponding operand is missing.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="stringliteral">  if (Result &gt; FIRST_TARGET_MATCH_RESULT_TY) {</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = IDLoc;</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="stringliteral">    if (ErrorInfo != ~0ULL &amp;&amp; ErrorInfo &gt;= Operands.size())</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="stringliteral">      return Error(ErrorLoc, &quot;</span><a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a8e96f00729aa3d4404fa4eff73925f9d">too</a> few operands <span class="keywordflow">for</span> <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="stringliteral">  switch (Result) {</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="stringliteral">  case Match_RequiresEvenGPRs:</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="stringliteral">    return Error(IDLoc,</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="stringliteral">                 &quot;</span><span class="keywordtype">double</span> precision floating point operands must <a class="code" href="Localizer_8cpp.html#a428090a453f41a199ef67fc3f2179fbc">use</a> even <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="stringliteral">                 &quot;</span>numbered <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> <span class="keyword">register</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="stringliteral">  case Match_InvalidImmXLenLI:</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="stringliteral">    if (isRV64()) {</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="stringliteral">      SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="stringliteral">      return Error(ErrorLoc, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a2ff42d8940320394fe7c9ebefd235621">constant</a> 64-<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a> integer<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo,</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="stringliteral">                                      std::numeric_limits&lt;int32_t&gt;::min(),</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="stringliteral">                                      std::numeric_limits&lt;uint32_t&gt;::max());</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="stringliteral">  case Match_InvalidImmZero: {</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac86babb598befe37e9063b005ccda6a0">zero</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="stringliteral">  case Match_InvalidUImmLog2XLen:</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="stringliteral">    if (isRV64())</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="stringliteral">      return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 6) - 1);</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 5) - 1);</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="stringliteral">  case Match_InvalidUImmLog2XLenNonZero:</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="stringliteral">    if (isRV64())</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="stringliteral">      return generateImmOutOfRangeError(Operands, ErrorInfo, 1, (1 &lt;&lt; 6) - 1);</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 1, (1 &lt;&lt; 5) - 1);</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="stringliteral">  case Match_InvalidUImmLog2XLenHalf:</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="stringliteral">    if (isRV64())</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="stringliteral">      return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 5) - 1);</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 4) - 1);</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="stringliteral">  case Match_InvalidUImm2:</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 2) - 1);</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="stringliteral">  case Match_InvalidUImm2Lsb0:</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, 2,</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="stringliteral">                                      &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ade8c6980e1babe1b309a9bcec7eefd2c">one</a> <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="stringliteral">  case Match_InvalidUImm3:</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 3) - 1);</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="stringliteral">  case Match_InvalidUImm5:</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 5) - 1);</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="stringliteral">  case Match_InvalidUImm7:</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 7) - 1);</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="stringliteral">  case Match_InvalidSImm5:</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, -(1 &lt;&lt; 4),</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="stringliteral">                                      (1 &lt;&lt; 4) - 1);</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="stringliteral">  case Match_InvalidSImm6:</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, -(1 &lt;&lt; 5),</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="stringliteral">                                      (1 &lt;&lt; 5) - 1);</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="stringliteral">  case Match_InvalidSImm6NonZero:</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 5), (1 &lt;&lt; 5) - 1,</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> non-<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac86babb598befe37e9063b005ccda6a0">zero</a> <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="stringliteral">  case Match_InvalidCLUIImm:</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 1, (1 &lt;&lt; 5) - 1,</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> [0xfffe0, 0xfffff] <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="stringliteral">  case Match_InvalidUImm7Lsb00:</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 0, (1 &lt;&lt; 7) - 4,</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 4 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="stringliteral">  case Match_InvalidUImm8Lsb00:</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 0, (1 &lt;&lt; 8) - 4,</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 4 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="stringliteral">  case Match_InvalidUImm8Lsb000:</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 0, (1 &lt;&lt; 8) - 8,</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 8 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="stringliteral">  case Match_InvalidSImm9Lsb0:</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 8), (1 &lt;&lt; 8) - 2,</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 2 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="stringliteral">  case Match_InvalidUImm9Lsb000:</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 0, (1 &lt;&lt; 9) - 8,</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 8 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="stringliteral">  case Match_InvalidUImm10Lsb00NonZero:</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 4, (1 &lt;&lt; 10) - 4,</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 4 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="stringliteral">  case Match_InvalidSImm10Lsb0000NonZero:</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 9), (1 &lt;&lt; 9) - 16,</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 16 bytes <a class="code" href="lib_2Target_2X86_2README_8txt.html#a0aa3d83b100058ffd7399364d6b76b5d">and</a> non-<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac86babb598befe37e9063b005ccda6a0">zero</a> <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="stringliteral">  case Match_InvalidSImm12:</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 11), (1 &lt;&lt; 11) - 1,</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="stringliteral">        &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> symbol with %<a class="code" href="namespaceshuffles.html#a9d83fc18d0aabf83c6fc9c7cc2138bd5">lo</a>/%pcrel_lo/%tprel_lo modifier <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="stringliteral">        &quot;</span>integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="stringliteral">  case Match_InvalidSImm12Lsb0:</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 11), (1 &lt;&lt; 11) - 2,</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 2 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="stringliteral">  case Match_InvalidSImm12Lsb00000:</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 11), (1 &lt;&lt; 11) - 32,</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 32 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="stringliteral">  case Match_InvalidSImm13Lsb0:</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 12), (1 &lt;&lt; 12) - 2,</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 2 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="stringliteral">  case Match_InvalidUImm20LUI:</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 20) - 1,</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="stringliteral">                                      &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> symbol with <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="stringliteral">                                      &quot;</span>%<a class="code" href="namespaceshuffles.html#a7cade9676084608ac3d3e68dcecbf95a">hi</a>/%tprel_hi modifier <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="stringliteral">                                      &quot;</span>the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="stringliteral">  case Match_InvalidUImm20AUIPC:</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, 0, (1 &lt;&lt; 20) - 1,</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="stringliteral">        &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> symbol with <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="stringliteral">        &quot;</span>%pcrel_hi/%got_pcrel_hi/%tls_ie_pcrel_hi/%tls_gd_pcrel_hi modifier <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="stringliteral">        &quot;</span>an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="stringliteral">  case Match_InvalidSImm21Lsb0JAL:</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="stringliteral">        Operands, ErrorInfo, -(1 &lt;&lt; 20), (1 &lt;&lt; 20) - 2,</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="stringliteral">        &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> multiple <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> 2 bytes <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="stringliteral">  case Match_InvalidCSRSystemRegister: {</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, (1 &lt;&lt; 12) - 1,</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="stringliteral">                                      &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid system <span class="keyword">register</span> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="stringliteral">                                      &quot;</span><a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="stringliteral">  case Match_InvalidBareSymbol: {</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> bare symbol <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="stringliteral">  case Match_InvalidPseudoJumpSymbol: {</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a2f18db7a825d21ca8818134d56e0cee1">jump</a> target<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="stringliteral">  case Match_InvalidCallSymbol: {</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> bare symbol <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="stringliteral">  case Match_InvalidTPRelAddSymbol: {</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> symbol with %tprel_add modifier<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="stringliteral">  case Match_InvalidVTypeI: {</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="stringliteral">    return Error(</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="stringliteral">        ErrorLoc,</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="stringliteral">        &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="stringliteral">        &quot;</span><a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>[8|16|32|64|128|256|512|1024],m[1|2|4|8|<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ade29c20cb8af8f2ab2edba746ff3f5e4">f2</a>|f4|f8],[ta|tu],[ma|mu]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="stringliteral">  case Match_InvalidVMaskRegister: {</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[ErrorInfo]).getStartLoc();</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> v0.t<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="stringliteral">  case Match_InvalidSImm5Plus1: {</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, -(1 &lt;&lt; 4) + 1,</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="stringliteral">                                      (1 &lt;&lt; 4),</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="stringliteral">                                      &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="stringliteral">  case Match_InvalidRnumArg: {</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="stringliteral">    return generateImmOutOfRangeError(Operands, ErrorInfo, 0, 10);</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="stringliteral">  llvm_unreachable(&quot;</span><a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4a88183b946cc5f0e8c96b2e66e1c74a7e">Unknown</a> <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a> <a class="code" href="README-X86-64_8txt.html#aac3add0badd5c39bebc02df0b5d9bdcf">type</a> detected!<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="stringliteral">// Attempts to match Name as a register (either using the default name or</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="stringliteral">// alternative ABI names), setting RegNo to the matching register. Upon</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="stringliteral">// failure, returns true and sets RegNo to 0. If IsRV32E then registers</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="stringliteral">// x16-x31 will be rejected.</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#ab7b168855d8ce1ef882e205fd205d655"> 1284</a></span>&#160;<span class="stringliteral">static bool matchRegisterNameHelper(bool IsRV32E, MCRegister &amp;RegNo,</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="stringliteral">                                    StringRef Name) {</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="stringliteral">  RegNo = MatchRegisterName(Name);</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="stringliteral">  // The 16-/32- and 64-bit FPRs have the same asm name. Check that the initial</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="stringliteral">  // match always matches the 64-bit variant, and not the 16/32-bit one.</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="stringliteral">  assert(!(RegNo &gt;= RISCV::F0_H &amp;&amp; RegNo &lt;= RISCV::F31_H));</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="stringliteral">  assert(!(RegNo &gt;= RISCV::F0_F &amp;&amp; RegNo &lt;= RISCV::F31_F));</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="stringliteral">  // The default FPR register class is based on the tablegen enum ordering.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="stringliteral">  static_assert(RISCV::F0_D &lt; RISCV::F0_H, &quot;</span><a class="code" href="PPCISelLowering_8cpp.html#a587c39adeaa08f2c374d7bc55731513a">FPR</a> matching must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> updated<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="stringliteral">  static_assert(RISCV::F0_D &lt; RISCV::F0_F, &quot;</span><a class="code" href="PPCISelLowering_8cpp.html#a587c39adeaa08f2c374d7bc55731513a">FPR</a> matching must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> updated<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="stringliteral">  if (RegNo == RISCV::NoRegister)</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="stringliteral">    RegNo = MatchRegisterAltName(Name);</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="stringliteral">  if (IsRV32E &amp;&amp; RegNo &gt;= RISCV::X16 &amp;&amp; RegNo &lt;= RISCV::X31)</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="stringliteral">    RegNo = RISCV::NoRegister;</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="stringliteral">  return RegNo == RISCV::NoRegister;</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="stringliteral">bool RISCVAsmParser::parseRegister(MCRegister &amp;RegNo, SMLoc &amp;StartLoc,</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="stringliteral">                                   SMLoc &amp;EndLoc) {</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="stringliteral">  if (tryParseRegister(RegNo, StartLoc, EndLoc) != MatchOperand_Success)</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="stringliteral">    return Error(StartLoc, &quot;</span>invalid <span class="keyword">register</span> <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::tryParseRegister(MCRegister &amp;RegNo,</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="stringliteral">                                                      SMLoc &amp;StartLoc,</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="stringliteral">                                                      SMLoc &amp;EndLoc) {</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="stringliteral">  const AsmToken &amp;Tok = getParser().getTok();</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="stringliteral">  StartLoc = Tok.getLoc();</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="stringliteral">  EndLoc = Tok.getEndLoc();</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="stringliteral">  RegNo = 0;</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="stringliteral">  StringRef Name = getLexer().getTok().getIdentifier();</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="stringliteral">  if (matchRegisterNameHelper(isRV32E(), (MCRegister &amp;)RegNo, Name))</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat identifier token.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseRegister(OperandVector &amp;Operands,</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="stringliteral">                                                   bool AllowParens) {</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="stringliteral">  SMLoc FirstS = getLoc();</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="stringliteral">  bool HadParens = false;</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="stringliteral">  AsmToken LParen;</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="stringliteral">  // If this is an LParen and a parenthesised register name is allowed, parse it</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="stringliteral">  // atomically.</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="stringliteral">  if (AllowParens &amp;&amp; getLexer().is(AsmToken::LParen)) {</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="stringliteral">    AsmToken Buf[2];</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="stringliteral">    size_t ReadCount = getLexer().peekTokens(Buf);</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="stringliteral">    if (ReadCount == 2 &amp;&amp; Buf[1].getKind() == AsmToken::RParen) {</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="stringliteral">      HadParens = true;</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="stringliteral">      LParen = getParser().getTok();</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="stringliteral">      getParser().Lex(); // Eat &#39;(&#39;</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="stringliteral">  switch (getLexer().getKind()) {</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="stringliteral">    if (HadParens)</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="stringliteral">      getLexer().UnLex(LParen);</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="stringliteral">  case AsmToken::Identifier:</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="stringliteral">    StringRef Name = getLexer().getTok().getIdentifier();</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="stringliteral">    MCRegister RegNo;</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="stringliteral">    matchRegisterNameHelper(isRV32E(), RegNo, Name);</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;<span class="stringliteral">    if (RegNo == RISCV::NoRegister) {</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="stringliteral">      if (HadParens)</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="stringliteral">        getLexer().UnLex(LParen);</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="stringliteral">      return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="stringliteral">    if (HadParens)</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="stringliteral">      Operands.push_back(RISCVOperand::createToken(&quot;</span>(<span class="stringliteral">&quot;, FirstS));</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="stringliteral">    SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="stringliteral">    SMLoc E = SMLoc::getFromPointer(S.getPointer() + Name.size());</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="stringliteral">    getLexer().Lex();</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="stringliteral">    Operands.push_back(RISCVOperand::createReg(RegNo, S, E));</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="stringliteral">  if (HadParens) {</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="stringliteral">    getParser().Lex(); // Eat &#39;)&#39;</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="stringliteral">    Operands.push_back(RISCVOperand::createToken(&quot;</span>)<span class="stringliteral">&quot;, getLoc()));</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="stringliteral">OperandMatchResultTy</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="stringliteral">RISCVAsmParser::parseInsnDirectiveOpcode(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="stringliteral">  SMLoc E;</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="stringliteral">  const MCExpr *Res;</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="stringliteral">  switch (getLexer().getKind()) {</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="stringliteral">  case AsmToken::LParen:</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="stringliteral">  case AsmToken::Minus:</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="stringliteral">  case AsmToken::Plus:</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="stringliteral">  case AsmToken::Exclaim:</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="stringliteral">  case AsmToken::Tilde:</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="stringliteral">  case AsmToken::Integer:</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="stringliteral">  case AsmToken::String: {</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="stringliteral">    if (getParser().parseExpression(Res, E))</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="stringliteral">      return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="stringliteral">    auto *CE = dyn_cast&lt;MCConstantExpr&gt;(Res);</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="stringliteral">    if (CE) {</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="stringliteral">      int64_t Imm = CE-&gt;getValue();</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="stringliteral">      if (isUInt&lt;7&gt;(Imm)) {</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="stringliteral">        Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="stringliteral">        return MatchOperand_Success;</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="stringliteral">      }</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="stringliteral">    Error(S, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(0) + &quot;</span>, <span class="stringliteral">&quot; + Twine((1 &lt;&lt; 7) - 1) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="stringliteral">  case AsmToken::Identifier: {</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="stringliteral">    StringRef Identifier;</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="stringliteral">    if (getParser().parseIdentifier(Identifier))</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="stringliteral">      return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="stringliteral">    auto Opcode = RISCVInsnOpcode::lookupRISCVOpcodeByName(Identifier);</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="stringliteral">    if (Opcode) {</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="stringliteral">      Res = MCConstantExpr::create(Opcode-&gt;Value, getContext());</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="stringliteral">      E = SMLoc::getFromPointer(S.getPointer() + Identifier.size());</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="stringliteral">      Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="stringliteral">      return MatchOperand_Success;</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid opcode <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="stringliteral">                &quot;</span>integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="stringliteral">    Error(S, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(0) + &quot;</span>, <span class="stringliteral">&quot; + Twine((1 &lt;&lt; 7) - 1) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="stringliteral">  case AsmToken::Percent: {</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="stringliteral">    // Discard operand with modifier.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="stringliteral">    Error(S, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(0) + &quot;</span>, <span class="stringliteral">&quot; + Twine((1 &lt;&lt; 7) - 1) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="stringliteral">  return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="stringliteral">OperandMatchResultTy</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="stringliteral">RISCVAsmParser::parseCSRSystemRegister(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="stringliteral">  const MCExpr *Res;</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="stringliteral">  switch (getLexer().getKind()) {</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="stringliteral">  case AsmToken::LParen:</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="stringliteral">  case AsmToken::Minus:</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="stringliteral">  case AsmToken::Plus:</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="stringliteral">  case AsmToken::Exclaim:</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="stringliteral">  case AsmToken::Tilde:</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="stringliteral">  case AsmToken::Integer:</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="stringliteral">  case AsmToken::String: {</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="stringliteral">    if (getParser().parseExpression(Res))</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="stringliteral">      return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="stringliteral">    auto *CE = dyn_cast&lt;MCConstantExpr&gt;(Res);</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="stringliteral">    if (CE) {</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="stringliteral">      int64_t Imm = CE-&gt;getValue();</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="stringliteral">      if (isUInt&lt;12&gt;(Imm)) {</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="stringliteral">        auto SysReg = RISCVSysReg::lookupSysRegByEncoding(Imm);</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="stringliteral">        // Accept an immediate representing a named or un-named Sys Reg</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="stringliteral">        // if the range is valid, regardless of the required features.</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="stringliteral">        Operands.push_back(</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="stringliteral">            RISCVOperand::createSysReg(SysReg ? SysReg-&gt;Name : &quot;</span><span class="stringliteral">&quot;, S, Imm));</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="stringliteral">        return MatchOperand_Success;</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="stringliteral">      }</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="stringliteral">    Error(S, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(0) + &quot;</span>, <span class="stringliteral">&quot; + Twine((1 &lt;&lt; 12) - 1) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="stringliteral">  case AsmToken::Identifier: {</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="stringliteral">    StringRef Identifier;</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="stringliteral">    if (getParser().parseIdentifier(Identifier))</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="stringliteral">      return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="stringliteral">    auto SysReg = RISCVSysReg::lookupSysRegByName(Identifier);</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="stringliteral">    if (!SysReg)</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="stringliteral">      SysReg = RISCVSysReg::lookupSysRegByAltName(Identifier);</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="stringliteral">    if (!SysReg)</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="stringliteral">      if ((SysReg = RISCVSysReg::lookupSysRegByDeprecatedName(Identifier)))</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="stringliteral">        Warning(S, &quot;</span><span class="stringliteral">&#39;&quot; + Identifier + &quot;&#39;</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#aa660bb6aec19f6cb361a36080a776dfb">is</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> deprecated alias <span class="keywordflow">for</span> <span class="stringliteral">&#39;&quot; +</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="stringliteral">                       SysReg-&gt;Name + &quot;&#39;</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="stringliteral">    // Accept a named Sys Reg if the required features are present.</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="stringliteral">    if (SysReg) {</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="stringliteral">      if (!SysReg-&gt;haveRequiredFeatures(getSTI().getFeatureBits())) {</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="stringliteral">        Error(S, &quot;</span>system <span class="keyword">register</span> <a class="code" href="Localizer_8cpp.html#a428090a453f41a199ef67fc3f2179fbc">use</a> requires an option <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a91f4469a9d29e354421494afd4ba466d">to</a> <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> enabled<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="stringliteral">        return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="stringliteral">      }</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="stringliteral">      Operands.push_back(</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="stringliteral">          RISCVOperand::createSysReg(Identifier, S, SysReg-&gt;Encoding));</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="stringliteral">      return MatchOperand_Success;</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid system <span class="keyword">register</span> <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="stringliteral">                &quot;</span><a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="stringliteral">    Error(S, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(0) + &quot;</span>, <span class="stringliteral">&quot; + Twine((1 &lt;&lt; 12) - 1) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="stringliteral">  case AsmToken::Percent: {</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="stringliteral">    // Discard operand with modifier.</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="stringliteral">    Twine Msg = &quot;</span>immediate must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> an integer <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> the range<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="stringliteral">    Error(S, Msg + &quot;</span> [<span class="stringliteral">&quot; + Twine(0) + &quot;</span>, <span class="stringliteral">&quot; + Twine((1 &lt;&lt; 12) - 1) + &quot;</span>]<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="stringliteral">  return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseImmediate(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="stringliteral">  SMLoc E;</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="stringliteral">  const MCExpr *Res;</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="stringliteral">  switch (getLexer().getKind()) {</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="stringliteral">  case AsmToken::LParen:</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="stringliteral">  case AsmToken::Dot:</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="stringliteral">  case AsmToken::Minus:</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="stringliteral">  case AsmToken::Plus:</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="stringliteral">  case AsmToken::Exclaim:</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="stringliteral">  case AsmToken::Tilde:</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="stringliteral">  case AsmToken::Integer:</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="stringliteral">  case AsmToken::String:</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="stringliteral">  case AsmToken::Identifier:</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="stringliteral">    if (getParser().parseExpression(Res, E))</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="stringliteral">      return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="stringliteral">  case AsmToken::Percent:</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="stringliteral">    return parseOperandWithModifier(Operands);</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="stringliteral">OperandMatchResultTy</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="stringliteral">RISCVAsmParser::parseOperandWithModifier(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="stringliteral">  SMLoc E;</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="stringliteral">  if (getLexer().getKind() != AsmToken::Percent) {</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="charliteral">&#39;%&#39;</span> <span class="keywordflow">for</span> operand modifier<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat &#39;%&#39;</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="stringliteral">  if (getLexer().getKind() != AsmToken::Identifier) {</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected valid identifier <span class="keywordflow">for</span> operand modifier<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="stringliteral">  StringRef Identifier = getParser().getTok().getIdentifier();</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="stringliteral">  RISCVMCExpr::VariantKind VK = RISCVMCExpr::getVariantKindForName(Identifier);</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="stringliteral">  if (VK == RISCVMCExpr::VK_RISCV_Invalid) {</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>unrecognized operand modifier<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat the identifier</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="stringliteral">  if (getLexer().getKind() != AsmToken::LParen) {</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="charliteral">&#39;(&#39;</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat &#39;(&#39;</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="stringliteral">  const MCExpr *SubExpr;</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="stringliteral">  if (getParser().parseParenExpression(SubExpr, E)) {</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="stringliteral">  const MCExpr *ModExpr = RISCVMCExpr::create(SubExpr, VK, getContext());</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createImm(ModExpr, S, E, isRV64()));</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseBareSymbol(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="stringliteral">  const MCExpr *Res;</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="stringliteral">  if (getLexer().getKind() != AsmToken::Identifier)</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="stringliteral">  StringRef Identifier;</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="stringliteral">  AsmToken Tok = getLexer().getTok();</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="stringliteral">  if (getParser().parseIdentifier(Identifier))</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="stringliteral">  SMLoc E = SMLoc::getFromPointer(S.getPointer() + Identifier.size());</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="stringliteral">  if (Identifier.consume_back(&quot;</span>@plt<span class="stringliteral">&quot;)) {</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span><span class="stringliteral">&#39;@plt&#39;</span> operand <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a46e498e9b70d8cac397bcbb09510c615">not</a> valid <span class="keywordflow">for</span> <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="stringliteral">  MCSymbol *Sym = getContext().getOrCreateSymbol(Identifier);</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="stringliteral">  if (Sym-&gt;isVariable()) {</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="stringliteral">    const MCExpr *V = Sym-&gt;getVariableValue(/*SetUsed=*/false);</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="stringliteral">    if (!isa&lt;MCSymbolRefExpr&gt;(V)) {</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="stringliteral">      getLexer().UnLex(Tok); // Put back if it&#39;s not a bare symbol.</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="stringliteral">      return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="stringliteral">    Res = V;</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="stringliteral">  } else</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="stringliteral">    Res = MCSymbolRefExpr::create(Sym, MCSymbolRefExpr::VK_None, getContext());</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="stringliteral">  MCBinaryExpr::Opcode Opcode;</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="stringliteral">  switch (getLexer().getKind()) {</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="stringliteral">    Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="stringliteral">    return MatchOperand_Success;</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="stringliteral">  case AsmToken::Plus:</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="stringliteral">    Opcode = MCBinaryExpr::Add;</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="stringliteral">    getLexer().Lex();</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="stringliteral">  case AsmToken::Minus:</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="stringliteral">    Opcode = MCBinaryExpr::Sub;</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="stringliteral">    getLexer().Lex();</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="stringliteral">  const MCExpr *Expr;</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="stringliteral">  if (getParser().parseExpression(Expr, E))</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="stringliteral">  Res = MCBinaryExpr::create(Opcode, Res, Expr, getContext());</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseCallSymbol(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="stringliteral">  const MCExpr *Res;</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="stringliteral">  if (getLexer().getKind() != AsmToken::Identifier)</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="stringliteral">  // Avoid parsing the register in `call rd, foo` as a call symbol.</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="stringliteral">  if (getLexer().peekTok().getKind() != AsmToken::EndOfStatement)</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="stringliteral">  StringRef Identifier;</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="stringliteral">  if (getParser().parseIdentifier(Identifier))</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="stringliteral">  SMLoc E = SMLoc::getFromPointer(S.getPointer() + Identifier.size());</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="stringliteral">  RISCVMCExpr::VariantKind Kind = RISCVMCExpr::VK_RISCV_CALL;</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="stringliteral">  if (Identifier.consume_back(&quot;</span>@plt<span class="stringliteral">&quot;))</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="stringliteral">    Kind = RISCVMCExpr::VK_RISCV_CALL_PLT;</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="stringliteral">  MCSymbol *Sym = getContext().getOrCreateSymbol(Identifier);</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="stringliteral">  Res = MCSymbolRefExpr::create(Sym, MCSymbolRefExpr::VK_None, getContext());</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="stringliteral">  Res = RISCVMCExpr::create(Res, Kind, getContext());</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="stringliteral">OperandMatchResultTy</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="stringliteral">RISCVAsmParser::parsePseudoJumpSymbol(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="stringliteral">  SMLoc E;</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="stringliteral">  const MCExpr *Res;</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="stringliteral">  if (getParser().parseExpression(Res, E))</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="stringliteral">  if (Res-&gt;getKind() != MCExpr::ExprKind::SymbolRef ||</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="stringliteral">      cast&lt;MCSymbolRefExpr&gt;(Res)-&gt;getKind() ==</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="stringliteral">          MCSymbolRefExpr::VariantKind::VK_PLT) {</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="stringliteral">    Error(S, &quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a2f18db7a825d21ca8818134d56e0cee1">jump</a> target<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="stringliteral">  Res = RISCVMCExpr::create(Res, RISCVMCExpr::VK_RISCV_CALL, getContext());</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createImm(Res, S, E, isRV64()));</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseJALOffset(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="stringliteral">  // Parsing jal operands is fiddly due to the `jal foo` and `jal ra, foo`</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="stringliteral">  // both being acceptable forms. When parsing `jal ra, foo` this function</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="stringliteral">  // will be called for the `ra` register operand in an attempt to match the</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="stringliteral">  // single-operand alias. parseJALOffset must fail for this case. It would</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="stringliteral">  // seem logical to try parse the operand using parseImmediate and return</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="stringliteral">  // NoMatch if the next token is a comma (meaning we must be parsing a jal in</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="stringliteral">  // the second form rather than the first). We can&#39;t do this as there&#39;s no</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="stringliteral">  // way of rewinding the lexer state. Instead, return NoMatch if this operand</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="stringliteral">  // is an identifier and is followed by a comma.</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="stringliteral">  if (getLexer().is(AsmToken::Identifier) &amp;&amp;</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="stringliteral">      getLexer().peekTok().is(AsmToken::Comma))</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="stringliteral">  return parseImmediate(Operands);</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseVTypeI(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::Identifier))</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="stringliteral">  SmallVector&lt;AsmToken, 7&gt; VTypeIElements;</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="stringliteral">  // Put all the tokens for vtypei operand into VTypeIElements vector.</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="stringliteral">  while (getLexer().isNot(AsmToken::EndOfStatement)) {</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="stringliteral">    VTypeIElements.push_back(getLexer().getTok());</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="stringliteral">    getLexer().Lex();</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="stringliteral">    if (getLexer().is(AsmToken::EndOfStatement))</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="stringliteral">    if (getLexer().isNot(AsmToken::Comma))</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="stringliteral">    AsmToken Comma = getLexer().getTok();</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="stringliteral">    VTypeIElements.push_back(Comma);</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="stringliteral">    getLexer().Lex();</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="stringliteral">  if (VTypeIElements.size() == 7) {</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="stringliteral">    // The VTypeIElements layout is:</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="stringliteral">    // SEW comma LMUL comma TA comma MA</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="stringliteral">    //  0    1    2     3    4   5    6</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="stringliteral">    StringRef Name = VTypeIElements[0].getIdentifier();</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="stringliteral">    if (!Name.consume_front(&quot;</span><a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a><span class="stringliteral">&quot;))</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="stringliteral">    unsigned Sew;</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="stringliteral">    if (Name.getAsInteger(10, Sew))</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="stringliteral">    if (!RISCVVType::isValidSEW(Sew))</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="stringliteral">    Name = VTypeIElements[2].getIdentifier();</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="stringliteral">    if (!Name.consume_front(&quot;</span>m<span class="stringliteral">&quot;))</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="stringliteral">    // &quot;</span>m<span class="stringliteral">&quot; or &quot;</span>mf<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="stringliteral">    bool Fractional = Name.consume_front(&quot;</span><a class="code" href="include_2llvm_2Demangle_2README_8txt.html#a9d56f6c541a0ab888755f9bc198b8eca">f</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="stringliteral">    unsigned Lmul;</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="stringliteral">    if (Name.getAsInteger(10, Lmul))</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="stringliteral">    if (!RISCVVType::isValidLMUL(Lmul, Fractional))</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="stringliteral">    // ta or tu</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="stringliteral">    Name = VTypeIElements[4].getIdentifier();</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="stringliteral">    bool TailAgnostic;</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="stringliteral">    if (Name == &quot;</span>ta<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="stringliteral">      TailAgnostic = true;</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<span class="stringliteral">    else if (Name == &quot;</span>tu<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="stringliteral">      TailAgnostic = false;</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="stringliteral">    else</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="stringliteral">    // ma or mu</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="stringliteral">    Name = VTypeIElements[6].getIdentifier();</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="stringliteral">    bool MaskAgnostic;</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="stringliteral">    if (Name == &quot;</span>ma<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="stringliteral">      MaskAgnostic = true;</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="stringliteral">    else if (Name == &quot;</span>mu<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;<span class="stringliteral">      MaskAgnostic = false;</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="stringliteral">    else</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="stringliteral">      goto MatchFail;</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="stringliteral">    RISCVII::VLMUL VLMUL = RISCVVType::encodeLMUL(Lmul, Fractional);</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="stringliteral">    unsigned VTypeI =</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="stringliteral">        RISCVVType::encodeVTYPE(VLMUL, Sew, TailAgnostic, MaskAgnostic);</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="stringliteral">    Operands.push_back(RISCVOperand::createVType(VTypeI, S));</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="stringliteral">    return MatchOperand_Success;</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="stringliteral">// If NoMatch, unlex all the tokens that comprise a vtypei operand</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="stringliteral">MatchFail:</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="stringliteral">  while (!VTypeIElements.empty())</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="stringliteral">    getLexer().UnLex(VTypeIElements.pop_back_val());</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="stringliteral">  return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseMaskReg(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::Identifier))</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="stringliteral">  StringRef Name = getLexer().getTok().getIdentifier();</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="stringliteral">  if (!Name.consume_back(&quot;</span>.<a class="code" href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a><span class="stringliteral">&quot;)) {</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="stringliteral">&#39;.t&#39;</span> suffix<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;<span class="stringliteral">  MCRegister RegNo;</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="stringliteral">  matchRegisterNameHelper(isRV32E(), RegNo, Name);</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="stringliteral">  if (RegNo == RISCV::NoRegister)</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="stringliteral">  if (RegNo != RISCV::V0)</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="stringliteral">  SMLoc E = SMLoc::getFromPointer(S.getPointer() + Name.size());</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="stringliteral">  getLexer().Lex();</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createReg(RegNo, S, E));</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseGPRAsFPR(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::Identifier))</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="stringliteral">  StringRef Name = getLexer().getTok().getIdentifier();</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="stringliteral">  MCRegister RegNo;</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="stringliteral">  matchRegisterNameHelper(isRV32E(), RegNo, Name);</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="stringliteral">  if (RegNo == RISCV::NoRegister)</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="stringliteral">    return MatchOperand_NoMatch;</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="stringliteral">  SMLoc S = getLoc();</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="stringliteral">  SMLoc E = SMLoc::getFromPointer(S.getPointer() + Name.size());</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="stringliteral">  getLexer().Lex();</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createReg(</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="stringliteral">      RegNo, S, E, !getSTI().hasFeature(RISCV::FeatureStdExtF)));</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseFRMArg(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::Identifier)) {</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="stringliteral">    TokError(&quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid floating point rounding <a class="code" href="README-Thumb_8txt.html#ad7bf7cc723b97ab4a518502c217ddbd7">mode</a> mnemonic<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="stringliteral">  StringRef Str = getLexer().getTok().getIdentifier();</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="stringliteral">  RISCVFPRndMode::RoundingMode FRM = RISCVFPRndMode::stringToRoundingMode(Str);</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="stringliteral">  if (FRM == RISCVFPRndMode::Invalid) {</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="stringliteral">    TokError(&quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> valid floating point rounding <a class="code" href="README-Thumb_8txt.html#ad7bf7cc723b97ab4a518502c217ddbd7">mode</a> mnemonic<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createFRMArg(FRM, getLoc()));</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="stringliteral">  Lex(); // Eat identifier token.</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="stringliteral">OperandMatchResultTy RISCVAsmParser::parseFenceArg(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="stringliteral">  const AsmToken &amp;Tok = getLexer().getTok();</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="stringliteral">  if (Tok.is(AsmToken::Integer)) {</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="stringliteral">    if (Tok.getIntVal() != 0)</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="stringliteral">      goto ParseFail;</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="stringliteral">    Operands.push_back(RISCVOperand::createFenceArg(0, getLoc()));</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="stringliteral">    Lex();</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="stringliteral">    return MatchOperand_Success;</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="stringliteral">  if (Tok.is(AsmToken::Identifier)) {</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="stringliteral">    StringRef Str = Tok.getIdentifier();</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="stringliteral">    // Letters must be unique, taken from &#39;iorw&#39;, and in ascending order. This</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="stringliteral">    // holds as long as each individual character is one of &#39;iorw&#39; and is</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="stringliteral">    // greater than the previous character.</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="stringliteral">    unsigned Imm = 0;</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="stringliteral">    bool Valid = true;</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="stringliteral">    char Prev = &#39;\0&#39;;</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="stringliteral">    for (char c : Str) {</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="stringliteral">      switch (c) {</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="stringliteral">      default:</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="stringliteral">        Valid = false;</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="stringliteral">        break;</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="stringliteral">      case &#39;i&#39;:</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="stringliteral">        Imm |= RISCVFenceField::I;</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="stringliteral">        break;</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="stringliteral">      case &#39;o&#39;:</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="stringliteral">        Imm |= RISCVFenceField::O;</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="stringliteral">        break;</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="stringliteral">      case &#39;r&#39;:</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="stringliteral">        Imm |= RISCVFenceField::R;</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="stringliteral">        break;</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="stringliteral">      case &#39;w&#39;:</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="stringliteral">        Imm |= RISCVFenceField::W;</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="stringliteral">        break;</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="stringliteral">      }</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="stringliteral">      if (c &lt;= Prev) {</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="stringliteral">        Valid = false;</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="stringliteral">        break;</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="stringliteral">      }</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="stringliteral">      Prev = c;</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="stringliteral">    if (!Valid)</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="stringliteral">      goto ParseFail;</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="stringliteral">    Operands.push_back(RISCVOperand::createFenceArg(Imm, getLoc()));</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="stringliteral">    Lex();</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="stringliteral">    return MatchOperand_Success;</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="stringliteral">ParseFail:</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="stringliteral">  TokError(&quot;</span>operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> formed <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="code" href="lib_2Target_2README_8txt.html#a2e1a0cc4f099b096078de598028fb8b6">letters</a> selected <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a>-order from <span class="stringliteral">&#39;iorw&#39;</span> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="stringliteral">           &quot;</span><a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> 0<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="stringliteral">  return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;<span class="stringliteral">OperandMatchResultTy</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="stringliteral">RISCVAsmParser::parseMemOpBaseReg(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::LParen)) {</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="charliteral">&#39;(&#39;</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat &#39;(&#39;</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createToken(&quot;</span>(<span class="stringliteral">&quot;, getLoc()));</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="stringliteral">  if (parseRegister(Operands) != MatchOperand_Success) {</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="keyword">register</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::RParen)) {</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="charliteral">&#39;)&#39;</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat &#39;)&#39;</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createToken(&quot;</span>)<span class="stringliteral">&quot;, getLoc()));</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="stringliteral">OperandMatchResultTy</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="stringliteral">RISCVAsmParser::parseZeroOffsetMemOp(OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="stringliteral">  // Atomic operations such as lr.w, sc.w, and amo*.w accept a &quot;</span>memory operand<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="stringliteral">  // as one of their register operands, such as `(a0)`. This just denotes that</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="stringliteral">  // the register (in this case `a0`) contains a memory address.</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="stringliteral">  // Normally, we would be able to parse these by putting the parens into the</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="stringliteral">  // instruction string. However, GNU as also accepts a zero-offset memory</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="stringliteral">  // operand (such as `0(a0)`), and ignores the 0. Normally this would be parsed</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="stringliteral">  // with parseImmediate followed by parseMemOpBaseReg, but these instructions</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="stringliteral">  // do not accept an immediate operand, and we do not want to add a &quot;</span>dummy<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="stringliteral">  // operand that is silently dropped.</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="stringliteral">  // Instead, we use this custom parser. This will: allow (and discard) an</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="stringliteral">  // offset if it is zero; require (and discard) parentheses; and add only the</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="stringliteral">  // parsed register operand to `Operands`.</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="stringliteral">  // These operands are printed with RISCVInstPrinter::printZeroOffsetMemOp,</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="stringliteral">  // which will only print the register surrounded by parentheses (which GNU as</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="stringliteral">  // also uses as its canonical representation for these operands).</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="stringliteral">  std::unique_ptr&lt;RISCVOperand&gt; OptionalImmOp;</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::LParen)) {</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="stringliteral">    // Parse an Integer token. We do not accept arbritrary constant expressions</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="stringliteral">    // in the offset field (because they may include parens, which complicates</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="stringliteral">    // parsing a lot).</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="stringliteral">    int64_t ImmVal;</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="stringliteral">    SMLoc ImmStart = getLoc();</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="stringliteral">    if (getParser().parseIntToken(ImmVal,</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="stringliteral">                                  &quot;</span>expected <span class="charliteral">&#39;(&#39;</span> <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> optional integer offset<span class="stringliteral">&quot;))</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="stringliteral">      return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="stringliteral">    // Create a RISCVOperand for checking later (so the error messages are</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="stringliteral">    // nicer), but we don&#39;t add it to Operands.</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="stringliteral">    SMLoc ImmEnd = getLoc();</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="stringliteral">    OptionalImmOp =</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="stringliteral">        RISCVOperand::createImm(MCConstantExpr::create(ImmVal, getContext()),</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="stringliteral">                                ImmStart, ImmEnd, isRV64());</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::LParen)) {</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="stringliteral">    Error(getLoc(), OptionalImmOp ? &quot;</span>expected <span class="charliteral">&#39;(&#39;</span> after optional integer offset<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="stringliteral">                                  : &quot;</span>expected <span class="charliteral">&#39;(&#39;</span> <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> optional integer offset<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat &#39;(&#39;</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="stringliteral">  if (parseRegister(Operands) != MatchOperand_Success) {</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="keyword">register</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::RParen)) {</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="stringliteral">    Error(getLoc(), &quot;</span>expected <span class="charliteral">&#39;)&#39;</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="stringliteral">  getParser().Lex(); // Eat &#39;)&#39;</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="stringliteral">  // Deferred Handling of non-zero offsets. This makes the error messages nicer.</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<span class="stringliteral">  if (OptionalImmOp &amp;&amp; !OptionalImmOp-&gt;isImmZero()) {</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;<span class="stringliteral">    Error(OptionalImmOp-&gt;getStartLoc(), &quot;</span>optional integer offset must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> 0<span class="stringliteral">&quot;,</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="stringliteral">          SMRange(OptionalImmOp-&gt;getStartLoc(), OptionalImmOp-&gt;getEndLoc()));</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="stringliteral">    return MatchOperand_ParseFail;</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="stringliteral">  return MatchOperand_Success;</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="stringliteral"></span><span class="comment"></span> </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment">/// Looks at a token type and creates the relevant operand from this</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">/// information, adding to Operands. If operand was parsed, returns false, else</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="comment">/// true.</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment"></span>bool RISCVAsmParser::parseOperand(OperandVector &amp;Operands, StringRef Mnemonic) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  // Check if the current operand has a custom associated parser, if so, try to</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  // custom parse the operand, or fallback to the general approach.</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  OperandMatchResultTy Result =</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      MatchOperandParserImpl(Operands, Mnemonic, /*ParseForAllFeatures=*/true);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  if (Result == MatchOperand_Success)</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    return false;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  if (Result == MatchOperand_ParseFail)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    return true;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  // Attempt to parse token as a register.</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  if (parseRegister(Operands, true) == MatchOperand_Success)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    return false;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  // Attempt to parse token as an immediate</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  if (parseImmediate(Operands) == MatchOperand_Success) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    // Parse memory base register if present</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    if (getLexer().is(AsmToken::LParen))</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      return parseMemOpBaseReg(Operands) != MatchOperand_Success;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    return false;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  // Finally we have exhausted all options and must declare defeat.</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  Error(getLoc(), &quot;<a class="code" href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894da80eaeeee65cce2c1b9fa9a5741956f9a">unknown</a> operand<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="stringliteral">  return true;</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="stringliteral">bool RISCVAsmParser::ParseInstruction(ParseInstructionInfo &amp;Info,</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="stringliteral">                                      StringRef Name, SMLoc NameLoc,</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="stringliteral">                                      OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="stringliteral">  // Ensure that if the instruction occurs when relaxation is enabled,</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="stringliteral">  // relocations are forced for the file. Ideally this would be done when there</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="stringliteral">  // is enough information to reliably determine if the instruction itself may</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="stringliteral">  // cause relaxations. Unfortunately instruction processing stage occurs in the</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="stringliteral">  // same pass as relocation emission, so it&#39;s too late to set a &#39;sticky bit&#39;</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;<span class="stringliteral">  // for the entire file.</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="stringliteral">  if (getSTI().getFeatureBits()[RISCV::FeatureRelax]) {</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="stringliteral">    auto *Assembler = getTargetStreamer().getStreamer().getAssemblerPtr();</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="stringliteral">    if (Assembler != nullptr) {</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="stringliteral">      RISCVAsmBackend &amp;MAB =</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="stringliteral">          static_cast&lt;RISCVAsmBackend &amp;&gt;(Assembler-&gt;getBackend());</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="stringliteral">      MAB.setForceRelocs();</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="stringliteral">  // First operand is token for instruction</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="stringliteral">  Operands.push_back(RISCVOperand::createToken(Name, NameLoc));</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="stringliteral">  // If there are no more operands, then finish</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="stringliteral">  if (getLexer().is(AsmToken::EndOfStatement)) {</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="stringliteral">    getParser().Lex(); // Consume the EndOfStatement.</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="stringliteral">  // Parse first operand</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="stringliteral">  if (parseOperand(Operands, Name))</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="stringliteral">    return true;</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="stringliteral">  // Parse until end of statement, consuming commas between operands</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="stringliteral">  while (getLexer().is(AsmToken::Comma)) {</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="stringliteral">    // Consume comma token</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="stringliteral">    getLexer().Lex();</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="stringliteral">    // Parse next operand</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="stringliteral">    if (parseOperand(Operands, Name))</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="stringliteral">  if (getLexer().isNot(AsmToken::EndOfStatement)) {</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="stringliteral">    SMLoc Loc = getLexer().getLoc();</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="stringliteral">    getParser().eatToEndOfStatement();</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="stringliteral">    return Error(Loc, &quot;</span>unexpected token<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="stringliteral">  getParser().Lex(); // Consume the EndOfStatement.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="stringliteral">bool RISCVAsmParser::classifySymbolRef(const MCExpr *Expr,</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="stringliteral">                                       RISCVMCExpr::VariantKind &amp;Kind) {</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<span class="stringliteral">  Kind = RISCVMCExpr::VK_RISCV_None;</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="stringliteral">  if (const RISCVMCExpr *RE = dyn_cast&lt;RISCVMCExpr&gt;(Expr)) {</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;<span class="stringliteral">    Kind = RE-&gt;getKind();</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;<span class="stringliteral">    Expr = RE-&gt;getSubExpr();</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="stringliteral">  MCValue Res;</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;<span class="stringliteral">  MCFixup Fixup;</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<span class="stringliteral">  if (Expr-&gt;evaluateAsRelocatable(Res, nullptr, &amp;Fixup))</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="stringliteral">    return Res.getRefKind() == RISCVMCExpr::VK_RISCV_None;</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="stringliteral">bool RISCVAsmParser::ParseDirective(AsmToken DirectiveID) {</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="stringliteral">  // This returns false if this function recognizes the directive</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="stringliteral">  // regardless of whether it is successfully handles or reports an</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="stringliteral">  // error. Otherwise it returns true to give the generic parser a</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="stringliteral">  // chance at recognizing it.</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="stringliteral">  StringRef IDVal = DirectiveID.getString();</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="stringliteral">  if (IDVal == &quot;</span>.option<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="stringliteral">    return parseDirectiveOption();</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="stringliteral">  if (IDVal == &quot;</span>.attribute<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="stringliteral">    return parseDirectiveAttribute();</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="stringliteral">  if (IDVal == &quot;</span>.insn<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="stringliteral">    return parseDirectiveInsn(DirectiveID.getLoc());</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="stringliteral">  if (IDVal == &quot;</span>.variant_cc<span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="stringliteral">    return parseDirectiveVariantCC();</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="stringliteral">  return true;</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;<span class="stringliteral">bool RISCVAsmParser::parseDirectiveOption() {</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="stringliteral">  MCAsmParser &amp;Parser = getParser();</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="stringliteral">  // Get the option token.</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="stringliteral">  AsmToken Tok = Parser.getTok();</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="stringliteral">  // At the moment only identifiers are supported.</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="stringliteral">  if (parseToken(AsmToken::Identifier, &quot;</span>expected identifier<span class="stringliteral">&quot;))</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="stringliteral">    return true;</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<span class="stringliteral">  StringRef Option = Tok.getIdentifier();</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="stringliteral">  if (Option == &quot;</span><a class="code" href="BitstreamRemarkSerializer_8cpp.html#a720622fc32fd2435f7726d832d851ea6">push</a><span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionPush();</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="stringliteral">    pushFeatureBits();</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>pop<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="stringliteral">    SMLoc StartLoc = Parser.getTok().getLoc();</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionPop();</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="stringliteral">    if (popFeatureBits())</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="stringliteral">      return Error(StartLoc, &quot;</span>.option pop with no .option <a class="code" href="BitstreamRemarkSerializer_8cpp.html#a720622fc32fd2435f7726d832d851ea6">push</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>rvc<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionRVC();</span></div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="stringliteral">    setFeatureBits(RISCV::FeatureStdExtC, &quot;</span><a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>norvc<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionNoRVC();</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="stringliteral">    clearFeatureBits(RISCV::FeatureStdExtC, &quot;</span><a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="stringliteral">    clearFeatureBits(RISCV::FeatureExtZca, &quot;</span>+experimental-zca<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>pic<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionPIC();</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;<span class="stringliteral">    ParserOptions.IsPicEnabled = true;</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>nopic<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionNoPIC();</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;<span class="stringliteral">    ParserOptions.IsPicEnabled = false;</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>relax<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionRelax();</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="stringliteral">    setFeatureBits(RISCV::FeatureRelax, &quot;</span>relax<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="stringliteral">  if (Option == &quot;</span>norelax<span class="stringliteral">&quot;) {</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="stringliteral">    if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="stringliteral">    getTargetStreamer().emitDirectiveOptionNoRelax();</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="stringliteral">    clearFeatureBits(RISCV::FeatureRelax, &quot;</span>relax<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="stringliteral">  // Unknown option.</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="stringliteral">  Warning(Parser.getTok().getLoc(),</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="stringliteral">          &quot;</span><a class="code" href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894da80eaeeee65cce2c1b9fa9a5741956f9a">unknown</a> option, expected <span class="stringliteral">&#39;push&#39;</span>, <span class="stringliteral">&#39;pop&#39;</span>, <span class="stringliteral">&#39;rvc&#39;</span>, <span class="stringliteral">&#39;norvc&#39;</span>, <span class="stringliteral">&#39;relax&#39;</span> <a class="code" href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="stringliteral">          &quot;</span><span class="stringliteral">&#39;norelax&#39;</span><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="stringliteral">  Parser.eatToEndOfStatement();</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="stringliteral"></span><span class="comment"></span> </div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="comment">/// parseDirectiveAttribute</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="comment">///  ::= .attribute expression &#39;,&#39; ( expression | &quot;string&quot; )</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="comment">///  ::= .attribute identifier &#39;,&#39; ( expression | &quot;string&quot; )</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment"></span>bool RISCVAsmParser::parseDirectiveAttribute() {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  MCAsmParser &amp;Parser = getParser();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  int64_t Tag;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  SMLoc TagLoc;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  TagLoc = Parser.getTok().getLoc();</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  if (Parser.getTok().is(AsmToken::Identifier)) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    StringRef Name = Parser.getTok().getIdentifier();</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    std::optional&lt;unsigned&gt; Ret =</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        ELFAttrs::attrTypeFromString(Name, RISCVAttrs::getRISCVAttributeTags());</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    if (!Ret) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      Error(TagLoc, &quot;attribute <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a46e498e9b70d8cac397bcbb09510c615">not</a> recognised: <span class="stringliteral">&quot; + Name);</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="stringliteral">      return false;</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="stringliteral">    Tag = *Ret;</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="stringliteral">    Parser.Lex();</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="stringliteral">  } else {</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="stringliteral">    const MCExpr *AttrExpr;</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="stringliteral">    TagLoc = Parser.getTok().getLoc();</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="stringliteral">    if (Parser.parseExpression(AttrExpr))</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="stringliteral">    const MCConstantExpr *CE = dyn_cast&lt;MCConstantExpr&gt;(AttrExpr);</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="stringliteral">    if (check(!CE, TagLoc, &quot;</span>expected numeric <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a2ff42d8940320394fe7c9ebefd235621">constant</a><span class="stringliteral">&quot;))</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="stringliteral">    Tag = CE-&gt;getValue();</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="stringliteral">  if (Parser.parseComma())</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="stringliteral">    return true;</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="stringliteral">  StringRef StringValue;</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="stringliteral">  int64_t IntegerValue = 0;</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="stringliteral">  bool IsIntegerValue = true;</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="stringliteral">  // RISC-V attributes have a string value if the tag number is odd</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="stringliteral">  // and an integer value if the tag number is even.</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="stringliteral">  if (Tag % 2)</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="stringliteral">    IsIntegerValue = false;</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="stringliteral">  SMLoc ValueExprLoc = Parser.getTok().getLoc();</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="stringliteral">  if (IsIntegerValue) {</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="stringliteral">    const MCExpr *ValueExpr;</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="stringliteral">    if (Parser.parseExpression(ValueExpr))</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="stringliteral">    const MCConstantExpr *CE = dyn_cast&lt;MCConstantExpr&gt;(ValueExpr);</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="stringliteral">    if (!CE)</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="stringliteral">      return Error(ValueExprLoc, &quot;</span>expected numeric <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a2ff42d8940320394fe7c9ebefd235621">constant</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="stringliteral">    IntegerValue = CE-&gt;getValue();</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="stringliteral">  } else {</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<span class="stringliteral">    if (Parser.getTok().isNot(AsmToken::String))</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="stringliteral">      return Error(Parser.getTok().getLoc(), &quot;</span>expected <span class="keywordtype">string</span> <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a2ff42d8940320394fe7c9ebefd235621">constant</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;<span class="stringliteral">    StringValue = Parser.getTok().getStringContents();</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="stringliteral">    Parser.Lex();</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="stringliteral">  if (Parser.parseEOL())</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="stringliteral">    return true;</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="stringliteral">  if (IsIntegerValue)</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="stringliteral">    getTargetStreamer().emitAttribute(Tag, IntegerValue);</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="stringliteral">  else if (Tag != RISCVAttrs::ARCH)</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="stringliteral">    getTargetStreamer().emitTextAttribute(Tag, StringValue);</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="stringliteral">  else {</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="stringliteral">    StringRef Arch = StringValue;</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="stringliteral">    for (auto Feature : RISCVFeatureKV)</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="stringliteral">      if (llvm::RISCVISAInfo::isSupportedExtensionFeature(Feature.Key))</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="stringliteral">        clearFeatureBits(Feature.Value, Feature.Key);</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="stringliteral">    auto ParseResult = llvm::RISCVISAInfo::parseArchString(</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="stringliteral">        StringValue, /*EnableExperimentalExtension=*/true,</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="stringliteral">        /*ExperimentalExtensionVersionCheck=*/true);</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="stringliteral">    if (!ParseResult) {</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="stringliteral">      std::string Buffer;</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="stringliteral">      raw_string_ostream OutputErrMsg(Buffer);</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="stringliteral">      handleAllErrors(ParseResult.takeError(), [&amp;](llvm::StringError &amp;ErrMsg) {</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="stringliteral">        OutputErrMsg &lt;&lt; &quot;</span>invalid arch <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> <span class="stringliteral">&#39;&quot; &lt;&lt; Arch &lt;&lt; &quot;&#39;</span>, <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="stringliteral">                     &lt;&lt; ErrMsg.getMessage();</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="stringliteral">      });</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="stringliteral">      return Error(ValueExprLoc, OutputErrMsg.str());</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="stringliteral">    auto &amp;ISAInfo = *ParseResult;</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="stringliteral">    for (auto Feature : RISCVFeatureKV)</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="stringliteral">      if (ISAInfo-&gt;hasExtension(Feature.Key))</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="stringliteral">        setFeatureBits(Feature.Value, Feature.Key);</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="stringliteral">    if (ISAInfo-&gt;getXLen() == 32)</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="stringliteral">      clearFeatureBits(RISCV::Feature64Bit, &quot;</span>64<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="stringliteral">    else if (ISAInfo-&gt;getXLen() == 64)</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="stringliteral">      setFeatureBits(RISCV::Feature64Bit, &quot;</span>64<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="stringliteral">    else</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="stringliteral">      return Error(ValueExprLoc, &quot;</span><a class="code" href="README-SSE_8txt.html#a74cbdc7d94b0939a18d91b65d2a046aa">bad</a> arch <span class="keywordtype">string</span> <span class="stringliteral">&quot; + Arch);</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="stringliteral">    // Then emit the arch string.</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="stringliteral">    getTargetStreamer().emitTextAttribute(Tag, ISAInfo-&gt;toString());</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="stringliteral"></span><span class="comment"></span> </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">/// parseDirectiveInsn</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="comment">/// ::= .insn [ format encoding, (operands (, operands)*) ]</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="comment"></span>bool RISCVAsmParser::parseDirectiveInsn(SMLoc L) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  MCAsmParser &amp;Parser = getParser();</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  // Expect instruction format as identifier.</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  StringRef Format;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  SMLoc ErrorLoc = Parser.getTok().getLoc();</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  if (Parser.parseIdentifier(Format))</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    return Error(ErrorLoc, &quot;expected <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a> <a class="code" href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">format</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;<span class="stringliteral">  if (Format != &quot;</span>r<span class="stringliteral">&quot; &amp;&amp; Format != &quot;</span><a class="code" href="lib_2CodeGen_2README_8txt.html#a2ee0af66fe0326c32ec4a34e371db61f">r4</a><span class="stringliteral">&quot; &amp;&amp; Format != &quot;</span><a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a><span class="stringliteral">&quot; &amp;&amp; Format != &quot;</span><a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a><span class="stringliteral">&quot; &amp;&amp;</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;<span class="stringliteral">      Format != &quot;</span>sb<span class="stringliteral">&quot; &amp;&amp; Format != &quot;</span>u<span class="stringliteral">&quot; &amp;&amp; Format != &quot;</span><a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a><span class="stringliteral">&quot; &amp;&amp; Format != &quot;</span>uj<span class="stringliteral">&quot; &amp;&amp;</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="stringliteral">      Format != &quot;</span><a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a><span class="stringliteral">&quot;)</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>invalid <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a> <a class="code" href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">format</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="stringliteral">  std::string FormatName = (&quot;</span>.insn_<span class="stringliteral">&quot; + Format).str();</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="stringliteral">  ParseInstructionInfo Info;</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="stringliteral">  SmallVector&lt;std::unique_ptr&lt;MCParsedAsmOperand&gt;, 8&gt; Operands;</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="stringliteral">  if (ParseInstruction(Info, FormatName, L, Operands))</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="stringliteral">    return true;</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="stringliteral">  unsigned Opcode;</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="stringliteral">  uint64_t ErrorInfo;</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="stringliteral">  return MatchAndEmitInstruction(L, Opcode, Operands, Parser.getStreamer(),</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="stringliteral">                                 ErrorInfo,</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="stringliteral">                                 /*MatchingInlineAsm=*/false);</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="stringliteral"></span><span class="comment"></span> </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="comment">/// parseDirectiveVariantCC</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="comment">///  ::= .variant_cc symbol</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="comment"></span>bool RISCVAsmParser::parseDirectiveVariantCC() {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  StringRef Name;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  if (getParser().parseIdentifier(Name))</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    return TokError(&quot;expected symbol <a class="code" href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="stringliteral">  if (parseEOL())</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="stringliteral">  getTargetStreamer().emitDirectiveVariantCC(</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="stringliteral">      *getContext().getOrCreateSymbol(Name));</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitToStreamer(MCStreamer &amp;S, const MCInst &amp;Inst) {</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="stringliteral">  MCInst CInst;</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="stringliteral">  bool Res = RISCVRVC::compress(CInst, Inst, getSTI());</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="stringliteral">  if (Res)</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="stringliteral">    ++RISCVNumInstrsCompressed;</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="stringliteral">  S.emitInstruction((Res ? CInst : Inst), getSTI());</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitLoadImm(MCRegister DestReg, int64_t Value,</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="stringliteral">                                 MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="stringliteral">  RISCVMatInt::InstSeq Seq =</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="stringliteral">      RISCVMatInt::generateInstSeq(Value, getSTI().getFeatureBits());</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;<span class="stringliteral">  MCRegister SrcReg = RISCV::X0;</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;<span class="stringliteral">  for (RISCVMatInt::Inst &amp;Inst : Seq) {</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;<span class="stringliteral">    switch (Inst.getOpndKind()) {</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="stringliteral">    case RISCVMatInt::Imm:</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="stringliteral">      emitToStreamer(Out,</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="stringliteral">                     MCInstBuilder(Inst.getOpcode()).addReg(DestReg).addImm(Inst.getImm()));</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="stringliteral">    case RISCVMatInt::RegX0:</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="stringliteral">      emitToStreamer(</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;<span class="stringliteral">          Out, MCInstBuilder(Inst.getOpcode()).addReg(DestReg).addReg(SrcReg).addReg(</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="stringliteral">                   RISCV::X0));</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="stringliteral">    case RISCVMatInt::RegReg:</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;<span class="stringliteral">      emitToStreamer(</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;<span class="stringliteral">          Out, MCInstBuilder(Inst.getOpcode()).addReg(DestReg).addReg(SrcReg).addReg(</span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="stringliteral">                   SrcReg));</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="stringliteral">    case RISCVMatInt::RegImm:</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="stringliteral">      emitToStreamer(</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="stringliteral">          Out, MCInstBuilder(Inst.getOpcode()).addReg(DestReg).addReg(SrcReg).addImm(</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;<span class="stringliteral">                   Inst.getImm()));</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;<span class="stringliteral">      break;</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;<span class="stringliteral">    // Only the first instruction has X0 as its source.</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="stringliteral">    SrcReg = DestReg;</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitAuipcInstPair(MCOperand DestReg, MCOperand TmpReg,</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<span class="stringliteral">                                       const MCExpr *Symbol,</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;<span class="stringliteral">                                       RISCVMCExpr::VariantKind VKHi,</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;<span class="stringliteral">                                       unsigned SecondOpcode, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<span class="stringliteral">                                       MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;<span class="stringliteral">  // A pair of instructions for PC-relative addressing; expands to</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC TmpReg, VKHi(symbol)</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;<span class="stringliteral">  //             OP DestReg, TmpReg, %pcrel_lo(TmpLabel)</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;<span class="stringliteral">  MCContext &amp;Ctx = getContext();</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="stringliteral">  MCSymbol *TmpLabel = Ctx.createNamedTempSymbol(&quot;</span>pcrel_hi<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="stringliteral">  Out.emitLabel(TmpLabel);</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;<span class="stringliteral">  const RISCVMCExpr *SymbolHi = RISCVMCExpr::create(Symbol, VKHi, Ctx);</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;<span class="stringliteral">  emitToStreamer(</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;<span class="stringliteral">      Out, MCInstBuilder(RISCV::AUIPC).addOperand(TmpReg).addExpr(SymbolHi));</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="stringliteral">  const MCExpr *RefToLinkTmpLabel =</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="stringliteral">      RISCVMCExpr::create(MCSymbolRefExpr::create(TmpLabel, Ctx),</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="stringliteral">                          RISCVMCExpr::VK_RISCV_PCREL_LO, Ctx);</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="stringliteral">  emitToStreamer(Out, MCInstBuilder(SecondOpcode)</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="stringliteral">                          .addOperand(DestReg)</span></div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="stringliteral">                          .addOperand(TmpReg)</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="stringliteral">                          .addExpr(RefToLinkTmpLabel));</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitLoadLocalAddress(MCInst &amp;Inst, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="stringliteral">                                          MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="stringliteral">  // The load local address pseudo-instruction &quot;</span>lla<span class="stringliteral">&quot; is used in PC-relative</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="stringliteral">  // addressing of local symbols:</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="stringliteral">  //   lla rdest, symbol</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="stringliteral">  // expands to</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC rdest, %pcrel_hi(symbol)</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;<span class="stringliteral">  //             ADDI rdest, rdest, %pcrel_lo(TmpLabel)</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;<span class="stringliteral">  MCOperand DestReg = Inst.getOperand(0);</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;<span class="stringliteral">  const MCExpr *Symbol = Inst.getOperand(1).getExpr();</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;<span class="stringliteral">  emitAuipcInstPair(DestReg, DestReg, Symbol, RISCVMCExpr::VK_RISCV_PCREL_HI,</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;<span class="stringliteral">                    RISCV::ADDI, IDLoc, Out);</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitLoadAddress(MCInst &amp;Inst, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;<span class="stringliteral">                                     MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;<span class="stringliteral">  // The load address pseudo-instruction &quot;</span>la<span class="stringliteral">&quot; is used in PC-relative and</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="stringliteral">  // GOT-indirect addressing of global symbols:</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;<span class="stringliteral">  //   la rdest, symbol</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;<span class="stringliteral">  // expands to either (for non-PIC)</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC rdest, %pcrel_hi(symbol)</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;<span class="stringliteral">  //             ADDI rdest, rdest, %pcrel_lo(TmpLabel)</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;<span class="stringliteral">  // or (for PIC)</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC rdest, %got_pcrel_hi(symbol)</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="stringliteral">  //             Lx rdest, %pcrel_lo(TmpLabel)(rdest)</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="stringliteral">  MCOperand DestReg = Inst.getOperand(0);</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;<span class="stringliteral">  const MCExpr *Symbol = Inst.getOperand(1).getExpr();</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;<span class="stringliteral">  unsigned SecondOpcode;</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<span class="stringliteral">  RISCVMCExpr::VariantKind VKHi;</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="stringliteral">  if (ParserOptions.IsPicEnabled) {</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<span class="stringliteral">    SecondOpcode = isRV64() ? RISCV::LD : RISCV::LW;</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;<span class="stringliteral">    VKHi = RISCVMCExpr::VK_RISCV_GOT_HI;</span></div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<span class="stringliteral">  } else {</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="stringliteral">    SecondOpcode = RISCV::ADDI;</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="stringliteral">    VKHi = RISCVMCExpr::VK_RISCV_PCREL_HI;</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="stringliteral">  emitAuipcInstPair(DestReg, DestReg, Symbol, VKHi, SecondOpcode, IDLoc, Out);</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitLoadTLSIEAddress(MCInst &amp;Inst, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;<span class="stringliteral">                                          MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="stringliteral">  // The load TLS IE address pseudo-instruction &quot;</span>la.tls.ie<span class="stringliteral">&quot; is used in</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;<span class="stringliteral">  // initial-exec TLS model addressing of global symbols:</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="stringliteral">  //   la.tls.ie rdest, symbol</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="stringliteral">  // expands to</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC rdest, %tls_ie_pcrel_hi(symbol)</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="stringliteral">  //             Lx rdest, %pcrel_lo(TmpLabel)(rdest)</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="stringliteral">  MCOperand DestReg = Inst.getOperand(0);</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;<span class="stringliteral">  const MCExpr *Symbol = Inst.getOperand(1).getExpr();</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;<span class="stringliteral">  unsigned SecondOpcode = isRV64() ? RISCV::LD : RISCV::LW;</span></div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;<span class="stringliteral">  emitAuipcInstPair(DestReg, DestReg, Symbol, RISCVMCExpr::VK_RISCV_TLS_GOT_HI,</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="stringliteral">                    SecondOpcode, IDLoc, Out);</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitLoadTLSGDAddress(MCInst &amp;Inst, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="stringliteral">                                          MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="stringliteral">  // The load TLS GD address pseudo-instruction &quot;</span>la.tls.gd<span class="stringliteral">&quot; is used in</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="stringliteral">  // global-dynamic TLS model addressing of global symbols:</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="stringliteral">  //   la.tls.gd rdest, symbol</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="stringliteral">  // expands to</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC rdest, %tls_gd_pcrel_hi(symbol)</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="stringliteral">  //             ADDI rdest, rdest, %pcrel_lo(TmpLabel)</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="stringliteral">  MCOperand DestReg = Inst.getOperand(0);</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="stringliteral">  const MCExpr *Symbol = Inst.getOperand(1).getExpr();</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="stringliteral">  emitAuipcInstPair(DestReg, DestReg, Symbol, RISCVMCExpr::VK_RISCV_TLS_GD_HI,</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<span class="stringliteral">                    RISCV::ADDI, IDLoc, Out);</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitLoadStoreSymbol(MCInst &amp;Inst, unsigned Opcode,</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="stringliteral">                                         SMLoc IDLoc, MCStreamer &amp;Out,</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="stringliteral">                                         bool HasTmpReg) {</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;<span class="stringliteral">  // The load/store pseudo-instruction does a pc-relative load with</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;<span class="stringliteral">  // a symbol.</span></div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;<span class="stringliteral">  // The expansion looks like this</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;<span class="stringliteral">  //   TmpLabel: AUIPC tmp, %pcrel_hi(symbol)</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;<span class="stringliteral">  //             [S|L]X    rd, %pcrel_lo(TmpLabel)(tmp)</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="stringliteral">  unsigned DestRegOpIdx = HasTmpReg ? 1 : 0;</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;<span class="stringliteral">  MCOperand DestReg = Inst.getOperand(DestRegOpIdx);</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="stringliteral">  unsigned SymbolOpIdx = HasTmpReg ? 2 : 1;</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="stringliteral">  MCOperand TmpReg = Inst.getOperand(0);</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;<span class="stringliteral">  const MCExpr *Symbol = Inst.getOperand(SymbolOpIdx).getExpr();</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;<span class="stringliteral">  emitAuipcInstPair(DestReg, TmpReg, Symbol, RISCVMCExpr::VK_RISCV_PCREL_HI,</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="stringliteral">                    Opcode, IDLoc, Out);</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitPseudoExtend(MCInst &amp;Inst, bool SignExtend,</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;<span class="stringliteral">                                      int64_t Width, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;<span class="stringliteral">                                      MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;<span class="stringliteral">  // The sign/zero extend pseudo-instruction does two shifts, with the shift</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;<span class="stringliteral">  // amounts dependent on the XLEN.</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;<span class="stringliteral">  // The expansion looks like this</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;<span class="stringliteral">  //</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;<span class="stringliteral">  //    SLLI rd, rs, XLEN - Width</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;<span class="stringliteral">  //    SR[A|R]I rd, rd, XLEN - Width</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;<span class="stringliteral">  MCOperand DestReg = Inst.getOperand(0);</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="stringliteral">  MCOperand SourceReg = Inst.getOperand(1);</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;<span class="stringliteral">  unsigned SecondOpcode = SignExtend ? RISCV::SRAI : RISCV::SRLI;</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="stringliteral">  int64_t ShAmt = (isRV64() ? 64 : 32) - Width;</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="stringliteral">  assert(ShAmt &gt; 0 &amp;&amp; &quot;</span><a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> amount must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> non-<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac86babb598befe37e9063b005ccda6a0">zero</a>.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;<span class="stringliteral">  emitToStreamer(Out, MCInstBuilder(RISCV::SLLI)</span></div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;<span class="stringliteral">                          .addOperand(DestReg)</span></div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;<span class="stringliteral">                          .addOperand(SourceReg)</span></div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="stringliteral">                          .addImm(ShAmt));</span></div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="stringliteral">  emitToStreamer(Out, MCInstBuilder(SecondOpcode)</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="stringliteral">                          .addOperand(DestReg)</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="stringliteral">                          .addOperand(DestReg)</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="stringliteral">                          .addImm(ShAmt));</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="stringliteral">void RISCVAsmParser::emitVMSGE(MCInst &amp;Inst, unsigned Opcode, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="stringliteral">                               MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="stringliteral">  if (Inst.getNumOperands() == 3) {</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="stringliteral">    // unmasked va &gt;= x</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="stringliteral">    //</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="stringliteral">    //  pseudoinstruction: vmsge{u}.vx vd, va, x</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<span class="stringliteral">    //  expansion: vmslt{u}.vx vd, va, x; vmnand.mm vd, vd, vd</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(Opcode)</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(2))</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="stringliteral">                            .addReg(RISCV::NoRegister));</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(RISCV::VMNAND_MM)</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0)));</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;<span class="stringliteral">  } else if (Inst.getNumOperands() == 4) {</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;<span class="stringliteral">    // masked va &gt;= x, vd != v0</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;<span class="stringliteral">    //</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;<span class="stringliteral">    //  pseudoinstruction: vmsge{u}.vx vd, va, x, v0.t</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;<span class="stringliteral">    //  expansion: vmslt{u}.vx vd, va, x, v0.t; vmxor.mm vd, vd, v0</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;<span class="stringliteral">    assert(Inst.getOperand(0).getReg() != RISCV::V0 &amp;&amp;</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;<span class="stringliteral">           &quot;</span>The destination <span class="keyword">register</span> should <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a46e498e9b70d8cac397bcbb09510c615">not</a> <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> V0.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(Opcode)</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(2))</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(3)));</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(RISCV::VMXOR_MM)</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;<span class="stringliteral">                            .addReg(RISCV::V0));</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;<span class="stringliteral">  } else if (Inst.getNumOperands() == 5 &amp;&amp;</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;<span class="stringliteral">             Inst.getOperand(0).getReg() == RISCV::V0) {</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;<span class="stringliteral">    // masked va &gt;= x, vd == v0</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;<span class="stringliteral">    //</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;<span class="stringliteral">    //  pseudoinstruction: vmsge{u}.vx vd, va, x, v0.t, vt</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;<span class="stringliteral">    //  expansion: vmslt{u}.vx vt, va, x;  vmandn.mm vd, vd, vt</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<span class="stringliteral">    assert(Inst.getOperand(0).getReg() == RISCV::V0 &amp;&amp;</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="stringliteral">           &quot;</span>The destination <span class="keyword">register</span> should <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> V0.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;<span class="stringliteral">    assert(Inst.getOperand(1).getReg() != RISCV::V0 &amp;&amp;</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;<span class="stringliteral">           &quot;</span>The temporary vector <span class="keyword">register</span> should <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a46e498e9b70d8cac397bcbb09510c615">not</a> <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> V0.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(Opcode)</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(2))</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(3))</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(4)));</span></div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(RISCV::VMANDN_MM)</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1)));</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;<span class="stringliteral">  } else if (Inst.getNumOperands() == 5) {</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;<span class="stringliteral">    // masked va &gt;= x, any vd</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;<span class="stringliteral">    //</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;<span class="stringliteral">    // pseudoinstruction: vmsge{u}.vx vd, va, x, v0.t, vt</span></div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;<span class="stringliteral">    // expansion: vmslt{u}.vx vt, va, x; vmandn.mm vt, v0, vt; vmandn.mm vd,</span></div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;<span class="stringliteral">    // vd, v0; vmor.mm vd, vt, vd</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;<span class="stringliteral">    assert(Inst.getOperand(1).getReg() != RISCV::V0 &amp;&amp;</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;<span class="stringliteral">           &quot;</span>The temporary vector <span class="keyword">register</span> should <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a46e498e9b70d8cac397bcbb09510c615">not</a> <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> V0.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(Opcode)</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(2))</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(3))</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;<span class="stringliteral">                            .addReg(RISCV::NoRegister));</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(RISCV::VMANDN_MM)</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;<span class="stringliteral">                            .addReg(RISCV::V0)</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1)));</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(RISCV::VMANDN_MM)</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<span class="stringliteral">                            .addReg(RISCV::V0));</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(RISCV::VMOR_MM)</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0)));</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="stringliteral">bool RISCVAsmParser::checkPseudoAddTPRel(MCInst &amp;Inst,</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="stringliteral">                                         OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="stringliteral">  assert(Inst.getOpcode() == RISCV::PseudoAddTPRel &amp;&amp; &quot;</span>Invalid <a class="code" href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a><span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="stringliteral">  assert(Inst.getOperand(2).isReg() &amp;&amp; &quot;</span>Unexpected second operand kind<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;<span class="stringliteral">  if (Inst.getOperand(2).getReg() != RISCV::X4) {</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<span class="stringliteral">    SMLoc ErrorLoc = ((RISCVOperand &amp;)*Operands[3]).getStartLoc();</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;<span class="stringliteral">    return Error(ErrorLoc, &quot;</span>the second <a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a> operand must <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> tp/x4 when <span class="keyword">using</span> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;<span class="stringliteral">                           &quot;</span>%tprel_add modifier<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="stringliteral">std::unique_ptr&lt;RISCVOperand&gt; RISCVAsmParser::defaultMaskRegOp() const {</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="stringliteral">  return RISCVOperand::createReg(RISCV::NoRegister, llvm::SMLoc(),</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="stringliteral">                                 llvm::SMLoc());</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="stringliteral">std::unique_ptr&lt;RISCVOperand&gt; RISCVAsmParser::defaultFRMArgOp() const {</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;<span class="stringliteral">  return RISCVOperand::createFRMArg(RISCVFPRndMode::RoundingMode::DYN,</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="stringliteral">                                    llvm::SMLoc());</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;<span class="stringliteral">bool RISCVAsmParser::validateInstruction(MCInst &amp;Inst,</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;<span class="stringliteral">                                         OperandVector &amp;Operands) {</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="stringliteral">  if (Inst.getOpcode() == RISCV::PseudoVMSGEU_VX_M_T ||</span></div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;<span class="stringliteral">      Inst.getOpcode() == RISCV::PseudoVMSGE_VX_M_T) {</span></div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="stringliteral">    unsigned DestReg = Inst.getOperand(0).getReg();</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;<span class="stringliteral">    unsigned TempReg = Inst.getOperand(1).getReg();</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;<span class="stringliteral">    if (DestReg == TempReg) {</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;<span class="stringliteral">      SMLoc Loc = Operands.back()-&gt;getStartLoc();</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;<span class="stringliteral">      return Error(Loc, &quot;</span>The temporary vector <span class="keyword">register</span> cannot <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> the same <a class="code" href="lib_2Target_2README_8txt.html#a86a8d7c35fb9eeb53412ca9bca388e99">as</a> <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;<span class="stringliteral">                        &quot;</span>the destination <span class="keyword">register</span>.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="stringliteral">  const MCInstrDesc &amp;MCID = MII.get(Inst.getOpcode());</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<span class="stringliteral">  RISCVII::VConstraintType Constraints = RISCVII::getConstraint(MCID.TSFlags);</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="stringliteral">  if (Constraints == RISCVII::NoConstraint)</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<span class="stringliteral">  unsigned DestReg = Inst.getOperand(0).getReg();</span></div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;<span class="stringliteral">  // Operands[1] will be the first operand, DestReg.</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;<span class="stringliteral">  SMLoc Loc = Operands[1]-&gt;getStartLoc();</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;<span class="stringliteral">  if (Constraints &amp; RISCVII::VS2Constraint) {</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;<span class="stringliteral">    unsigned CheckReg = Inst.getOperand(1).getReg();</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="stringliteral">    if (DestReg == CheckReg)</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="stringliteral">      return Error(Loc, &quot;</span>The destination vector <span class="keyword">register</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a> cannot overlap<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="stringliteral">                        &quot;</span> the source vector <span class="keyword">register</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a>.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="stringliteral">  if ((Constraints &amp; RISCVII::VS1Constraint) &amp;&amp; (Inst.getOperand(2).isReg())) {</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;<span class="stringliteral">    unsigned CheckReg = Inst.getOperand(2).getReg();</span></div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;<span class="stringliteral">    if (DestReg == CheckReg)</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;<span class="stringliteral">      return Error(Loc, &quot;</span>The destination vector <span class="keyword">register</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a> cannot overlap<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="stringliteral">                        &quot;</span> the source vector <span class="keyword">register</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a>.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;<span class="stringliteral">  if ((Constraints &amp; RISCVII::VMConstraint) &amp;&amp; (DestReg == RISCV::V0)) {</span></div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;<span class="stringliteral">    // vadc, vsbc are special cases. These instructions have no mask register.</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;<span class="stringliteral">    // The destination register could not be V0.</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;<span class="stringliteral">    unsigned Opcode = Inst.getOpcode();</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;<span class="stringliteral">    if (Opcode == RISCV::VADC_VVM || Opcode == RISCV::VADC_VXM ||</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;<span class="stringliteral">        Opcode == RISCV::VADC_VIM || Opcode == RISCV::VSBC_VVM ||</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;<span class="stringliteral">        Opcode == RISCV::VSBC_VXM || Opcode == RISCV::VFMERGE_VFM ||</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;<span class="stringliteral">        Opcode == RISCV::VMERGE_VIM || Opcode == RISCV::VMERGE_VVM ||</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;<span class="stringliteral">        Opcode == RISCV::VMERGE_VXM)</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="stringliteral">      return Error(Loc, &quot;</span>The destination vector <span class="keyword">register</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a> cannot <a class="code" href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a> V0.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="stringliteral">    // Regardless masked or unmasked version, the number of operands is the</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;<span class="stringliteral">    // same. For example, &quot;</span>viota.m v0, <a class="code" href="lib_2Support_2Unix_2README_8txt.html#a410af5b575104e0ef992b86ca94fa569">v2</a><span class="stringliteral">&quot; is &quot;</span>viota.m v0, <a class="code" href="lib_2Support_2Unix_2README_8txt.html#a410af5b575104e0ef992b86ca94fa569">v2</a>, NoRegister<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="stringliteral">    // actually. We need to check the last operand to ensure whether it is</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="stringliteral">    // masked or not.</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;<span class="stringliteral">    unsigned CheckReg = Inst.getOperand(Inst.getNumOperands() - 1).getReg();</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<span class="stringliteral">    assert((CheckReg == RISCV::V0 || CheckReg == RISCV::NoRegister) &amp;&amp;</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="stringliteral">           &quot;</span>Unexpected <span class="keyword">register</span> <span class="keywordflow">for</span> <a class="code" href="namespaceshuffles.html#a6abf8a645bd24dfb42085db9672ac39a">mask</a> operand<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;<span class="stringliteral">    if (DestReg == CheckReg)</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="stringliteral">      return Error(Loc, &quot;</span>The destination vector <span class="keyword">register</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a> cannot overlap<span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;<span class="stringliteral">                        &quot;</span> the <a class="code" href="namespaceshuffles.html#a6abf8a645bd24dfb42085db9672ac39a">mask</a> <span class="keyword">register</span>.<span class="stringliteral">&quot;);</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="stringliteral">bool RISCVAsmParser::processInstruction(MCInst &amp;Inst, SMLoc IDLoc,</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;<span class="stringliteral">                                        OperandVector &amp;Operands,</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;<span class="stringliteral">                                        MCStreamer &amp;Out) {</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="stringliteral">  Inst.setLoc(IDLoc);</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="stringliteral">  switch (Inst.getOpcode()) {</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="stringliteral">  default:</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;<span class="stringliteral">  case RISCV::PseudoLI: {</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<span class="stringliteral">    MCRegister Reg = Inst.getOperand(0).getReg();</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;<span class="stringliteral">    const MCOperand &amp;Op1 = Inst.getOperand(1);</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="stringliteral">    if (Op1.isExpr()) {</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<span class="stringliteral">      // We must have li reg, %lo(sym) or li reg, %pcrel_lo(sym) or similar.</span></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="stringliteral">      // Just convert to an addi. This allows compatibility with gas.</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="stringliteral">      emitToStreamer(Out, MCInstBuilder(RISCV::ADDI)</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<span class="stringliteral">                              .addReg(Reg)</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;<span class="stringliteral">                              .addReg(RISCV::X0)</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="stringliteral">                              .addExpr(Op1.getExpr()));</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;<span class="stringliteral">      return false;</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="stringliteral">    int64_t Imm = Inst.getOperand(1).getImm();</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;<span class="stringliteral">    // On RV32 the immediate here can either be a signed or an unsigned</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;<span class="stringliteral">    // 32-bit number. Sign extension has to be performed to ensure that Imm</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="stringliteral">    // represents the expected signed 64-bit number.</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;<span class="stringliteral">    if (!isRV64())</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;<span class="stringliteral">      Imm = SignExtend64&lt;32&gt;(Imm);</span></div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<span class="stringliteral">    emitLoadImm(Reg, Imm, Out);</span></div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="stringliteral">  case RISCV::PseudoLLA:</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="stringliteral">    emitLoadLocalAddress(Inst, IDLoc, Out);</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;<span class="stringliteral">  case RISCV::PseudoLA:</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="stringliteral">    emitLoadAddress(Inst, IDLoc, Out);</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;<span class="stringliteral">  case RISCV::PseudoLA_TLS_IE:</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="stringliteral">    emitLoadTLSIEAddress(Inst, IDLoc, Out);</span></div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="stringliteral">  case RISCV::PseudoLA_TLS_GD:</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="stringliteral">    emitLoadTLSGDAddress(Inst, IDLoc, Out);</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="stringliteral">  case RISCV::PseudoLB:</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LB, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;<span class="stringliteral">  case RISCV::PseudoLBU:</span></div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LBU, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;<span class="stringliteral">  case RISCV::PseudoLH:</span></div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LH, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="stringliteral">  case RISCV::PseudoLHU:</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LHU, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<span class="stringliteral">  case RISCV::PseudoLW:</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LW, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="stringliteral">  case RISCV::PseudoLWU:</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LWU, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;<span class="stringliteral">  case RISCV::PseudoLD:</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::LD, IDLoc, Out, /*HasTmpReg=*/false);</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="stringliteral">  case RISCV::PseudoFLH:</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::FLH, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;<span class="stringliteral">  case RISCV::PseudoFLW:</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::FLW, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="stringliteral">  case RISCV::PseudoFLD:</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::FLD, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;<span class="stringliteral">  case RISCV::PseudoSB:</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::SB, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="stringliteral">  case RISCV::PseudoSH:</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::SH, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="stringliteral">  case RISCV::PseudoSW:</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::SW, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;<span class="stringliteral">  case RISCV::PseudoSD:</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::SD, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="stringliteral">  case RISCV::PseudoFSH:</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::FSH, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;<span class="stringliteral">  case RISCV::PseudoFSW:</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::FSW, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="stringliteral">  case RISCV::PseudoFSD:</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="stringliteral">    emitLoadStoreSymbol(Inst, RISCV::FSD, IDLoc, Out, /*HasTmpReg=*/true);</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="stringliteral">  case RISCV::PseudoAddTPRel:</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="stringliteral">    if (checkPseudoAddTPRel(Inst, Operands))</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="stringliteral">      return true;</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="stringliteral">    break;</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;<span class="stringliteral">  case RISCV::PseudoSEXT_B:</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;<span class="stringliteral">    emitPseudoExtend(Inst, /*SignExtend=*/true, /*Width=*/8, IDLoc, Out);</span></div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;<span class="stringliteral">  case RISCV::PseudoSEXT_H:</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;<span class="stringliteral">    emitPseudoExtend(Inst, /*SignExtend=*/true, /*Width=*/16, IDLoc, Out);</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="stringliteral">  case RISCV::PseudoZEXT_H:</span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="stringliteral">    emitPseudoExtend(Inst, /*SignExtend=*/false, /*Width=*/16, IDLoc, Out);</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="stringliteral">  case RISCV::PseudoZEXT_W:</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="stringliteral">    emitPseudoExtend(Inst, /*SignExtend=*/false, /*Width=*/32, IDLoc, Out);</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGEU_VX:</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGEU_VX_M:</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGEU_VX_M_T:</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<span class="stringliteral">    emitVMSGE(Inst, RISCV::VMSLTU_VX, IDLoc, Out);</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGE_VX:</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGE_VX_M:</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGE_VX_M_T:</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="stringliteral">    emitVMSGE(Inst, RISCV::VMSLT_VX, IDLoc, Out);</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGE_VI:</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSLT_VI: {</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="stringliteral">    // These instructions are signed and so is immediate so we can subtract one</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="stringliteral">    // and change the opcode.</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;<span class="stringliteral">    int64_t Imm = Inst.getOperand(2).getImm();</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;<span class="stringliteral">    unsigned Opc = Inst.getOpcode() == RISCV::PseudoVMSGE_VI ? RISCV::VMSGT_VI</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<span class="stringliteral">                                                             : RISCV::VMSLE_VI;</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;<span class="stringliteral">    emitToStreamer(Out, MCInstBuilder(Opc)</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;<span class="stringliteral">                            .addImm(Imm - 1)</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="stringliteral">                            .addOperand(Inst.getOperand(3)));</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSGEU_VI:</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;<span class="stringliteral">  case RISCV::PseudoVMSLTU_VI: {</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;<span class="stringliteral">    int64_t Imm = Inst.getOperand(2).getImm();</span></div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="stringliteral">    // Unsigned comparisons are tricky because the immediate is signed. If the</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="stringliteral">    // immediate is 0 we can&#39;t just subtract one. vmsltu.vi v0, v1, 0 is always</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<span class="stringliteral">    // false, but vmsle.vi v0, v1, -1 is always true. Instead we use</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="stringliteral">    // vmsne v0, v1, v1 which is always false.</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;<span class="stringliteral">    if (Imm == 0) {</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;<span class="stringliteral">      unsigned Opc = Inst.getOpcode() == RISCV::PseudoVMSGEU_VI</span></div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="stringliteral">                         ? RISCV::VMSEQ_VV</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;<span class="stringliteral">                         : RISCV::VMSNE_VV;</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;<span class="stringliteral">      emitToStreamer(Out, MCInstBuilder(Opc)</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(3)));</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;<span class="stringliteral">    } else {</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<span class="stringliteral">      // Other immediate values can subtract one like signed.</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="stringliteral">      unsigned Opc = Inst.getOpcode() == RISCV::PseudoVMSGEU_VI</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="stringliteral">                         ? RISCV::VMSGTU_VI</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="stringliteral">                         : RISCV::VMSLEU_VI;</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="stringliteral">      emitToStreamer(Out, MCInstBuilder(Opc)</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(0))</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(1))</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="stringliteral">                              .addImm(Imm - 1)</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;<span class="stringliteral">                              .addOperand(Inst.getOperand(3)));</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="stringliteral">    return false;</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="stringliteral">  }</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="stringliteral">  emitToStreamer(Out, Inst);</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="stringliteral">  return false;</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l02868"></a><span class="lineno"><a class="line" href="RISCVAsmParser_8cpp.html#a21a3e5f0be05170ba0770c83199e4db2"> 2868</a></span>&#160;<span class="stringliteral">extern &quot;</span>C<span class="stringliteral">&quot; LLVM_EXTERNAL_VISIBILITY void LLVMInitializeRISCVAsmParser() {</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;<span class="stringliteral">  RegisterMCAsmParser&lt;RISCVAsmParser&gt; X(getTheRISCV32Target());</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="stringliteral">  RegisterMCAsmParser&lt;RISCVAsmParser&gt; Y(getTheRISCV64Target());</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="stringliteral">}</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1MCTargetStreamer_html_a019897005f280c86f9e994d4f75cdcef"><div class="ttname"><a href="classllvm_1_1MCTargetStreamer.html#a019897005f280c86f9e994d4f75cdcef">llvm::MCTargetStreamer::getStreamer</a></div><div class="ttdeci">MCStreamer &amp; getStreamer()</div><div class="ttdef"><b>Definition:</b> <a href="MCStreamer_8h_source.html#l00101">MCStreamer.h:101</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aLocalizer_8cpp_html_a428090a453f41a199ef67fc3f2179fbc"><div class="ttname"><a href="Localizer_8cpp.html#a428090a453f41a199ef67fc3f2179fbc">use</a></div><div class="ttdeci">Move duplicate certain instructions close to their use</div><div class="ttdef"><b>Definition:</b> <a href="Localizer_8cpp_source.html#l00032">Localizer.cpp:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCAsmParser_html"><div class="ttname"><a href="classllvm_1_1MCAsmParser.html">llvm::MCAsmParser</a></div><div class="ttdoc">Generic assembler parser interface, for use by target specific assembly parsers.</div><div class="ttdef"><b>Definition:</b> <a href="MCAsmParser_8h_source.html#l00123">MCAsmParser.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCContext_html_a3a4f79e9c6f9e277f0299783010a67dc"><div class="ttname"><a href="classllvm_1_1MCContext.html#a3a4f79e9c6f9e277f0299783010a67dc">llvm::MCContext::getObjectFileInfo</a></div><div class="ttdeci">const MCObjectFileInfo * getObjectFileInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="MCContext_8h_source.html#l00450">MCContext.h:450</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_aa660bb6aec19f6cb361a36080a776dfb"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#aa660bb6aec19f6cb361a36080a776dfb">is</a></div><div class="ttdeci">should just be implemented with a CLZ instruction Since there are other e that share this it would be best to implement this in a target independent as zero is the default value for the binary encoder e add r0 add r5 Register operands should be distinct That is</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00725">README.txt:725</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a86a8d7c35fb9eeb53412ca9bca388e99"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a86a8d7c35fb9eeb53412ca9bca388e99">as</a></div><div class="ttdeci">compiles conv shl5 shl ret i32 or10 it would be better as</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00615">README.txt:615</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="alib_2Target_2WebAssembly_2README_8txt_html_a2ff42d8940320394fe7c9ebefd235621"><div class="ttname"><a href="lib_2Target_2WebAssembly_2README_8txt.html#a2ff42d8940320394fe7c9ebefd235621">constant</a></div><div class="ttdeci">we should consider alternate ways to model stack dependencies Lots of things could be done in WebAssemblyTargetTransformInfo cpp there are numerous optimization related hooks that can be overridden in WebAssemblyTargetLowering Instead of the OptimizeReturned which should consider preserving the returned attribute through to MachineInstrs and extending the MemIntrinsicResults pass to do this optimization on calls too That would also let the WebAssemblyPeephole pass clean up dead defs for such as it does for stores Consider implementing and or getMachineCombinerPatterns Find a clean way to fix the problem which leads to the Shrink Wrapping pass being run after the WebAssembly PEI pass When setting multiple variables to the same constant</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2WebAssembly_2README_8txt_source.html#l00091">README.txt:91</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac86babb598befe37e9063b005ccda6a0"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac86babb598befe37e9063b005ccda6a0">zero</a></div><div class="ttdeci">We currently generate a but we really shouldn eax ecx xorl edx divl ecx eax divl ecx movl eax ret A similar code sequence works for division We currently compile i32 v2 eax eax jo LBB1_2 atomic and others It is also currently not done for read modify write instructions It is also current not done if the OF or CF flags are needed The shift operators have the complication that when the shift count is zero</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01277">README.txt:1277</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCParsedAsmOperand_html"><div class="ttname"><a href="classllvm_1_1MCParsedAsmOperand.html">llvm::MCParsedAsmOperand</a></div><div class="ttdoc">MCParsedAsmOperand - This abstract class represents a source-level assembly instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MCParsedAsmOperand_8h_source.html#l00024">MCParsedAsmOperand.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a739b9795700df7ae19816f89508f1b49"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a739b9795700df7ae19816f89508f1b49">llvm::RISCVMCExpr::VK_RISCV_TLS_GD_HI</a></div><div class="ttdeci">@ VK_RISCV_TLS_GD_HI</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00036">RISCVMCExpr.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a9396ec898399370b727b35de80497248"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a9396ec898399370b727b35de80497248">llvm::RISCVMCExpr::VK_RISCV_TPREL_ADD</a></div><div class="ttdeci">@ VK_RISCV_TPREL_ADD</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00034">RISCVMCExpr.h:34</a></div></div>
<div class="ttc" id="aSMEABIPass_8cpp_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="SMEABIPass_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">static const char * name</div><div class="ttdef"><b>Definition:</b> <a href="SMEABIPass_8cpp_source.html#l00049">SMEABIPass.cpp:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aMCParsedAsmOperand_8h_html"><div class="ttname"><a href="MCParsedAsmOperand_8h.html">MCParsedAsmOperand.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aBitstreamRemarkSerializer_8cpp_html_a720622fc32fd2435f7726d832d851ea6"><div class="ttname"><a href="BitstreamRemarkSerializer_8cpp.html#a720622fc32fd2435f7726d832d851ea6">push</a></div><div class="ttdeci">static void push(SmallVectorImpl&lt; uint64_t &gt; &amp;R, StringRef Str)</div><div class="ttdef"><b>Definition:</b> <a href="BitstreamRemarkSerializer_8cpp_source.html#l00025">BitstreamRemarkSerializer.cpp:25</a></div></div>
<div class="ttc" id="aMCInstBuilder_8h_html"><div class="ttname"><a href="MCInstBuilder_8h.html">MCInstBuilder.h</a></div></div>
<div class="ttc" id="aMCAssembler_8h_html"><div class="ttname"><a href="MCAssembler_8h.html">MCAssembler.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a91f4469a9d29e354421494afd4ba466d"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a91f4469a9d29e354421494afd4ba466d">to</a></div><div class="ttdeci">Should compile to</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00449">README.txt:449</a></div></div>
<div class="ttc" id="aMCObjectFileInfo_8h_html"><div class="ttname"><a href="MCObjectFileInfo_8h.html">MCObjectFileInfo.h</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="aRISCVMCExpr_8h_html"><div class="ttname"><a href="RISCVMCExpr_8h.html">RISCVMCExpr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a1cfe2bb904199433c2ef567b6227db8c"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a1cfe2bb904199433c2ef567b6227db8c">llvm::RISCVMCExpr::VK_RISCV_TPREL_LO</a></div><div class="ttdeci">@ VK_RISCV_TPREL_LO</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00032">RISCVMCExpr.h:32</a></div></div>
<div class="ttc" id="aPPCISelLowering_8cpp_html_a587c39adeaa08f2c374d7bc55731513a"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a587c39adeaa08f2c374d7bc55731513a">FPR</a></div><div class="ttdeci">static const MCPhysReg FPR[]</div><div class="ttdoc">FPR - The set of FP registers that should be allocated for arguments on Darwin and AIX.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03884">PPCISelLowering.cpp:3884</a></div></div>
<div class="ttc" id="aclassllvm_1_1FeatureBitset_html"><div class="ttname"><a href="classllvm_1_1FeatureBitset.html">llvm::FeatureBitset</a></div><div class="ttdoc">Container class for subtarget features.</div><div class="ttdef"><b>Definition:</b> <a href="SubtargetFeature_8h_source.html#l00041">SubtargetFeature.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aRISCVAttributes_8h_html"><div class="ttname"><a href="RISCVAttributes_8h.html">RISCVAttributes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6ab5c3ca301e449ab85f42444601bba378"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6ab5c3ca301e449ab85f42444601bba378">llvm::RISCVMCExpr::VK_RISCV_HI</a></div><div class="ttdeci">@ VK_RISCV_HI</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00028">RISCVMCExpr.h:28</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInst_html"><div class="ttname"><a href="classllvm_1_1MCInst.html">llvm::MCInst</a></div><div class="ttdoc">Instances of this class represent a single low-level machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00184">MCInst.h:184</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a28a380cf34cda5c68bbe50aa22378bb1"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a28a380cf34cda5c68bbe50aa22378bb1">llvm::RISCVMCExpr::VK_RISCV_TPREL_HI</a></div><div class="ttdeci">@ VK_RISCV_TPREL_HI</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00033">RISCVMCExpr.h:33</a></div></div>
<div class="ttc" id="aRISCVMatInt_8h_html"><div class="ttname"><a href="RISCVMatInt_8h.html">RISCVMatInt.h</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a0aa3d83b100058ffd7399364d6b76b5d"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a0aa3d83b100058ffd7399364d6b76b5d">and</a></div><div class="ttdeci">We currently generate a but we really shouldn eax ecx xorl edx divl ecx eax divl ecx movl eax ret A similar code sequence works for division We currently compile i32 v2 eax eax jo LBB1_2 and</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01271">README.txt:1271</a></div></div>
<div class="ttc" id="aMCTargetAsmParser_8h_html"><div class="ttname"><a href="MCTargetAsmParser_8h.html">MCTargetAsmParser.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1AsmToken_html"><div class="ttname"><a href="classllvm_1_1AsmToken.html">llvm::AsmToken</a></div><div class="ttdoc">Target independent representation for an assembler token.</div><div class="ttdef"><b>Definition:</b> <a href="MCAsmMacro_8h_source.html#l00021">MCAsmMacro.h:21</a></div></div>
<div class="ttc" id="aSPIRVInstructionSelector_8cpp_html_a6fe0144adffd7bad0aeca668f4468b28"><div class="ttname"><a href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a></div><div class="ttdeci">static bool isImm(const MachineOperand &amp;MO, MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="SPIRVInstructionSelector_8cpp_source.html#l01218">SPIRVInstructionSelector.cpp:1218</a></div></div>
<div class="ttc" id="aRISCVInstPrinter_8h_html"><div class="ttname"><a href="RISCVInstPrinter_8h.html">RISCVInstPrinter.h</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a7ef4d3003047043a3de118adbb0570fd"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a></div><div class="ttdeci">=0.0 ? 0.0 :(a &gt; 0.0 ? 1.0 :-1.0) a</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a17c514839d8a0aca51f132e5dae74967"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a17c514839d8a0aca51f132e5dae74967">llvm::RISCVMCExpr::VK_RISCV_TLS_GOT_HI</a></div><div class="ttdeci">@ VK_RISCV_TLS_GOT_HI</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00035">RISCVMCExpr.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6">llvm::RISCVMCExpr::VariantKind</a></div><div class="ttdeci">VariantKind</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00025">RISCVMCExpr.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCStreamer_html"><div class="ttname"><a href="classllvm_1_1MCStreamer.html">llvm::MCStreamer</a></div><div class="ttdoc">Streaming machine code generation interface.</div><div class="ttdef"><b>Definition:</b> <a href="MCStreamer_8h_source.html#l00212">MCStreamer.h:212</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a2ee0af66fe0326c32ec4a34e371db61f"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a2ee0af66fe0326c32ec4a34e371db61f">r4</a></div><div class="ttdeci">Common register allocation spilling r4</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00005">README.txt:5</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMLoc_html"><div class="ttname"><a href="classllvm_1_1SMLoc.html">llvm::SMLoc</a></div><div class="ttdoc">Represents a location in source code.</div><div class="ttdef"><b>Definition:</b> <a href="SMLoc_8h_source.html#l00023">SMLoc.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aMipsDisassembler_8cpp_html_a15b5b86944f6df97d2c3659d77f51f91"><div class="ttname"><a href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a></div><div class="ttdeci">static unsigned getReg(const MCDisassembler *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="MipsDisassembler_8cpp_source.html#l00521">MipsDisassembler.cpp:521</a></div></div>
<div class="ttc" id="aSmallString_8h_html"><div class="ttname"><a href="SmallString_8h.html">SmallString.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a3c930f90b860b3ff02df7bd420c1f89e"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a3c930f90b860b3ff02df7bd420c1f89e">llvm::RISCVMCExpr::VK_RISCV_LO</a></div><div class="ttdeci">@ VK_RISCV_LO</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00027">RISCVMCExpr.h:27</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Demangle_2README_8txt_html_a9d56f6c541a0ab888755f9bc198b8eca"><div class="ttname"><a href="include_2llvm_2Demangle_2README_8txt.html#a9d56f6c541a0ab888755f9bc198b8eca">f</a></div><div class="ttdeci">Itanium Name Demangler i e convert the string _Z1fv into f()&quot;. You can also use the CRTP base ManglingParser to perform some simple analysis on the mangled name</div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_ade49ed181f638745d20791212153660d"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#ade49ed181f638745d20791212153660d">llvm::MCSubtargetInfo::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00108">MCSubtargetInfo.h:108</a></div></div>
<div class="ttc" id="aMCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="aMCInstrInfo_8h_html"><div class="ttname"><a href="MCInstrInfo_8h.html">MCInstrInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCObjectFileInfo_html_a97edf1bb7914cfc9e329b9d2d103e2fe"><div class="ttname"><a href="classllvm_1_1MCObjectFileInfo.html#a97edf1bb7914cfc9e329b9d2d103e2fe">llvm::MCObjectFileInfo::isPositionIndependent</a></div><div class="ttdeci">bool isPositionIndependent() const</div><div class="ttdef"><b>Definition:</b> <a href="MCObjectFileInfo_8h_source.html#l00439">MCObjectFileInfo.h:439</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a50fd53d9a3e55ae78555e11827355565"><div class="ttname"><a href="README-SSE_8txt.html#a50fd53d9a3e55ae78555e11827355565">t</a></div><div class="ttdeci">bitcast float %x to i32 %s=and i32 %t, 2147483647 %d=bitcast i32 %s to float ret float %d } declare float @fabsf(float %n) define float @bar(float %x) nounwind { %d=call float @fabsf(float %x) ret float %d } This IR(from PR6194):target datalayout=&quot;e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128&quot; target triple=&quot;x86_64-apple-darwin10.0.0&quot; %0=type { double, double } %struct.float3=type { float, float, float } define void @test(%0, %struct.float3 *nocapture %res) nounwind noinline ssp { entry:%tmp18=extractvalue %0 %0, 0 t</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00788">README-SSE.txt:788</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="aMCInst_8h_html"><div class="ttname"><a href="MCInst_8h.html">MCInst.h</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_a7d64dacb468c798c45c8efd8c01e513c"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#a7d64dacb468c798c45c8efd8c01e513c">group</a></div><div class="ttdeci">bb420 i The CBE manages to mtctr r0 r11 stbx r9 addi bdz later b loop This could be much the loop would be a single dispatch group</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00061">README.txt:61</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a995470163b6d76695cba5bc8dfb529"><div class="ttname"><a href="namespacellvm.html#a1a995470163b6d76695cba5bc8dfb529">llvm::isUIntN</a></div><div class="ttdeci">bool isUIntN(unsigned N, uint64_t x)</div><div class="ttdoc">Checks if an unsigned integer fits into the given (dynamic) bit width.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00256">MathExtras.h:256</a></div></div>
<div class="ttc" id="aMCSubtargetInfo_8h_html"><div class="ttname"><a href="MCSubtargetInfo_8h.html">MCSubtargetInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_a0846b627834611da8db9f9e9660c2938"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a0846b627834611da8db9f9e9660c2938">llvm::MCSubtargetInfo::getFeatureBits</a></div><div class="ttdeci">const FeatureBitset &amp; getFeatureBits() const</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00112">MCSubtargetInfo.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCAsmParser_html_a62578eeb472bc0ff0f22bb437a22df6c"><div class="ttname"><a href="classllvm_1_1MCAsmParser.html#a62578eeb472bc0ff0f22bb437a22df6c">llvm::MCAsmParser::getContext</a></div><div class="ttdeci">virtual MCContext &amp; getContext()=0</div></div>
<div class="ttc" id="alib_2Target_2WebAssembly_2README_8txt_html_ad0f7d198414c3f3cf72769a0f58e5914"><div class="ttname"><a href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a></div><div class="ttdeci">The object format emitted by the WebAssembly backed is documented in</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2WebAssembly_2README_8txt_source.html#l00011">README.txt:11</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_aa0629dbc89f0868f62da8cbcb681b2be"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#aa0629dbc89f0868f62da8cbcb681b2be">be</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can be</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00014">README.txt:14</a></div></div>
<div class="ttc" id="aRISCVMCTargetDesc_8h_html"><div class="ttname"><a href="RISCVMCTargetDesc_8h.html">RISCVMCTargetDesc.h</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a47c521bf7ba0bb2147b96d068af30d04"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a47c521bf7ba0bb2147b96d068af30d04">Options</a></div><div class="ttdeci">const char LLVMTargetMachineRef LLVMPassBuilderOptionsRef Options</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00048">PassBuilderBindings.cpp:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCAsmParser_html_abd600bd726e3f0dc6745757b8ff99322"><div class="ttname"><a href="classllvm_1_1MCAsmParser.html#abd600bd726e3f0dc6745757b8ff99322">llvm::MCAsmParser::addAliasForDirective</a></div><div class="ttdeci">virtual void addAliasForDirective(StringRef Directive, StringRef Alias)=0</div></div>
<div class="ttc" id="aclassllvm_1_1MCTargetStreamer_html"><div class="ttname"><a href="classllvm_1_1MCTargetStreamer.html">llvm::MCTargetStreamer</a></div><div class="ttdoc">Target specific streamer interface.</div><div class="ttdef"><b>Definition:</b> <a href="MCStreamer_8h_source.html#l00093">MCStreamer.h:93</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="alib_2Target_2SystemZ_2README_8txt_html_a839cdc0e6ffaecf33b5d7bfc83e2b7ec"><div class="ttname"><a href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a></div><div class="ttdeci">The initial backend is deliberately restricted to z10 We should add support for later architectures at some point If an asm ties an i32 r result to an i64 input</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2SystemZ_2README_8txt_source.html#l00010">README.txt:10</a></div></div>
<div class="ttc" id="astructllvm_1_1SubtargetFeatureKV_html"><div class="ttname"><a href="structllvm_1_1SubtargetFeatureKV.html">llvm::SubtargetFeatureKV</a></div><div class="ttdoc">Used to provide key value pairs for feature and CPU bit flags.</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00035">MCSubtargetInfo.h:35</a></div></div>
<div class="ttc" id="aMem2Reg_8cpp_html_a6fde3eb6ca09ddf2fd76432176d817bb"><div class="ttname"><a href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a></div><div class="ttdeci">Promote Memory to Register</div><div class="ttdef"><b>Definition:</b> <a href="Mem2Reg_8cpp_source.html#l00110">Mem2Reg.cpp:110</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae3e84a62e4ae19e7766bde30ee72c040"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int c</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">llvm::lltok::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00018">LLToken.h:18</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="alib_2Target_2SystemZ_2README_8txt_html_a8e96f00729aa3d4404fa4eff73925f9d"><div class="ttname"><a href="lib_2Target_2SystemZ_2README_8txt.html#a8e96f00729aa3d4404fa4eff73925f9d">too</a></div><div class="ttdeci">The initial backend is deliberately restricted to z10 We should add support for later architectures at some point If an asm ties an i32 r result to an i64 the input will be treated as an leaving the upper bits uninitialised For i64 store i32 i32 *dst ret void from CodeGen SystemZ asm ll will use LHI rather than LGHI to load This seems to be a general target independent problem The tuning of the choice between LOAD XC and CLC for constant length block operations We could extend them to variable length operations too</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2SystemZ_2README_8txt_source.html#l00040">README.txt:40</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ade8c6980e1babe1b309a9bcec7eefd2c"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ade8c6980e1babe1b309a9bcec7eefd2c">one</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only one</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00401">README.txt:401</a></div></div>
<div class="ttc" id="alib_2Target_2WebAssembly_2README_8txt_html_a2f18db7a825d21ca8818134d56e0cee1"><div class="ttname"><a href="lib_2Target_2WebAssembly_2README_8txt.html#a2f18db7a825d21ca8818134d56e0cee1">jump</a></div><div class="ttdeci">The object format emitted by the WebAssembly backed is documented see the home and packaging for producing WebAssembly applications that can run in browsers and other environments wasi sdk provides a more minimal C C SDK based on llvm and a libc based on for producing WebAssemmbly applictions that use the WASI ABI Rust provides WebAssembly support integrated into Cargo There are two main which provides a relatively minimal environment that has an emphasis on being native wasm32 unknown which uses Emscripten internally and provides standard C C filesystem GL and SDL bindings For more and br_table instructions can support having a value on the value stack across the jump(sometimes). We should(a) model this</div></div>
<div class="ttc" id="aMIRNamerPass_8cpp_html_a05e4be4ec3e2c3587dda0e376bb6822c"><div class="ttname"><a href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a></div><div class="ttdeci">mir Rename Register Operands</div><div class="ttdef"><b>Definition:</b> <a href="MIRNamerPass_8cpp_source.html#l00074">MIRNamerPass.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_acaa1de0987d9c003e41c92f310c45746"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#acaa1de0987d9c003e41c92f310c45746">llvm::MCSubtargetInfo::ToggleFeature</a></div><div class="ttdeci">FeatureBitset ToggleFeature(uint64_t FB)</div><div class="ttdoc">Toggle a feature and return the re-computed feature bits.</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8cpp_source.html#l00241">MCSubtargetInfo.cpp:241</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a05180d523d3d284b05bddea7102bfd7d">llvm::RISCVMCExpr::VK_RISCV_None</a></div><div class="ttdeci">@ VK_RISCV_None</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00026">RISCVMCExpr.h:26</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a74cbdc7d94b0939a18d91b65d2a046aa"><div class="ttname"><a href="README-SSE_8txt.html#a74cbdc7d94b0939a18d91b65d2a046aa">bad</a></div><div class="ttdeci">We currently generate an sqrtsd and divsd instructions This is bad</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00820">README-SSE.txt:820</a></div></div>
<div class="ttc" id="aRISCVAsmBackend_8h_html"><div class="ttname"><a href="RISCVAsmBackend_8h.html">RISCVAsmBackend.h</a></div></div>
<div class="ttc" id="aRISCVTargetStreamer_8h_html"><div class="ttname"><a href="RISCVTargetStreamer_8h.html">RISCVTargetStreamer.h</a></div></div>
<div class="ttc" id="aMCAsmLexer_8h_html"><div class="ttname"><a href="MCAsmLexer_8h.html">MCAsmLexer.h</a></div></div>
<div class="ttc" id="aREADME-X86-64_8txt_html_aac3add0badd5c39bebc02df0b5d9bdcf"><div class="ttname"><a href="README-X86-64_8txt.html#aac3add0badd5c39bebc02df0b5d9bdcf">type</a></div><div class="ttdeci">AMD64 Optimization Manual has some nice information about optimizing integer multiplication by a constant How much of it applies to Intel s X86 implementation There are definite trade offs to xmm0 cvttss2siq rdx jb L3 subss xmm0 rax cvttss2siq rdx xorq rdx rax ret instead of xmm1 cvttss2siq rcx movaps xmm2 subss xmm2 cvttss2siq rax rdx xorq rax ucomiss xmm0 cmovb rax ret Seems like the jb branch has high likelihood of being taken It would have saved a few instructions It s not possible to reference and DH registers in an instruction requiring REX prefix divb and mulb both produce results in AH If isel emits a CopyFromReg which gets turned into a movb and that can be allocated a r8b r15b To get around isel emits a CopyFromReg from AX and then right shift it down by and truncate it It s not pretty but it works We need some register allocation magic to make the hack go which would often require a callee saved register Callees usually need to keep this value live for most of their body so it doesn t add a significant burden on them We currently implement this in however this is suboptimal because it means that it would be quite awkward to implement the optimization for callers A better implementation would be to relax the LLVM IR rules for sret arguments to allow a function with an sret argument to have a non void return type</div><div class="ttdef"><b>Definition:</b> <a href="README-X86-64_8txt_source.html#l00070">README-X86-64.txt:70</a></div></div>
<div class="ttc" id="astructllvm_1_1ParseInstructionInfo_html"><div class="ttname"><a href="structllvm_1_1ParseInstructionInfo.html">llvm::ParseInstructionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MCTargetAsmParser_8h_source.html#l00119">MCTargetAsmParser.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a380387ebfe7e093c92941ec73b8a2557"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a380387ebfe7e093c92941ec73b8a2557">llvm::RISCVMCExpr::VK_RISCV_PCREL_HI</a></div><div class="ttdeci">@ VK_RISCV_PCREL_HI</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00030">RISCVMCExpr.h:30</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a9026bda84f719fb903ddea83fc478a76"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a9026bda84f719fb903ddea83fc478a76">following</a></div><div class="ttdeci">This is equivalent to the following</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00671">README.txt:671</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00370">README.txt:370</a></div></div>
<div class="ttc" id="aRISCVISAInfo_8h_html"><div class="ttname"><a href="RISCVISAInfo_8h.html">RISCVISAInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aCorrelatedValuePropagation_8cpp_html_aad75d6f4f14a7b791076c6785aa59be4a88183b946cc5f0e8c96b2e66e1c74a7e"><div class="ttname"><a href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4a88183b946cc5f0e8c96b2e66e1c74a7e">Domain::Unknown</a></div><div class="ttdeci">@ Unknown</div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a4b697ccb4bf41db17dc4422189098f55"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a4b697ccb4bf41db17dc4422189098f55">llvm::RISCVMCExpr::VK_RISCV_PCREL_LO</a></div><div class="ttdeci">@ VK_RISCV_PCREL_LO</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00029">RISCVMCExpr.h:29</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6af53e7457e88370f76455f7cf9c525a8f"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6af53e7457e88370f76455f7cf9c525a8f">llvm::RISCVMCExpr::VK_RISCV_GOT_HI</a></div><div class="ttdeci">@ VK_RISCV_GOT_HI</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00031">RISCVMCExpr.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1WinEH_html_a1c8d8103d6b914c2ade85873cb97f6d9a7a86131338bf955e0a56311f264aa6aa"><div class="ttname"><a href="namespacellvm_1_1WinEH.html#a1c8d8103d6b914c2ade85873cb97f6d9a7a86131338bf955e0a56311f264aa6aa">llvm::WinEH::EncodingType::CE</a></div><div class="ttdeci">@ CE</div><div class="ttdoc">Windows NT (Windows on ARM)</div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">llvm::Length</a></div><div class="ttdeci">@ Length</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorInfo_html"><div class="ttname"><a href="classllvm_1_1ErrorInfo.html">llvm::ErrorInfo</a></div><div class="ttdoc">Base class for user error types.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00348">Error.h:348</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCTargetOptions_html"><div class="ttname"><a href="classllvm_1_1MCTargetOptions.html">llvm::MCTargetOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="MCTargetOptions_8h_source.html#l00037">MCTargetOptions.h:37</a></div></div>
<div class="ttc" id="anamespaceshuffles_html_a7cade9676084608ac3d3e68dcecbf95a"><div class="ttname"><a href="namespaceshuffles.html#a7cade9676084608ac3d3e68dcecbf95a">shuffles::hi</a></div><div class="ttdeci">ArrayRef&lt; int &gt; hi(ArrayRef&lt; int &gt; Vuu)</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelDAGToDAGHVX_8cpp_source.html#l00814">HexagonISelDAGToDAGHVX.cpp:814</a></div></div>
<div class="ttc" id="aMipsInstPrinter_8cpp_html_a85e8dc708ae90b1129b892cb8ae1500f"><div class="ttname"><a href="MipsInstPrinter_8cpp.html#a85e8dc708ae90b1129b892cb8ae1500f">isReg</a></div><div class="ttdeci">static bool isReg(const MCInst &amp;MI, unsigned OpNo)</div><div class="ttdef"><b>Definition:</b> <a href="MipsInstPrinter_8cpp_source.html#l00031">MipsInstPrinter.cpp:31</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67980a8ae101d2fda845eb750ffb1942"><div class="ttname"><a href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">llvm::print</a></div><div class="ttdeci">Printable print(const GCNRegPressure &amp;RP, const GCNSubtarget *ST=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="GCNRegPressure_8cpp_source.html#l00138">GCNRegPressure.cpp:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1binaryformat_html_ab355a2b14b4cc35373b4526fbfab894da80eaeeee65cce2c1b9fa9a5741956f9a"><div class="ttname"><a href="namespacellvm_1_1binaryformat.html#ab355a2b14b4cc35373b4526fbfab894da80eaeeee65cce2c1b9fa9a5741956f9a">llvm::binaryformat::unknown</a></div><div class="ttdeci">@ unknown</div><div class="ttdef"><b>Definition:</b> <a href="Swift_8h_source.html#l00018">Swift.h:18</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a3b54c55bd8a7121b30fc06cc567afcf0"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a3b54c55bd8a7121b30fc06cc567afcf0">instruction</a></div><div class="ttdeci">Since we know that Vector is byte aligned and we know the element offset of we should change the load into a lve *x instruction</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00037">README_ALTIVEC.txt:37</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="alib_2Support_2Unix_2README_8txt_html_a410af5b575104e0ef992b86ca94fa569"><div class="ttname"><a href="lib_2Support_2Unix_2README_8txt.html#a410af5b575104e0ef992b86ca94fa569">v2</a></div><div class="ttdeci">llvm lib Support Unix the directory structure underneath this directory could look like only those directories actually needing to be created should be created further subdirectories could be created to reflect versions of the various standards For under SUS there could be v2</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Support_2Unix_2README_8txt_source.html#l00015">README.txt:15</a></div></div>
<div class="ttc" id="anamespacellvm_html_a66f0c57e04037076030c6a6e48f44f2d"><div class="ttname"><a href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">llvm::format</a></div><div class="ttdeci">format_object&lt; Ts... &gt; format(const char *Fmt, const Ts &amp;... Vals)</div><div class="ttdoc">These are helper functions used to produce formatted output.</div><div class="ttdef"><b>Definition:</b> <a href="Format_8h_source.html#l00124">Format.h:124</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a46e498e9b70d8cac397bcbb09510c615"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a46e498e9b70d8cac397bcbb09510c615">not</a></div><div class="ttdeci">Should compile r2 movcc movcs str strb mov lr r1 movcs movcc mov lr not</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00465">README.txt:465</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_ad7fab8522e49be1b20c4db4fc431bd3c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">llvm::AMDGPU::SendMsg::Msg</a></div><div class="ttdeci">const CustomOperand&lt; const MCSubtargetInfo &amp; &gt; Msg[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUAsmUtils_8cpp_source.html#l00039">AMDGPUAsmUtils.cpp:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1fcdae651db3104b384cf4188a4f8c30"><div class="ttname"><a href="namespacellvm.html#a1fcdae651db3104b384cf4188a4f8c30">llvm::OperandMatchResultTy</a></div><div class="ttdeci">OperandMatchResultTy</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetAsmParser_8h_source.html#l00127">MCTargetAsmParser.h:127</a></div></div>
<div class="ttc" id="aREADME-Thumb_8txt_html_ad7bf7cc723b97ab4a518502c217ddbd7"><div class="ttname"><a href="README-Thumb_8txt.html#ad7bf7cc723b97ab4a518502c217ddbd7">mode</a></div><div class="ttdeci">*Add support for compiling functions in both ARM and Thumb mode</div><div class="ttdef"><b>Definition:</b> <a href="README-Thumb_8txt_source.html#l00005">README-Thumb.txt:5</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVVType_html_acab957b7266a5cb7bb0a69c3d1277397"><div class="ttname"><a href="namespacellvm_1_1RISCVVType.html#acab957b7266a5cb7bb0a69c3d1277397">llvm::RISCVVType::printVType</a></div><div class="ttdeci">void printVType(unsigned VType, raw_ostream &amp;OS)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8cpp_source.html#l00165">RISCVBaseInfo.cpp:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVInstPrinter_html_a150fc71b3d1a82817f7626c912b01abe"><div class="ttname"><a href="classllvm_1_1RISCVInstPrinter.html#a150fc71b3d1a82817f7626c912b01abe">llvm::RISCVInstPrinter::getRegisterName</a></div><div class="ttdeci">static const char * getRegisterName(MCRegister Reg)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInstPrinter_8cpp_source.html#l00195">RISCVInstPrinter.cpp:195</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrInfo_html"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html">llvm::MCInstrInfo</a></div><div class="ttdoc">Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00026">MCInstrInfo.h:26</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a3a82232c420700208dd1b19e316558d8"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z bit</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00584">README.txt:584</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_af9f7a898c4a757821053e38056d9383f"><div class="ttname"><a href="lib_2Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a></div><div class="ttdeci">compiles or</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00606">README.txt:606</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_abcb678e42ef8094f2b744592ec378feb"><div class="ttname"><a href="namespacellvm.html#abcb678e42ef8094f2b744592ec378feb">llvm::isShiftedInt</a></div><div class="ttdeci">constexpr bool isShiftedInt(int64_t x)</div><div class="ttdoc">Checks if a signed integer is an N bit number shifted left by S.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00194">MathExtras.h:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCTargetAsmParser_html"><div class="ttname"><a href="classllvm_1_1MCTargetAsmParser.html">llvm::MCTargetAsmParser</a></div><div class="ttdoc">MCTargetAsmParser - Generic interface to target specific assembly parsers.</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetAsmParser_8h_source.html#l00315">MCTargetAsmParser.h:315</a></div></div>
<div class="ttc" id="aWebAssemblyDisassembler_8cpp_html_ae6a0d5accd0cfdbb19d3201773677035"><div class="ttname"><a href="WebAssemblyDisassembler_8cpp.html#ae6a0d5accd0cfdbb19d3201773677035">parseImmediate</a></div><div class="ttdeci">bool parseImmediate(MCInst &amp;MI, uint64_t &amp;Size, ArrayRef&lt; uint8_t &gt; Bytes)</div><div class="ttdef"><b>Definition:</b> <a href="WebAssemblyDisassembler_8cpp_source.html#l00108">WebAssemblyDisassembler.cpp:108</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVABI_html_aaf73f32a2ee0338a1bffa1bc2139c181"><div class="ttname"><a href="namespacellvm_1_1RISCVABI.html#aaf73f32a2ee0338a1bffa1bc2139c181">llvm::RISCVABI::computeTargetABI</a></div><div class="ttdeci">ABI computeTargetABI(const Triple &amp;TT, FeatureBitset FeatureBits, StringRef ABIName)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8cpp_source.html#l00039">RISCVBaseInfo.cpp:39</a></div></div>
<div class="ttc" id="aMCValue_8h_html"><div class="ttname"><a href="MCValue_8h.html">MCValue.h</a></div></div>
<div class="ttc" id="aRISCVBaseInfo_8h_html"><div class="ttname"><a href="RISCVBaseInfo_8h.html">RISCVBaseInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFPRndMode_html_a9214a4f7f7322f485189dd3726776b76"><div class="ttname"><a href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76">llvm::RISCVFPRndMode::RoundingMode</a></div><div class="ttdeci">RoundingMode</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00285">RISCVBaseInfo.h:285</a></div></div>
<div class="ttc" id="aAArch64ISelLowering_8cpp_html_ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474"><div class="ttname"><a href="AArch64ISelLowering_8cpp.html#ada83aca5979cc25fd3af0d660cb50d3dae962ea8b0b3a376575ad0e616eeac474">Invalid</a></div><div class="ttdeci">@ Invalid</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8cpp_source.html#l09958">AArch64ISelLowering.cpp:9958</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6aa4478c3f29a4ad6e0fe8e721c821c476"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6aa4478c3f29a4ad6e0fe8e721c821c476">llvm::RISCVMCExpr::VK_RISCV_CALL</a></div><div class="ttdeci">@ VK_RISCV_CALL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00037">RISCVMCExpr.h:37</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCStreamer_html_a9e3f4aeecc5a194635c993c9f432b48a"><div class="ttname"><a href="classllvm_1_1MCStreamer.html#a9e3f4aeecc5a194635c993c9f432b48a">llvm::MCStreamer::getTargetStreamer</a></div><div class="ttdeci">MCTargetStreamer * getTargetStreamer()</div><div class="ttdef"><b>Definition:</b> <a href="MCStreamer_8h_source.html#l00304">MCStreamer.h:304</a></div></div>
<div class="ttc" id="aSmallBitVector_8h_html"><div class="ttname"><a href="SmallBitVector_8h.html">SmallBitVector.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aMCStreamer_8h_html"><div class="ttname"><a href="MCStreamer_8h.html">MCStreamer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb2e33eb1a7368945a838c85438b040"><div class="ttname"><a href="namespacellvm.html#a1eb2e33eb1a7368945a838c85438b040">llvm::isMem</a></div><div class="ttdeci">static bool isMem(const MachineInstr &amp;MI, unsigned Op)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00131">X86InstrInfo.h:131</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aLVLGen_8cpp_html_a0a198e38a5def54ba58bebc655eda8e7"><div class="ttname"><a href="LVLGen_8cpp.html#a0a198e38a5def54ba58bebc655eda8e7">RegName</a></div><div class="ttdeci">#define RegName(no)</div></div>
<div class="ttc" id="aRISCVTargetInfo_8h_html"><div class="ttname"><a href="RISCVTargetInfo_8h.html">RISCVTargetInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperand_html"><div class="ttname"><a href="classllvm_1_1MCOperand.html">llvm::MCOperand</a></div><div class="ttdoc">Instances of this class represent operands of the MCInst class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00036">MCInst.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetStreamer_html"><div class="ttname"><a href="classllvm_1_1RISCVTargetStreamer.html">llvm::RISCVTargetStreamer</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVTargetStreamer_8h_source.html#l00020">RISCVTargetStreamer.h:20</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_ade29c20cb8af8f2ab2edba746ff3f5e4"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#ade29c20cb8af8f2ab2edba746ff3f5e4">f2</a></div><div class="ttdeci">cond_true lis lo16() lo16() lo16() f1 fsel f2</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00105">README.txt:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMCExpr_html_a6be127bc7f810a3f4dc182aff79943e6a7f0a2ade0160be4082351dd594bfab25"><div class="ttname"><a href="classllvm_1_1RISCVMCExpr.html#a6be127bc7f810a3f4dc182aff79943e6a7f0a2ade0160be4082351dd594bfab25">llvm::RISCVMCExpr::VK_RISCV_CALL_PLT</a></div><div class="ttdeci">@ VK_RISCV_CALL_PLT</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMCExpr_8h_source.html#l00038">RISCVMCExpr.h:38</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae51d584e6bd7deb9a5ae3cca19625641"><div class="ttname"><a href="namespacellvm.html#ae51d584e6bd7deb9a5ae3cca19625641">llvm::RISCVFeatureKV</a></div><div class="ttdeci">const SubtargetFeatureKV RISCVFeatureKV[RISCV::NumSubtargetFeatures]</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8cpp_source.html#l00026">RISCVBaseInfo.cpp:26</a></div></div>
<div class="ttc" id="anamespaceshuffles_html_a6abf8a645bd24dfb42085db9672ac39a"><div class="ttname"><a href="namespaceshuffles.html#a6abf8a645bd24dfb42085db9672ac39a">shuffles::mask</a></div><div class="ttdeci">auto mask(ShuffFunc S, unsigned Length, OptArgs... args) -&gt; MaskT</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelDAGToDAGHVX_8cpp_source.html#l00903">HexagonISelDAGToDAGHVX.cpp:903</a></div></div>
<div class="ttc" id="aTargetRegistry_8h_html"><div class="ttname"><a href="TargetRegistry_8h.html">TargetRegistry.h</a></div></div>
<div class="ttc" id="aMCExpr_8h_html"><div class="ttname"><a href="MCExpr_8h.html">MCExpr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html">llvm::MCSubtargetInfo</a></div><div class="ttdoc">Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00076">MCSubtargetInfo.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCExpr_html"><div class="ttname"><a href="classllvm_1_1MCExpr.html">llvm::MCExpr</a></div><div class="ttdoc">Base class for the full range of assembler expressions which are needed for parsing.</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00035">MCExpr.h:35</a></div></div>
<div class="ttc" id="anamespaceshuffles_html_a9d83fc18d0aabf83c6fc9c7cc2138bd5"><div class="ttname"><a href="namespaceshuffles.html#a9d83fc18d0aabf83c6fc9c7cc2138bd5">shuffles::lo</a></div><div class="ttdeci">ArrayRef&lt; int &gt; lo(ArrayRef&lt; int &gt; Vuu)</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelDAGToDAGHVX_8cpp_source.html#l00813">HexagonISelDAGToDAGHVX.cpp:813</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2e1a0cc4f099b096078de598028fb8b6"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2e1a0cc4f099b096078de598028fb8b6">letters</a></div><div class="ttdeci">Should combine to x&lt;=9&quot; (the sub has nsw). Currently notoptimized with &quot;clang -emit-llvm-bc|opt -O3&quot;.int g(int x) { return (x + 10) &lt; 0; }Should combine to &quot;x&lt; -10&quot; (the add has nsw). Currently notoptimized with &quot;clang -emit-llvm-bc|opt -O3&quot;.int f(int i, int j) { return i &lt; j + 1; }int g(int i, int j) { return j &gt; i - 1; }Should combine to &quot;i&lt;=j&quot; (the add/sub has nsw). Currently notoptimized with &quot;clang -emit-llvm-bc|opt -O3&quot;.unsigned f(unsigned x) { return ((x &amp; 7) + 1) &amp; 15; }The &amp; 15 part should be optimized away, it doesn't change the result. Currentlynot optimized with &quot;clang -emit-llvm-bc|opt -O3&quot;.This was noticed in the entryblock for grokdeclarator in 403.gcc: %tmp = icmp eq i32 %decl_context, 4 %decl_context_addr.0 = select i1 %tmp, i32 3, i32 %decl_context %tmp1 = icmp eq i32 %decl_context_addr.0, 1 %decl_context_addr.1 = select i1 %tmp1, i32 0, i32 %decl_context_addr.0tmp1 should be simplified to something like: (!tmp || decl_context == 1)This allows recursive simplifications, tmp1 is used all over the place inthe function, e.g. by: %tmp23 = icmp eq i32 %decl_context_addr.1, 0 ; &lt;i1&gt; [#uses=1] %tmp24 = xor i1 %tmp1, true ; &lt;i1&gt; [#uses=1] %or.cond8 = and i1 %tmp23, %tmp24 ; &lt;i1&gt; [#uses=1]later.[STORE SINKING]Store sinking: This code:void f (int n, int *cond, int *res) { int i; *res = 0; for (i = 0; i &lt; n; i++) if (*cond) *res ^= 234; }On this function GVN hoists the fully redundant value of *res, but nothingmoves the store out. This gives us this code:bb: ; preds = %bb2, %entry %.rle = phi i32 [ 0, %entry ], [ %.rle6, %bb2 ] %i.05 = phi i32 [ 0, %entry ], [ %indvar.next, %bb2 ] %1 = load i32* %cond, align 4 %2 = icmp eq i32 %1, 0 br i1 %2, label %bb2, label %bb1bb1: ; preds = %bb %3 = xor i32 %.rle, 234 store i32 %3, i32* %res, align 4 br label %bb2bb2: ; preds = %bb, %bb1 %.rle6 = phi i32 [ %3, %bb1 ], [ %.rle, %bb ] %indvar.next = add i32 %i.05, 1 %exitcond = icmp eq i32 %indvar.next, %n br i1 %exitcond, label %return, label %bbDSE should sink partially dead stores to get the store out of the loop.Here's another partial dead case:http:Scalar PRE hoists the mul in the common block up to the else:int test (int a, int b, int c, int g) { int d, e; if (a) d = b * c; else d = b - c; e = b * c + g; return d + e;}It would be better to do the mul once to reduce codesize above the if.This is GCC PR38204.This simple function from 179.art:int winner, numf2s;struct { double y; int reset; } *Y;void find_match() { int i; winner = 0; for (i=0;i&lt;numf2s;i++) if (Y[i].y &gt; Y[winner].y) winner =i;}Compiles into (with clang TBAA):for.body: ; preds = %for.inc, %bb.nph %indvar = phi i64 [ 0, %bb.nph ], [ %indvar.next, %for.inc ] %i.01718 = phi i32 [ 0, %bb.nph ], [ %i.01719, %for.inc ] %tmp4 = getelementptr inbounds %struct.anon* %tmp3, i64 %indvar, i32 0 %tmp5 = load double* %tmp4, align 8, !tbaa !4 %idxprom7 = sext i32 %i.01718 to i64 %tmp10 = getelementptr inbounds %struct.anon* %tmp3, i64 %idxprom7, i32 0 %tmp11 = load double* %tmp10, align 8, !tbaa !4 %cmp12 = fcmp ogt double %tmp5, %tmp11 br i1 %cmp12, label %if.then, label %for.incif.then: ; preds = %for.body %i.017 = trunc i64 %indvar to i32 br label %for.incfor.inc: ; preds = %for.body, %if.then %i.01719 = phi i32 [ %i.01718, %for.body ], [ %i.017, %if.then ] %indvar.next = add i64 %indvar, 1 %exitcond = icmp eq i64 %indvar.next, %tmp22 br i1 %exitcond, label %for.cond.for.end_crit_edge, label %for.bodyIt is good that we hoisted the reloads of numf2's, and Y out of the loop andsunk the store to winner out.However, this is awful on several levels: the conditional truncate in the loop(-indvars at fault? why can't we completely promote the IV to i64?).Beyond that, we have a partially redundant load in the loop: if &quot;winner&quot; (aka %i.01718) isn't updated, we reload Y[winner].y the next time through the loop.Similarly, the addressing that feeds it (including the sext) is redundant. Inthe end we get this generated assembly:LBB0_2: ## %for.body ## =&gt;This Inner Loop Header: Depth=1 movsd (%rdi), %xmm0 movslq %edx, %r8 shlq $4, %r8 ucomisd (%rcx,%r8), %xmm0 jbe LBB0_4 movl %esi, %edxLBB0_4: ## %for.inc addq $16, %rdi incq %rsi cmpq %rsi, %rax jne LBB0_2All things considered this isn't too bad, but we shouldn't need the movslq orthe shlq instruction, or the load folded into ucomisd every time through theloop.On an x86-specific topic, if the loop can't be restructure, the movl should be acmov.[STORE SINKING]GCC PR37810 is an interesting case where we should sink load/store reloadinto the if block and outside the loop, so we don't reload/store it on thenon-call path.for () { *P += 1; if () call(); else ...-&gt;tmp = *Pfor () { tmp += 1; if () { *P = tmp; call(); tmp = *P; } else ...}*P = tmp;We now hoist the reload after the call (Transforms/GVN/lpre-call-wrap.ll), butwe don't sink the store. We need partially dead store sinking.[LOAD PRE CRIT EDGE SPLITTING]GCC PR37166: Sinking of loads prevents SROA'ing the &quot;g&quot; struct on the stackleading to excess stack traffic. This could be handled by GVN with some crazysymbolic phi translation. The code we get looks like (g is on the stack):bb2: ; preds = %bb1.. %9 = getelementptr %struct.f* %g, i32 0, i32 0 store i32 %8, i32* %9, align bel %bb3bb3: ; preds = %bb1, %bb2, %bb %c_addr.0 = phi %struct.f* [ %g, %bb2 ], [ %c, %bb ], [ %c, %bb1 ] %b_addr.0 = phi %struct.f* [ %b, %bb2 ], [ %g, %bb ], [ %b, %bb1 ] %10 = getelementptr %struct.f* %c_addr.0, i32 0, i32 0 %11 = load i32* %10, align 4%11 is partially redundant, an in BB2 it should have the value %8.GCC PR33344 and PR35287 are similar cases.[LOAD PRE]There are many load PRE testcases in testsuite/gcc.dg/tree-ssa/loadpre* in theGCC testsuite, ones we don't get yet are (checked through loadpre25):[CRIT EDGE BREAKING]predcom-4.c[PRE OF READONLY CALL]loadpre5.c[TURN SELECT INTO BRANCH]loadpre14.c loadpre15.c actually a conditional increment: loadpre18.c loadpre19.c[LOAD PRE / STORE SINKING / SPEC HACK]This is a chunk of code from 456.hmmer:int f(int M, int *mc, int *mpp, int *tpmm, int *ip, int *tpim, int *dpp, int *tpdm, int xmb, int *bp, int *ms) { int k, sc; for (k = 1; k &lt;= M; k++) { mc[k] = mpp[k-1] + tpmm[k-1]; if ((sc = ip[k-1] + tpim[k-1]) &gt; mc[k]) mc[k] = sc; if ((sc = dpp[k-1] + tpdm[k-1]) &gt; mc[k]) mc[k] = sc; if ((sc = xmb + bp[k]) &gt; mc[k]) mc[k] = sc; mc[k] += ms[k]; }}It is very profitable for this benchmark to turn the conditional stores to mc[k]into a conditional move (select instr in IR) and allow the final store to do thestore. See GCC PR27313 for more details. Note that this is valid to xform evenwith the new C++ memory model, since mc[k] is previously loaded and laterstored.[SCALAR PRE]There are many PRE testcases in testsuite/gcc.dg/tree-ssa/ssa-pre-*.c in theGCC testsuite.There are some interesting cases in testsuite/gcc.dg/tree-ssa/pred-comm* in theGCC testsuite. For example, we get the first example in predcom-1.c, but miss the second one:unsigned fib[1000];unsigned avg[1000];__attribute__ ((noinline))void count_averages(int n) { int i; for (i = 1; i &lt; n; i++) avg[i] = (((unsigned long) fib[i - 1] + fib[i] + fib[i + 1]) / 3) &amp; 0xffff;}which compiles into two loads instead of one in the loop.predcom-2.c is the same as predcom-1.cpredcom-3.c is very similar but needs loads feeding each other instead ofstore-&gt;load.[ALIAS ANALYSIS]Type based alias analysis:http:We should do better analysis of posix_memalign. At the least it shouldno-capture its pointer argument, at best, we should know that the out-valueresult doesn't point to anything (like malloc). One example of this is inSingleSource/Benchmarks/Misc/dt.cInteresting missed case because of control flow flattening (should be 2 loads):http:With: llvm-gcc t2.c -S -o - -O0 -emit-llvm | llvm-as | opt -mem2reg -gvn -instcombine | llvm-diswe miss it because we need 1) CRIT EDGE 2) MULTIPLE DIFFERENTVALS PRODUCED BY ONE BLOCK OVER DIFFERENT PATHShttp:We could eliminate the branch condition here, loading from null is undefined:struct S { int w, x, y, z; };struct T { int r; struct S s; };void bar (struct S, int);void foo (int a, struct T b){ struct S *c = 0; if (a) c = &amp;b.s; bar (*c, a);}simplifylibcalls should do several optimizations for strspn/strcspn:strcspn(x, &quot;a&quot;) -&gt; inlined loop for up to letters(similarly for strspn)</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l01233">README.txt:1233</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCObjectFileInfo_html"><div class="ttname"><a href="classllvm_1_1MCObjectFileInfo.html">llvm::MCObjectFileInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MCObjectFileInfo_8h_source.html#l00028">MCObjectFileInfo.h:28</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ace6b37d5eaf50e6fd3465513bc022e93"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a></div><div class="ttdeci">Add support for conditional and other related patterns Instead of</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00134">README.txt:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:16:41 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
