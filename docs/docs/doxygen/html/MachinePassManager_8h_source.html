<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/CodeGen/MachinePassManager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_19e251b771363806b5435ead42278477.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachinePassManager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachinePassManager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- PassManager.h --- Pass management for CodeGen ------------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This header defines the pass manager interface for codegen. The codegen</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// pipeline consists of only machine function passes. There is no container</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// relationship between IR module/function and machine function in terms of pass</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// manager organization. So there is no need for adaptor classes (for example</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// ModuleToMachineFunctionAdaptor). Since invalidation could only happen among</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// machine function passes, there is no proxy classes to handle cross-IR-unit</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// invalidation. IR analysis results are provided for machine function passes by</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// their respective analysis managers such as ModuleAnalysisManager and</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// FunctionAnalysisManager.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// TODO: Add MachineFunctionProperties support.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifndef LLVM_CODEGEN_MACHINEPASSMANAGER_H</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define LLVM_CODEGEN_MACHINEPASSMANAGER_H</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionExtras_8h.html">llvm/ADT/FunctionExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">class </span><a class="code" href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">class </span><a class="code" href="namespacellvm_1_1codeview.html#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">class </span>MachineFunction;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">extern</span> <span class="keyword">template</span> <span class="keyword">class </span>AnalysisManager&lt;MachineFunction&gt;;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// An AnalysisManager&lt;MachineFunction&gt; that also exposes IR analysis results.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html">   41</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html">MachineFunctionAnalysisManager</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager&lt;MachineFunction&gt;</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#ac2a729476cf242a5593d708a929f8c73">   43</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1AnalysisManager.html">Base</a> = <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager&lt;MachineFunction&gt;</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#ae353b01a6f3f3bdd5cb6c062260edd6b">   45</a></span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#ae353b01a6f3f3bdd5cb6c062260edd6b">MachineFunctionAnalysisManager</a>() : <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>(nullptr), <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>(nullptr) {}</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a7f1c89c8bd153cc6d2e0dc1900522242">   46</a></span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a7f1c89c8bd153cc6d2e0dc1900522242">MachineFunctionAnalysisManager</a>(<a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                 <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      : <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>(&amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>), <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>(&amp;<a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>) {}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html">MachineFunctionAnalysisManager</a>(<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html">MachineFunctionAnalysisManager</a> &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html">MachineFunctionAnalysisManager</a> &amp;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  operator=(<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html">MachineFunctionAnalysisManager</a> &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">  /// Get the result of an analysis pass for a Function.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">  /// Runs the analysis if a cached result is not available.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a6c4ae8f58d03142dbeb07131d382e0e7">   56</a></span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keyword">typename</span> PassT::Result &amp;<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a6c4ae8f58d03142dbeb07131d382e0e7">getResult</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>-&gt;<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;PassT&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">  /// Get the cached result of an analysis pass for a Function.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">  /// This method never runs the analysis.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">  /// \returns null if there is no cached result.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a401335cc837677895e767f4327c016f3">   66</a></span>&#160;  <span class="keyword">typename</span> PassT::Result *<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a401335cc837677895e767f4327c016f3">getCachedResult</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>-&gt;<a class="code" href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">getCachedResult</a>&lt;PassT&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">  /// Get the result of an analysis pass for a Module.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">  /// Runs the analysis if a cached result is not available.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a717debc687220495e7b8730d5a039f8a">   73</a></span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keyword">typename</span> PassT::Result &amp;<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a717debc687220495e7b8730d5a039f8a">getResult</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>-&gt;<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;PassT&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">  /// Get the cached result of an analysis pass for a Module.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">  /// This method never runs the analysis.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">  /// \returns null if there is no cached result.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a62c88af97fb3763821cbdca10bba0c73">   82</a></span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keyword">typename</span> PassT::Result *<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a62c88af97fb3763821cbdca10bba0c73">getCachedResult</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>-&gt;<a class="code" href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">getCachedResult</a>&lt;PassT&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">  /// Get the result of an analysis pass for a MachineFunction.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">  /// Runs the analysis if a cached result is not available.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span>  <span class="keyword">using</span> Base::getResult;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">  /// Get the cached result of an analysis pass for a MachineFunction.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">  /// This method never runs the analysis.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">  /// returns null if there is no cached result.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span>  <span class="keyword">using</span> Base::getCachedResult;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// FIXME: Add LoopAnalysisManager or CGSCCAnalysisManager if needed.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a907c04439b7e2ed732dc7c32bfe0ab8e">   99</a></span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> *<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a907c04439b7e2ed732dc7c32bfe0ab8e">FAM</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionAnalysisManager.html#a35ef45250413b15d21a38414c991cf3c">  100</a></span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> *<a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html#a35ef45250413b15d21a38414c991cf3c">MAM</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;};</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keyword">extern</span> <span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1PassManager.html">PassManager&lt;MachineFunction&gt;</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/// MachineFunctionPassManager adds/removes below features to/from the base</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/// PassManager template instantiation.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/// - Support passes that implement doInitialization/doFinalization. This is for</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">///   machine function passes to work on module level constructs. One such pass</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">///   is AsmPrinter.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// - Support machine module pass which runs over the module (for example,</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">///   MachineOutliner). A machine module pass needs to define the method:</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">///   ```Error run(Module &amp;, MachineFunctionAnalysisManager &amp;)```</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">///   FIXME: machine module passes still need to define the usual machine</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">///          function pass interface, namely,</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">///          `PreservedAnalyses run(MachineFunction &amp;,</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">///                                 MachineFunctionAnalysisManager &amp;)`</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">///          But this interface wouldn&#39;t be executed. It is just a placeholder</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">///          to satisfy the pass manager type-erased inteface. This</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">///          special-casing of machine module pass is due to its limited use</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">///          cases and the unnecessary complexity it may bring to the machine</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">///          pass manager.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// - The base class `run` method is replaced by an alternative `run` method.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">///   See details below.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/// - Support codegening in the SCC order. Users include interprocedural</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">///   register allocation (IPRA).</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionPassManager.html">  132</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1MachineFunctionPassManager.html">MachineFunctionPassManager</a></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classllvm_1_1PassManager.html">PassManager&lt;MachineFunction, MachineFunctionAnalysisManager&gt;</a> {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1PassManager.html">Base</a> = <a class="code" href="classllvm_1_1PassManager.html">PassManager&lt;MachineFunction, MachineFunctionAnalysisManager&gt;</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionPassManager.html#adce85d53fe060d113a21113a73d1eac6">  137</a></span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPassManager.html#adce85d53fe060d113a21113a73d1eac6">MachineFunctionPassManager</a>(<span class="keywordtype">bool</span> DebugLogging = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                             <span class="keywordtype">bool</span> RequireCodeGenSCCOrder = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                             <span class="keywordtype">bool</span> VerifyMachineFunction = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      : RequireCodeGenSCCOrder(RequireCodeGenSCCOrder),</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        VerifyMachineFunction(VerifyMachineFunction) {}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPassManager.html">MachineFunctionPassManager</a>(<a class="code" href="classllvm_1_1MachineFunctionPassManager.html">MachineFunctionPassManager</a> &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPassManager.html">MachineFunctionPassManager</a> &amp;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  operator=(<a class="code" href="classllvm_1_1MachineFunctionPassManager.html">MachineFunctionPassManager</a> &amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  /// Run machine passes for a Module.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  /// The intended use is to start the codegen pipeline for a Module. The base</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  /// class&#39;s `run` method is deliberately hidden by this due to the observation</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// that we don&#39;t yet have the use cases of compositing two instances of</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// machine pass managers, or compositing machine pass managers with other</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">  /// types of pass managers.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1MachineFunctionAnalysisManager.html">MachineFunctionAnalysisManager</a> &amp;MFAM);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classllvm_1_1MachineFunctionPassManager.html#a040b0e6fa8e1dae67978bdf0692d9bff">  155</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MachineFunctionPassManager.html#a040b0e6fa8e1dae67978bdf0692d9bff">addPass</a>(PassT &amp;&amp;<a class="code" href="classllvm_1_1Pass.html">Pass</a>) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    Base::addPass(std::forward&lt;PassT&gt;(<a class="code" href="classllvm_1_1Pass.html">Pass</a>));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">PassConceptT</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a>.back().get();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    addDoInitialization&lt;PassT&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    addDoFinalization&lt;PassT&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Add machine module pass.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    addRunOnModule&lt;PassT&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keyword">using</span> has_init_t = decltype(std::declval&lt;PassT &amp;&gt;().doInitialization(</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      std::declval&lt;Module &amp;&gt;(),</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      std::declval&lt;MachineFunctionAnalysisManager &amp;&gt;()));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  std::enable_if_t&lt;!is_detected&lt;has_init_t, PassT&gt;::value&gt;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  addDoInitialization(PassConceptT *<a class="code" href="classllvm_1_1Pass.html">Pass</a>) {}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  std::enable_if_t&lt;is_detected&lt;has_init_t, PassT&gt;::value&gt;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  addDoInitialization(PassConceptT *<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">using</span> PassModelT =</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        detail::PassModel&lt;MachineFunction, PassT, PreservedAnalyses,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                          MachineFunctionAnalysisManager&gt;;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <span class="keyword">static_cast&lt;</span>PassModelT *<span class="keyword">&gt;</span>(<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    InitializationFuncs.emplace_back(</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        [=](<a class="code" href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MachineFunctionAnalysisManager &amp;MFAM) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pass.doInitialization(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MFAM);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        });</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keyword">using</span> has_fini_t = decltype(std::declval&lt;PassT &amp;&gt;().doFinalization(</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      std::declval&lt;Module &amp;&gt;(),</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      std::declval&lt;MachineFunctionAnalysisManager &amp;&gt;()));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  std::enable_if_t&lt;!is_detected&lt;has_fini_t, PassT&gt;::value&gt;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  addDoFinalization(PassConceptT *<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>) {}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  std::enable_if_t&lt;is_detected&lt;has_fini_t, PassT&gt;::value&gt;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  addDoFinalization(PassConceptT *<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">using</span> PassModelT =</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        detail::PassModel&lt;MachineFunction, PassT, PreservedAnalyses,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                          MachineFunctionAnalysisManager&gt;;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <span class="keyword">static_cast&lt;</span>PassModelT *<span class="keyword">&gt;</span>(<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    FinalizationFuncs.emplace_back(</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        [=](<a class="code" href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MachineFunctionAnalysisManager &amp;MFAM) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pass.doFinalization(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MFAM);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        });</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">using</span> is_machine_module_pass_t = decltype(std::declval&lt;PassT &amp;&gt;().<a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      std::declval&lt;Module &amp;&gt;(),</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      std::declval&lt;MachineFunctionAnalysisManager &amp;&gt;()));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keyword">using</span> is_machine_function_pass_t = decltype(std::declval&lt;PassT &amp;&gt;().<a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      std::declval&lt;MachineFunction &amp;&gt;(),</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      std::declval&lt;MachineFunctionAnalysisManager &amp;&gt;()));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  std::enable_if_t&lt;!is_detected&lt;is_machine_module_pass_t, PassT&gt;::value&gt;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  addRunOnModule(PassConceptT *<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>) {}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  std::enable_if_t&lt;is_detected&lt;is_machine_module_pass_t, PassT&gt;::value&gt;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  addRunOnModule(PassConceptT *<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    static_assert(is_detected&lt;is_machine_function_pass_t, PassT&gt;::value,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                  <span class="stringliteral">&quot;machine module pass needs to define machine function pass &quot;</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                  <span class="stringliteral">&quot;api. sorry.&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">using</span> PassModelT =</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        detail::PassModel&lt;MachineFunction, PassT, PreservedAnalyses,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                          MachineFunctionAnalysisManager&gt;;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <span class="keyword">static_cast&lt;</span>PassModelT *<span class="keyword">&gt;</span>(<a class="code" href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    MachineModulePasses.emplace(</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a>.size() - 1,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        [=](<a class="code" href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MachineFunctionAnalysisManager &amp;MFAM) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pass.run(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, MFAM);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        });</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">using</span> FuncTy = <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Error</a>(<a class="code" href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a> &amp;, MachineFunctionAnalysisManager &amp;);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  SmallVector&lt;llvm::unique_function&lt;FuncTy&gt;, 4&gt; InitializationFuncs;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  SmallVector&lt;llvm::unique_function&lt;FuncTy&gt;, 4&gt; FinalizationFuncs;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keyword">using</span> PassIndex = decltype(<a class="code" href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a>)::size_type;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  std::map&lt;PassIndex, llvm::unique_function&lt;FuncTy&gt;&gt; MachineModulePasses;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// Run codegen in the SCC order.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordtype">bool</span> RequireCodeGenSCCOrder;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">bool</span> VerifyMachineFunction;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;};</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">#endif // LLVM_CODEGEN_MACHINEPASSMANAGER_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a6c4ae8f58d03142dbeb07131d382e0e7"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a6c4ae8f58d03142dbeb07131d382e0e7">llvm::MachineFunctionAnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(Function &amp;F)</div><div class="ttdoc">Get the result of an analysis pass for a Function.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00056">MachinePassManager.h:56</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aLazyValueInfo_8cpp_html_a739511554e31b02d233401957fd86f44"><div class="ttname"><a href="LazyValueInfo_8cpp.html#a739511554e31b02d233401957fd86f44">Pass</a></div><div class="ttdeci">print lazy value Lazy Value Info Printer Pass</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l02067">LazyValueInfo.cpp:2067</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">llvm::lltok::Error</a></div><div class="ttdeci">@ Error</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00021">LLToken.h:21</a></div></div>
<div class="ttc" id="aFunctionExtras_8h_html"><div class="ttname"><a href="FunctionExtras_8h.html">FunctionExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ae0d075136095c7ea6db40715be638cf3"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ae0d075136095c7ea6db40715be638cf3">Passes</a></div><div class="ttdeci">const char * Passes</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00046">PassBuilderBindings.cpp:46</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a401335cc837677895e767f4327c016f3"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a401335cc837677895e767f4327c016f3">llvm::MachineFunctionAnalysisManager::getCachedResult</a></div><div class="ttdeci">PassT::Result * getCachedResult(Function &amp;F)</div><div class="ttdoc">Get the cached result of an analysis pass for a Function.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00066">MachinePassManager.h:66</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a85bddafa659a93a7a67c9094648259be"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a></div><div class="ttdeci">ModuleAnalysisManager MAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00061">PassBuilderBindings.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a7f1c89c8bd153cc6d2e0dc1900522242"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a7f1c89c8bd153cc6d2e0dc1900522242">llvm::MachineFunctionAnalysisManager::MachineFunctionAnalysisManager</a></div><div class="ttdeci">MachineFunctionAnalysisManager(FunctionAnalysisManager &amp;FAM, ModuleAnalysisManager &amp;MAM)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00046">MachinePassManager.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a907c04439b7e2ed732dc7c32bfe0ab8e"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a907c04439b7e2ed732dc7c32bfe0ab8e">llvm::MachineFunctionAnalysisManager::FAM</a></div><div class="ttdeci">FunctionAnalysisManager * FAM</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00099">MachinePassManager.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_ae353b01a6f3f3bdd5cb6c062260edd6b"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#ae353b01a6f3f3bdd5cb6c062260edd6b">llvm::MachineFunctionAnalysisManager::MachineFunctionAnalysisManager</a></div><div class="ttdeci">MachineFunctionAnalysisManager()</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00045">MachinePassManager.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html">llvm::MachineFunctionAnalysisManager</a></div><div class="ttdoc">An AnalysisManager&lt;MachineFunction&gt; that also exposes IR analysis results.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00041">MachinePassManager.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a35ef45250413b15d21a38414c991cf3c"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a35ef45250413b15d21a38414c991cf3c">llvm::MachineFunctionAnalysisManager::MAM</a></div><div class="ttdeci">ModuleAnalysisManager * MAM</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00100">MachinePassManager.h:100</a></div></div>
<div class="ttc" id="astructllvm_1_1detail_1_1PassConcept_html"><div class="ttname"><a href="structllvm_1_1detail_1_1PassConcept.html">llvm::detail::PassConcept</a></div><div class="ttdoc">Template for the abstract base class used to dispatch polymorphically over pass objects.</div><div class="ttdef"><b>Definition:</b> <a href="PassManagerInternal_8h_source.html#l00038">PassManagerInternal.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a717debc687220495e7b8730d5a039f8a"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a717debc687220495e7b8730d5a039f8a">llvm::MachineFunctionAnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(Module &amp;M)</div><div class="ttdoc">Get the result of an analysis pass for a Module.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00073">MachinePassManager.h:73</a></div></div>
<div class="ttc" id="aMachineCheckDebugify_8cpp_html_a85892acfa8970627e9bd9c9815f15c25"><div class="ttname"><a href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a></div><div class="ttdeci">Machine Check Debug Module</div><div class="ttdef"><b>Definition:</b> <a href="MachineCheckDebugify_8cpp_source.html#l00122">MachineCheckDebugify.cpp:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html"><div class="ttname"><a href="classllvm_1_1PassManager.html">llvm::PassManager</a></div><div class="ttdoc">Manages a sequence of passes over a particular unit of IR.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00469">PassManager.h:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPassManager_html_adce85d53fe060d113a21113a73d1eac6"><div class="ttname"><a href="classllvm_1_1MachineFunctionPassManager.html#adce85d53fe060d113a21113a73d1eac6">llvm::MachineFunctionPassManager::MachineFunctionPassManager</a></div><div class="ttdeci">MachineFunctionPassManager(bool DebugLogging=false, bool RequireCodeGenSCCOrder=false, bool VerifyMachineFunction=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00137">MachinePassManager.h:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a90a202de107720c5c6af3a5bc275d8f5"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">llvm::AnalysisManager::getCachedResult</a></div><div class="ttdeci">PassT::Result * getCachedResult(IRUnitT &amp;IR) const</div><div class="ttdoc">Get the cached result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00793">PassManager.h:793</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPassManager_html_a040b0e6fa8e1dae67978bdf0692d9bff"><div class="ttname"><a href="classllvm_1_1MachineFunctionPassManager.html#a040b0e6fa8e1dae67978bdf0692d9bff">llvm::MachineFunctionPassManager::addPass</a></div><div class="ttdeci">void addPass(PassT &amp;&amp;Pass)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00155">MachinePassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPassManager_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPassManager.html">llvm::MachineFunctionPassManager</a></div><div class="ttdoc">MachineFunctionPassManager adds/removes below features to/from the base PassManager template instanti...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00132">MachinePassManager.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdoc">Pass interface - Implemented by all 'passes'.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00091">Pass.h:91</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager&lt; MachineFunction &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261"><div class="ttname"><a href="namespacellvm_1_1codeview.html#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">llvm::codeview::PublicSymFlags::Function</a></div><div class="ttdeci">@ Function</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionAnalysisManager_html_a62c88af97fb3763821cbdca10bba0c73"><div class="ttname"><a href="classllvm_1_1MachineFunctionAnalysisManager.html#a62c88af97fb3763821cbdca10bba0c73">llvm::MachineFunctionAnalysisManager::getCachedResult</a></div><div class="ttdeci">PassT::Result * getCachedResult(Module &amp;M)</div><div class="ttdoc">Get the cached result of an analysis pass for a Module.</div><div class="ttdef"><b>Definition:</b> <a href="MachinePassManager_8h_source.html#l00082">MachinePassManager.h:82</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:44:33 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
