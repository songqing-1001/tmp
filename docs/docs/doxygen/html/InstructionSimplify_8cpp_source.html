<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Analysis/InstructionSimplify.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a25db018342d3ae6c7e6779086c18378.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">InstructionSimplify.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InstructionSimplify_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InstructionSimplify.cpp - Fold instruction operands ----------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements routines for folding instructions into simpler forms</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// that do not require creating new instructions.  This does constant folding</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// (&quot;add i32 1, 1&quot; -&gt; &quot;2&quot;) but can also handle non-constant operands, either</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// returning a constant (&quot;and i32 %x, 0&quot; -&gt; &quot;0&quot;) or an already existing value</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// (&quot;and i32 %x, %x&quot; -&gt; &quot;%x&quot;).  All operands are assumed to have already been</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// simplified: This is usually true and assuming it simplifies the logic (if</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// they have not been simplified then results are correct but maybe suboptimal).</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CaptureTracking_8h.html">llvm/Analysis/CaptureTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CmpInstAnalysis_8h.html">llvm/Analysis/CmpInstAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstSimplifyFolder_8h.html">llvm/Analysis/InstSimplifyFolder.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopAnalysisManager_8h.html">llvm/Analysis/LoopAnalysisManager.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OverflowInstAnalysis_8h.html">llvm/Analysis/OverflowInstAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VectorUtils_8h.html">llvm/Analysis/VectorUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/IR/ConstantRange.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KnownBits_8h.html">llvm/Support/KnownBits.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   48</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;instsimplify&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">   50</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a> = 3 };</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumExpand, <span class="stringliteral">&quot;Number of expansions&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumReassoc, <span class="stringliteral">&quot;Number of reassociations&quot;</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">simplifyAndInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                              <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d">simplifyUnOp</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a6497dd4ddbdc3b5dacec510108c4e62d">simplifyFPUnOp</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> &amp;,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                            <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> &amp;,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                            <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">simplifyCmpInst</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                              <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">simplifyOrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                              <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c">simplifyCastInst</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Type.html">Type</a> *, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                               <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec">simplifyGEPInst</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a>, <span class="keywordtype">bool</span>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0">simplifySelectInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aadc704717d75dbcbf0c47160cfbec46b">   78</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aadc704717d75dbcbf0c47160cfbec46b">foldSelectWithBinaryOp</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">BinaryOperator::BinaryOps</a> BinOpCode;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BO = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>))</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    BinOpCode = BO-&gt;getOpcode();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> ExpectedPred, Pred1, Pred2;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span> (BinOpCode == BinaryOperator::Or) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    ExpectedPred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BinOpCode == BinaryOperator::And) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    ExpectedPred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// %A = icmp eq %TV, %FV</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// %B = icmp eq %X, %Y (and one of these is a select operand)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// %C = and %A, %B</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// %D = select %C, %TV, %FV</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// --&gt;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// %FV</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// %A = icmp ne %TV, %FV</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// %B = icmp ne %X, %Y (and one of these is a select operand)</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// %C = or %A, %B</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// %D = select %C, %TV, %FV</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// --&gt;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// %TV</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac56cd25f664c1497623d26158a6c5997">m_c_BinOp</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3de757fc0f1dc7f8f8e9211b32ac106d">m_c_ICmp</a>(Pred1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                      <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>)),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                             <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred2, <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) ||</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      Pred1 != Pred2 || Pred1 != ExpectedPred)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> || <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> || <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> || <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> BinOpCode == BinaryOperator::Or ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/// For a boolean type or a vector of boolean type, return false or a vector</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// with every element false.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">  122</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(Ty); }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// For a boolean type or a vector of boolean type, return true or a vector</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/// with every element true.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">  126</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(Ty); }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/// isSameCompare - Is V equivalent to the comparison &quot;LHS Pred RHS&quot;?</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">  129</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                          <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *Cmp = dyn_cast&lt;CmpInst&gt;(V);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (!Cmp)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> CPred = Cmp-&gt;getPredicate();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CLHS = Cmp-&gt;getOperand(0), *CRHS = Cmp-&gt;getOperand(1);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span> (CPred == Pred &amp;&amp; CLHS == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> &amp;&amp; CRHS == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> CPred == <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred) &amp;&amp; CLHS == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> &amp;&amp;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;         CRHS == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/// Simplify comparison with true or false branch of select:</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">///  %sel = select i1 %cond, i32 %tv, i32 %fv</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">///  %cmp = icmp sle i32 %sel, %rhs</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/// Compose new comparison by substituting %sel with either %tv or %fv</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/// and see if it simplifies.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a6e14e69fb6993abe3350d9faa68ff312">  147</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a6e14e69fb6993abe3350d9faa68ff312">simplifyCmpSelCase</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                 <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TrueOrFalse) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SimplifiedCmp = <a class="code" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">simplifyCmpInst</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (SimplifiedCmp == <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// %cmp simplified to the select condition (%cond).</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> TrueOrFalse;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!SimplifiedCmp &amp;&amp; <a class="code" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// It didn&#39;t simplify. However, if composed comparison is equivalent</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// to the select condition (%cond) then we can replace it.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">return</span> TrueOrFalse;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">return</span> SimplifiedCmp;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// Simplify comparison with true branch of select</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a4162231a048d39fc6d4c0f7df3ff0d9c">  164</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a4162231a048d39fc6d4c0f7df3ff0d9c">simplifyCmpSelTrueCase</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                     <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a6e14e69fb6993abe3350d9faa68ff312">simplifyCmpSelCase</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Q, MaxRecurse,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                            <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType()));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">/// Simplify comparison with false branch of select</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#acbb1daefd0f6159cfb48d6b01103c2ac">  173</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#acbb1daefd0f6159cfb48d6b01103c2ac">simplifyCmpSelFalseCase</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                      <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a6e14e69fb6993abe3350d9faa68ff312">simplifyCmpSelCase</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Q, MaxRecurse,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                            <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType()));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">/// We know comparison with both branches of select can be simplified, but they</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">/// are not equal. This routine handles some logical simplifications.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a8e963ab9157b44ed68ad9b31025cf3f9">  183</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a8e963ab9157b44ed68ad9b31025cf3f9">handleOtherCmpSelSimplifications</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *TCmp, <a class="code" href="classllvm_1_1Value.html">Value</a> *FCmp,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                               <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// If the false value simplified to false, then the result of the compare</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// is equal to &quot;Cond &amp;&amp; TCmp&quot;.  This also catches the case when the false</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// value simplified to false and the true value to true, returning &quot;Cond&quot;.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// Folding select to and/or isn&#39;t poison-safe in general; impliesPoison</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// checks whether folding it does not convert a well-defined value into</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// poison.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) &amp;&amp; <a class="code" href="namespacellvm.html#a71a4a4e0f6178682ef05a0d85891e5a9">impliesPoison</a>(TCmp, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>))</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">simplifyAndInst</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, TCmp, Q, MaxRecurse))</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// If the true value simplified to true, then the result of the compare</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// is equal to &quot;Cond || FCmp&quot;.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(TCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()) &amp;&amp; <a class="code" href="namespacellvm.html#a71a4a4e0f6178682ef05a0d85891e5a9">impliesPoison</a>(FCmp, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">simplifyOrInst</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, FCmp, Q, MaxRecurse))</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// Finally, if the false value simplified to true and the true value to</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// false, then the result of the compare is equal to &quot;!Cond&quot;.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(TCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType()), Q, MaxRecurse))</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/// Does the given value dominate the specified phi node?</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">  211</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">valueDominatesPHI</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// Arguments and constants dominate all instructions.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// If we are processing instructions (and/or basic blocks) that have not been</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// fully added to a function, the parent nodes may still be null. Simply</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// return the conservative answer in these cases.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() || !<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getParent() || !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFunction())</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// If we have a DominatorTree then do a precise test.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (DT)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// Otherwise, if the instruction is in the entry block and is not an invoke,</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// then it obviously dominates all phi nodes.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()-&gt;isEntryBlock() &amp;&amp; !isa&lt;InvokeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      !isa&lt;CallBrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/// Try to simplify a binary operator of form &quot;V op OtherOp&quot; where V is</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/// &quot;(B0 opex B1)&quot; by distributing &#39;op&#39; across &#39;opex&#39; as</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/// &quot;(B0 op OtherOp) opex (B1 op OtherOp)&quot;.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a54f884bd538afb4b2464132e0d7a9034">  239</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a54f884bd538afb4b2464132e0d7a9034">expandBinOp</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                          <a class="code" href="classllvm_1_1Value.html">Value</a> *OtherOp, <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> OpcodeToExpand,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = dyn_cast&lt;BinaryOperator&gt;(V);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOpcode() != OpcodeToExpand)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *B0 = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(0), *B1 = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *L =</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, B0, OtherOp, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aba451d2306d849c2ca6821dfe84587a9">getWithoutUndef</a>(), MaxRecurse);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (!L)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *R =</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, B1, OtherOp, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aba451d2306d849c2ca6821dfe84587a9">getWithoutUndef</a>(), MaxRecurse);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span> (!R)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// Does the expanded pair of binops simplify to the existing binop?</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> ((L == B0 &amp;&amp; R == B1) ||</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      (<a class="code" href="classllvm_1_1Instruction.html#a55743bd32282bf6f87aeb49237b1fb68">Instruction::isCommutative</a>(OpcodeToExpand) &amp;&amp; L == B1 &amp;&amp; R == B0)) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    ++NumExpand;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// Otherwise, return &quot;L op&#39; R&quot; if it simplifies.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(OpcodeToExpand, L, R, Q, MaxRecurse);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  ++NumExpand;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">/// Try to simplify binops of form &quot;A op (B op&#39; C)&quot; or the commuted variant by</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">/// distributing op over op&#39;.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">  273</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">expandCommutativeBinOp</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *L,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *R,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                     <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> OpcodeToExpand,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                     <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a54f884bd538afb4b2464132e0d7a9034">expandBinOp</a>(Opcode, L, R, OpcodeToExpand, Q, MaxRecurse))</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a54f884bd538afb4b2464132e0d7a9034">expandBinOp</a>(Opcode, R, L, OpcodeToExpand, Q, MaxRecurse))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">/// Generic simplifications for associative binary operations.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/// Returns the simpler value, or null if none was found.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">  291</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                       <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                       <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Instruction.html#a4f0027b9d05b27206b1882976fce9038">Instruction::isAssociative</a>(Opcode) &amp;&amp; <span class="stringliteral">&quot;Not an associative operation!&quot;</span>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op0 = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op1 = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// Transform: &quot;(A op B) op C&quot; ==&gt; &quot;A op (B op C)&quot; if it simplifies completely.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">if</span> (Op0 &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == Opcode) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A = Op0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// Does &quot;B op C&quot; simplify?</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="comment">// It does!  Return &quot;A op V&quot; if it simplifies or is already available.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// If V equals B then &quot;A op V&quot; is just the LHS.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">if</span> (V == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// Otherwise return &quot;A op V&quot; if it simplifies.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, A, V, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// Transform: &quot;A op (B op C)&quot; ==&gt; &quot;(A op B) op C&quot; if it simplifies completely.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (Op1 &amp;&amp; Op1-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == Opcode) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Op1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// Does &quot;A op B&quot; simplify?</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">// It does!  Return &quot;V op C&quot; if it simplifies or is already available.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="comment">// If V equals B then &quot;V op C&quot; is just the RHS.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">if</span> (V == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">// Otherwise return &quot;V op C&quot; if it simplifies.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, V, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// The remaining transforms require commutativity as well as associativity.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Instruction.html#a55743bd32282bf6f87aeb49237b1fb68">Instruction::isCommutative</a>(Opcode))</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// Transform: &quot;(A op B) op C&quot; ==&gt; &quot;(C op A) op B&quot; if it simplifies completely.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">if</span> (Op0 &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == Opcode) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A = Op0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Does &quot;C op A&quot; simplify?</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, A, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">// It does!  Return &quot;V op B&quot; if it simplifies or is already available.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="comment">// If V equals A then &quot;V op B&quot; is just the LHS.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">if</span> (V == A)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="comment">// Otherwise return &quot;V op B&quot; if it simplifies.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, V, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// Transform: &quot;A op (B op C)&quot; ==&gt; &quot;B op (C op A)&quot; if it simplifies completely.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span> (Op1 &amp;&amp; Op1-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == Opcode) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Op1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Does &quot;C op A&quot; simplify?</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, A, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="comment">// It does!  Return &quot;B op V&quot; if it simplifies or is already available.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="comment">// If V equals C then &quot;B op V&quot; is just the RHS.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (V == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="comment">// Otherwise return &quot;B op V&quot; if it simplifies.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, V, Q, MaxRecurse)) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/// In the case of a binary operation with a select instruction as an operand,</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/// try to simplify the binop by seeing whether evaluating it on both branches</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">/// of the select results in the same value. Returns the common value if so,</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">/// otherwise returns null.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">  395</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                    <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; <span class="stringliteral">&quot;No select instruction operand!&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Evaluate the BinOp on the true and false branches of the select.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TV;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FV;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    TV = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue(), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    FV = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue(), <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    TV = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue(), Q, MaxRecurse);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    FV = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue(), Q, MaxRecurse);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// If they simplified to the same value, then return the common value.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// If they both failed to simplify then return null.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (TV == FV)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> TV;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// If one branch simplified to undef, return the other one.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (TV &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(TV))</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">return</span> FV;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (FV &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(FV))</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> TV;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// If applying the operation did not change the true and false select values,</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// then the result of the binop is the select itself.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">if</span> (TV == <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue() &amp;&amp; FV == <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue())</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// If one branch simplified and the other did not, and the simplified</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// value is equal to the unsimplified one, return the simplified value.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// For example, select (cond, X, X &amp; Z) &amp; Z -&gt; X &amp; Z.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> ((FV &amp;&amp; !TV) || (TV &amp;&amp; !FV)) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// Check that the simplified value has the form &quot;X op Y&quot; where &quot;op&quot; is the</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// same as the original operation.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = dyn_cast&lt;Instruction&gt;(FV ? FV : TV);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> &amp;&amp; <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>-&gt;getOpcode() == <span class="keywordtype">unsigned</span>(Opcode)) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// The value that didn&#39;t simplify is &quot;UnsimplifiedLHS op UnsimplifiedRHS&quot;.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="comment">// We already know that &quot;op&quot; is the same as for the simplified value.  See</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="comment">// if the operands match too.  If so, return the simplified value.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnsimplifiedBranch = FV ? <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue() : <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnsimplifiedLHS = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> ? UnsimplifiedBranch : <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnsimplifiedRHS = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> ? <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> : UnsimplifiedBranch;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>-&gt;getOperand(0) == UnsimplifiedLHS &amp;&amp;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>-&gt;getOperand(1) == UnsimplifiedRHS)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>-&gt;isCommutative() &amp;&amp;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>-&gt;getOperand(1) == UnsimplifiedLHS &amp;&amp;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;          <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>-&gt;getOperand(0) == UnsimplifiedRHS)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">/// In the case of a comparison with a select instruction, try to simplify the</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">/// comparison by seeing whether both branches of the select result in the same</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">/// value. Returns the common value if so, otherwise returns null.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">/// For example, if we have:</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">///  %tmp = select i1 %cmp, i32 1, i32 2</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">///  %cmp1 = icmp sle i32 %tmp, 3</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">/// We can simplify %cmp1 to true, because both branches of select are</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">/// less than 3. We compose new comparison by substituting %tmp with both</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/// branches of select and see if it can be simplified.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a024f23f3655fcfb90cdf093705dcb64b">  473</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a024f23f3655fcfb90cdf093705dcb64b">threadCmpOverSelect</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                  <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// Make sure the select is on the LHS.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; <span class="stringliteral">&quot;Not comparing with a select instruction!&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TV = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FV = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">// Now that we have &quot;cmp select(Cond, TV, FV), RHS&quot;, analyse it.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// Does &quot;cmp TV, RHS&quot; simplify?</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TCmp = <a class="code" href="InstructionSimplify_8cpp.html#a4162231a048d39fc6d4c0f7df3ff0d9c">simplifyCmpSelTrueCase</a>(Pred, TV, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (!TCmp)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// Does &quot;cmp FV, RHS&quot; simplify?</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FCmp = <a class="code" href="InstructionSimplify_8cpp.html#acbb1daefd0f6159cfb48d6b01103c2ac">simplifyCmpSelFalseCase</a>(Pred, FV, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (!FCmp)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// If both sides simplified to the same value, then use it as the result of</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// the original comparison.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (TCmp == FCmp)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> TCmp;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// The remaining cases only make sense if the select condition has the same</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// type as the result of the comparison, so bail out if this is not so.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType()-&gt;isVectorTy() == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>())</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a8e963ab9157b44ed68ad9b31025cf3f9">handleOtherCmpSelSimplifications</a>(TCmp, FCmp, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">/// In the case of a binary operation with an operand that is a PHI instruction,</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">/// try to simplify the binop by seeing whether evaluating it on the incoming</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">/// phi values yields the same result for every value. If so returns the common</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// value, otherwise returns null.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">  519</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                 <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PI;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    PI = cast&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Bail out if RHS and the phi may be mutually interdependent due to a loop.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">valueDominatesPHI</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, PI, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; <span class="stringliteral">&quot;No PHI instruction operand!&quot;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    PI = cast&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Bail out if LHS and the phi may be mutually interdependent due to a loop.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">valueDominatesPHI</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, PI, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// Evaluate the BinOp on the incoming phi values.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CommonValue = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *Incoming : PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#a1f0ff79b64a40d383b891f1baba89c6b">incoming_values</a>()) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">// If the incoming value is the phi node itself, it can safely be skipped.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">if</span> (Incoming == PI)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PI == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> ? <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, Incoming, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                         : <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Incoming, Q, MaxRecurse);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// If the operation failed to simplify, or simplified to a different value</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// to previously, then give up.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (!V || (CommonValue &amp;&amp; V != CommonValue))</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    CommonValue = V;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">return</span> CommonValue;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">/// In the case of a comparison with a PHI instruction, try to simplify the</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">/// comparison by seeing whether comparing with all of the incoming phi values</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">/// yields the same result every time. If so returns the common result,</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/// otherwise returns null.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa90049400a941a30f216f25c219df382">  562</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aa90049400a941a30f216f25c219df382">threadCmpOverPHI</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// Make sure the phi is on the LHS.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; <span class="stringliteral">&quot;Not comparing with a phi instruction!&quot;</span>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PI = cast&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// Bail out if RHS and the phi may be mutually interdependent due to a loop.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">valueDominatesPHI</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, PI, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">// Evaluate the BinOp on the incoming phi values.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CommonValue = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); u &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++u) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Incoming = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(u);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InTI = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(u)-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// If the incoming value is the phi node itself, it can safely be skipped.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (Incoming == PI)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// Change the context instruction to the &quot;edge&quot; that flows into the phi.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">// This is important because that is where incoming is actually &quot;evaluated&quot;</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// even though it is used later somewhere else.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">simplifyCmpInst</a>(Pred, Incoming, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf05c1194f5c7869a00434c13c46c228">getWithInstruction</a>(InTI),</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                               MaxRecurse);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// If the operation failed to simplify, or simplified to a different value</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// to previously, then give up.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (!V || (CommonValue &amp;&amp; V != CommonValue))</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    CommonValue = V;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> CommonValue;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">  603</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                       <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Op1,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">case</span> Instruction::FAdd:</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">case</span> Instruction::FSub:</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">case</span> Instruction::FMul:</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">case</span> Instruction::FDiv:</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keywordflow">case</span> Instruction::FRem:</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a287848fa3d087478355fd41a7fa41099">ConstantFoldFPInstOperands</a>(Opcode, CLHS, CRHS, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a964455f36837281d37f2a44e2fcb4cca">ConstantFoldBinaryOpOperands</a>(Opcode, CLHS, CRHS, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS if this is a commutative operation.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html#a55743bd32282bf6f87aeb49237b1fb68">Instruction::isCommutative</a>(Opcode))</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/// Given operands for an Add, see if we can fold the result.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ad36c433ede3621ca9b4921ea748a2228">  631</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a5e0af1b16cab9e0efc63a6ce9de2b9cc">simplifyAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, Op0, Op1, Q))</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// X + poison -&gt; poison</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// X + undef -&gt; undef</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// X + 0 -&gt; X</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">// If two operands are negative, return 0.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">isKnownNegation</a>(Op0, Op1))</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// X + (Y - X) -&gt; Y</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// (Y - X) + X -&gt; Y</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// Eg: X + -X -&gt; 0</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))) ||</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">// X + ~X -&gt; -1   since   ~X = -X-1</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Ty);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="comment">// add nsw/nuw (xor Y, signmask), signmask --&gt; Y</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="comment">// The no-wrapping add guarantees that the top bit will be set by the add.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// Therefore, the xor must be clearing the already set sign bit of Y.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> ((IsNSW || IsNUW) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8c0f3bd24cad8bf9994d62b2d8cff6a0">m_SignMask</a>()) &amp;&amp;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">m_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a8c0f3bd24cad8bf9994d62b2d8cff6a0">m_SignMask</a>())))</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">// add nuw %x, -1  -&gt;  -1, because %x can only be 0.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">if</span> (IsNUW &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> Op1; <span class="comment">// Which is -1.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">  /// i1 add -&gt; xor.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1))</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(Op0, Op1, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// Threading Add over selects and phi nodes is pointless, so don&#39;t bother.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// Threading over the select in &quot;A + select(cond, B, C)&quot; means evaluating</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">// &quot;A+B&quot; and &quot;A+C&quot; and seeing if they are equal; but they are equal if and</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">// only if B and C are equal.  If B and C are equal then (since we assume</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// that operands have already been simplified) &quot;select(cond, B, C)&quot; should</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// have been simplified to the common value of B and C already.  Analysing</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// &quot;A+B&quot; and &quot;A+C&quot; thus gains nothing, but costs compile time.  Similarly</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">// for threading over phi nodes.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5e0af1b16cab9e0efc63a6ce9de2b9cc">  698</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a5e0af1b16cab9e0efc63a6ce9de2b9cc">llvm::simplifyAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Query) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ad36c433ede3621ca9b4921ea748a2228">return ::simplifyAddInst</a>(Op0, Op1, IsNSW, IsNUW, Query, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">/// Compute the base pointer and cumulative constant offsets for V.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/// This strips all constant offsets off of V, leaving it the base pointer, and</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">/// accumulates the total constant offset applied in the returned constant.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">/// It returns zero if there are no constant offsets applied.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/// This is very similar to stripAndAccumulateConstantOffsets(), except it</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">/// normalizes the offset bitwidth to the stripped pointer type, not the</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">/// original pointer type.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">  712</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">stripAndComputeConstantOffsets</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;V,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                            <span class="keywordtype">bool</span> AllowNonInbounds = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>());</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Offset = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIndexTypeSizeInBits(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  V = V-&gt;<a class="code" href="classllvm_1_1Value.html#a4c539f826d954ab3bd78cdb0882540bd">stripAndAccumulateConstantOffsets</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Offset, AllowNonInbounds);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// As that strip may trace through `addrspacecast`, need to sext or trunc</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// the offset calculated.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordflow">return</span> Offset.sextOrTrunc(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIndexTypeSizeInBits(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">/// Compute the constant difference between two pointer values.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/// If the difference is not a constant, returns zero.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aee079498c4865022f2eeb93d915797c0">  725</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#aee079498c4865022f2eeb93d915797c0">computePointerDifference</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                          <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">stripAndComputeConstantOffsets</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> RHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">stripAndComputeConstantOffsets</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// If LHS and RHS are not related via constant offsets to the same base</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="comment">// value, there is nothing we can do here.</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="comment">// Otherwise, the difference of LHS - RHS can be computed as:</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">//    LHS - RHS</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">//  = (LHSOffset + Base) - (RHSOffset + Base)</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="comment">//  = LHSOffset - RHSOffset</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Res = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), LHSOffset - RHSOffset);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *VecTy = dyn_cast&lt;VectorType&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()))</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    Res = <a class="code" href="classllvm_1_1ConstantVector.html#aa3b241b35b0039b413faf1ef4e873eb7">ConstantVector::getSplat</a>(VecTy-&gt;getElementCount(), Res);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">/// Test if there is a dominating equivalence condition for the</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">/// two operands. If there is, try to reduce the binary operation</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">/// between the two operands.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">/// Example: Op0 - Op1 --&gt; 0 when Op0 == Op1</span></div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">  749</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// Recursive run it can not get any benefit</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse != <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  std::optional&lt;bool&gt; Imp =</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">isImpliedByDomCondition</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>, Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span> (Imp &amp;&amp; *Imp) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, 1);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="comment">// Could be either one - choose Op1 since that&#39;s more likely a constant.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">/// Given operands for a Sub, see if we can fold the result.</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ad32c0e0dca06bc00a0e131c77a046819">  783</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a5942ddc4393a8ef081555f9a938c86e9">simplifySubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::Sub, Op0, Op1, Q))</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="comment">// X - poison -&gt; poison</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// poison - X -&gt; poison</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op0) || isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// X - undef -&gt; undef</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">// undef - X -&gt; undef</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// X - 0 -&gt; X</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">// X - X -&gt; 0</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">// Is this a negation?</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// 0 - X -&gt; 0 if the sub is NUW.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (IsNUW)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ac8099bedfdef48644386b16230fef2e5">isMaxSignedValue</a>()) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="comment">// Op1 is either 0 or the minimum signed value. If the sub is NSW, then</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="comment">// Op1 must be 0 because negating the minimum signed value is undefined.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">if</span> (IsNSW)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="comment">// 0 - X -&gt; X if X is 0 or the minimum signed value.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// (X + Y) - Z -&gt; X + (Y - Z) or Y + (X - Z) if everything simplifies.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// For example, (X + Y) - Y -&gt; X; (Y + X) - Y -&gt; X</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <span class="keyword">nullptr</span>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <span class="keyword">nullptr</span>, *<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = Op1;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) { <span class="comment">// (X + Y) - Z</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// See if &quot;V === Y - Z&quot; simplifies.</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="comment">// It does!  Now see if &quot;X + V&quot; simplifies.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, V, Q, MaxRecurse - 1)) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// See if &quot;V === X - Z&quot; simplifies.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="comment">// It does!  Now see if &quot;Y + V&quot; simplifies.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, V, Q, MaxRecurse - 1)) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// X - (Y + Z) -&gt; (X - Y) - Z or (X - Z) - Y if everything simplifies.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// For example, X - (X + 1) -&gt; -1</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = Op0;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>)))) { <span class="comment">// X - (Y + Z)</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// See if &quot;V === X - Y&quot; simplifies.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="comment">// It does!  Now see if &quot;V - Z&quot; simplifies.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, V, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, Q, MaxRecurse - 1)) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// See if &quot;V === X - Z&quot; simplifies.</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="comment">// It does!  Now see if &quot;V - Y&quot; simplifies.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, V, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q, MaxRecurse - 1)) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// Z - (X - Y) -&gt; (Z - X) + Y if everything simplifies.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// For example, X - (X - Y) -&gt; Y.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = Op0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) <span class="comment">// Z - (X - Y)</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// See if &quot;V === Z - X&quot; simplifies.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="comment">// It does!  Now see if &quot;V + Y&quot; simplifies.</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, V, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q, MaxRecurse - 1)) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        ++NumReassoc;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// trunc(X) - trunc(Y) -&gt; trunc(X - Y) if everything simplifies.</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">m_Trunc</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">m_Trunc</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getType())</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="comment">// See if &quot;V === X - Y&quot; simplifies.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Instruction::Sub, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="comment">// It does!  Now see if &quot;trunc V&quot; simplifies.</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c">simplifyCastInst</a>(Instruction::Trunc, V, Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                        Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          <span class="comment">// It does, return the simplified &quot;trunc V&quot;.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// Variations on GEP(base, I, ...) - GEP(base, i, ...) -&gt; GEP(null, I-i, ...).</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Result = <a class="code" href="InstructionSimplify_8cpp.html#aee079498c4865022f2eeb93d915797c0">computePointerDifference</a>(Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a90d84324b6b6aa2a60077a79b31a49e7">ConstantExpr::getIntegerCast</a>(Result, Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// i1 sub -&gt; xor.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1))</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(Op0, Op1, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="comment">// Threading Sub over selects and phi nodes is pointless, so don&#39;t bother.</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="comment">// Threading over the select in &quot;A - select(cond, B, C)&quot; means evaluating</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// &quot;A-B&quot; and &quot;A-C&quot; and seeing if they are equal; but they are equal if and</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// only if B and C are equal.  If B and C are equal then (since we assume</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">// that operands have already been simplified) &quot;select(cond, B, C)&quot; should</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="comment">// have been simplified to the common value of B and C already.  Analysing</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// &quot;A-B&quot; and &quot;A-C&quot; thus gains nothing, but costs compile time.  Similarly</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// for threading over phi nodes.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a>(Instruction::Sub, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5942ddc4393a8ef081555f9a938c86e9">  918</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a5942ddc4393a8ef081555f9a938c86e9">llvm::simplifySubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ad32c0e0dca06bc00a0e131c77a046819">return ::simplifySubInst</a>(Op0, Op1, IsNSW, IsNUW, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;}</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">/// Given operands for a Mul, see if we can fold the result.</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a752290add5877b026eca19940637920f">  925</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a2b9904a62f8c9179b90d1cb89e6e05ac">simplifyMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>, Op0, Op1, Q))</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// X * poison -&gt; poison</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// X * undef -&gt; 0</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// X * 0 -&gt; 0</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// X * 1 -&gt; X</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// (X / Y) * Y -&gt; X if the division is exact.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a> &amp;&amp;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;             <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3d1ce4e87339c423692359ff22209b42">m_IDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) ||     <span class="comment">// (X / Y) * Y</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3d1ce4e87339c423692359ff22209b42">m_IDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0)))))) <span class="comment">// Y * (X / Y)</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1)) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="comment">// mul i1 nsw is a special-case because -1 * -1 is poison (+1 is not</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// representable). All other cases reduce to 0, so just return 0.</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">if</span> (IsNSW)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// Treat &quot;mul i1&quot; as &quot;and i1&quot;.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">simplifyAndInst</a>(Op0, Op1, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// Mul distributes over Add. Try some generic simplifications based on this.</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">expandCommutativeBinOp</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>, Op0, Op1,</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                        <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;}</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2b9904a62f8c9179b90d1cb89e6e05ac">  990</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a2b9904a62f8c9179b90d1cb89e6e05ac">llvm::simplifyMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a752290add5877b026eca19940637920f">return ::simplifyMulInst</a>(Op0, Op1, IsNSW, IsNUW, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">/// Check for common or similar folds of integer division or integer remainder.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">/// This applies to all 4 opcodes (sdiv/udiv/srem/urem).</span></div>
<div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa3aa6026e39ab736ed0ed724cea87675">  997</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aa3aa6026e39ab736ed0ed724cea87675">simplifyDivRem</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                             <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                             <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordtype">bool</span> IsDiv = (Opcode == Instruction::SDiv || Opcode == Instruction::UDiv);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordtype">bool</span> IsSigned = (Opcode == Instruction::SDiv || Opcode == Instruction::SRem);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// X / undef -&gt; poison</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="comment">// X % undef -&gt; poison</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1) || isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Ty);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">// X / 0 -&gt; poison</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// X % 0 -&gt; poison</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// We don&#39;t need to preserve faults!</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Ty);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// If any element of a constant divisor fixed width vector is zero or undef</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// the behavior is undefined and we can fold the whole op to poison.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keyword">auto</span> *Op1C = dyn_cast&lt;Constant&gt;(Op1);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keyword">auto</span> *VTy = dyn_cast&lt;FixedVectorType&gt;(Ty);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">if</span> (Op1C &amp;&amp; VTy) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordtype">unsigned</span> NumElts = VTy-&gt;getNumElements();</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Elt = Op1C-&gt;<a class="code" href="classllvm_1_1Constant.html#acd530d0571f320d47d37e7ae51cf70ff">getAggregateElement</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">if</span> (Elt &amp;&amp; (Elt-&gt;<a class="code" href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">isNullValue</a>() || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Elt)))</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Ty);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">// poison / X -&gt; poison</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// poison % X -&gt; poison</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op0))</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">// undef / X -&gt; 0</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="comment">// undef % X -&gt; 0</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0))</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="comment">// 0 / X -&gt; 0</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="comment">// 0 % X -&gt; 0</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="comment">// X / X -&gt; 1</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">// X % X -&gt; 0</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">return</span> IsDiv ? <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, 1) : <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="comment">// X / 1 -&gt; X</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="comment">// X % 1 -&gt; 0</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="comment">// If this is a boolean op (single-bit element type), we can&#39;t have</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="comment">// division-by-zero or remainder-by-zero, so assume the divisor is 1.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="comment">// Similarly, if we&#39;re zero-extending a boolean divisor, then assume it&#39;s a 1.</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()) || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1) ||</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;isIntOrIntVectorTy(1)))</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">return</span> IsDiv ? Op0 : <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// If X * Y does not overflow, then:</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">//   X * Y / Y -&gt; X</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">//   X * Y % Y -&gt; 0</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f3259c7db0ce698876fe79f45b80a32">m_c_Mul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = cast&lt;OverflowingBinaryOperator&gt;(Op0);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="comment">// The multiplication can&#39;t overflow if it is defined not to, or if</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">// X == A / Y for some A.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> ((IsSigned &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>)) ||</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        (!IsSigned &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a>)) ||</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        (IsSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">m_SDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) ||</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        (!IsSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">return</span> IsDiv ? <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> : <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">/// Given a predicate and two operands, return true if the comparison is true.</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">/// This is a helper for div/rem simplification where we return some other value</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">/// when we can prove a relationship between the operands.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9"> 1083</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast_or_null&lt;Constant&gt;(V);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">/// Return true if we can simplify X / Y to 0. Remainder can adapt that answer</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">/// to simplify X % Y to X.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab29fdeb7689892b6496576ca70cfc625"> 1092</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#ab29fdeb7689892b6496576ca70cfc625">isDivZero</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                      <span class="keywordtype">unsigned</span> MaxRecurse, <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// |X| / |Y| --&gt; 0</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// We require that 1 operand is a simple constant. That could be extended to</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// 2 variables if we computed the sign bit for each.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">// Make sure that a constant is not the minimum signed value because taking</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// the abs() of that is undefined.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isMinSignedValue()) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="comment">// Is the variable divisor magnitude always greater than the constant</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">// dividend magnitude?</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="comment">// |Y| &gt; |C| --&gt; Y &lt; -abs(C) or Y &gt; abs(C)</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *PosDividendC = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;abs());</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NegDividendC = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, -<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;abs());</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, NegDividendC, Q, MaxRecurse) ||</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, PosDividendC, Q, MaxRecurse))</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="comment">// Special-case: we can&#39;t take the abs() of a minimum signed value. If</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="comment">// that&#39;s the divisor, then all we have to do is prove that the dividend</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="comment">// is also not the minimum signed value.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isMinSignedValue())</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="comment">// Is the variable dividend magnitude always less than the constant</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="comment">// divisor magnitude?</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="comment">// |X| &lt; |C| --&gt; X &gt; -abs(C) and X &lt; abs(C)</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *PosDivisorC = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;abs());</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NegDivisorC = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, -<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;abs());</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, NegDivisorC, Q, MaxRecurse) &amp;&amp;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, PosDivisorC, Q, MaxRecurse))</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// IsSigned == false.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// Is the unsigned dividend known to be less than a constant divisor?</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// TODO: Convert this (and above) to range analysis</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">//      (&quot;computeConstantRangeIncludingKnownBits&quot;)?</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>).getMaxValue().ult(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="comment">// Try again for any divisor:</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">// Is the dividend unsigned less than the divisor?</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">/// These are simplifications common to SDiv and UDiv.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a872414c0ef92452cc42da0c62ca982dd"> 1153</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a872414c0ef92452cc42da0c62ca982dd">simplifyDiv</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                          <span class="keywordtype">bool</span> IsExact, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                          <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Opcode, Op0, Op1, Q))</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa3aa6026e39ab736ed0ed724cea87675">simplifyDivRem</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// If this is an exact divide by a constant, then the dividend (Op0) must have</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// at least as many trailing zeros as the divisor to divide evenly. If it has</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">// less trailing zeros, then the result must be poison.</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *DivC;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">if</span> (IsExact &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(DivC)) &amp;&amp; DivC-&gt;<a class="code" href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">countTrailingZeros</a>()) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownOp0 = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (KnownOp0.<a class="code" href="structllvm_1_1KnownBits.html#a2ad6370e532a52014fe2e5a54bfbaddd">countMaxTrailingZeros</a>() &lt; DivC-&gt;<a class="code" href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">countTrailingZeros</a>())</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordtype">bool</span> IsSigned = Opcode == Instruction::SDiv;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// (X rem Y) / Y -&gt; 0</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordflow">if</span> ((IsSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">m_SRem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) ||</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      (!IsSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))))</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="comment">// (X /u C1) /u C2 -&gt; 0 if C1 * C2 overflow</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordflow">if</span> (!IsSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))) &amp;&amp;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(C2))) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordtype">bool</span> Overflow;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    (void)<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getValue().umul_ov(C2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>(), Overflow);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">if</span> (Overflow)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#ab29fdeb7689892b6496576ca70cfc625">isDivZero</a>(Op0, Op1, Q, MaxRecurse, IsSigned))</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">/// These are simplifications common to SRem and URem.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#abeb800768ee7b50792f741ccb8815612"> 1208</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#abeb800768ee7b50792f741ccb8815612">simplifyRem</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Opcode, Op0, Op1, Q))</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa3aa6026e39ab736ed0ed724cea87675">simplifyDivRem</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="comment">// (X % Y) % Y -&gt; X % Y</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> ((Opcode == Instruction::SRem &amp;&amp;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">m_SRem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) ||</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      (Opcode == Instruction::URem &amp;&amp;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))))</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="comment">// (X &lt;&lt; Y) % X -&gt; 0</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a> &amp;&amp;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      ((Opcode == Instruction::SRem &amp;&amp;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#addcb216ae7b435c305401afddd9c28a9">m_NSWShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) ||</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;       (Opcode == Instruction::URem &amp;&amp;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4796a8479f782aa42fa98ece31232a97">m_NUWShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))))</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// If X / Y == 0, then X % Y == X.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#ab29fdeb7689892b6496576ca70cfc625">isDivZero</a>(Op0, Op1, Q, MaxRecurse, Opcode == Instruction::SRem))</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">/// Given operands for an SDiv, see if we can fold the result.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aeadfb9f09670017a967f68a1f7377e4c"> 1252</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a23805d3a4c907766bf29b589ba786c81">simplifySDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// If two operands are negated and no signed overflow, return -1.</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">isKnownNegation</a>(Op0, Op1, <span class="comment">/*NeedNSW=*/</span><span class="keyword">true</span>))</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a872414c0ef92452cc42da0c62ca982dd">simplifyDiv</a>(Instruction::SDiv, Op0, Op1, IsExact, Q, MaxRecurse);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="namespacellvm.html#a23805d3a4c907766bf29b589ba786c81"> 1261</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a23805d3a4c907766bf29b589ba786c81">llvm::simplifySDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aeadfb9f09670017a967f68a1f7377e4c">return ::simplifySDivInst</a>(Op0, Op1, IsExact, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;}</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">/// Given operands for a UDiv, see if we can fold the result.</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a0a7ec509af7a984c419565ee8a909678"> 1268</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ab3b0406324f59a9dcdd00f68345ef9b7">simplifyUDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a872414c0ef92452cc42da0c62ca982dd">simplifyDiv</a>(Instruction::UDiv, Op0, Op1, IsExact, Q, MaxRecurse);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab3b0406324f59a9dcdd00f68345ef9b7"> 1273</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ab3b0406324f59a9dcdd00f68345ef9b7">llvm::simplifyUDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a0a7ec509af7a984c419565ee8a909678">return ::simplifyUDivInst</a>(Op0, Op1, IsExact, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">/// Given operands for an SRem, see if we can fold the result.</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a7a0985113e18f3db156ee625c3f1625b"> 1280</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#acb98fd0d755e436c5749105d46b0c0d1">simplifySRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="comment">// If the divisor is 0, the result is undefined, so assume the divisor is -1.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">// srem Op0, (sext i1 X) --&gt; srem Op0, -1 --&gt; 0</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;isIntOrIntVectorTy(1))</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="comment">// If the two operands are negated, return 0.</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">isKnownNegation</a>(Op0, Op1))</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#abeb800768ee7b50792f741ccb8815612">simplifyRem</a>(Instruction::SRem, Op0, Op1, Q, MaxRecurse);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;}</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"><a class="line" href="namespacellvm.html#acb98fd0d755e436c5749105d46b0c0d1"> 1295</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#acb98fd0d755e436c5749105d46b0c0d1">llvm::simplifySRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a7a0985113e18f3db156ee625c3f1625b">return ::simplifySRemInst</a>(Op0, Op1, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">/// Given operands for a URem, see if we can fold the result.</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a6794011307b3ce1f16573e268d9a74e5"> 1301</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aecb805c568634be3390c7da36836d63e">simplifyURemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#abeb800768ee7b50792f741ccb8815612">simplifyRem</a>(Instruction::URem, Op0, Op1, Q, MaxRecurse);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="namespacellvm.html#aecb805c568634be3390c7da36836d63e"> 1306</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aecb805c568634be3390c7da36836d63e">llvm::simplifyURemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a6794011307b3ce1f16573e268d9a74e5">return ::simplifyURemInst</a>(Op0, Op1, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">/// Returns true if a shift by \c Amount always yields poison.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a587eab2c520053bb06fdc4afe5a57aa3"> 1311</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a587eab2c520053bb06fdc4afe5a57aa3">isPoisonShift</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Amount, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(Amount);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// X shift by undef -&gt; poison because it may shift by the bitwidth.</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// Shifting by the bitwidth or more is poison. This covers scalars and</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="comment">// fixed/scalable vectors with splat constants.</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *AmountC;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(AmountC)) &amp;&amp; AmountC-&gt;<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(AmountC-&gt;<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>()))</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// Try harder for fixed-length vectors:</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// If all lanes of a vector shift are poison, the whole shift is poison.</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantVector&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) || isa&lt;ConstantDataVector&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0,</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                  <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = cast&lt;FixedVectorType&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType())-&gt;getNumElements();</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#a587eab2c520053bb06fdc4afe5a57aa3">isPoisonShift</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAggregateElement(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), Q))</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;}</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment">/// Given operands for an Shl, LShr or AShr, see if we can fold the result.</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ae9305e00d0227e8805edcc610f09bcdb"> 1342</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ae9305e00d0227e8805edcc610f09bcdb">simplifyShift</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                            <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                            <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Opcode, Op0, Op1, Q))</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="comment">// poison shift by X -&gt; poison</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op0))</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">// 0 shift by X -&gt; 0</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// X shift by 0 -&gt; X</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// Shift-by-sign-extended bool must be shift-by-0 because shift-by-all-ones</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">// would be poison.</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) ||</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;isIntOrIntVectorTy(1)))</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">// Fold undefined shifts.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a587eab2c520053bb06fdc4afe5a57aa3">isPoisonShift</a>(Op1, Q))</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="comment">// If any bits in the shift amount make that value greater than or equal to</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="comment">// the number of bits in the type, the shift is undefined.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownAmt = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">if</span> (KnownAmt.<a class="code" href="structllvm_1_1KnownBits.html#a9b35c622a902a7a7dc93b807a9fa9265">getMinValue</a>().<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(KnownAmt.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>()))</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="comment">// If all valid bits in the shift amount are known zero, the first operand is</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="comment">// unchanged.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordtype">unsigned</span> NumValidShiftBits = <a class="code" href="namespacellvm.html#a058782b98991f0719657d9008d3df41b">Log2_32_Ceil</a>(KnownAmt.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>());</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">if</span> (KnownAmt.<a class="code" href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">countMinTrailingZeros</a>() &gt;= NumValidShiftBits)</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">// Check for nsw shl leading to a poison value.</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="keywordflow">if</span> (IsNSW) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opcode == Instruction::Shl &amp;&amp; <span class="stringliteral">&quot;Expected shl for nsw instruction&quot;</span>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownVal = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> KnownShl = <a class="code" href="structllvm_1_1KnownBits.html#a2b783b3eeb66a5a3827e5a20057086cf">KnownBits::shl</a>(KnownVal, KnownAmt);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span> (KnownVal.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#ada19a89b7c62ce0bb713a7254b002445">isSignBitSet</a>())</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      KnownShl.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>.<a class="code" href="classllvm_1_1APInt.html#a4f1e1a4449b58958c5884c689e7f4861">setSignBit</a>();</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">if</span> (KnownVal.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#ada19a89b7c62ce0bb713a7254b002445">isSignBitSet</a>())</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      KnownShl.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>.<a class="code" href="classllvm_1_1APInt.html#a4f1e1a4449b58958c5884c689e7f4861">setSignBit</a>();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">if</span> (KnownShl.<a class="code" href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">hasConflict</a>())</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">/// Given operands for an Shl, LShr or AShr, see if we can</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a32712dc69f8e24c2bce9b4a7b4029401"> 1412</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a32712dc69f8e24c2bce9b4a7b4029401">simplifyRightShift</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ae9305e00d0227e8805edcc610f09bcdb">simplifyShift</a>(Opcode, Op0, Op1, <span class="comment">/*IsNSW*/</span> <span class="keyword">false</span>, Q, MaxRecurse))</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">// X &gt;&gt; X -&gt; 0</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// undef &gt;&gt; X -&gt; 0</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// undef &gt;&gt; X -&gt; undef (if it&#39;s exact)</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0))</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">return</span> IsExact ? Op0 : <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="comment">// The low bit cannot be shifted out of an exact shift if it is set.</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="comment">// TODO: Generalize by counting trailing zeros (see fold for exact division).</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (IsExact) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Op0Known =</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*Depth=*/</span>0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">if</span> (Op0Known.<a class="code" href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">One</a>[0])</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;}</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment">/// Given operands for an Shl, see if we can fold the result.</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa60596d02424932ad61cfc2911ffcf13"> 1442</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6c052bfdf5f83877d32736ff3895cba5">simplifyShlInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ae9305e00d0227e8805edcc610f09bcdb">simplifyShift</a>(Instruction::Shl, Op0, Op1, IsNSW, Q, MaxRecurse))</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">// undef &lt;&lt; X -&gt; 0</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// undef &lt;&lt; X -&gt; undef if (if it&#39;s NSW/NUW)</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0))</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">return</span> IsNSW || IsNUW ? Op0 : <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="comment">// (X &gt;&gt; A) &lt;&lt; A -&gt; X</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a> &amp;&amp;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aa41636955199b88164376e06e5914855">m_Shr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))))</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// shl nuw i8 C, %x  -&gt;  C  iff C has sign bit set.</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">if</span> (IsNUW &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa82e8cd74318874b5a685021e96a412f">m_Negative</a>()))</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="comment">// NOTE: could use computeKnownBits() / LazyValueInfo,</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// but the cost-benefit analysis suggests it isn&#39;t worth it.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;}</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6c052bfdf5f83877d32736ff3895cba5"> 1468</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6c052bfdf5f83877d32736ff3895cba5">llvm::simplifyShlInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsNSW, <span class="keywordtype">bool</span> IsNUW,</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aa60596d02424932ad61cfc2911ffcf13">return ::simplifyShlInst</a>(Op0, Op1, IsNSW, IsNUW, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">/// Given operands for an LShr, see if we can fold the result.</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1711672fba92fd8aaaf2581473292716"> 1475</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a7a41cf2067684aff8591bb68edad443e">simplifyLShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a32712dc69f8e24c2bce9b4a7b4029401">simplifyRightShift</a>(Instruction::LShr, Op0, Op1, IsExact, Q,</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                    MaxRecurse))</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">// (X &lt;&lt; A) &gt;&gt; A -&gt; X</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4796a8479f782aa42fa98ece31232a97">m_NUWShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">// ((X &lt;&lt; A) | Y) &gt;&gt; A -&gt; X  if effective width of Y is not larger than A.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="comment">// We can return X as we do in the above case since OR alters no bits in X.</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">// SimplifyDemandedBits in InstCombine can do more general optimization for</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// bit manipulation. This pattern aims to provide opportunities for other</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">// optimizers by supporting a simple but common case in InstSimplify.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *ShRAmt, *ShLAmt;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShRAmt)) &amp;&amp;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a4796a8479f782aa42fa98ece31232a97">m_NUWShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShLAmt)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      *ShRAmt == *ShLAmt) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> YKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> EffWidthY = YKnown.<a class="code" href="structllvm_1_1KnownBits.html#a70674aa792d906276123ab69dbdbfc69">countMaxActiveBits</a>();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (ShRAmt-&gt;<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(EffWidthY))</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7a41cf2067684aff8591bb68edad443e"> 1505</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a7a41cf2067684aff8591bb68edad443e">llvm::simplifyLShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a1711672fba92fd8aaaf2581473292716">return ::simplifyLShrInst</a>(Op0, Op1, IsExact, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">/// Given operands for an AShr, see if we can fold the result.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a35c62ad2d2b9c55798c27b6276933480"> 1512</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a0490e6e3fbdff8ae439abff8380ec7e2">simplifyAShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a32712dc69f8e24c2bce9b4a7b4029401">simplifyRightShift</a>(Instruction::AShr, Op0, Op1, IsExact, Q,</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                    MaxRecurse))</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="comment">// -1 &gt;&gt;a X --&gt; -1</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="comment">// (-1 &lt;&lt; X) a&gt;&gt; X --&gt; -1</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">// Do not return Op0 because it may contain undef elements if it&#39;s a vector.</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()) ||</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// (X &lt;&lt; A) &gt;&gt; A -&gt; X</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#addcb216ae7b435c305401afddd9c28a9">m_NSWShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// Arithmetic shifting an all-sign-bit value is a no-op.</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordtype">unsigned</span> NumSignBits = <a class="code" href="namespacellvm.html#ad46ed333b920b20e78d948610366254c">ComputeNumSignBits</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">if</span> (NumSignBits == Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>())</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;}</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0490e6e3fbdff8ae439abff8380ec7e2"> 1538</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a0490e6e3fbdff8ae439abff8380ec7e2">llvm::simplifyAShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsExact,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a35c62ad2d2b9c55798c27b6276933480">return ::simplifyAShrInst</a>(Op0, Op1, IsExact, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;}</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">/// Commuted variants are assumed to be handled by calling this function again</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment">/// with the parameters swapped.</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b"> 1545</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b">simplifyUnsignedRangeCheck</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ZeroICmp,</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                                         <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *UnsignedICmp, <span class="keywordtype">bool</span> IsAnd,</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> EqPred;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ZeroICmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(EqPred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) ||</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      !<a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(EqPred))</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> UnsignedPred;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// Y = (A - B);</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(UnsignedICmp,</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#a3de757fc0f1dc7f8f8e9211b32ac106d">m_c_ICmp</a>(UnsignedPred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">ICmpInst::isUnsigned</a>(UnsignedPred)) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="comment">// A &gt;=/&lt;= B || (A - B) != 0  &lt;--&gt;  true</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="keywordflow">if</span> ((UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> ||</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;           UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>) &amp;&amp;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp; !IsAnd)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(UnsignedICmp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">// A &lt;/&gt; B &amp;&amp; (A - B) == 0  &lt;--&gt;  false</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="keywordflow">if</span> ((UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> ||</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;           UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>) &amp;&amp;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;          EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp; IsAnd)</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(UnsignedICmp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <span class="comment">// A &lt;/&gt; B &amp;&amp; (A - B) != 0  &lt;--&gt;  A &lt;/&gt; B</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="comment">// A &lt;/&gt; B || (A - B) != 0  &lt;--&gt;  (A - B) != 0</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <span class="keywordflow">if</span> (EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp; (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> ||</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                                          UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>))</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">return</span> IsAnd ? UnsignedICmp : ZeroICmp;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="comment">// A &lt;=/&gt;= B &amp;&amp; (A - B) == 0  &lt;--&gt;  (A - B) == 0</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="comment">// A &lt;=/&gt;= B || (A - B) == 0  &lt;--&gt;  A &lt;=/&gt;= B</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <span class="keywordflow">if</span> (EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp; (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a> ||</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                          UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>))</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <span class="keywordflow">return</span> IsAnd ? ZeroICmp : UnsignedICmp;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">// Given  Y = (A - B)</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="comment">//   Y &gt;= A &amp;&amp; Y != 0  --&gt; Y &gt;= A  iff B != 0</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="comment">//   Y &lt;  A || Y == 0  --&gt; Y &lt;  A  iff B != 0</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(UnsignedICmp,</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#a3de757fc0f1dc7f8f8e9211b32ac106d">m_c_ICmp</a>(UnsignedPred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A)))) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> &amp;&amp; IsAnd &amp;&amp;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;          EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;          <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*Depth=*/</span>0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> UnsignedICmp;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> &amp;&amp; !IsAnd &amp;&amp;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;          EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;          <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*Depth=*/</span>0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">return</span> UnsignedICmp;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(UnsignedICmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(UnsignedPred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">ICmpInst::isUnsigned</a>(UnsignedPred))</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    ;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(UnsignedICmp,</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                 <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(UnsignedPred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;           <a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">ICmpInst::isUnsigned</a>(UnsignedPred))</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    UnsignedPred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(UnsignedPred);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="comment">// X &gt; Y &amp;&amp; Y == 0  --&gt;  Y == 0  iff X != 0</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="comment">// X &gt; Y || Y == 0  --&gt;  X &gt; Y   iff X != 0</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a> &amp;&amp; EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*Depth=*/</span>0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">return</span> IsAnd ? ZeroICmp : UnsignedICmp;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="comment">// X &lt;= Y &amp;&amp; Y != 0  --&gt;  X &lt;= Y  iff X != 0</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="comment">// X &lt;= Y || Y != 0  --&gt;  Y != 0  iff X != 0</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a> &amp;&amp; EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*Depth=*/</span>0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">return</span> IsAnd ? UnsignedICmp : ZeroICmp;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="comment">// The transforms below here are expected to be handled more generally with</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="comment">// simplifyAndOrOfICmpsWithLimitConst() or in InstCombine&#39;s</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="comment">// foldAndOrOfICmpsWithConstEq(). If we are looking to trim optimizer overlap,</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="comment">// these are candidates for removal.</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160; </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="comment">// X &lt; Y &amp;&amp; Y != 0  --&gt;  X &lt; Y</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="comment">// X &lt; Y || Y != 0  --&gt;  Y != 0</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> &amp;&amp; EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">return</span> IsAnd ? UnsignedICmp : ZeroICmp;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="comment">// X &gt;= Y &amp;&amp; Y == 0  --&gt;  Y == 0</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="comment">// X &gt;= Y || Y == 0  --&gt;  X &gt;= Y</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> &amp;&amp; EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">return</span> IsAnd ? ZeroICmp : UnsignedICmp;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="comment">// X &lt; Y &amp;&amp; Y == 0  --&gt;  false</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> &amp;&amp; EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      IsAnd)</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(UnsignedICmp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// X &gt;= Y || Y != 0  --&gt;  true</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">if</span> (UnsignedPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> &amp;&amp; EqPred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      !IsAnd)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(UnsignedICmp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;}</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">/// Test if a pair of compares with a shared operand and 2 constants has an</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">/// empty set intersection, full set union, or if one compare is a superset of</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">/// the other.</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab6d9b33c5b329e795a6a774bfcc61485"> 1656</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ab6d9b33c5b329e795a6a774bfcc61485">simplifyAndOrOfICmpsWithConstants</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp1,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                <span class="keywordtype">bool</span> IsAnd) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="comment">// Look for this pattern: {and/or} (icmp X, C0), (icmp X, C1)).</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">if</span> (Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0) != Cmp1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0))</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0)) ||</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)))</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keyword">auto</span> Range0 = <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(Cmp0-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>(), *C0);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keyword">auto</span> Range1 = <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(Cmp1-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>(), *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="comment">// For and-of-compares, check if the intersection is empty:</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="comment">// (icmp X, C0) &amp;&amp; (icmp X, C1) --&gt; empty set --&gt; false</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordflow">if</span> (IsAnd &amp;&amp; Range0.intersectWith(Range1).isEmptySet())</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(Cmp0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// For or-of-compares, check if the union is full:</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// (icmp X, C0) || (icmp X, C1) --&gt; full set --&gt; true</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (!IsAnd &amp;&amp; Range0.unionWith(Range1).isFullSet())</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(Cmp0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="comment">// Is one range a superset of the other?</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="comment">// If this is and-of-compares, take the smaller set:</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="comment">// (icmp sgt X, 4) &amp;&amp; (icmp sgt X, 42) --&gt; icmp sgt X, 42</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="comment">// If this is or-of-compares, take the larger set:</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="comment">// (icmp sgt X, 4) || (icmp sgt X, 42) --&gt; icmp sgt X, 4</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">if</span> (Range0.contains(Range1))</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">return</span> IsAnd ? Cmp1 : Cmp0;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (Range1.contains(Range0))</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">return</span> IsAnd ? Cmp0 : Cmp1;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;}</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a025ae78e80792793dcc7ca23c91955bb"> 1693</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a025ae78e80792793dcc7ca23c91955bb">simplifyAndOrOfICmpsWithZero</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp1,</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                                           <span class="keywordtype">bool</span> IsAnd) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> P0 = Cmp0-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>(), P1 = Cmp1-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) ||</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) || P0 != P1)</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">if</span> ((IsAnd &amp;&amp; P0 != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>) || (!IsAnd &amp;&amp; P1 != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>))</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="comment">// We have either &quot;(X == 0 || Y == 0)&quot; or &quot;(X != 0 &amp;&amp; Y != 0)&quot;.</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = Cmp1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="comment">// If one of the compares is a masked version of a (not) null check, then</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// that compare implies the other, so we eliminate the other. Optionally, look</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">// through a pointer-to-int cast to match a null check of a pointer type.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="comment">// (X == 0) || (([ptrtoint] X &amp; ?) == 0) --&gt; ([ptrtoint] X &amp; ?) == 0</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="comment">// (X == 0) || ((? &amp; [ptrtoint] X) == 0) --&gt; (? &amp; [ptrtoint] X) == 0</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="comment">// (X != 0) &amp;&amp; (([ptrtoint] X &amp; ?) != 0) --&gt; ([ptrtoint] X &amp; ?) != 0</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="comment">// (X != 0) &amp;&amp; ((? &amp; [ptrtoint] X) != 0) --&gt; (? &amp; [ptrtoint] X) != 0</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">return</span> Cmp1;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// (([ptrtoint] Y &amp; ?) == 0) || (Y == 0) --&gt; ([ptrtoint] Y &amp; ?) == 0</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// ((? &amp; [ptrtoint] Y) == 0) || (Y == 0) --&gt; (? &amp; [ptrtoint] Y) == 0</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// (([ptrtoint] Y &amp; ?) != 0) &amp;&amp; (Y != 0) --&gt; ([ptrtoint] Y &amp; ?) != 0</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="comment">// ((? &amp; [ptrtoint] Y) != 0) &amp;&amp; (Y != 0) --&gt; (? &amp; [ptrtoint] Y) != 0</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span> Cmp0;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a55dab77fc401999b5d0795c5a917b058"> 1730</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a55dab77fc401999b5d0795c5a917b058">simplifyAndOfICmpsWithAdd</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op1,</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="structllvm_1_1InstrInfoQuery.html">InstrInfoQuery</a> &amp;IIQ) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="comment">// (icmp (add V, C0), C1) &amp; (icmp V, C0)</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred0, Pred1;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(V), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0)), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))))</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(V), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keyword">auto</span> *AddInst = cast&lt;OverflowingBinaryOperator&gt;(Op0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">if</span> (AddInst-&gt;getOperand(1) != Op1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keywordtype">bool</span> IsNSW = IIQ.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(AddInst);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordtype">bool</span> IsNUW = IIQ.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(AddInst);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> Delta = *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> - *C0;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordflow">if</span> (C0-&gt;isStrictlyPositive()) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">if</span> (Delta == 2) {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>)</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a> &amp;&amp; IsNSW)</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">if</span> (Delta == 1) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>)</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a> &amp;&amp; IsNSW)</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordflow">if</span> (C0-&gt;getBoolValue() &amp;&amp; IsNUW) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (Delta == 2)</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">if</span> (Delta == 1)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">/// Try to eliminate compares with signed or unsigned min/max constants.</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac5aa07ad3181b3821ab7ab4602443264"> 1778</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ac5aa07ad3181b3821ab7ab4602443264">simplifyAndOrOfICmpsWithLimitConst</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp1,</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                                                 <span class="keywordtype">bool</span> IsAnd) {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="comment">// Canonicalize an equality compare as Cmp0.</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="keywordflow">if</span> (Cmp1-&gt;<a class="code" href="classllvm_1_1ICmpInst.html#abe8988eef2e6fc2baba032cb22afedd7">isEquality</a>())</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Cmp0, Cmp1);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="keywordflow">if</span> (!Cmp0-&gt;<a class="code" href="classllvm_1_1ICmpInst.html#abe8988eef2e6fc2baba032cb22afedd7">isEquality</a>())</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">// The non-equality compare must include a common operand (X). Canonicalize</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="comment">// the common operand as operand 0 (the predicate is swapped if the common</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="comment">// operand was operand 1).</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred0 = Cmp0-&gt;<a class="code" href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">getPredicate</a>();</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred1;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="keywordtype">bool</span> HasNotOp = <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3de757fc0f1dc7f8f8e9211b32ac106d">m_c_ICmp</a>(Pred1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()));</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keywordflow">if</span> (!HasNotOp &amp;&amp; !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3de757fc0f1dc7f8f8e9211b32ac106d">m_c_ICmp</a>(Pred1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred1))</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">// The equality compare must be against a constant. Flip bits if we matched</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="comment">// a bitwise not. Convert a null pointer constant to an integer zero value.</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinMaxC;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)))</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    MinMaxC = HasNotOp ? ~*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(Cmp0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)))</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    MinMaxC = <a class="code" href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">APInt::getZero</a>(8);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="comment">// DeMorganize if this is &#39;or&#39;: P0 || P1 --&gt; !P0 &amp;&amp; !P1.</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="keywordflow">if</span> (!IsAnd) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    Pred0 = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred0);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    Pred1 = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred1);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="comment">// Normalize to unsigned compare and unsigned min/max value.</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="comment">// Example for 8-bit: -128 + 128 -&gt; 0; 127 + 128 -&gt; 255</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(Pred1)) {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    Pred1 = <a class="code" href="classllvm_1_1ICmpInst.html#af07a09f1cda33d984cc725dc9e856d40">ICmpInst::getUnsignedPredicate</a>(Pred1);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    MinMaxC += <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(MinMaxC.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>());</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">// (X != MAX) &amp;&amp; (X &lt; Y) --&gt; X &lt; Y</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="comment">// (X == MAX) || (X &gt;= Y) --&gt; X &gt;= Y</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordflow">if</span> (MinMaxC.<a class="code" href="classllvm_1_1APInt.html#af976f3fd3889dab65f16068048c41168">isMaxValue</a>())</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordflow">return</span> Cmp1;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">// (X != MIN) &amp;&amp; (X &gt; Y) --&gt;  X &gt; Y</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// (X == MIN) || (X &lt;= Y) --&gt; X &lt;= Y</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">if</span> (MinMaxC.<a class="code" href="classllvm_1_1APInt.html#a60dd597765e178719e8d4caf44ba3b64">isMinValue</a>())</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordflow">return</span> Cmp1;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;}</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">/// Try to simplify and/or of icmp with ctpop intrinsic.</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec"> 1838</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec">simplifyAndOrOfICmpsWithCtpop</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Cmp1,</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                                            <span class="keywordtype">bool</span> IsAnd) {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred0, Pred1;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred0, m_Intrinsic&lt;Intrinsic::ctpop&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)),</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                          <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) ||</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Cmp1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>())) || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="comment">// (ctpop(X) == C) || (X != 0) --&gt; X != 0 where C &gt; 0</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">if</span> (!IsAnd &amp;&amp; Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">return</span> Cmp1;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// (ctpop(X) != C) &amp;&amp; (X == 0) --&gt; X == 0 where C &gt; 0</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">if</span> (IsAnd &amp;&amp; Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">return</span> Cmp1;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;}</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ae6251887455a61bc58dae044e27a58c8"> 1858</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ae6251887455a61bc58dae044e27a58c8">simplifyAndOfICmps</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op1,</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b">simplifyUnsignedRangeCheck</a>(Op0, Op1, <span class="comment">/*IsAnd=*/</span><span class="keyword">true</span>, Q))</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b">simplifyUnsignedRangeCheck</a>(Op1, Op0, <span class="comment">/*IsAnd=*/</span><span class="keyword">true</span>, Q))</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab6d9b33c5b329e795a6a774bfcc61485">simplifyAndOrOfICmpsWithConstants</a>(Op0, Op1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ac5aa07ad3181b3821ab7ab4602443264">simplifyAndOrOfICmpsWithLimitConst</a>(Op0, Op1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#a025ae78e80792793dcc7ca23c91955bb">simplifyAndOrOfICmpsWithZero</a>(Op0, Op1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec">simplifyAndOrOfICmpsWithCtpop</a>(Op0, Op1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec">simplifyAndOrOfICmpsWithCtpop</a>(Op1, Op0, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#a55dab77fc401999b5d0795c5a917b058">simplifyAndOfICmpsWithAdd</a>(Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>))</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#a55dab77fc401999b5d0795c5a917b058">simplifyAndOfICmpsWithAdd</a>(Op1, Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>))</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;}</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac3befd2e6d896e64fed67ca6cf888c35"> 1887</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ac3befd2e6d896e64fed67ca6cf888c35">simplifyOrOfICmpsWithAdd</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op1,</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1InstrInfoQuery.html">InstrInfoQuery</a> &amp;IIQ) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="comment">// (icmp (add V, C0), C1) | (icmp V, C0)</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred0, Pred1;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *C0, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(V), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C0)), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))))</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(V), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keyword">auto</span> *AddInst = cast&lt;BinaryOperator&gt;(Op0-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="keywordflow">if</span> (AddInst-&gt;getOperand(1) != Op1-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="keywordtype">bool</span> IsNSW = IIQ.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(AddInst);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <span class="keywordtype">bool</span> IsNUW = IIQ.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(AddInst);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> Delta = *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> - *C0;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">if</span> (C0-&gt;isStrictlyPositive()) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">if</span> (Delta == 2) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>)</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> &amp;&amp; IsNSW)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (Delta == 1) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a> &amp;&amp; IsNSW)</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">if</span> (C0-&gt;getBoolValue() &amp;&amp; IsNUW) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordflow">if</span> (Delta == 2)</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> (Delta == 1)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <span class="keywordflow">if</span> (Pred0 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a> &amp;&amp; Pred1 == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;}</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#afcc3ba5b657190a234fcb018cfe98e47"> 1934</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#afcc3ba5b657190a234fcb018cfe98e47">simplifyOrOfICmps</a>(<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op0, <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Op1,</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b">simplifyUnsignedRangeCheck</a>(Op0, Op1, <span class="comment">/*IsAnd=*/</span><span class="keyword">false</span>, Q))</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b">simplifyUnsignedRangeCheck</a>(Op1, Op0, <span class="comment">/*IsAnd=*/</span><span class="keyword">false</span>, Q))</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab6d9b33c5b329e795a6a774bfcc61485">simplifyAndOrOfICmpsWithConstants</a>(Op0, Op1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ac5aa07ad3181b3821ab7ab4602443264">simplifyAndOrOfICmpsWithLimitConst</a>(Op0, Op1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#a025ae78e80792793dcc7ca23c91955bb">simplifyAndOrOfICmpsWithZero</a>(Op0, Op1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160; </div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec">simplifyAndOrOfICmpsWithCtpop</a>(Op0, Op1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec">simplifyAndOrOfICmpsWithCtpop</a>(Op1, Op0, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160; </div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ac3befd2e6d896e64fed67ca6cf888c35">simplifyOrOfICmpsWithAdd</a>(Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>))</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="InstructionSimplify_8cpp.html#ac3befd2e6d896e64fed67ca6cf888c35">simplifyOrOfICmpsWithAdd</a>(Op1, Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>))</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160; </div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;}</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#af2e7f2020d420aef3c72a900d7dbdf16"> 1963</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#af2e7f2020d420aef3c72a900d7dbdf16">simplifyAndOrOfFCmps</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI, <a class="code" href="classllvm_1_1FCmpInst.html">FCmpInst</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                                   <a class="code" href="classllvm_1_1FCmpInst.html">FCmpInst</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keywordtype">bool</span> IsAnd) {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS0 = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getOperand(0), *LHS1 = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS0 = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getOperand(0), *RHS1 = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">if</span> (LHS0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != RHS0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">FCmpInst::Predicate</a> PredL = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;getPredicate(), PredR = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getPredicate();</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordflow">if</span> ((PredL == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa3213b645e029aba8bb1b85213607d5e">FCmpInst::FCMP_ORD</a> &amp;&amp; PredR == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa3213b645e029aba8bb1b85213607d5e">FCmpInst::FCMP_ORD</a> &amp;&amp; IsAnd) ||</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      (PredL == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baf0159e4005258dc54f20b6fc227d19ed">FCmpInst::FCMP_UNO</a> &amp;&amp; PredR == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baf0159e4005258dc54f20b6fc227d19ed">FCmpInst::FCMP_UNO</a> &amp;&amp; !IsAnd)) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="comment">// (fcmp ord NNAN, X) &amp; (fcmp ord X, Y) --&gt; fcmp ord X, Y</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="comment">// (fcmp ord NNAN, X) &amp; (fcmp ord Y, X) --&gt; fcmp ord Y, X</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="comment">// (fcmp ord X, NNAN) &amp; (fcmp ord X, Y) --&gt; fcmp ord X, Y</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="comment">// (fcmp ord X, NNAN) &amp; (fcmp ord Y, X) --&gt; fcmp ord Y, X</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="comment">// (fcmp uno NNAN, X) | (fcmp uno X, Y) --&gt; fcmp uno X, Y</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="comment">// (fcmp uno NNAN, X) | (fcmp uno Y, X) --&gt; fcmp uno Y, X</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="comment">// (fcmp uno X, NNAN) | (fcmp uno X, Y) --&gt; fcmp uno X, Y</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="comment">// (fcmp uno X, NNAN) | (fcmp uno Y, X) --&gt; fcmp uno Y, X</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(LHS0, TLI) &amp;&amp; (LHS1 == RHS0 || LHS1 == RHS1)) ||</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        (<a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(LHS1, TLI) &amp;&amp; (LHS0 == RHS0 || LHS0 == RHS1)))</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">// (fcmp ord X, Y) &amp; (fcmp ord NNAN, X) --&gt; fcmp ord X, Y</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="comment">// (fcmp ord Y, X) &amp; (fcmp ord NNAN, X) --&gt; fcmp ord Y, X</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="comment">// (fcmp ord X, Y) &amp; (fcmp ord X, NNAN) --&gt; fcmp ord X, Y</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="comment">// (fcmp ord Y, X) &amp; (fcmp ord X, NNAN) --&gt; fcmp ord Y, X</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="comment">// (fcmp uno X, Y) | (fcmp uno NNAN, X) --&gt; fcmp uno X, Y</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="comment">// (fcmp uno Y, X) | (fcmp uno NNAN, X) --&gt; fcmp uno Y, X</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="comment">// (fcmp uno X, Y) | (fcmp uno X, NNAN) --&gt; fcmp uno X, Y</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="comment">// (fcmp uno Y, X) | (fcmp uno X, NNAN) --&gt; fcmp uno Y, X</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(RHS0, TLI) &amp;&amp; (RHS1 == LHS0 || RHS1 == LHS1)) ||</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        (<a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(RHS1, TLI) &amp;&amp; (RHS0 == LHS0 || RHS0 == LHS1)))</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  }</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160; </div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;}</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa92f78ec5f5cbd86f1fc74b3e166475e"> 2001</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aa92f78ec5f5cbd86f1fc74b3e166475e">simplifyAndOrOfCmps</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> IsAnd) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <span class="comment">// Look through casts of the &#39;and&#39; operands to find compares.</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keyword">auto</span> *Cast0 = dyn_cast&lt;CastInst&gt;(Op0);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="keyword">auto</span> *Cast1 = dyn_cast&lt;CastInst&gt;(Op1);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keywordflow">if</span> (Cast0 &amp;&amp; Cast1 &amp;&amp; Cast0-&gt;getOpcode() == Cast1-&gt;getOpcode() &amp;&amp;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      Cast0-&gt;getSrcTy() == Cast1-&gt;getSrcTy()) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    Op0 = Cast0-&gt;getOperand(0);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    Op1 = Cast1-&gt;getOperand(0);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keyword">auto</span> *ICmp0 = dyn_cast&lt;ICmpInst&gt;(Op0);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keyword">auto</span> *ICmp1 = dyn_cast&lt;ICmpInst&gt;(Op1);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">if</span> (ICmp0 &amp;&amp; ICmp1)</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    V = IsAnd ? <a class="code" href="InstructionSimplify_8cpp.html#ae6251887455a61bc58dae044e27a58c8">simplifyAndOfICmps</a>(ICmp0, ICmp1, Q)</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;              : <a class="code" href="InstructionSimplify_8cpp.html#afcc3ba5b657190a234fcb018cfe98e47">simplifyOrOfICmps</a>(ICmp0, ICmp1, Q);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="keyword">auto</span> *FCmp0 = dyn_cast&lt;FCmpInst&gt;(Op0);</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="keyword">auto</span> *FCmp1 = dyn_cast&lt;FCmpInst&gt;(Op1);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordflow">if</span> (FCmp0 &amp;&amp; FCmp1)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    V = <a class="code" href="InstructionSimplify_8cpp.html#af2e7f2020d420aef3c72a900d7dbdf16">simplifyAndOrOfFCmps</a>(Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>, FCmp0, FCmp1, IsAnd);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="keywordflow">if</span> (!V)</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <span class="keywordflow">if</span> (!Cast0)</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160; </div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// If we looked through casts, we can only handle a constant simplification</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="comment">// because we are not allowed to create a cast instruction here.</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V))</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a49b69843927f7cd96d866768b3aec92b">ConstantExpr::getCast</a>(Cast0-&gt;getOpcode(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Cast0-&gt;getType());</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;}</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">/// Given a bitwise logic op, check if the operands are add/sub with a common</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">/// source value and inverted constant (identity: C - X -&gt; ~(X + ~C)).</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1876d72def55e62f3d361166975c11d3"> 2039</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a1876d72def55e62f3d361166975c11d3">simplifyLogicOfAddSub</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                                    <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode) {</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() == Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp; <span class="stringliteral">&quot;Mismatched binop types&quot;</span>);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Instruction.html#ac3376e3bd632ad72252638ae43295ce4">BinaryOperator::isBitwiseLogicOp</a>(Opcode) &amp;&amp; <span class="stringliteral">&quot;Expected logic op&quot;</span>);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))) &amp;&amp;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(C2), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) ||</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))) &amp;&amp;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(C2), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">ConstantExpr::getNot</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) == C2) {</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="comment">// (X + C) &amp; (~C - X) --&gt; (X + C) &amp; ~(X + C) --&gt; 0</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="comment">// (X + C) | (~C - X) --&gt; (X + C) | ~(X + C) --&gt; -1</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <span class="comment">// (X + C) ^ (~C - X) --&gt; (X + C) ^ ~(X + C) --&gt; -1</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="keywordflow">return</span> Opcode == Instruction::And ? <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(Ty)</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                                        : <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(Ty);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    }</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;}</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment">/// Given operands for an And, see if we can fold the result.</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac90052ea1afde8fc28fe6f27181fd5f2"> 2063</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">simplifyAndInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                              <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::And, Op0, Op1, Q))</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="comment">// X &amp; poison -&gt; poison</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="comment">// X &amp; undef -&gt; 0</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="comment">// X &amp; X = X</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="comment">// X &amp; 0 = 0</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="comment">// X &amp; -1 = X</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="comment">// A &amp; ~A  =  ~A &amp; A  =  0</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="comment">// (A | ?) &amp; A = A</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="comment">// A &amp; (A | ?) = A</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="comment">// (X | Y) &amp; (X | ~Y) --&gt; X (commuted 8 ways)</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) &amp;&amp;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) &amp;&amp;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1876d72def55e62f3d361166975c11d3">simplifyLogicOfAddSub</a>(Op0, Op1, Instruction::And))</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160; </div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="comment">// A mask that only clears known zeros of a shifted value is a no-op.</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *ShAmt;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))) {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="comment">// If all bits in the inverted and shifted mask are clear:</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="comment">// and (shl X, ShAmt), Mask --&gt; shl X, ShAmt</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShAmt))) &amp;&amp;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        (~(*<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)).<a class="code" href="README__P9_8txt.html#a1339768ca51595b3ebf5c0e69b80c9e8">lshr</a>(*ShAmt).isZero())</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="comment">// If all bits in the inverted and shifted mask are clear:</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="comment">// and (lshr X, ShAmt), Mask --&gt; lshr X, ShAmt</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShAmt))) &amp;&amp;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        (~(*<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)).<a class="code" href="lib_2Target_2X86_2README_8txt.html#af91797dc0ab1ae005fdbf19482859eaf">shl</a>(*ShAmt).isZero())</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  }</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="comment">// If we have a multiplication overflow check that is being &#39;and&#39;ed with a</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="comment">// check that one of the multipliers is not zero, we can omit the &#39;and&#39;, and</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="comment">// only keep the overflow check.</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aebd66f6649c1449adbcfcedf1651af18">isCheckForZeroAndMulWithOverflow</a>(Op0, Op1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aebd66f6649c1449adbcfcedf1651af18">isCheckForZeroAndMulWithOverflow</a>(Op1, Op0, <span class="keyword">true</span>))</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="comment">// A &amp; (-A) = A if A is a power of two or zero.</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0)))) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a4036c3c75bcee1206cd199548b87f9ae">isKnownToBeAPowerOfTwo</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*OrZero*/</span> <span class="keyword">true</span>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>,</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                               Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a4036c3c75bcee1206cd199548b87f9ae">isKnownToBeAPowerOfTwo</a>(Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*OrZero*/</span> <span class="keyword">true</span>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                               Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  }</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <span class="comment">// This is a similar pattern used for checking if a value is a power-of-2:</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="comment">// (A - 1) &amp; A --&gt; 0 (if A is a power-of-2 or 0)</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="comment">// A &amp; (A - 1) --&gt; 0 (if A is a power-of-2 or 0)</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>())) &amp;&amp;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <a class="code" href="namespacellvm.html#a4036c3c75bcee1206cd199548b87f9ae">isKnownToBeAPowerOfTwo</a>(Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*OrZero*/</span> <span class="keyword">true</span>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>())) &amp;&amp;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="namespacellvm.html#a4036c3c75bcee1206cd199548b87f9ae">isKnownToBeAPowerOfTwo</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*OrZero*/</span> <span class="keyword">true</span>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa92f78ec5f5cbd86f1fc74b3e166475e">simplifyAndOrOfCmps</a>(Q, Op0, Op1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a>(Instruction::And, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="comment">// And distributes over Or.  Try some generic simplifications based on this.</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">expandCommutativeBinOp</a>(Instruction::And, Op0, Op1,</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                                        Instruction::Or, Q, MaxRecurse))</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="comment">// And distributes over Xor.  Try some generic simplifications based on this.</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">expandCommutativeBinOp</a>(Instruction::And, Op0, Op1,</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                                        Instruction::Xor, Q, MaxRecurse))</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160; </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1)) {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1)) {</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      <span class="comment">// A &amp; (A &amp;&amp; B) -&gt; A &amp;&amp; B</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())))</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())))</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    }</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="comment">// If the operation is with the result of a select instruction, check</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="comment">// whether operating on either branch of the select always yields the same</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="comment">// value.</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            <a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(Instruction::And, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  }</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;            <a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(Instruction::And, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <span class="comment">// Assuming the effective width of Y is not larger than A, i.e. all bits</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="comment">// from X and Y are disjoint in (X &lt;&lt; A) | Y,</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="comment">// if the mask of this AND op covers all bits of X or Y, while it covers</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <span class="comment">// no bits from the other, we can bypass this AND op. E.g.,</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="comment">// ((X &lt;&lt; A) | Y) &amp; Mask -&gt; Y,</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="comment">//     if Mask = ((1 &lt;&lt; effective_width_of(Y)) - 1)</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="comment">// ((X &lt;&lt; A) | Y) &amp; Mask -&gt; X &lt;&lt; A,</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="comment">//     if Mask = ((1 &lt;&lt; effective_width_of(X)) - 1) &lt;&lt; A</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="comment">// SimplifyDemandedBits in InstCombine can optimize the general case.</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="comment">// This pattern aims to help other passes for a common case.</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *XShifted;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) &amp;&amp;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a4796a8479f782aa42fa98ece31232a97">m_NUWShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShAmt)),</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                                     <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(XShifted)),</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                        <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ShftCnt = ShAmt-&gt;<a class="code" href="classllvm_1_1APInt.html#ab01d8694a759a934e01f1c558c3ce862">getLimitedValue</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> YKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> EffWidthY = YKnown.<a class="code" href="structllvm_1_1KnownBits.html#a70674aa792d906276123ab69dbdbfc69">countMaxActiveBits</a>();</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="keywordflow">if</span> (EffWidthY &lt;= ShftCnt) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> XKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> EffWidthX = XKnown.<a class="code" href="structllvm_1_1KnownBits.html#a70674aa792d906276123ab69dbdbfc69">countMaxActiveBits</a>();</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> EffBitsY = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, EffWidthY);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> EffBitsX = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, EffWidthX) &lt;&lt; ShftCnt;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      <span class="comment">// If the mask is extracting all bits from X or Y as is, we can skip</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      <span class="comment">// this AND op.</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <span class="keywordflow">if</span> (EffBitsY.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(*<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) &amp;&amp; !EffBitsX.<a class="code" href="classllvm_1_1APInt.html#a6da514c588b2668280a861a59bfc9fa5">intersects</a>(*<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="keywordflow">if</span> (EffBitsX.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(*<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) &amp;&amp; !EffBitsY.<a class="code" href="classllvm_1_1APInt.html#a6da514c588b2668280a861a59bfc9fa5">intersects</a>(*<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        <span class="keywordflow">return</span> XShifted;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160; </div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="comment">// ((X | Y) ^ X ) &amp; ((X | Y) ^ Y) --&gt; 0</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="comment">// ((X | Y) ^ Y ) &amp; ((X | Y) ^ X) --&gt; 0</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">m_c_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>),</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                         <a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a43ac4fbaaf63a88eb5ac05f6d3e5649c">m_BinOp</a>(<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>),</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                                      <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))) &amp;&amp;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">m_c_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160; </div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1)) {</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Implied = <a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>)) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="comment">// If Op0 is true implies Op1 is true, then Op0 is a subset of Op1.</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      <span class="keywordflow">if</span> (*Implied == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="comment">// If Op0 is true implies Op1 is false, then they are not true together.</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <span class="keywordflow">if</span> (*Implied == <span class="keyword">false</span>)</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Implied = <a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(Op1, Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>)) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      <span class="comment">// If Op1 is true implies Op0 is true, then Op1 is a subset of Op0.</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      <span class="keywordflow">if</span> (*Implied)</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <span class="comment">// If Op1 is true implies Op0 is false, then they are not true together.</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      <span class="keywordflow">if</span> (!*Implied)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a>(Instruction::And, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;}</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc"> 2266</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">llvm::simplifyAndInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ac90052ea1afde8fc28fe6f27181fd5f2">return ::simplifyAndInst</a>(Op0, Op1, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;}</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="comment">// TODO: Many of these folds could use LogicalAnd/LogicalOr.</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1e6ddeb22c7d871b3e15f22af2078215"> 2271</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a1e6ddeb22c7d871b3e15f22af2078215">simplifyOrLogic</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) {</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;getType() &amp;&amp; <span class="stringliteral">&quot;Expected same type for &#39;or&#39; ops&quot;</span>);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType();</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="comment">// X | ~X --&gt; -1</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(Ty);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="comment">// X | ~(X &amp; ?) = -1</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))))</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(Ty);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="comment">// X | (X &amp; ?) --&gt; X</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="comment">// (A ^ B) | (A | B) --&gt; A | B</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="comment">// (A ^ B) | (B | A) --&gt; B | A</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">m_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="comment">// ~(A ^ B) | (A | B) --&gt; -1</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="comment">// ~(A ^ B) | (B | A) --&gt; -1</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">m_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))) &amp;&amp;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(Ty);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="comment">// (A &amp; ~B) | (A ^ B) --&gt; A ^ B</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="comment">// (~B &amp; A) | (A ^ B) --&gt; A ^ B</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">// (A &amp; ~B) | (B ^ A) --&gt; B ^ A</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="comment">// (~B &amp; A) | (B ^ A) --&gt; B ^ A</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))) &amp;&amp;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">m_c_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="comment">// (~A ^ B) | (A &amp; B) --&gt; ~A ^ B</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="comment">// (B ^ ~A) | (A &amp; B) --&gt; B ^ ~A</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="comment">// (~A ^ B) | (B &amp; A) --&gt; ~A ^ B</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="comment">// (B ^ ~A) | (B &amp; A) --&gt; B ^ ~A</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">m_c_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">m_NotForbidUndef</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160; </div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="comment">// (~A | B) | (A ^ B) --&gt; -1</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="comment">// (~A | B) | (B ^ A) --&gt; -1</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="comment">// (B | ~A) | (A ^ B) --&gt; -1</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="comment">// (B | ~A) | (B ^ A) --&gt; -1</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">m_c_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(Ty);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="comment">// (~A &amp; B) | ~(A | B) --&gt; ~A</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="comment">// (~A &amp; B) | ~(B | A) --&gt; ~A</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="comment">// (B &amp; ~A) | ~(A | B) --&gt; ~A</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="comment">// (B &amp; ~A) | ~(B | A) --&gt; ~A</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NotA;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotA), <a class="code" href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">m_NotForbidUndef</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A))),</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                    <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))))</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="keywordflow">return</span> NotA;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="comment">// The same is true of Logical And</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="comment">// TODO: This could share the logic of the version above if there was a</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="comment">// version of LogicalAnd that allowed more than just i1 types.</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">m_c_LogicalAnd</a>(</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                   <a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotA), <a class="code" href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">m_NotForbidUndef</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A))),</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                   <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)))))</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">return</span> NotA;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160; </div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="comment">// ~(A ^ B) | (A &amp; B) --&gt; ~(A ^ B)</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="comment">// ~(A ^ B) | (B &amp; A) --&gt; ~(A ^ B)</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NotAB;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">m_NotForbidUndef</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">m_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))),</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                            <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotAB))) &amp;&amp;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="keywordflow">return</span> NotAB;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160; </div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="comment">// ~(A &amp; B) | (A ^ B) --&gt; ~(A &amp; B)</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="comment">// ~(A &amp; B) | (B ^ A) --&gt; ~(A &amp; B)</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">m_NotForbidUndef</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))),</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                            <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotAB))) &amp;&amp;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">m_c_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="keywordflow">return</span> NotAB;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;}</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="comment">/// Given operands for an Or, see if we can fold the result.</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a845e93029e92776841aaf5e0ec4c812f"> 2364</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">simplifyOrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                             <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::Or, Op0, Op1, Q))</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="comment">// X | poison -&gt; poison</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160; </div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="comment">// X | undef -&gt; -1</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="comment">// X | -1 = -1</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="comment">// Do not return Op1 because it may contain undef elements if it&#39;s a vector.</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="comment">// X | X = X</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="comment">// X | 0 = X</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1 || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *R = <a class="code" href="InstructionSimplify_8cpp.html#a1e6ddeb22c7d871b3e15f22af2078215">simplifyOrLogic</a>(Op0, Op1))</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *R = <a class="code" href="InstructionSimplify_8cpp.html#a1e6ddeb22c7d871b3e15f22af2078215">simplifyOrLogic</a>(Op1, Op0))</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1876d72def55e62f3d361166975c11d3">simplifyLogicOfAddSub</a>(Op0, Op1, Instruction::Or))</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160; </div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="comment">// Rotated -1 is still -1:</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="comment">// (-1 &lt;&lt; X) | (-1 &gt;&gt; (C - X)) --&gt; -1</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="comment">// (-1 &gt;&gt; X) | (-1 &lt;&lt; (C - X)) --&gt; -1</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="comment">// ...with C &lt;= bitwidth (and commuted variants).</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) ||</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))) {</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) ||</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;         <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) &amp;&amp;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;ule(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;getScalarSizeInBits())) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType());</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    }</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160; </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="comment">// A funnel shift (rotate) can be decomposed into simpler shifts. See if we</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="comment">// are mixing in another shift that is redundant with the funnel shift.</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160; </div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="comment">// (fshl X, ?, Y) | (shl X, Y) --&gt; fshl X, ?, Y</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="comment">// (shl X, Y) | (fshl X, ?, Y) --&gt; fshl X, ?, Y</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0,</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;            m_Intrinsic&lt;Intrinsic::fshl&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1,</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;            m_Intrinsic&lt;Intrinsic::fshl&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="comment">// (fshr ?, X, Y) | (lshr X, Y) --&gt; fshr ?, X, Y</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="comment">// (lshr X, Y) | (fshr ?, X, Y) --&gt; fshr ?, X, Y</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0,</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;            m_Intrinsic&lt;Intrinsic::fshr&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1,</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;            m_Intrinsic&lt;Intrinsic::fshr&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))) &amp;&amp;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160; </div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa92f78ec5f5cbd86f1fc74b3e166475e">simplifyAndOrOfCmps</a>(Q, Op0, Op1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="comment">// If we have a multiplication overflow check that is being &#39;and&#39;ed with a</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="comment">// check that one of the multipliers is not zero, we can omit the &#39;and&#39;, and</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  <span class="comment">// only keep the overflow check.</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aebd66f6649c1449adbcfcedf1651af18">isCheckForZeroAndMulWithOverflow</a>(Op0, Op1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aebd66f6649c1449adbcfcedf1651af18">isCheckForZeroAndMulWithOverflow</a>(Op1, Op0, <span class="keyword">false</span>))</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a>(Instruction::Or, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160; </div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <span class="comment">// Or distributes over And.  Try some generic simplifications based on this.</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">expandCommutativeBinOp</a>(Instruction::Or, Op0, Op1,</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                                        Instruction::And, Q, MaxRecurse))</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1)) {</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1)) {</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      <span class="comment">// A | (A || B) -&gt; A || B</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">m_Select</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    }</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="comment">// If the operation is with the result of a select instruction, check</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="comment">// whether operating on either branch of the select always yields the same</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="comment">// value.</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;            <a class="code" href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a>(Instruction::Or, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="comment">// (A &amp; C1)|(B &amp; C2)</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))) &amp;&amp;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C2)))) {</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == ~*C2) {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      <span class="comment">// (A &amp; C1)|(B &amp; C2)</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      <span class="comment">// If we have: ((V + N) &amp; C1) | (V &amp; C2)</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      <span class="comment">// .. and C2 = ~C1 and C2 is 0+1+ and (N &amp; C2) == 0</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;      <span class="comment">// replace with V+N.</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <span class="keywordflow">if</span> (C2-&gt;<a class="code" href="classllvm_1_1APInt.html#ac328c5d387ddf7d4a02afe9b669723c7">isMask</a>() &amp;&amp; <span class="comment">// C2 == 0+1+</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(A, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad191220adaaedcfba833985509a17452">m_c_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)))) {</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <span class="comment">// Add commutes, try both ways.</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aedbf3998b4ff72347a45cb4169d120db">MaskedValueIsZero</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, *C2, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;          <span class="keywordflow">return</span> A;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      }</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <span class="comment">// Or commutes, try both ways.</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isMask() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad191220adaaedcfba833985509a17452">m_c_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)))) {</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        <span class="comment">// Add commutes, try both ways.</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aedbf3998b4ff72347a45cb4169d120db">MaskedValueIsZero</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      }</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  }</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a>(Instruction::Or, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160; </div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1)) {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Implied =</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;            <a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="comment">// If Op0 is false implies Op1 is false, then Op1 is a subset of Op0.</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;      <span class="keywordflow">if</span> (*Implied == <span class="keyword">false</span>)</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <span class="comment">// If Op0 is false implies Op1 is true, then at least one is always true.</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      <span class="keywordflow">if</span> (*Implied == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Implied =</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;            <a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(Op1, Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      <span class="comment">// If Op1 is false implies Op0 is false, then Op0 is a subset of Op1.</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;      <span class="keywordflow">if</span> (*Implied == <span class="keyword">false</span>)</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      <span class="comment">// If Op1 is false implies Op0 is true, then at least one is always true.</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      <span class="keywordflow">if</span> (*Implied == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    }</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a>(Instruction::Or, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160; </div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;}</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6"> 2530</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">llvm::simplifyOrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a845e93029e92776841aaf5e0ec4c812f">return ::simplifyOrInst</a>(Op0, Op1, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;}</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="comment">/// Given operands for a Xor, see if we can fold the result.</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a9cfeea050198084d67109f0260e33970"> 2536</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                              <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::Xor, Op0, Op1, Q))</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160; </div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="comment">// X ^ poison -&gt; poison</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op1))</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160; </div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <span class="comment">// A ^ undef -&gt; undef</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160; </div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="comment">// A ^ 0 = A</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="comment">// A ^ A = 0</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160; </div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="comment">// A ^ ~A  =  ~A ^ A  =  -1</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160; </div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keyword">auto</span> foldAndOrNot = [](<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>) -&gt; <a class="code" href="classllvm_1_1Value.html">Value</a> * {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="comment">// (~A &amp; B) ^ (A | B) --&gt; A -- There are 8 commuted variants.</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <span class="keywordflow">return</span> A;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="comment">// (~A | B) ^ (A &amp; B) --&gt; ~A -- There are 8 commuted variants.</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="comment">// The &#39;not&#39; op must contain a complete -1 operand (no undef elements for</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="comment">// vector) for the transform to be safe.</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NotA;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">m_CombineAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">m_NotForbidUndef</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotA)),</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                     <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))))</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      <span class="keywordflow">return</span> NotA;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  };</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *R = foldAndOrNot(Op0, Op1))</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *R = foldAndOrNot(Op1, Op0))</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160; </div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1876d72def55e62f3d361166975c11d3">simplifyLogicOfAddSub</a>(Op0, Op1, Instruction::Xor))</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a>(Instruction::Xor, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160; </div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <span class="comment">// Threading Xor over selects and phi nodes is pointless, so don&#39;t bother.</span></div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="comment">// Threading over the select in &quot;A ^ select(cond, B, C)&quot; means evaluating</span></div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="comment">// &quot;A^B&quot; and &quot;A^C&quot; and seeing if they are equal; but they are equal if and</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="comment">// only if B and C are equal.  If B and C are equal then (since we assume</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="comment">// that operands have already been simplified) &quot;select(cond, B, C)&quot; should</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="comment">// have been simplified to the common value of B and C already.  Analysing</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="comment">// &quot;A^B&quot; and &quot;A^C&quot; thus gains nothing, but costs compile time.  Similarly</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="comment">// for threading over phi nodes.</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160; </div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a>(Instruction::Xor, Op0, Op1, Q, MaxRecurse))</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160; </div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;}</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160; </div>
<div class="line"><a name="l02608"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815"> 2608</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">llvm::simplifyXorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a9cfeea050198084d67109f0260e33970">return ::simplifyXorInst</a>(Op0, Op1, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;}</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160; </div>
<div class="line"><a name="l02612"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e"> 2612</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">CmpInst::makeCmpResultType</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;}</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="comment">/// Rummage around inside V looking for something equivalent to the comparison</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="comment">/// &quot;LHS Pred RHS&quot;. Return such a value if found, otherwise return null.</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="comment">/// Helper function for analyzing max/min idioms.</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6"> 2619</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;SelectInst&gt;(V);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>)</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *Cmp = dyn_cast&lt;CmpInst&gt;(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition());</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="keywordflow">if</span> (!Cmp)</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpLHS = Cmp-&gt;getOperand(0), *CmpRHS = Cmp-&gt;getOperand(1);</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">if</span> (Pred == Cmp-&gt;getPredicate() &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == CmpLHS &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> == CmpRHS)</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordflow">return</span> Cmp;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Cmp-&gt;getPredicate()) &amp;&amp;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == CmpRHS &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> == CmpLHS)</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordflow">return</span> Cmp;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;}</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="comment">/// Return true if the underlying object (storage) must be disjoint from</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;<span class="comment">/// storage returned by any noalias return call.</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa9fb01a51417407eb7de1dff943c27e3"> 2638</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#aa9fb01a51417407eb7de1dff943c27e3">isAllocDisjoint</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="comment">// For allocas, we consider only static ones (dynamic</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  <span class="comment">// allocas might be transformed into calls to malloc not simultaneously</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="comment">// live with the compared-to allocation). For globals, we exclude symbols</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="comment">// that might be resolve lazily to symbols in another dynamically-loaded</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="comment">// library (and, thus, could be malloc&#39;ed by the implementation).</span></div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(V))</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">return</span> AI-&gt;getParent() &amp;&amp; AI-&gt;getFunction() &amp;&amp; AI-&gt;isStaticAlloca();</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(V))</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    <span class="keywordflow">return</span> (GV-&gt;hasLocalLinkage() || GV-&gt;hasHiddenVisibility() ||</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;            GV-&gt;hasProtectedVisibility() || GV-&gt;hasGlobalUnnamedAddr()) &amp;&amp;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;           !GV-&gt;isThreadLocal();</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> *A = dyn_cast&lt;Argument&gt;(V))</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">return</span> A-&gt;hasByValAttr();</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;}</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<span class="comment">/// Return true if V1 and V2 are each the base of some distict storage region</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="comment">/// [V, object_size(V)] which do not overlap.  Note that zero sized regions</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="comment">/// *are* possible, and that zero sized regions do not overlap with any other.</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1766fdfd6561f8585dca1ac3f867399c"> 2658</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a1766fdfd6561f8585dca1ac3f867399c">haveNonOverlappingStorage</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>) {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  <span class="comment">// Global variables always exist, so they always exist during the lifetime</span></div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="comment">// of each other and all allocas.  Global variables themselves usually have</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="comment">// non-overlapping storage, but since their addresses are constants, the</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  <span class="comment">// case involving two globals does not reach here and is instead handled in</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  <span class="comment">// constant folding.</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <span class="comment">// Two different allocas usually have different addresses...</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <span class="comment">// However, if there&#39;s an @llvm.stackrestore dynamically in between two</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <span class="comment">// allocas, they may have the same address. It&#39;s tempting to reduce the</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="comment">// scope of the problem by only looking at *static* allocas here. That would</span></div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="comment">// cover the majority of allocas while significantly reducing the likelihood</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="comment">// of having an @llvm.stackrestore pop up in the middle. However, it&#39;s not</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="comment">// actually impossible for an @llvm.stackrestore to pop up in the middle of</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="comment">// an entry block. Also, if we have a block that&#39;s not attached to a</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <span class="comment">// function, we can&#39;t tell if it&#39;s &quot;static&quot; under the current definition.</span></div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  <span class="comment">// Theoretically, this problem could be fixed by creating a new kind of</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="comment">// instruction kind specifically for static allocas. Such a new instruction</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="comment">// could be required to be at the top of the entry block, thus preventing it</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="comment">// from being subject to a @llvm.stackrestore. Instcombine could even</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="comment">// convert regular allocas into these special allocas. It&#39;d be nifty.</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="comment">// However, until then, this problem remains open.</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="comment">// So, we&#39;ll assume that two non-empty allocas have different addresses</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <span class="comment">// for now.</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <span class="keyword">auto</span> isByValArg = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> *A = dyn_cast&lt;Argument&gt;(V);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="keywordflow">return</span> A &amp;&amp; A-&gt;hasByValAttr();</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  };</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160; </div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <span class="comment">// Byval args are backed by store which does not overlap with each other,</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="comment">// allocas, or globals.</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">if</span> (isByValArg(V1))</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">return</span> isa&lt;AllocaInst&gt;(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>) || isa&lt;GlobalVariable&gt;(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>) || isByValArg(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>);</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keywordflow">if</span> (isByValArg(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>))</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">return</span> isa&lt;AllocaInst&gt;(V1) || isa&lt;GlobalVariable&gt;(V1) || isByValArg(V1);</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160; </div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordflow">return</span> isa&lt;AllocaInst&gt;(V1) &amp;&amp;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;         (isa&lt;AllocaInst&gt;(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>) || isa&lt;GlobalVariable&gt;(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>));</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;}</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="comment">// A significant optimization not implemented here is assuming that alloca</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;<span class="comment">// addresses are not equal to incoming argument values. They don&#39;t *alias*,</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;<span class="comment">// as we say, but that doesn&#39;t mean they aren&#39;t equal, so we take a</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="comment">// conservative approach.</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="comment">// This is inspired in part by C++11 5.10p1:</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="comment">//   &quot;Two pointers of the same type compare equal if and only if they are both</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;<span class="comment">//    null, both point to the same function, or both represent the same</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;<span class="comment">//    address.&quot;</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;<span class="comment">// This is pretty permissive.</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<span class="comment">// It&#39;s also partly due to C11 6.5.9p6:</span></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="comment">//   &quot;Two pointers compare equal if and only if both are null pointers, both are</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="comment">//    pointers to the same object (including a pointer to an object and a</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<span class="comment">//    subobject at its beginning) or function, both are pointers to one past the</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;<span class="comment">//    last element of the same array object, or one is a pointer to one past the</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="comment">//    end of one array object and the other is a pointer to the start of a</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;<span class="comment">//    different array object that happens to immediately follow the first array</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;<span class="comment">//    object in the address space.)</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;<span class="comment">// C11&#39;s version is more restrictive, however there&#39;s no reason why an argument</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;<span class="comment">// couldn&#39;t be a one-past-the-end value for a stack object in the caller and be</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="comment">// equal to the beginning of a stack object in the callee.</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;<span class="comment">// If the C and C++ standards are ever made sufficiently restrictive in this</span></div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<span class="comment">// area, it may be possible to update LLVM&#39;s semantics accordingly and reinstate</span></div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="comment">// this optimization.</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a97c60d34e23a09e6a3ee40e54bb3e65f"> 2728</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a97c60d34e23a09e6a3ee40e54bb3e65f">computePointerICmp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                                    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CxtI = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1InstrInfoQuery.html">InstrInfoQuery</a> &amp;IIQ = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160; </div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  <span class="comment">// First, skip past any trivial no-ops.</span></div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160; </div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="comment">// A non-null pointer is not equal to a null pointer.</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;      <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">llvm::isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                           IIQ.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a>))</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), !<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">CmpInst::isTrueWhenEqual</a>(Pred));</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160; </div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  <span class="comment">// We can only fold certain predicates on pointer comparisons.</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <span class="comment">// Equality comparisons are easy to fold.</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160; </div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="comment">// We can only handle unsigned relational comparisons because &#39;inbounds&#39; on</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <span class="comment">// a GEP only protects against unsigned wrapping.</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="comment">// However, we have to switch them to their signed variants to handle</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="comment">// negative indices from the base pointer.</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    Pred = <a class="code" href="classllvm_1_1ICmpInst.html#a9d5f70171d811078c4d263811f13c121">ICmpInst::getSignedPredicate</a>(Pred);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  }</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160; </div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="comment">// Strip off any constant offsets so that we can reason about them.</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <span class="comment">// It&#39;s tempting to use getUnderlyingObject or even just stripInBoundsOffsets</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="comment">// here and compare base addresses like AliasAnalysis does, however there are</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="comment">// numerous hazards. AliasAnalysis and its utilities rely on special rules</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="comment">// governing loads and stores which don&#39;t apply to icmps. Also, AliasAnalysis</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <span class="comment">// doesn&#39;t need to guarantee pointer inequality when it says NoAlias.</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160; </div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="comment">// Even if an non-inbounds GEP occurs along the path we can still optimize</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="comment">// equality comparisons concerning the result.</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <span class="keywordtype">bool</span> AllowNonInbounds = <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred);</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">stripAndComputeConstantOffsets</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, AllowNonInbounds);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> RHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">stripAndComputeConstantOffsets</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, AllowNonInbounds);</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160; </div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="comment">// If LHS and RHS are related via constant offsets to the same base</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <span class="comment">// value, we can replace it with an icmp which just compares the offsets.</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>),</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                            <a class="code" href="classllvm_1_1ICmpInst.html#a5769f1da829d6f6400b486d8e34e317f">ICmpInst::compare</a>(LHSOffset, RHSOffset, Pred));</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160; </div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="comment">// Various optimizations for (in)equality comparisons.</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>) {</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    <span class="comment">// Different non-empty allocations that exist at the same time have</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="comment">// different addresses (if the program can tell). If the offsets are</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="comment">// within the bounds of their allocations (and not one-past-the-end!</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="comment">// so we can&#39;t use inbounds!), and their allocations aren&#39;t the same,</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    <span class="comment">// the pointers are not equal.</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a1766fdfd6561f8585dca1ac3f867399c">haveNonOverlappingStorage</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> LHSSize, RHSSize;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <a class="code" href="structllvm_1_1ObjectSizeOpts.html">ObjectSizeOpts</a> Opts;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;      Opts.<a class="code" href="structllvm_1_1ObjectSizeOpts.html#a0c614185ae8ad5ed7bd5ff0aa66f8242">EvalMode</a> = <a class="code" href="structllvm_1_1ObjectSizeOpts.html#a77eec32ab6be9e75a4b1f7cd5c4e5b8ea78d811e98514cd165dda532286610fd2">ObjectSizeOpts::Mode::Min</a>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) -&gt; <a class="code" href="classllvm_1_1Function.html">Function</a> * {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFunction();</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *A = dyn_cast&lt;Argument&gt;(V))</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;          <span class="keywordflow">return</span> A-&gt;getParent();</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      }(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;      Opts.<a class="code" href="structllvm_1_1ObjectSizeOpts.html#a0229c5396522e5a903a277fda4c3659c">NullIsUnknownSize</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> ? <a class="code" href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">NullPointerIsDefined</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) : <span class="keyword">true</span>;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a62ba0e5ee2d86f663c6de4efda6082a7">getObjectSize</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, LHSSize, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI, Opts) &amp;&amp;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;          <a class="code" href="namespacellvm.html#a62ba0e5ee2d86f663c6de4efda6082a7">getObjectSize</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, RHSSize, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI, Opts) &amp;&amp;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;          !LHSOffset.<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>() &amp;&amp; !RHSOffset.<a class="code" href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">isNegative</a>() &amp;&amp;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;          LHSOffset.<a class="code" href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">ult</a>(LHSSize) &amp;&amp; RHSOffset.<a class="code" href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">ult</a>(RHSSize)) {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>),</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                                !<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">CmpInst::isTrueWhenEqual</a>(Pred));</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      }</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    }</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160; </div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <span class="comment">// If one side of the equality comparison must come from a noalias call</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <span class="comment">// (meaning a system memory allocation function), and the other side must</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="comment">// come from a pointer that cannot overlap with dynamically-allocated</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="comment">// memory within the lifetime of the current function (allocas, byval</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="comment">// arguments, globals), then determine the comparison result here.</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 8&gt;</a> LHSUObjs, RHSUObjs;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <a class="code" href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">getUnderlyingObjects</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, LHSUObjs);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <a class="code" href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">getUnderlyingObjects</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, RHSUObjs);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <span class="comment">// Is the set of underlying objects all noalias calls?</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keyword">auto</span> IsNAC = [](<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const Value *&gt;</a> Objects) {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Objects, <a class="code" href="namespacellvm.html#a433468826ef20b5ddb53704fc38363fc">isNoAliasCall</a>);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    };</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160; </div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="comment">// Is the set of underlying objects all things which must be disjoint from</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="comment">// noalias calls.  We assume that indexing from such disjoint storage</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="comment">// into the heap is undefined, and thus offsets can be safely ignored.</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keyword">auto</span> IsAllocDisjoint = [](<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const Value *&gt;</a> Objects) {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Objects, ::<a class="code" href="InstructionSimplify_8cpp.html#aa9fb01a51417407eb7de1dff943c27e3">isAllocDisjoint</a>);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    };</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">if</span> ((IsNAC(LHSUObjs) &amp;&amp; IsAllocDisjoint(RHSUObjs)) ||</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        (IsNAC(RHSUObjs) &amp;&amp; IsAllocDisjoint(LHSUObjs)))</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>),</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                              !<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">CmpInst::isTrueWhenEqual</a>(Pred));</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="comment">// Fold comparisons for non-escaping pointer even if the allocation call</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="comment">// cannot be elided. We cannot fold malloc comparison to null. Also, the</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <span class="comment">// dynamic allocation call could be either of the operands.  Note that</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="comment">// the other operand can not be based on the alloc - if it were, then</span></div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <span class="comment">// the cmp itself would be a capture.</span></div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a56641197c50e1c7a9558446d14deadb3">isAllocLikeFn</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, TLI) &amp;&amp;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;        <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">llvm::isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, <span class="keyword">nullptr</span>, CxtI, DT))</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a56641197c50e1c7a9558446d14deadb3">isAllocLikeFn</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, TLI) &amp;&amp;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;             <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">llvm::isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, <span class="keyword">nullptr</span>, CxtI, DT))</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="comment">// FIXME: We should also fold the compare when the pointer escapes, but the</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="comment">// compare dominates the pointer escape</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; !<a class="code" href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">PointerMayBeCaptured</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">true</span>, <span class="keyword">true</span>))</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>),</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                              <a class="code" href="classllvm_1_1CmpInst.html#a1e32582702cf5b9d4484c0ce346b2f57">CmpInst::isFalseWhenEqual</a>(Pred));</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  }</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160; </div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  <span class="comment">// Otherwise, fail.</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;}</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="comment">/// Fold an icmp when its operands have i1 scalar type.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1777124c8b3c365101cf61eb49a22f22"> 2865</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a1777124c8b3c365101cf61eb49a22f22">simplifyICmpOfBools</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>); <span class="comment">// The return type.</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *OpTy = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();   <span class="comment">// The operand type.</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <span class="keywordflow">if</span> (!OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(1))</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160; </div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <span class="comment">// A boolean compared to true/false can be reduced in 14 out of the 20</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="comment">// (10 predicates * 2 constants) possible combinations. The other</span></div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="comment">// 6 cases require a &#39;not&#39; of the LHS.</span></div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160; </div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keyword">auto</span> ExtractNotLHS = [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) -&gt; <a class="code" href="classllvm_1_1Value.html">Value</a> * {</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  };</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160; </div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:  <span class="comment">// X !=  0 -&gt; X</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>: <span class="comment">// X &gt;u  0 -&gt; X</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>: <span class="comment">// X &lt;s  0 -&gt; X</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160; </div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:  <span class="comment">// not(X) ==  0 -&gt; X != 0 -&gt; X</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>: <span class="comment">// not(X) &lt;=u 0 -&gt; X &gt;u 0 -&gt; X</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>: <span class="comment">// not(X) &gt;=s 0 -&gt; X &lt;s 0 -&gt; X</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = ExtractNotLHS(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160; </div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>: <span class="comment">// X &lt;u  0 -&gt; false</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>: <span class="comment">// X &gt;s  0 -&gt; false</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160; </div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>: <span class="comment">// X &gt;=u 0 -&gt; true</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>: <span class="comment">// X &lt;=s 0 -&gt; true</span></div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160; </div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    }</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>())) {</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:  <span class="comment">// X ==   1 -&gt; X</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>: <span class="comment">// X &gt;=u  1 -&gt; X</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>: <span class="comment">// X &lt;=s -1 -&gt; X</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:  <span class="comment">// not(X) !=  1 -&gt; X ==   1 -&gt; X</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>: <span class="comment">// not(X) &lt;=u 1 -&gt; X &gt;=u  1 -&gt; X</span></div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>: <span class="comment">// not(X) &gt;s  1 -&gt; X &lt;=s -1 -&gt; X</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = ExtractNotLHS(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>: <span class="comment">// X &gt;u   1 -&gt; false</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>: <span class="comment">// X &lt;s  -1 -&gt; false</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160; </div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>: <span class="comment">// X &lt;=u  1 -&gt; true</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>: <span class="comment">// X &gt;=s -1 -&gt; true</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160; </div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    }</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  }</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160; </div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>).value_or(<span class="keyword">false</span>))</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:<span class="comment"></span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;<span class="comment">    /// For signed comparison, the values for an i1 are 0 and -1</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;<span class="comment">    /// respectively. This maps into a truth table of:</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;<span class="comment">    /// LHS | RHS | LHS &gt;=s RHS   | LHS implies RHS</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="comment">    ///  0  |  0  |  1 (0 &gt;= 0)   |  1</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="comment">    ///  0  |  1  |  1 (0 &gt;= -1)  |  1</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;<span class="comment">    ///  1  |  0  |  0 (-1 &gt;= 0)  |  0</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="comment">    ///  1  |  1  |  1 (-1 &gt;= -1) |  1</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="comment"></span>    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>).value_or(<span class="keyword">false</span>))</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>).value_or(<span class="keyword">false</span>))</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:<span class="comment"></span></div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="comment">    /// SLE follows the same logic as SGE with the LHS and RHS swapped.</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;<span class="comment"></span>    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>).value_or(<span class="keyword">false</span>))</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  }</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160; </div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;}</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;<span class="comment">/// Try hard to fold icmp with zero RHS because this is a common case.</span></div>
<div class="line"><a name="l02968"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a53b262b2b6cb7c4003930f731fd30405"> 2968</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a53b262b2b6cb7c4003930f731fd30405">simplifyICmpWithZero</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                                   <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160; </div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>); <span class="comment">// The return type.</span></div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ICmp predicate!&quot;</span>);</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a>))</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a>))</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>: {</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> LHSKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  }</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>: {</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> LHSKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>() &amp;&amp;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  }</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>: {</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> LHSKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;  }</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>: {</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> LHSKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <span class="keywordflow">if</span> (LHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>() &amp;&amp;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;        <a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  }</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  }</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160; </div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;}</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160; </div>
<div class="line"><a name="l03030"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#acfd39cf838ff9b37f517f0007e8b5e8c"> 3030</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#acfd39cf838ff9b37f517f0007e8b5e8c">simplifyICmpWithConstant</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                                       <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1InstrInfoQuery.html">InstrInfoQuery</a> &amp;IIQ) {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>); <span class="comment">// The return type.</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160; </div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <span class="comment">// Sign-bit checks can be optimized to true/false after unsigned</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <span class="comment">// floating-point casts:</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <span class="comment">// icmp slt (bitcast (uitofp X)),  0 --&gt; false</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <span class="comment">// icmp sgt (bitcast (uitofp X)), -1 --&gt; true</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac0467ca7fad871738b10db95feb40dad">m_BitCast</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ac47353e50683b2440ca9ad4a1fa860d0">m_UIToFP</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))) {</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(ITy);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(ITy);</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  }</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160; </div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)))</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160; </div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <span class="comment">// Rule out tautological comparisons (eg., ult 0 or uge 0).</span></div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHS_CR = <a class="code" href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">ConstantRange::makeExactICmpRegion</a>(Pred, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#a5bd6d98b4a7ecc1dcdc571e4352fcc52">isEmptySet</a>())</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(ITy);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">isFullSet</a>())</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(ITy);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160; </div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHS_CR =</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      <a class="code" href="namespacellvm.html#a546e6f5ba8f510c3e7ed2e20013548d9">computeConstantRange</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(Pred), IIQ.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a>);</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  <span class="keywordflow">if</span> (!LHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">isFullSet</a>()) {</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">contains</a>(LHS_CR))</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(ITy);</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#aaaa2f5e2c6c3122d2b484f9e50950e18">inverse</a>().<a class="code" href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">contains</a>(LHS_CR))</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(ITy);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160; </div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  <span class="comment">// (mul nuw/nsw X, MulC) != C --&gt; true  (if C is not a multiple of MulC)</span></div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  <span class="comment">// (mul nuw/nsw X, MulC) == C --&gt; false (if C is not a multiple of MulC)</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *MulC;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;      ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7580eaba3cee9cdf52c080253bd57f5d">m_NUWMul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(MulC))) &amp;&amp;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        *MulC != 0 &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;<a class="code" href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">urem</a>(*MulC) != 0) ||</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;       (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a591ea0d13cc18949cc588bf7272adf45">m_NSWMul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(MulC))) &amp;&amp;</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;        *MulC != 0 &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;<a class="code" href="classllvm_1_1APInt.html#ac131d830427393332e440e1d6e3013b6">srem</a>(*MulC) != 0)))</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ITy, Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>);</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160; </div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;}</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160; </div>
<div class="line"><a name="l03079"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a896f0dc48237fc8c91022b5df2c9c574"> 3079</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a896f0dc48237fc8c91022b5df2c9c574">simplifyICmpWithBinOpOnLHS</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                                         <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *LBO, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;                                         <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>); <span class="comment">// The return type.</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160; </div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <span class="comment">// icmp pred (or X, Y), X</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">m_c_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)))) {</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>)</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>)</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160; </div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>) {</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> RHSKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> YKnown = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;      <span class="keywordflow">if</span> (RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>() &amp;&amp; YKnown.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>())</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        <span class="keywordflow">return</span> Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> ? <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy) : <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="keywordflow">if</span> (RHSKnown.<a class="code" href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">isNegative</a>() || YKnown.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        <span class="keywordflow">return</span> Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> ? <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy) : <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    }</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160; </div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  <span class="comment">// icmp pred (and X, Y), X</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">m_c_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)))) {</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  }</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160; </div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="comment">// icmp pred (urem X, Y), Y</span></div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)))) {</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>: {</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      <span class="keywordflow">if</span> (!Known.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>: {</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>);</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <span class="keywordflow">if</span> (!Known.<a class="code" href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">isNonNegative</a>())</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    }</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    }</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  }</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160; </div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <span class="comment">// icmp pred (urem X, Y), X</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  }</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160; </div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  <span class="comment">// x &gt;&gt;u y &lt;=u x --&gt; true.</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;  <span class="comment">// x &gt;&gt;u y &gt;u  x --&gt; false.</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  <span class="comment">// x udiv y &lt;=u x --&gt; true.</span></div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="comment">// x udiv y &gt;u  x --&gt; false.</span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) {</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    <span class="comment">// icmp pred (X op Y), X</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  }</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160; </div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  <span class="comment">// If x is nonzero:</span></div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  <span class="comment">// x &gt;&gt;u C &lt;u  x --&gt; true  for C != 0.</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  <span class="comment">// x &gt;&gt;u C !=  x --&gt; true  for C != 0.</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="comment">// x &gt;&gt;u C &gt;=u x --&gt; false for C != 0.</span></div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;  <span class="comment">// x &gt;&gt;u C ==  x --&gt; false for C != 0.</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="comment">// x udiv C &lt;u  x --&gt; true  for C != 1.</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  <span class="comment">// x udiv C !=  x --&gt; true  for C != 1.</span></div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  <span class="comment">// x udiv C &gt;=u x --&gt; false for C != 1.</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="comment">// x udiv C ==  x --&gt; false for C != 1.</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="comment">// TODO: allow non-constant shift amount/divisor</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> != 0) ||</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> != 1)) {</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>)) {</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        <span class="comment">// UGT/ULE are handled by the more general case just above</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected UGT/ULE, should have been handled&quot;</span>);</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;      }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;  }</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160; </div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;  <span class="comment">// (x*C1)/C2 &lt;= x for C1 &lt;= C2.</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="comment">// This holds even if the multiplication overflows: Assume that x != 0 and</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;  <span class="comment">// arithmetic is modulo M. For overflow to occur we must have C1 &gt;= M/x and</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;  <span class="comment">// thus C2 &gt;= M/x. It follows that (x*C1)/C2 &lt;= (M-1)/C2 &lt;= ((M-1)*x)/M &lt; x.</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;  <span class="comment">// Additionally, either the multiplication and division might be represented</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;  <span class="comment">// as shifts:</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  <span class="comment">// (x*C1)&gt;&gt;C2 &lt;= x for C1 &lt; 2**C2.</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <span class="comment">// (x&lt;&lt;C1)/C2 &lt;= x for 2**C1 &lt; C2.</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">m_Mul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C2))) &amp;&amp;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;       <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;ule(*C2)) ||</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">m_Mul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C2))) &amp;&amp;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;       <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;ule(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(C2-&gt;<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), 1) &lt;&lt; *C2)) ||</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C2))) &amp;&amp;</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;       (<a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getBitWidth(), 1) &lt;&lt; *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>).ule(*C2))) {</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  }</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160; </div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <span class="comment">// (sub C, X) == X, C is odd  --&gt; false</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;  <span class="comment">// (sub C, X) != X, C is odd  --&gt; true</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))) &amp;&amp;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;      (*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp; 1) == 1 &amp;&amp; <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred))</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">return</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>) ? <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy) : <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160; </div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;}</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160; </div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="comment">// If only one of the icmp&#39;s operands has NSW flags, try to prove that:</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">//   icmp slt (x + C1), (x +nsw C2)</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">// is equivalent to:</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="comment">//   icmp slt C1, C2</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="comment">// which is true if x + C2 has the NSW flags set and:</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="comment">// *) C1 &lt; C2 &amp;&amp; C1 &gt;= 0, or</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="comment">// *) C2 &lt; C1 &amp;&amp; C1 &lt;= 0.</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1e172464f0de35f6ef97e10d3b0d809b"> 3236</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a1e172464f0de35f6ef97e10d3b0d809b">trySimplifyICmpWithAdds</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                                    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <span class="comment">// TODO: only support icmp slt for now.</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <span class="keywordflow">if</span> (Pred != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>)</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160; </div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  <span class="comment">// Canonicalize nsw add as RHS.</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a321b8e5bfbda0da1e621822399fe3960">m_NSWAdd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a321b8e5bfbda0da1e621822399fe3960">m_NSWAdd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160; </div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, *C2;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad191220adaaedcfba833985509a17452">m_c_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>))) ||</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad191220adaaedcfba833985509a17452">m_c_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(C2))))</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160; </div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;slt(*C2) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isNonNegative()) ||</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;         (C2-&gt;<a class="code" href="classllvm_1_1APInt.html#adafa9575780f9246d1df0b7e2a619356">slt</a>(*<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;isNonPositive());</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;}</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="comment">/// TODO: A large part of this logic is duplicated in InstCombine&#39;s</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="comment">/// foldICmpBinOp(). We should be able to share that and avoid the code</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;<span class="comment">/// duplication.</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a6becc8920dea7dfc1df655a3d3c8a40a"> 3261</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a6becc8920dea7dfc1df655a3d3c8a40a">simplifyICmpWithBinOp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;                                    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;                                    <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *LBO = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *RBO = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; (LBO || RBO)) {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <span class="comment">// Analyze the case when either LHS or RHS is an add instruction.</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *A = <span class="keyword">nullptr</span>, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <span class="keyword">nullptr</span>, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <span class="keyword">nullptr</span>, *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <span class="comment">// LHS = A + B (or A and B are null); RHS = C + D (or C and D are null).</span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <span class="keywordtype">bool</span> NoLHSWrapProblem = <span class="keyword">false</span>, NoRHSWrapProblem = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <span class="keywordflow">if</span> (LBO &amp;&amp; LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;      A = LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;      NoLHSWrapProblem =</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;          <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred) ||</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;          (<a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">CmpInst::isUnsigned</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;OverflowingBinaryOperator&gt;(LBO))) ||</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;          (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;OverflowingBinaryOperator&gt;(LBO)));</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    }</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="keywordflow">if</span> (RBO &amp;&amp; RBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>) {</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;      NoRHSWrapProblem =</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;          <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred) ||</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;          (<a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">CmpInst::isUnsigned</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;OverflowingBinaryOperator&gt;(RBO))) ||</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;          (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">CmpInst::isSigned</a>(Pred) &amp;&amp;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;OverflowingBinaryOperator&gt;(RBO)));</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    }</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160; </div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="comment">// icmp (X+Y), X -&gt; icmp Y, 0 for equalities or if there is no overflow.</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="keywordflow">if</span> ((A == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; NoLHSWrapProblem)</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, A == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> ? <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : A,</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                                      <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), Q,</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                                      MaxRecurse - 1))</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="comment">// icmp X, (X+Y) -&gt; icmp 0, Y for equalities or if there is no overflow.</span></div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; NoRHSWrapProblem)</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;              <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                               <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> ? <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160; </div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <span class="comment">// icmp (X+Y), (X+Z) -&gt; icmp Y,Z for equalities or if there is no overflow.</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <span class="keywordtype">bool</span> CanSimplify = (NoLHSWrapProblem &amp;&amp; NoRHSWrapProblem) ||</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                       <a class="code" href="InstructionSimplify_8cpp.html#a1e172464f0de35f6ef97e10d3b0d809b">trySimplifyICmpWithAdds</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    <span class="keywordflow">if</span> (A &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; (A == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || A == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) &amp;&amp; CanSimplify) {</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;      <span class="comment">// Determine Y and Z in the form icmp (X+Y), (X+Z).</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, *<a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>;</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      <span class="keywordflow">if</span> (A == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;        <span class="comment">// C + B == C + D  -&gt;  B == D</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;        <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (A == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) {</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        <span class="comment">// D + B == C + D  -&gt;  B == C</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;        <span class="comment">// A + C == C + D  -&gt;  A == D</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = A;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;        <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>);</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        <span class="comment">// A + D == C + D  -&gt;  A == C</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;        <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = A;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;        <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;      }</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    }</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  }</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160; </div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  <span class="keywordflow">if</span> (LBO)</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a896f0dc48237fc8c91022b5df2c9c574">simplifyICmpWithBinOpOnLHS</a>(Pred, LBO, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160; </div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  <span class="keywordflow">if</span> (RBO)</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a896f0dc48237fc8c91022b5df2c9c574">simplifyICmpWithBinOpOnLHS</a>(</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;            <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred), RBO, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160; </div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="comment">// 0 - (zext X) pred C</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">CmpInst::isUnsigned</a>(Pred) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))) {</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isStrictlyPositive()) {</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>)</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;        <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;      }</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNonNegative()) {</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;        <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>)</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;        <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>)</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;      }</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    }</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  }</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160; </div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="comment">//   If C2 is a power-of-2 and C is not:</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="comment">//   (C2 &lt;&lt; X) == C --&gt; false</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  <span class="comment">//   (C2 &lt;&lt; X) != C --&gt; true</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ad5e60756e331a97669d11b5c9d8691a2">m_Power2</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) &amp;&amp;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isPowerOf2()) {</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="comment">// C2 &lt;&lt; X can equal zero in some circumstances.</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <span class="comment">// This simplification might be unsafe if C is zero.</span></div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="comment">// We know it is safe if:</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    <span class="comment">// - The shift is nsw. We can&#39;t shift out the one bit.</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    <span class="comment">// - The shift is nuw. We can&#39;t shift out the one bit.</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="comment">// - C2 is one.</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="comment">// - C isn&#39;t zero.</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;OverflowingBinaryOperator&gt;(LBO)) ||</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;OverflowingBinaryOperator&gt;(LBO)) ||</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) || !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero()) {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;      <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;      <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>)</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    }</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;  }</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160; </div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="comment">// TODO: This is overly constrained. LHS can be any power-of-2.</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  <span class="comment">// (1 &lt;&lt; X)  &gt;u 0x8000 --&gt; false</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <span class="comment">// (1 &lt;&lt; X) &lt;=u 0x8000 --&gt; true</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8c0f3bd24cad8bf9994d62b2d8cff6a0">m_SignMask</a>())) {</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;  }</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160; </div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; LBO &amp;&amp; RBO &amp;&amp; LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() == RBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>() &amp;&amp;</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;      LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1) == RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)) {</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <span class="keywordflow">switch</span> (LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>()) {</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(Pred) || !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(LBO) ||</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;          !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(RBO))</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                                      RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred) || !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(LBO) ||</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;          !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(RBO))</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                                      RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;      <span class="keywordflow">if</span> (!Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(LBO) || !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(RBO))</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;                                      RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl: {</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;      <span class="keywordtype">bool</span> NUW = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(LBO) &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(RBO);</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      <span class="keywordtype">bool</span> NSW = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(LBO) &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(RBO);</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;      <span class="keywordflow">if</span> (!NUW &amp;&amp; !NSW)</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;      <span class="keywordflow">if</span> (!NSW &amp;&amp; <a class="code" href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">ICmpInst::isSigned</a>(Pred))</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, LBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                                      RBO-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    }</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    }</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  }</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;}</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;<span class="comment">/// simplify integer comparisons where at least one operand of the compare</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;<span class="comment">/// matches an integer min/max idiom.</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa74aa2dcba8eadb5755418ae3ff12be0"> 3445</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aa74aa2dcba8eadb5755418ae3ff12be0">simplifyICmpWithMinMax</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                                     <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>); <span class="comment">// The return type.</span></div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *A, *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>;</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> EqP; <span class="comment">// Chosen so that &quot;A == max/min(A,B)&quot; iff &quot;A EqP B&quot;.</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <span class="comment">// Signed variants on &quot;max(a,b)&gt;=a -&gt; true&quot;.</span></div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp; (A == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// smax(A, B) pred A.</span></div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>; <span class="comment">// &quot;A == smax(A, B)&quot; iff &quot;A sge B&quot;.</span></div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    <span class="comment">// We analyze this as smax(A, B) pred A.</span></div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Pred;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;             (A == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// A pred smax(A, B).</span></div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>; <span class="comment">// &quot;A == smax(A, B)&quot; iff &quot;A sge B&quot;.</span></div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <span class="comment">// We analyze this as smax(A, B) swapped-pred A.</span></div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;             (A == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// smin(A, B) pred A.</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>; <span class="comment">// &quot;A == smin(A, B)&quot; iff &quot;A sle B&quot;.</span></div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="comment">// We analyze this as smax(-A, -B) swapped-pred -A.</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;             (A == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// A pred smin(A, B).</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>; <span class="comment">// &quot;A == smin(A, B)&quot; iff &quot;A sle B&quot;.</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="comment">// We analyze this as smax(-A, -B) pred -A.</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Pred;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  }</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>) {</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <span class="comment">// Cases correspond to &quot;max(A, B) p A&quot;.</span></div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;      <span class="comment">// Equivalent to &quot;A EqP B&quot;.  This may be the same as the condition tested</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      <span class="comment">// in the max/min; if so, we can just return that.</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, EqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, EqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;      <span class="comment">// Otherwise, see if &quot;A EqP B&quot; simplifies.</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(EqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;          <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>: {</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> InvEqP = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">CmpInst::getInversePredicate</a>(EqP);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      <span class="comment">// Equivalent to &quot;A InvEqP B&quot;.  This may be the same as the condition</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;      <span class="comment">// tested in the max/min; if so, we can just return that.</span></div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, InvEqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, InvEqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      <span class="comment">// Otherwise, see if &quot;A InvEqP B&quot; simplifies.</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(InvEqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;          <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;      <span class="comment">// Always true.</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;      <span class="comment">// Always false.</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    }</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  }</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160; </div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;  <span class="comment">// Unsigned variants on &quot;max(a,b)&gt;=a -&gt; true&quot;.</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>;</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp; (A == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// umax(A, B) pred A.</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>; <span class="comment">// &quot;A == umax(A, B)&quot; iff &quot;A uge B&quot;.</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="comment">// We analyze this as umax(A, B) pred A.</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Pred;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;             (A == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// A pred umax(A, B).</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>; <span class="comment">// &quot;A == umax(A, B)&quot; iff &quot;A uge B&quot;.</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    <span class="comment">// We analyze this as umax(A, B) swapped-pred A.</span></div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;             (A == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// umin(A, B) pred A.</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>; <span class="comment">// &quot;A == umin(A, B)&quot; iff &quot;A ule B&quot;.</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="comment">// We analyze this as umax(-A, -B) swapped-pred -A.</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;             (A == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);       <span class="comment">// A pred umin(A, B).</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>; <span class="comment">// &quot;A == umin(A, B)&quot; iff &quot;A ule B&quot;.</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="comment">// We analyze this as umax(-A, -B) pred -A.</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Pred;</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> != <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>) {</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    <span class="comment">// Cases correspond to &quot;max(A, B) p A&quot;.</span></div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;      <span class="comment">// Equivalent to &quot;A EqP B&quot;.  This may be the same as the condition tested</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;      <span class="comment">// in the max/min; if so, we can just return that.</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, EqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, EqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      <span class="comment">// Otherwise, see if &quot;A EqP B&quot; simplifies.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(EqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;          <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>: {</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> InvEqP = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">CmpInst::getInversePredicate</a>(EqP);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      <span class="comment">// Equivalent to &quot;A InvEqP B&quot;.  This may be the same as the condition</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      <span class="comment">// tested in the max/min; if so, we can just return that.</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, InvEqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, InvEqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;      <span class="comment">// Otherwise, see if &quot;A InvEqP B&quot; simplifies.</span></div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(InvEqP, A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;          <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    }</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    }</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;  }</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160; </div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;  <span class="comment">// Comparing 1 each of min/max with a common operand?</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  <span class="comment">// Canonicalize min operand to RHS.</span></div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) {</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  }</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160; </div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>))) &amp;&amp;</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;      (A == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || A == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>)) {</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="comment">// smax(A, B) &gt;=s smin(A, D) --&gt; true</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>)</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    <span class="comment">// smax(A, B) &lt;s smin(A, D) --&gt; false</span></div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>)</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;             <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>))) &amp;&amp;</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;             (A == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || A == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>)) {</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    <span class="comment">// umax(A, B) &gt;=u umin(A, D) --&gt; true</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>)</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    <span class="comment">// umax(A, B) &lt;u umin(A, D) --&gt; false</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>)</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  }</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;}</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a50d0a964e06603c1e3ce2341d39d8733"> 3630</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a50d0a964e06603c1e3ce2341d39d8733">simplifyICmpWithDominatingAssume</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>,</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;                                               <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <span class="comment">// Gracefully handle instructions that have not been inserted yet.</span></div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  <span class="keywordflow">if</span> (!Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a> || !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a> || !Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160; </div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *AssumeBaseOp : {<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>}) {</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;AssumeVH : Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>-&gt;<a class="code" href="classllvm_1_1AssumptionCache.html#a447266eb917fd60e5a3aa2722bb02f7d">assumptionsFor</a>(AssumeBaseOp)) {</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;      <span class="keywordflow">if</span> (!AssumeVH)</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160; </div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Assume = cast&lt;CallInst&gt;(AssumeVH);</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Imp = <a class="code" href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">isImpliedCondition</a>(</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;              Assume-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>))</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af1d57d70f59588a35ebfe3c4f50fecd2">isValidAssumeForContext</a>(Assume, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), *Imp);</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    }</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  }</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160; </div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;}</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;<span class="comment">/// Given operands for an ICmpInst, see if we can fold the result.</span></div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ae141213586421346b826b8483431d416"> 3655</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred = (<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a>)<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>;</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1CmpInst.html#ad73f009e1b3b060bcdf6c2c1dd86600e">CmpInst::isIntPredicate</a>(Pred) &amp;&amp; <span class="stringliteral">&quot;Not an integer compare!&quot;</span>);</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160; </div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3cd3a3ec28036937ecebe767498ba55d">ConstantFoldCompareInstOperands</a>(Pred, CLHS, CRHS, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>);</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160; </div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="comment">// If we have a constant, make sure it is on the RHS.</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  }</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;UndefValue&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; <span class="stringliteral">&quot;Unexpected icmp undef,%X&quot;</span>);</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160; </div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>); <span class="comment">// The return type.</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160; </div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="comment">// icmp poison, X -&gt; poison</span></div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(ITy);</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160; </div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  <span class="comment">// For EQ and NE, we can always pick a value for the undef to make the</span></div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  <span class="comment">// predicate pass or fail, so we can return undef.</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  <span class="comment">// Matches behavior in llvm::ConstantFoldCompareInstruction.</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; <a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred))</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(ITy);</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160; </div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <span class="comment">// icmp X, X -&gt; true/false</span></div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="comment">// icmp X, undef -&gt; true/false because undef could be X.</span></div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ITy, <a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">CmpInst::isTrueWhenEqual</a>(Pred));</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160; </div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1777124c8b3c365101cf61eb49a22f22">simplifyICmpOfBools</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q))</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160; </div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="comment">// TODO: Sink/common this with other potentially expensive calls that use</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <span class="comment">//       ValueTracking? See comment below for isKnownNonEqual().</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a53b262b2b6cb7c4003930f731fd30405">simplifyICmpWithZero</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q))</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160; </div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#acfd39cf838ff9b37f517f0007e8b5e8c">simplifyICmpWithConstant</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>))</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160; </div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="comment">// If both operands have range metadata, use the metadata</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="comment">// to simplify the comparison.</span></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &amp;&amp; isa&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <span class="keyword">auto</span> RHS_Instr = cast&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <span class="keyword">auto</span> LHS_Instr = cast&lt;Instruction&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160; </div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a1c34baec8172c7b50b70ac9e78cbaebb">getMetadata</a>(RHS_Instr, LLVMContext::MD_range) &amp;&amp;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;        Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a1c34baec8172c7b50b70ac9e78cbaebb">getMetadata</a>(LHS_Instr, LLVMContext::MD_range)) {</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;      <span class="keyword">auto</span> RHS_CR = <a class="code" href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">getConstantRangeFromMetadata</a>(</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;          *RHS_Instr-&gt;getMetadata(LLVMContext::MD_range));</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;      <span class="keyword">auto</span> LHS_CR = <a class="code" href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">getConstantRangeFromMetadata</a>(</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;          *LHS_Instr-&gt;getMetadata(LLVMContext::MD_range));</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160; </div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      <span class="keywordflow">if</span> (LHS_CR.icmp(Pred, RHS_CR))</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      <span class="keywordflow">if</span> (LHS_CR.icmp(<a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">CmpInst::getInversePredicate</a>(Pred), RHS_CR))</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    }</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;  }</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160; </div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="comment">// Compare of cast, for example (zext X) != 0 -&gt; X != 0</span></div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CastInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; (isa&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) || isa&lt;CastInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))) {</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LI = cast&lt;CastInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = LI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>-&gt;getType();</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy = LI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160; </div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="comment">// Turn icmp (ptrtoint x), (ptrtoint/constant) into a compare of the input</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <span class="comment">// if the integer type is the same size as the pointer type.</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; isa&lt;PtrToIntInst&gt;(LI) &amp;&amp;</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;        Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(SrcTy) == DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>()) {</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSC = dyn_cast&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;        <span class="comment">// Transfer the cast to the constant.</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>,</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                                        <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(RHSC, SrcTy),</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;                                        Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;          <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PtrToIntInst.html">PtrToIntInst</a> *RI = dyn_cast&lt;PtrToIntInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        <span class="keywordflow">if</span> (RI-&gt;getOperand(0)-&gt;getType() == SrcTy)</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;          <span class="comment">// Compare without the cast.</span></div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>, RI-&gt;getOperand(0), Q,</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;                                          MaxRecurse - 1))</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;            <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;      }</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    }</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160; </div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ZExtInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      <span class="comment">// Turn icmp (zext X), (zext Y) into a compare of X and Y if they have the</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      <span class="comment">// same type.</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ZExtInst.html">ZExtInst</a> *RI = dyn_cast&lt;ZExtInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;        <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; SrcTy == RI-&gt;getOperand(0)-&gt;getType())</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;          <span class="comment">// Compare X and Y.  Note that signed predicates become unsigned.</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;                  <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<a class="code" href="classllvm_1_1ICmpInst.html#af07a09f1cda33d984cc725dc9e856d40">ICmpInst::getUnsignedPredicate</a>(Pred), <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>,</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;                                   RI-&gt;getOperand(0), Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;            <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;      }</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      <span class="comment">// Fold (zext X) ule (sext X), (zext X) sge (sext X) to true.</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SExtInst.html">SExtInst</a> *RI = dyn_cast&lt;SExtInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> == RI-&gt;getOperand(0)) {</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;          <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>)</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(ITy);</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;          <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>)</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(ITy);</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        }</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;      }</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;      <span class="comment">// Turn icmp (zext X), Cst into a compare of X and Cst if Cst is extended</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;      <span class="comment">// too.  If not, then try to deduce the result of the comparison.</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;        <span class="comment">// Compute the constant that would happen if we truncated to SrcTy then</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;        <span class="comment">// reextended to DstTy.</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Trunc = <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(CI, SrcTy);</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RExt = <a class="code" href="classllvm_1_1ConstantExpr.html#a49b69843927f7cd96d866768b3aec92b">ConstantExpr::getCast</a>(CastInst::ZExt, Trunc, DstTy);</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160; </div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;        <span class="comment">// If the re-extended constant didn&#39;t change then this is effectively</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        <span class="comment">// also a case of comparing two zero-extended values.</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        <span class="keywordflow">if</span> (RExt == CI &amp;&amp; MaxRecurse)</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<a class="code" href="classllvm_1_1ICmpInst.html#af07a09f1cda33d984cc725dc9e856d40">ICmpInst::getUnsignedPredicate</a>(Pred),</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;                                          <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>, Trunc, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;            <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160; </div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        <span class="comment">// Otherwise the upper bits of LHS are zero while RHS has a non-zero bit</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;        <span class="comment">// there.  Use this to work out the result of the comparison.</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;        <span class="keywordflow">if</span> (RExt != CI) {</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;          <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;            <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ICmp predicate!&quot;</span>);</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;          <span class="comment">// LHS &lt;u RHS.</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160; </div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160; </div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;          <span class="comment">// LHS is non-negative.  If RHS is negative then LHS &gt;s LHS.  If RHS</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;          <span class="comment">// is non-negative then LHS &lt;s RHS.</span></div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative()</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;                       ? <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext())</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;                       : <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160; </div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative()</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;                       ? <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext())</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;                       : <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;          }</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;        }</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;      }</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    }</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160; </div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SExtInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      <span class="comment">// Turn icmp (sext X), (sext Y) into a compare of X and Y if they have the</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      <span class="comment">// same type.</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SExtInst.html">SExtInst</a> *RI = dyn_cast&lt;SExtInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;        <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; SrcTy == RI-&gt;getOperand(0)-&gt;getType())</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;          <span class="comment">// Compare X and Y.  Note that the predicate does not change.</span></div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>, RI-&gt;getOperand(0), Q,</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                                          MaxRecurse - 1))</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;            <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;      }</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;      <span class="comment">// Fold (sext X) uge (zext X), (sext X) sle (zext X) to true.</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ZExtInst.html">ZExtInst</a> *RI = dyn_cast&lt;ZExtInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> == RI-&gt;getOperand(0)) {</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;          <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>)</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(ITy);</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;          <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>)</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(ITy);</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;        }</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;      }</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;      <span class="comment">// Turn icmp (sext X), Cst into a compare of X and Cst if Cst is extended</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;      <span class="comment">// too.  If not, then try to deduce the result of the comparison.</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;        <span class="comment">// Compute the constant that would happen if we truncated to SrcTy then</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        <span class="comment">// reextended to DstTy.</span></div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Trunc = <a class="code" href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">ConstantExpr::getTrunc</a>(CI, SrcTy);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RExt = <a class="code" href="classllvm_1_1ConstantExpr.html#a49b69843927f7cd96d866768b3aec92b">ConstantExpr::getCast</a>(CastInst::SExt, Trunc, DstTy);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160; </div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;        <span class="comment">// If the re-extended constant didn&#39;t change then this is effectively</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;        <span class="comment">// also a case of comparing two sign-extended values.</span></div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;        <span class="keywordflow">if</span> (RExt == CI &amp;&amp; MaxRecurse)</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;                  <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(Pred, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>, Trunc, Q, MaxRecurse - 1))</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;            <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160; </div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        <span class="comment">// Otherwise the upper bits of LHS are all equal, while RHS has varying</span></div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <span class="comment">// bits there.  Use this to work out the result of the comparison.</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;        <span class="keywordflow">if</span> (RExt != CI) {</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;          <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;            <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ICmp predicate!&quot;</span>);</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160; </div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;          <span class="comment">// If RHS is non-negative then LHS &lt;s RHS.  If RHS is negative then</span></div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;          <span class="comment">// LHS &gt;s RHS.</span></div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative()</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;                       ? <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext())</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;                       : <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative()</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;                       ? <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext())</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;                       : <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;          <span class="comment">// If LHS is non-negative then LHS &lt;u RHS.  If LHS is negative then</span></div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;          <span class="comment">// LHS &gt;u RHS.</span></div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;            <span class="comment">// Comparison is true iff the LHS &lt;s 0.</span></div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;            <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>,</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;                                              <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(SrcTy), Q,</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;                                              MaxRecurse - 1))</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;                <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;            <span class="comment">// Comparison is true iff the LHS &gt;=s 0.</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;            <span class="keywordflow">if</span> (MaxRecurse)</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>,</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;                                              <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(SrcTy), Q,</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;                                              MaxRecurse - 1))</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;                <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;          }</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        }</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      }</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    }</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  }</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160; </div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  <span class="comment">// icmp eq|ne X, Y -&gt; false|true if X != Y</span></div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;  <span class="comment">// This is potentially expensive, and we have already computedKnownBits for</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <span class="comment">// compares with 0 above here, so only try this for a non-zero compare.</span></div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">ICmpInst::isEquality</a>(Pred) &amp;&amp; !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) &amp;&amp;</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;      <a class="code" href="namespacellvm.html#aa9afd47568010f063c6ca4ed6473db03">isKnownNonEqual</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">UseInstrInfo</a>)) {</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    <span class="keywordflow">return</span> Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a> ? <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy) : <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  }</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160; </div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a6becc8920dea7dfc1df655a3d3c8a40a">simplifyICmpWithBinOp</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa74aa2dcba8eadb5755418ae3ff12be0">simplifyICmpWithMinMax</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160; </div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a50d0a964e06603c1e3ce2341d39d8733">simplifyICmpWithDominatingAssume</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q))</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160; </div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  <span class="comment">// Simplify comparisons of related pointers using a powerful, recursive</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;  <span class="comment">// GEP-walk when we have target data available..</span></div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a97c60d34e23a09e6a3ee40e54bb3e65f">computePointerICmp</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q))</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CLHS = dyn_cast&lt;PtrToIntOperator&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>))</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CRHS = dyn_cast&lt;PtrToIntOperator&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(CLHS-&gt;getPointerOperandType()) ==</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;              Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(CLHS-&gt;getType()) &amp;&amp;</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;          Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(CRHS-&gt;getPointerOperandType()) ==</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;              Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(CRHS-&gt;getType()))</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a97c60d34e23a09e6a3ee40e54bb3e65f">computePointerICmp</a>(Pred, CLHS-&gt;getPointerOperand(),</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;                                         CRHS-&gt;getPointerOperand(), Q))</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160; </div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  <span class="comment">// If the comparison is with the result of a select instruction, check whether</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;  <span class="comment">// comparing with either branch of the select always yields the same value.</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a024f23f3655fcfb90cdf093705dcb64b">threadCmpOverSelect</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160; </div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;  <span class="comment">// If the comparison is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;  <span class="comment">// doing the compare with each incoming phi value yields a common result.</span></div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa90049400a941a30f216f25c219df382">threadCmpOverPHI</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160; </div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;}</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160; </div>
<div class="line"><a name="l03946"></a><span class="lineno"><a class="line" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495"> 3946</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">llvm::simplifyICmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ae141213586421346b826b8483431d416">return ::simplifyICmpInst</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;}</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;<span class="comment">/// Given operands for an FCmpInst, see if we can fold the result.</span></div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l03953"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#af931eb1f29f980898d2205c21f6e40f3"> 3953</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae490b518ab7ca0abfd0abad2e2eabb0f">simplifyFCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;                               <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred = (<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a>)<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1CmpInst.html#a7bd850492d35a34f0fe419e5555997a9">CmpInst::isFPPredicate</a>(Pred) &amp;&amp; <span class="stringliteral">&quot;Not an FP compare!&quot;</span>);</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160; </div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3cd3a3ec28036937ecebe767498ba55d">ConstantFoldCompareInstOperands</a>(Pred, CLHS, CRHS, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>,</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;                                             Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>);</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160; </div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <span class="comment">// If we have a constant, make sure it is on the RHS.</span></div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">CmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  }</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160; </div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  <span class="comment">// Fold trivial predicates.</span></div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy = <a class="code" href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae9c013750fff3023001d7e3af8df2d6d">FCmpInst::FCMP_FALSE</a>)</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba0a33c71e3c5e8f128ca47539a85962f5">FCmpInst::FCMP_TRUE</a>)</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;  <span class="comment">// Fold (un)ordered comparison if we can determine there are no NaNs.</span></div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baf0159e4005258dc54f20b6fc227d19ed">FCmpInst::FCMP_UNO</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa3213b645e029aba8bb1b85213607d5e">FCmpInst::FCMP_ORD</a>)</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>() ||</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;        (<a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>) &amp;&amp; <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>)))</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(RetTy, Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa3213b645e029aba8bb1b85213607d5e">FCmpInst::FCMP_ORD</a>);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160; </div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <span class="comment">// NaN is unordered; NaN is not ordered.</span></div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="classllvm_1_1CmpInst.html#ad91c80980a394e9c81f04e8988261224">FCmpInst::isOrdered</a>(Pred) || <a class="code" href="classllvm_1_1CmpInst.html#aae55ea42185b7528c0c149625b998968">FCmpInst::isUnordered</a>(Pred)) &amp;&amp;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;         <span class="stringliteral">&quot;Comparison must be either ordered or unordered&quot;</span>);</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ea57bfd7792ad38217ba65a4609e9f8">m_NaN</a>()))</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(RetTy, <a class="code" href="classllvm_1_1CmpInst.html#aae55ea42185b7528c0c149625b998968">CmpInst::isUnordered</a>(Pred));</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160; </div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  <span class="comment">// fcmp pred x, poison and  fcmp pred poison, x</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="comment">// fold to poison</span></div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || isa&lt;PoisonValue&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(RetTy);</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160; </div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="comment">// fcmp pred x, undef  and  fcmp pred undef, x</span></div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  <span class="comment">// fold to true if unordered, false if ordered</span></div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    <span class="comment">// Choosing NaN for the undef will always make unordered comparison succeed</span></div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    <span class="comment">// and ordered comparison fail.</span></div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(RetTy, <a class="code" href="classllvm_1_1CmpInst.html#aae55ea42185b7528c0c149625b998968">CmpInst::isUnordered</a>(Pred));</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  }</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160; </div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;  <span class="comment">// fcmp x,x -&gt; true/false.  Not all compares are foldable.</span></div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">CmpInst::isTrueWhenEqual</a>(Pred))</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a1e32582702cf5b9d4484c0ce346b2f57">CmpInst::isFalseWhenEqual</a>(Pred))</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  }</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160; </div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  <span class="comment">// Handle fcmp with constant RHS.</span></div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;  <span class="comment">// TODO: Use match with a specific FP value, so these work with vectors with</span></div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;  <span class="comment">// undef lanes.</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) {</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    <span class="comment">// Check whether the constant is an infinity.</span></div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isInfinity()) {</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNegative()) {</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;        <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">FCmpInst::FCMP_OLT</a>:</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;          <span class="comment">// No value is ordered and less than negative infinity.</span></div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">FCmpInst::FCMP_UGE</a>:</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;          <span class="comment">// All values are unordered with or at least negative infinity.</span></div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        }</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;        <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">FCmpInst::FCMP_OGT</a>:</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;          <span class="comment">// No value is ordered and greater than infinity.</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba396dda2571cd3c575f1d9cb44dc2cc09">FCmpInst::FCMP_ULE</a>:</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;          <span class="comment">// All values are unordered with and at most infinity.</span></div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;        }</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;      }</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160; </div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;      <span class="comment">// LHS == Inf</span></div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;      <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba024db78a5ed74f64666f3ca4955e6eca">FCmpInst::FCMP_OEQ</a> &amp;&amp; <a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      <span class="comment">// LHS != Inf</span></div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;      <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad601460c9371d0f0ada5ae006bdba2bd">FCmpInst::FCMP_UNE</a> &amp;&amp; <a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;      <span class="comment">// LHS == Inf || LHS == NaN</span></div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba919643b83ce3c9af2e4296ed5e413a1f">FCmpInst::FCMP_UEQ</a> &amp;&amp; <a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>) &amp;&amp;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;          <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;      <span class="comment">// LHS != Inf &amp;&amp; LHS != NaN</span></div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;      <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba8a80b27ca29fe2076b9bbdee02c65464">FCmpInst::FCMP_ONE</a> &amp;&amp; <a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>) &amp;&amp;</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;          <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    }</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNegative() &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNegZero()) {</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNaN() &amp;&amp; <span class="stringliteral">&quot;Unexpected NaN constant!&quot;</span>);</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <span class="comment">// TODO: We can catch more cases by using a range check rather than</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;      <span class="comment">//       relying on CannotBeOrderedLessThanZero.</span></div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;      <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">FCmpInst::FCMP_UGE</a>:</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c">FCmpInst::FCMP_UGT</a>:</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad601460c9371d0f0ada5ae006bdba2bd">FCmpInst::FCMP_UNE</a>:</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;        <span class="comment">// (X &gt;= 0) implies (X &gt; C) when (C &lt; 0)</span></div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae0a678aed09084c04a53e1d9ebbc0534">CannotBeOrderedLessThanZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba024db78a5ed74f64666f3ca4955e6eca">FCmpInst::FCMP_OEQ</a>:</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba9835cfe02fb5027680bd7203b024f77a">FCmpInst::FCMP_OLE</a>:</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">FCmpInst::FCMP_OLT</a>:</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;        <span class="comment">// (X &gt;= 0) implies !(X &lt; C) when (C &lt; 0)</span></div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae0a678aed09084c04a53e1d9ebbc0534">CannotBeOrderedLessThanZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;      }</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    }</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160; </div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    <span class="comment">// Check comparison of [minnum/maxnum with constant] with other constant.</span></div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *C2;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, m_Intrinsic&lt;Intrinsic::minnum&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(C2))) &amp;&amp;</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;         *C2 &lt; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) ||</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;        (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, m_Intrinsic&lt;Intrinsic::maxnum&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(C2))) &amp;&amp;</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;         *C2 &gt; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) {</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;      <span class="keywordtype">bool</span> IsMaxNum =</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;          cast&lt;IntrinsicInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)-&gt;getIntrinsicID() == <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">Intrinsic::maxnum</a>;</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;      <span class="comment">// The ordered relationship and minnum/maxnum guarantee that we do not</span></div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;      <span class="comment">// have NaN constants, so ordered/unordered preds are handled the same.</span></div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;      <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba024db78a5ed74f64666f3ca4955e6eca">FCmpInst::FCMP_OEQ</a>:</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba919643b83ce3c9af2e4296ed5e413a1f">FCmpInst::FCMP_UEQ</a>:</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;        <span class="comment">// minnum(X, LesserC)  == C --&gt; false</span></div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;        <span class="comment">// maxnum(X, GreaterC) == C --&gt; false</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba8a80b27ca29fe2076b9bbdee02c65464">FCmpInst::FCMP_ONE</a>:</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad601460c9371d0f0ada5ae006bdba2bd">FCmpInst::FCMP_UNE</a>:</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;        <span class="comment">// minnum(X, LesserC)  != C --&gt; true</span></div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;        <span class="comment">// maxnum(X, GreaterC) != C --&gt; true</span></div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy);</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b">FCmpInst::FCMP_OGE</a>:</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">FCmpInst::FCMP_UGE</a>:</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">FCmpInst::FCMP_OGT</a>:</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c">FCmpInst::FCMP_UGT</a>:</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;        <span class="comment">// minnum(X, LesserC)  &gt;= C --&gt; false</span></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;        <span class="comment">// minnum(X, LesserC)  &gt;  C --&gt; false</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        <span class="comment">// maxnum(X, GreaterC) &gt;= C --&gt; true</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        <span class="comment">// maxnum(X, GreaterC) &gt;  C --&gt; true</span></div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(RetTy, IsMaxNum);</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba9835cfe02fb5027680bd7203b024f77a">FCmpInst::FCMP_OLE</a>:</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba396dda2571cd3c575f1d9cb44dc2cc09">FCmpInst::FCMP_ULE</a>:</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">FCmpInst::FCMP_OLT</a>:</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba75016d5872d90adf89cc1cbf5763f474">FCmpInst::FCMP_ULT</a>:</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;        <span class="comment">// minnum(X, LesserC)  &lt;= C --&gt; true</span></div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;        <span class="comment">// minnum(X, LesserC)  &lt;  C --&gt; true</span></div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;        <span class="comment">// maxnum(X, GreaterC) &lt;= C --&gt; false</span></div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;        <span class="comment">// maxnum(X, GreaterC) &lt;  C --&gt; false</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(RetTy, !IsMaxNum);</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        <span class="comment">// TRUE/FALSE/ORD/UNO should be handled before this.</span></div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected fcmp predicate&quot;</span>);</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      }</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    }</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  }</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160; </div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>())) {</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b">FCmpInst::FCMP_OGE</a>:</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba75016d5872d90adf89cc1cbf5763f474">FCmpInst::FCMP_ULT</a>:</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;      <span class="comment">// Positive or zero X &gt;= 0.0 --&gt; true</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;      <span class="comment">// Positive or zero X &lt;  0.0 --&gt; false</span></div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;      <span class="keywordflow">if</span> ((FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>() || <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>)) &amp;&amp;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;          <a class="code" href="namespacellvm.html#ae0a678aed09084c04a53e1d9ebbc0534">CannotBeOrderedLessThanZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;        <span class="keywordflow">return</span> Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b">FCmpInst::FCMP_OGE</a> ? <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy) : <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">FCmpInst::FCMP_UGE</a>:</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">FCmpInst::FCMP_OLT</a>:</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      <span class="comment">// Positive or zero or nan X &gt;= 0.0 --&gt; true</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      <span class="comment">// Positive or zero or nan X &lt;  0.0 --&gt; false</span></div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae0a678aed09084c04a53e1d9ebbc0534">CannotBeOrderedLessThanZero</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;        <span class="keywordflow">return</span> Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">FCmpInst::FCMP_UGE</a> ? <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(RetTy) : <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(RetTy);</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;    }</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  }</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160; </div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;  <span class="comment">// If the comparison is with the result of a select instruction, check whether</span></div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  <span class="comment">// comparing with either branch of the select always yields the same value.</span></div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || isa&lt;SelectInst&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a024f23f3655fcfb90cdf093705dcb64b">threadCmpOverSelect</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160; </div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;  <span class="comment">// If the comparison is with the result of a phi instruction, check whether</span></div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  <span class="comment">// doing the compare with each incoming phi value yields a common result.</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || isa&lt;PHINode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aa90049400a941a30f216f25c219df382">threadCmpOverPHI</a>(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160; </div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;}</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160; </div>
<div class="line"><a name="l04162"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae490b518ab7ca0abfd0abad2e2eabb0f"> 4162</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae490b518ab7ca0abfd0abad2e2eabb0f">llvm::simplifyFCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;                              <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#af931eb1f29f980898d2205c21f6e40f3">return ::simplifyFCmpInst</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;}</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160; </div>
<div class="line"><a name="l04167"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a0620da2f33db6ed015d9d2ecb3befb9c"> 4167</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">simplifyWithOpReplaced</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *RepOp,</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;                                     <span class="keywordtype">bool</span> AllowRefinement,</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;                                     <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  <span class="comment">// Trivial replacement.</span></div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;  <span class="keywordflow">if</span> (V == <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    <span class="keywordflow">return</span> RepOp;</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160; </div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;  <span class="comment">// We cannot replace a constant, and shouldn&#39;t even try.</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160; </div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> || !<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160; </div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType()-&gt;isVectorTy()) {</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <span class="comment">// For vector types, the simplification must hold per-lane, so forbid</span></div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <span class="comment">// potentially cross-lane operations like shufflevector.</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()-&gt;isVectorTy() &amp;&amp; <span class="stringliteral">&quot;Vector type mismatch&quot;</span>);</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ShuffleVectorInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  }</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160; </div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;  <span class="comment">// Replace Op with RepOp in instruction operands.</span></div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 8&gt;</a> NewOps(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands());</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;  <a class="code" href="namespacellvm.html#a615619b0b2879029152b9a20e96624bc">transform</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands(), NewOps.begin(),</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;            [&amp;](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { return V == Op ? RepOp : V; });</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160; </div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <span class="keywordflow">if</span> (!AllowRefinement) {</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="comment">// General InstSimplify functions may refine the result, e.g. by returning</span></div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="comment">// a constant for a potentially poison value. To avoid this, implement only</span></div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <span class="comment">// a few non-refining but profitable transforms here.</span></div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160; </div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BO = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <span class="keywordtype">unsigned</span> Opcode = BO-&gt;getOpcode();</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;      <span class="comment">// id op x -&gt; x, x op id -&gt; x</span></div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;      <span class="keywordflow">if</span> (NewOps[0] == <a class="code" href="classllvm_1_1ConstantExpr.html#ae9c2f00a962cb8e0316cf3548a5d8029">ConstantExpr::getBinOpIdentity</a>(Opcode, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()))</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;        <span class="keywordflow">return</span> NewOps[1];</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;      <span class="keywordflow">if</span> (NewOps[1] == <a class="code" href="classllvm_1_1ConstantExpr.html#ae9c2f00a962cb8e0316cf3548a5d8029">ConstantExpr::getBinOpIdentity</a>(Opcode, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType(),</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;                                                      <span class="comment">/* RHS */</span> <span class="keyword">true</span>))</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;        <span class="keywordflow">return</span> NewOps[0];</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160; </div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;      <span class="comment">// x &amp; x -&gt; x, x | x -&gt; x</span></div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;      <span class="keywordflow">if</span> ((Opcode == Instruction::And || Opcode == Instruction::Or) &amp;&amp;</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;          NewOps[0] == NewOps[1])</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;        <span class="keywordflow">return</span> NewOps[0];</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    }</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160; </div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GetElementPtrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <span class="comment">// getelementptr x, 0 -&gt; x</span></div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;      <span class="keywordflow">if</span> (NewOps.size() == 2 &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(NewOps[1], <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) &amp;&amp;</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;          !<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;isInBounds())</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        <span class="keywordflow">return</span> NewOps[0];</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    }</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MaxRecurse) {</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    <span class="comment">// The simplification queries below may return the original value. Consider:</span></div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    <span class="comment">//   %div = udiv i32 %arg, %arg2</span></div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    <span class="comment">//   %mul = mul nsw i32 %div, %arg2</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;    <span class="comment">//   %cmp = icmp eq i32 %mul, %arg</span></div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="comment">//   %sel = select i1 %cmp, i32 %div, i32 undef</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    <span class="comment">// Replacing %arg by %mul, %div becomes &quot;udiv i32 %mul, %arg2&quot;, which</span></div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    <span class="comment">// simplifies back to %arg. This can only happen because %mul does not</span></div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <span class="comment">// dominate %div. To ensure a consistent return value contract, we make sure</span></div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    <span class="comment">// that this case returns nullptr as well.</span></div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    <span class="keyword">auto</span> PreventSelfSimplify = [V](<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>) {</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> != V ? <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;    };</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160; </div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = dyn_cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      <span class="keywordflow">return</span> PreventSelfSimplify(<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOpcode(), NewOps[0],</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;                                               NewOps[1], Q, MaxRecurse - 1));</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160; </div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;      <span class="keywordflow">return</span> PreventSelfSimplify(<a class="code" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">simplifyCmpInst</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getPredicate(), NewOps[0],</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;                                                 NewOps[1], Q, MaxRecurse - 1));</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160; </div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GetElementPtrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      <span class="keywordflow">return</span> PreventSelfSimplify(<a class="code" href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec">simplifyGEPInst</a>(</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;          <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getSourceElementType(), NewOps[0], <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>(NewOps).slice(1),</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;          <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;isInBounds(), Q, MaxRecurse - 1));</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160; </div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      <span class="keywordflow">return</span> PreventSelfSimplify(<a class="code" href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0">simplifySelectInst</a>(</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;          NewOps[0], NewOps[1], NewOps[2], Q, MaxRecurse - 1));</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <span class="comment">// TODO: We could hand off more cases to instsimplify here.</span></div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  }</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160; </div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  <span class="comment">// If all operands are constant after substituting Op for RepOp then we can</span></div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="comment">// constant fold the instruction.</span></div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 8&gt;</a> ConstOps;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *NewOp : NewOps) {</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *ConstOp = dyn_cast&lt;Constant&gt;(NewOp))</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;      ConstOps.push_back(ConstOp);</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  }</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160; </div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  <span class="comment">// Consider:</span></div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <span class="comment">//   %cmp = icmp eq i32 %x, 2147483647</span></div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <span class="comment">//   %add = add nsw i32 %x, 1</span></div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  <span class="comment">//   %sel = select i1 %cmp, i32 -2147483648, i32 %add</span></div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;  <span class="comment">// We can&#39;t replace %sel with %add unless we strip away the flags (which</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;  <span class="comment">// will be done in InstCombine).</span></div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;  <span class="comment">// TODO: This may be unsound, because it only catches some forms of</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;  <span class="comment">// refinement.</span></div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="keywordflow">if</span> (!AllowRefinement &amp;&amp; <a class="code" href="namespacellvm.html#a118b2507b9f8c68c87b2592913406e86">canCreatePoison</a>(cast&lt;Operator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)))</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160; </div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a72278be77e997abc4b0dbde1be280006">ConstantFoldInstOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ConstOps, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>);</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;}</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160; </div>
<div class="line"><a name="l04280"></a><span class="lineno"><a class="line" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e"> 4280</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">llvm::simplifyWithOpReplaced</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *RepOp,</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;                                    <span class="keywordtype">bool</span> AllowRefinement) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a0620da2f33db6ed015d9d2ecb3befb9c">return ::simplifyWithOpReplaced</a>(V, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, RepOp, Q, AllowRefinement,</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;                                  <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;}</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;<span class="comment">/// Try to simplify a select instruction when its condition operand is an</span></div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="comment">/// integer comparison where one operand of the compare is a constant.</span></div>
<div class="line"><a name="l04289"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#add939eebb5195a290ecb0a7494654fa7"> 4289</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#add939eebb5195a290ecb0a7494654fa7">simplifySelectBitTest</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <span class="keywordtype">bool</span> TrueWhenUnset) {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160; </div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  <span class="comment">// (X &amp; Y) == 0 ? X &amp; ~Y : X  --&gt; X</span></div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  <span class="comment">// (X &amp; Y) != 0 ? X &amp; ~Y : X  --&gt; X &amp; ~Y</span></div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;      *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> == ~*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    <span class="keywordflow">return</span> TrueWhenUnset ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160; </div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;  <span class="comment">// (X &amp; Y) == 0 ? X : X &amp; ~Y  --&gt; X &amp; ~Y</span></div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <span class="comment">// (X &amp; Y) != 0 ? X : X &amp; ~Y  --&gt; X</span></div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp;</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;      *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> == ~*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    <span class="keywordflow">return</span> TrueWhenUnset ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160; </div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>-&gt;isPowerOf2()) {</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    <span class="comment">// (X &amp; Y) == 0 ? X | Y : X  --&gt; X | Y</span></div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    <span class="comment">// (X &amp; Y) != 0 ? X | Y : X  --&gt; X</span></div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp;</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> == *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;      <span class="keywordflow">return</span> TrueWhenUnset ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160; </div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    <span class="comment">// (X &amp; Y) == 0 ? X : X | Y  --&gt; X</span></div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;    <span class="comment">// (X &amp; Y) != 0 ? X : X | Y  --&gt; X | Y</span></div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;        *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> == *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;      <span class="keywordflow">return</span> TrueWhenUnset ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;  }</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160; </div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;}</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160; </div>
<div class="line"><a name="l04322"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a018f5956c630ca34df2de35b1cf099b4"> 4322</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a018f5956c630ca34df2de35b1cf099b4">simplifyCmpSelOfMaxMin</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *CmpLHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpRHS,</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;                                     <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *TVal,</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *FVal) {</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="comment">// Canonicalize common cmp+sel operand as CmpLHS.</span></div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;  <span class="keywordflow">if</span> (CmpRHS == TVal || CmpRHS == FVal) {</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CmpLHS, CmpRHS);</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">ICmpInst::getSwappedPredicate</a>(Pred);</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;  }</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160; </div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;  <span class="comment">// Canonicalize common cmp+sel operand as TVal.</span></div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  <span class="keywordflow">if</span> (CmpLHS == FVal) {</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TVal, FVal);</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">ICmpInst::getInversePredicate</a>(Pred);</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;  }</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160; </div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;  <span class="comment">// A vector select may be shuffling together elements that are equivalent</span></div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;  <span class="comment">// based on the max/min/select relationship.</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = CmpLHS, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> = CmpRHS;</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;  <span class="keywordtype">bool</span> PeekedThroughSelectShuffle = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  <span class="keyword">auto</span> *Shuf = dyn_cast&lt;ShuffleVectorInst&gt;(FVal);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;  <span class="keywordflow">if</span> (Shuf &amp;&amp; Shuf-&gt;isSelect()) {</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="keywordflow">if</span> (Shuf-&gt;getOperand(0) == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      FVal = Shuf-&gt;getOperand(1);</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Shuf-&gt;getOperand(1) == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      FVal = Shuf-&gt;getOperand(0);</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    PeekedThroughSelectShuffle = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;  }</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160; </div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;  <span class="comment">// (X pred Y) ? X : max/min(X, Y)</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;  <span class="keyword">auto</span> *MMI = dyn_cast&lt;MinMaxIntrinsic&gt;(FVal);</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;  <span class="keywordflow">if</span> (!MMI || TVal != <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> ||</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FVal, <a class="code" href="namespacellvm_1_1PatternMatch.html#adcc0eb018adede4d62dafa5e60bce4be">m_c_MaxOrMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160; </div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;  <span class="comment">// (X &gt;  Y) ? X : max(X, Y) --&gt; max(X, Y)</span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;  <span class="comment">// (X &gt;= Y) ? X : max(X, Y) --&gt; max(X, Y)</span></div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;  <span class="comment">// (X &lt;  Y) ? X : min(X, Y) --&gt; min(X, Y)</span></div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;  <span class="comment">// (X &lt;= Y) ? X : min(X, Y) --&gt; min(X, Y)</span></div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;  <span class="comment">// The equivalence allows a vector select (shuffle) of max/min and Y. Ex:</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;  <span class="comment">// (X &gt; Y) ? X : (Z ? max(X, Y) : Y)</span></div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;  <span class="comment">// If Z is true, this reduces as above, and if Z is false:</span></div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;  <span class="comment">// (X &gt; Y) ? X : Y --&gt; max(X, Y)</span></div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> MMPred = MMI-&gt;getPredicate();</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;  <span class="keywordflow">if</span> (MMPred == <a class="code" href="classllvm_1_1CmpInst.html#a0578679c169c9ca4cc731185ffddb431">CmpInst::getStrictPredicate</a>(Pred))</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;    <span class="keywordflow">return</span> MMI;</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160; </div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;  <span class="comment">// Other transforms are not valid with a shuffle.</span></div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;  <span class="keywordflow">if</span> (PeekedThroughSelectShuffle)</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160; </div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <span class="comment">// (X == Y) ? X : max/min(X, Y) --&gt; max/min(X, Y)</span></div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    <span class="keywordflow">return</span> MMI;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160; </div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;  <span class="comment">// (X != Y) ? X : max/min(X, Y) --&gt; X</span></div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>)</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160; </div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;  <span class="comment">// (X &lt;  Y) ? X : max(X, Y) --&gt; X</span></div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  <span class="comment">// (X &lt;= Y) ? X : max(X, Y) --&gt; X</span></div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;  <span class="comment">// (X &gt;  Y) ? X : min(X, Y) --&gt; X</span></div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;  <span class="comment">// (X &gt;= Y) ? X : min(X, Y) --&gt; X</span></div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> InvPred = <a class="code" href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">CmpInst::getInversePredicate</a>(Pred);</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;  <span class="keywordflow">if</span> (MMPred == <a class="code" href="classllvm_1_1CmpInst.html#a0578679c169c9ca4cc731185ffddb431">CmpInst::getStrictPredicate</a>(InvPred))</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160; </div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;}</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;<span class="comment">/// An alternative way to test if a bit is set or not uses sgt/slt instead of</span></div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<span class="comment">/// eq/ne.</span></div>
<div class="line"><a name="l04396"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a349b7a2df83b4d33997e6d5ab7b2892c"> 4396</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a349b7a2df83b4d33997e6d5ab7b2892c">simplifySelectWithFakeICmpEq</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *CmpLHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpRHS,</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;                                           <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred,</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;                                           <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#ad4d2f143e181b60a4f70d791bbcba8b3">decomposeBitTestICmp</a>(CmpLHS, CmpRHS, Pred, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160; </div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#add939eebb5195a290ecb0a7494654fa7">simplifySelectBitTest</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, &amp;<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;                               Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>);</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;}</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;<span class="comment">/// Try to simplify a select instruction when its condition operand is an</span></div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;<span class="comment">/// integer comparison.</span></div>
<div class="line"><a name="l04410"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a57fc1a7eeb6dbc10640fe0e1ced96f55"> 4410</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a57fc1a7eeb6dbc10640fe0e1ced96f55">simplifySelectWithICmpCond</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *CondVal, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>,</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>,</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                                         <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpLHS, *CmpRHS;</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CondVal, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">m_ICmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(CmpLHS), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(CmpRHS))))</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160; </div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a018f5956c630ca34df2de35b1cf099b4">simplifyCmpSelOfMaxMin</a>(CmpLHS, CmpRHS, Pred, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160; </div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  <span class="comment">// Canonicalize ne to eq predicate.</span></div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>) {</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>);</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;  }</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160; </div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;  <span class="comment">// Check for integer min/max with a limit constant:</span></div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;  <span class="comment">// X &gt; MIN_INT ? X : MIN_INT --&gt; X</span></div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;  <span class="comment">// X &lt; MAX_INT ? X : MAX_INT --&gt; X</span></div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType()-&gt;isIntOrIntVectorTy()) {</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <a class="code" href="namespacellvm.html#a6bf471c1030973649c2e426afc212097">SelectPatternFlavor</a> SPF =</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;        <a class="code" href="namespacellvm.html#abf62ca503c047621e9b9047c548f231f">matchDecomposedSelectPattern</a>(cast&lt;ICmpInst&gt;(CondVal), <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>,</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;                                     <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;            .<a class="code" href="structllvm_1_1SelectPatternResult.html#a3ca9c2098248eac9051008d6eb9f321d">Flavor</a>;</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1SelectPatternResult.html#a94c732c9e96c40976f0509fe0233fe7b">SelectPatternResult::isMinOrMax</a>(SPF) &amp;&amp; Pred == <a class="code" href="namespacellvm.html#a493bd393688f22538e5de34117e70236">getMinMaxPred</a>(SPF)) {</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> LimitC = <a class="code" href="namespacellvm.html#a221f053d5107888218e536fe5f1f457c">getMinMaxLimit</a>(<a class="code" href="namespacellvm.html#a6626b9250a7ec4cc54a9e8ce78bc0cc3">getInverseMinMaxFlavor</a>(SPF),</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;                                    <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;getScalarSizeInBits());</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3acbd0be97863e3e03e3b85641254018">m_SpecificInt</a>(LimitC)))</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    }</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  }</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160; </div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CmpRHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) {</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CmpLHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#add939eebb5195a290ecb0a7494654fa7">simplifySelectBitTest</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>,</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;                                           <span class="comment">/*TrueWhenUnset=*/</span><span class="keyword">true</span>))</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;        <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160; </div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;    <span class="comment">// Test for a bogus zero-shift-guard-op around funnel-shift or rotate.</span></div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShAmt;</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;    <span class="keyword">auto</span> isFsh = <a class="code" href="namespacellvm_1_1PatternMatch.html#af4feec45578e32fe65d8efc59112bc8e">m_CombineOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">m_FShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ShAmt)),</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;                             <a class="code" href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">m_FShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ShAmt)));</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    <span class="comment">// (ShAmt == 0) ? fshl(X, *, ShAmt) : X --&gt; X</span></div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;    <span class="comment">// (ShAmt == 0) ? fshr(*, X, ShAmt) : X --&gt; X</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, isFsh) &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; CmpLHS == ShAmt)</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160; </div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;    <span class="comment">// Test for a zero-shift-guard-op around rotates. These are used to</span></div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="comment">// avoid UB from oversized shifts in raw IR rotate patterns, but the</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    <span class="comment">// intrinsics do not have that problem.</span></div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <span class="comment">// We do not allow this transform for the general funnel shift case because</span></div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    <span class="comment">// that would not preserve the poison safety of the original code.</span></div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <span class="keyword">auto</span> isRotate =</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#af4feec45578e32fe65d8efc59112bc8e">m_CombineOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">m_FShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ShAmt)),</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;                    <a class="code" href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">m_FShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">m_Deferred</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ShAmt)));</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <span class="comment">// (ShAmt == 0) ? X : fshl(X, X, ShAmt) --&gt; fshl(X, X, ShAmt)</span></div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;    <span class="comment">// (ShAmt == 0) ? X : fshr(X, X, ShAmt) --&gt; fshr(X, X, ShAmt)</span></div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, isRotate) &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> &amp;&amp; CmpLHS == ShAmt &amp;&amp;</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;        Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160; </div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;    <span class="comment">// X == 0 ? abs(X) : -abs(X) --&gt; -abs(X)</span></div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    <span class="comment">// X == 0 ? -abs(X) : abs(X) --&gt; abs(X)</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, m_Intrinsic&lt;Intrinsic::abs&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(CmpLHS))) &amp;&amp;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(m_Intrinsic&lt;Intrinsic::abs&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(CmpLHS)))))</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>,</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;              <a class="code" href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">m_Neg</a>(m_Intrinsic&lt;Intrinsic::abs&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(CmpLHS)))) &amp;&amp;</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, m_Intrinsic&lt;Intrinsic::abs&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(CmpLHS))))</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;  }</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160; </div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;  <span class="comment">// Check for other compares that behave like bit test.</span></div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#a349b7a2df83b4d33997e6d5ab7b2892c">simplifySelectWithFakeICmpEq</a>(CmpLHS, CmpRHS, Pred, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160; </div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;  <span class="comment">// If we have a scalar equality comparison, then we know the value in one of</span></div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;  <span class="comment">// the arms of the select. See if substituting this value into the arm and</span></div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;  <span class="comment">// simplifying the result yields the same value as the other arm.</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>) {</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">simplifyWithOpReplaced</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, CmpLHS, CmpRHS, Q,</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;                               <span class="comment">/* AllowRefinement */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;                               MaxRecurse) == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> ||</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;        <a class="code" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">simplifyWithOpReplaced</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, CmpRHS, CmpLHS, Q,</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;                               <span class="comment">/* AllowRefinement */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;                               MaxRecurse) == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>)</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">simplifyWithOpReplaced</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, CmpLHS, CmpRHS, Q,</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;                               <span class="comment">/* AllowRefinement */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;                               MaxRecurse) == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> ||</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;        <a class="code" href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">simplifyWithOpReplaced</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, CmpRHS, CmpLHS, Q,</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;                               <span class="comment">/* AllowRefinement */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;                               MaxRecurse) == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>)</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;  }</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160; </div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;}</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;<span class="comment">/// Try to simplify a select instruction when its condition operand is a</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;<span class="comment">/// floating-point comparison.</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a98cbd7a04d75645f42138c67c5b8e44b"> 4517</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a98cbd7a04d75645f42138c67c5b8e44b">simplifySelectWithFCmp</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classT.html">T</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">FCmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5772946ca265c6a5c951cb331983daa5">m_FCmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="classT.html">T</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))) &amp;&amp;</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5772946ca265c6a5c951cb331983daa5">m_FCmp</a>(Pred, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="classT.html">T</a>))))</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160; </div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  <span class="comment">// This transform is safe if we do not have (do not care about) -0.0 or if</span></div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;  <span class="comment">// at least one operand is known to not be -0.0. Otherwise, the select can</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  <span class="comment">// change the sign of a zero operand.</span></div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <span class="keywordtype">bool</span> HasNoSignedZeros =</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;      Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a> &amp;&amp; isa&lt;FPMathOperator&gt;(Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>) &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#a2c8498183c5bce88fb4f651ee4169611">hasNoSignedZeros</a>();</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;  <span class="keywordflow">if</span> (HasNoSignedZeros || (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="classT.html">T</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNonZero()) ||</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNonZero())) {</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;    <span class="comment">// (T == F) ? T : F --&gt; F</span></div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;    <span class="comment">// (F == T) ? T : F --&gt; F</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba024db78a5ed74f64666f3ca4955e6eca">FCmpInst::FCMP_OEQ</a>)</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160; </div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    <span class="comment">// (T != F) ? T : F --&gt; T</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <span class="comment">// (F != T) ? T : F --&gt; T</span></div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad601460c9371d0f0ada5ae006bdba2bd">FCmpInst::FCMP_UNE</a>)</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classT.html">T</a>;</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;  }</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; </div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;}</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;<span class="comment">/// Given operands for a SelectInst, see if we can fold the result.</span></div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a38dc339806a701c1f11ec31cf76936ff"> 4548</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0">simplifySelectInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>,</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CondC = dyn_cast&lt;Constant&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)) {</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TrueC = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>))</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FalseC = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a11c89e0918b007ef2cf1d6b03c4b4948">ConstantFoldSelectInstruction</a>(CondC, TrueC, FalseC);</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160; </div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    <span class="comment">// select poison, X, Y -&gt; poison</span></div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(CondC))</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType());</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160; </div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="comment">// select undef, X, Y -&gt; X or Y</span></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(CondC))</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;      <span class="keywordflow">return</span> isa&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160; </div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    <span class="comment">// select true,  X, Y --&gt; X</span></div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;    <span class="comment">// select false, X, Y --&gt; Y</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;    <span class="comment">// For vectors, allow undef/poison elements in the condition to match the</span></div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    <span class="comment">// defined elements, so we can eliminate the select.</span></div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CondC, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CondC, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  }</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160; </div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType()-&gt;isIntOrIntVectorTy(1) &amp;&amp;</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;         <span class="stringliteral">&quot;Select must have bool or bool vector condition&quot;</span>);</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType() == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>-&gt;getType() &amp;&amp;</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;         <span class="stringliteral">&quot;Select must have same types for true/false ops&quot;</span>);</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160; </div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType() == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType()) {</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;    <span class="comment">// select i1 Cond, i1 true, i1 false --&gt; i1 Cond</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()))</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160; </div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <span class="comment">// (X &amp;&amp; Y) ? X : Y --&gt; Y (commuted 2 ways)</span></div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">m_c_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))))</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160; </div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    <span class="comment">// (X || Y) ? X : Y --&gt; X (commuted 2 ways)</span></div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))))</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160; </div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    <span class="comment">// (X || Y) ? false : X --&gt; false (commuted 2 ways)</span></div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) &amp;&amp;</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()))</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160; </div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;    <span class="comment">// Match patterns that end in logical-and.</span></div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>())) {</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      <span class="comment">// !(X || Y) &amp;&amp; X --&gt; false (commuted 2 ways)</span></div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))))</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      <span class="comment">// X &amp;&amp; !(X || Y) --&gt; false (commuted 2 ways)</span></div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))))</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160; </div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;      <span class="comment">// (X || Y) &amp;&amp; Y --&gt; Y (commuted 2 ways)</span></div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;      <span class="comment">// Y &amp;&amp; (X || Y) --&gt; Y (commuted 2 ways)</span></div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160; </div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      <span class="comment">// (X || Y) &amp;&amp; (X || !Y) --&gt; X (commuted 8 ways)</span></div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) &amp;&amp;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) &amp;&amp;</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">m_c_LogicalOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;    }</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160; </div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;    <span class="comment">// Match patterns that end in logical-or.</span></div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>())) {</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;      <span class="comment">// !(X &amp;&amp; Y) || X --&gt; true (commuted 2 ways)</span></div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">m_c_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))))</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;      <span class="comment">// X || !(X &amp;&amp; Y) --&gt; true (commuted 2 ways)</span></div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">m_c_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))))</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160; </div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;      <span class="comment">// (X &amp;&amp; Y) || Y --&gt; Y (commuted 2 ways)</span></div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">m_c_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;      <span class="comment">// Y || (X &amp;&amp; Y) --&gt; Y (commuted 2 ways)</span></div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">m_c_LogicalAnd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;    }</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  }</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160; </div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  <span class="comment">// select ?, X, X -&gt; X</span></div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>)</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160; </div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>) {</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    <span class="comment">// select i1 X, i1 X, i1 false --&gt; X (logical-and)</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()))</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    <span class="comment">// select i1 X, i1 X, i1 true --&gt; true</span></div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;  }</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) {</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <span class="comment">// select i1 X, i1 true, i1 X --&gt; X (logical-or)</span></div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>;</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;    <span class="comment">// select i1 X, i1 false, i1 X --&gt; false</span></div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">m_ZeroInt</a>()))</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getType());</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  }</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160; </div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;  <span class="comment">// If the true or false value is poison, we can fold to the other value.</span></div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;  <span class="comment">// If the true or false value is undef, we can fold to the other value as</span></div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;  <span class="comment">// long as the other value isn&#39;t poison.</span></div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;  <span class="comment">// select ?, poison, X -&gt; X</span></div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="comment">// select ?, undef,  X -&gt; X</span></div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>) ||</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;      (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>) &amp;&amp;</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;       <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>)))</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;  <span class="comment">// select ?, X, poison -&gt; X</span></div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;  <span class="comment">// select ?, X, undef  -&gt; X</span></div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) ||</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;      (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>) &amp;&amp;</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;       <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>)))</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>;</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160; </div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  <span class="comment">// Deal with partial undef vector constants: select ?, VecC, VecC&#39; --&gt; VecC&#39;&#39;</span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TrueC, *FalseC;</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;  <span class="keywordflow">if</span> (isa&lt;FixedVectorType&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>-&gt;getType()) &amp;&amp;</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(TrueC)) &amp;&amp;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(FalseC))) {</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <span class="keywordtype">unsigned</span> NumElts =</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;        cast&lt;FixedVectorType&gt;(TrueC-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 16&gt;</a> NewC;</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;      <span class="comment">// Bail out on incomplete vector constants.</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TEltC = TrueC-&gt;<a class="code" href="classllvm_1_1Constant.html#acd530d0571f320d47d37e7ae51cf70ff">getAggregateElement</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *FEltC = FalseC-&gt;<a class="code" href="classllvm_1_1Constant.html#acd530d0571f320d47d37e7ae51cf70ff">getAggregateElement</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;      <span class="keywordflow">if</span> (!TEltC || !FEltC)</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160; </div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;      <span class="comment">// If the elements match (undef or not), that value is the result. If only</span></div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;      <span class="comment">// one element is undef, choose the defined element as the safe result.</span></div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;      <span class="keywordflow">if</span> (TEltC == FEltC)</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;        NewC.push_back(TEltC);</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(TEltC) ||</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;               (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(TEltC) &amp;&amp; <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(FEltC)))</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;        NewC.push_back(FEltC);</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(FEltC) ||</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;               (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(FEltC) &amp;&amp; <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(TEltC)))</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;        NewC.push_back(TEltC);</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;    }</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;    <span class="keywordflow">if</span> (NewC.size() == NumElts)</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantVector.html#ade9fa017ca3aa82f7694a47090547bc1">ConstantVector::get</a>(NewC);</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160; </div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;          <a class="code" href="InstructionSimplify_8cpp.html#a57fc1a7eeb6dbc10640fe0e1ced96f55">simplifySelectWithICmpCond</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, Q, MaxRecurse))</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160; </div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a98cbd7a04d75645f42138c67c5b8e44b">simplifySelectWithFCmp</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, Q))</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160; </div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aadc704717d75dbcbf0c47160cfbec46b">foldSelectWithBinaryOp</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>))</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160; </div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  std::optional&lt;bool&gt; Imp = <a class="code" href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">isImpliedByDomCondition</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;  <span class="keywordflow">if</span> (Imp)</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;    <span class="keywordflow">return</span> *Imp ? <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160; </div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;}</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160; </div>
<div class="line"><a name="l04726"></a><span class="lineno"><a class="line" href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0"> 4726</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0">llvm::simplifySelectInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>,</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a38dc339806a701c1f11ec31cf76936ff">return ::simplifySelectInst</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">TrueVal</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">FalseVal</a>, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;}</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;<span class="comment">/// Given operands for an GetElementPtrInst, see if we can fold the result.</span></div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l04733"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a0cf80bdc892c6cddd3d7598231c11d19"> 4733</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec">simplifyGEPInst</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;                              <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Indices, <span class="keywordtype">bool</span> InBounds,</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span>) {</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;  <span class="comment">// The type of the GEP pointer operand.</span></div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;  <span class="keywordtype">unsigned</span> AS =</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;      cast&lt;PointerType&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getScalarType())-&gt;getAddressSpace();</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160; </div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;  <span class="comment">// getelementptr P -&gt; P.</span></div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;  <span class="keywordflow">if</span> (Indices.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>;</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160; </div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;  <span class="comment">// Compute the (pointer) type returned by the GEP instruction.</span></div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *LastType = <a class="code" href="classllvm_1_1GetElementPtrInst.html#a99d4bfe49182f8d80abb1960f2c12d46">GetElementPtrInst::getIndexedType</a>(SrcTy, Indices);</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *GEPTy = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(LastType, AS);</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *VT = dyn_cast&lt;VectorType&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()))</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    GEPTy = <a class="code" href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">VectorType::get</a>(GEPTy, VT-&gt;getElementCount());</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Indices) {</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;      <span class="comment">// If one of the operands is a vector, the result type is a vector of</span></div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;      <span class="comment">// pointers. All vector operands must have the same number of elements.</span></div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *VT = dyn_cast&lt;VectorType&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType())) {</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;        GEPTy = <a class="code" href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">VectorType::get</a>(GEPTy, VT-&gt;getElementCount());</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;      }</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;    }</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;  }</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160; </div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;  <span class="comment">// For opaque pointers an all-zero GEP is a no-op. For typed pointers,</span></div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;  <span class="comment">// it may be equivalent to a bitcast.</span></div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getScalarType()-&gt;isOpaquePointerTy() &amp;&amp;</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;      <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType() == GEPTy &amp;&amp;</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;      <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Indices, [](<span class="keyword">const</span> <span class="keyword">auto</span> *V) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()); }))</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>;</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160; </div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  <span class="comment">// getelementptr poison, idx -&gt; poison</span></div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <span class="comment">// getelementptr baseptr, poison -&gt; poison</span></div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) ||</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;      <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Indices, [](<span class="keyword">const</span> <span class="keyword">auto</span> *V) { <span class="keywordflow">return</span> isa&lt;PoisonValue&gt;(V); }))</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(GEPTy);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160; </div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    <span class="comment">// If inbounds, we can choose an out-of-bounds pointer as a base pointer.</span></div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;    <span class="keywordflow">return</span> InBounds ? <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(GEPTy) : <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(GEPTy);</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160; </div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  <span class="keywordtype">bool</span> IsScalableVec =</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;      isa&lt;ScalableVectorType&gt;(SrcTy) || <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Indices, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;        <span class="keywordflow">return</span> isa&lt;ScalableVectorType&gt;(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;      });</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160; </div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;  <span class="keywordflow">if</span> (Indices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1) {</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    <span class="comment">// getelementptr P, 0 -&gt; P.</span></div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Indices[0], <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) &amp;&amp; <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType() == GEPTy)</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>;</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160; </div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = SrcTy;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    <span class="keywordflow">if</span> (!IsScalableVec &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>()) {</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TyAllocSize = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#aa48b3b7e554b44f4e513d5dd8d9f9343">getTypeAllocSize</a>(Ty);</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;      <span class="comment">// getelementptr P, N -&gt; P if P points to a type of zero size.</span></div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      <span class="keywordflow">if</span> (TyAllocSize == 0 &amp;&amp; <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType() == GEPTy)</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>;</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160; </div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <span class="comment">// The following transforms are only safe if the ptrtoint cast</span></div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;      <span class="comment">// doesn&#39;t truncate the pointers.</span></div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;      <span class="keywordflow">if</span> (Indices[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>()-&gt;getScalarSizeInBits() ==</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;          Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#a21ae5af9c62928bb06c66379017bdda1">getPointerSizeInBits</a>(AS)) {</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;        <span class="keyword">auto</span> CanSimplify = [GEPTy, &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>]() -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getType() == GEPTy &amp;&amp;</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;                 <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) == <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;        };</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;        <span class="comment">// getelementptr V, (sub P, V) -&gt; P if P points to a type of size 1.</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;        <span class="keywordflow">if</span> (TyAllocSize == 1 &amp;&amp;</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;            <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Indices[0],</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;                  <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)), <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)))) &amp;&amp;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;            CanSimplify())</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160; </div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;        <span class="comment">// getelementptr V, (ashr (sub P, V), C) -&gt; P if P points to a type of</span></div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;        <span class="comment">// size 1 &lt;&lt; C.</span></div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Indices[0], <a class="code" href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">m_AShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)),</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;                                           <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))),</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;                                     <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) &amp;&amp;</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;            TyAllocSize == 1ULL &lt;&lt; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; CanSimplify())</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160; </div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;        <span class="comment">// getelementptr V, (sdiv (sub P, V), C) -&gt; P if P points to a type of</span></div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        <span class="comment">// size C.</span></div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Indices[0], <a class="code" href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">m_SDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)),</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;                                           <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))),</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;                                     <a class="code" href="namespacellvm_1_1PatternMatch.html#a3acbd0be97863e3e03e3b85641254018">m_SpecificInt</a>(TyAllocSize))) &amp;&amp;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;            CanSimplify())</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;      }</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    }</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  }</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160; </div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <span class="keywordflow">if</span> (!IsScalableVec &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#aa48b3b7e554b44f4e513d5dd8d9f9343">getTypeAllocSize</a>(LastType) == 1 &amp;&amp;</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;      <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Indices.<a class="code" href="classllvm_1_1ArrayRef.html#a1c7ded859212582e33828a47259f9bd3">drop_back</a>(1),</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;             [](<a class="code" href="classllvm_1_1Value.html">Value</a> *Idx) { return match(Idx, m_Zero()); })) {</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <span class="keywordtype">unsigned</span> IdxWidth =</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;        Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#ac9e61b1a68b91217d3d10a61a1f0fbb9">getIndexSizeInBits</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getPointerAddressSpace());</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">getTypeSizeInBits</a>(Indices.<a class="code" href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">back</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) == IdxWidth) {</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> BasePtrOffset(IdxWidth, 0);</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *StrippedBasePtr =</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;          <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;stripAndAccumulateInBoundsConstantOffsets(Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, BasePtrOffset);</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160; </div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;      <span class="comment">// Avoid creating inttoptr of zero here: While LLVMs treatment of</span></div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;      <span class="comment">// inttoptr is generally conservative, this particular case is folded to</span></div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;      <span class="comment">// a null pointer, which will have incorrect provenance.</span></div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160; </div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;      <span class="comment">// gep (gep V, C), (sub 0, V) -&gt; C</span></div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Indices.<a class="code" href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">back</a>(),</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;                <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(StrippedBasePtr)))) &amp;&amp;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;          !BasePtrOffset.<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>()) {</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;        <span class="keyword">auto</span> *CI = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(GEPTy-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), BasePtrOffset);</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(CI, GEPTy);</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;      }</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;      <span class="comment">// gep (gep V, C), (xor V, -1) -&gt; C-1</span></div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Indices.<a class="code" href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">back</a>(),</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;                <a class="code" href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">m_Xor</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(StrippedBasePtr)), <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>())) &amp;&amp;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;          !BasePtrOffset.<a class="code" href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">isOne</a>()) {</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;        <span class="keyword">auto</span> *CI = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(GEPTy-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>(), BasePtrOffset - 1);</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(CI, GEPTy);</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;      }</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    }</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;  }</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160; </div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;  <span class="comment">// Check to see if this is constant foldable.</span></div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) ||</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;      !<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Indices, [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { <span class="keywordflow">return</span> isa&lt;Constant&gt;(V); }))</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160; </div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keyword">auto</span> *CE = <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(SrcTy, cast&lt;Constant&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>), Indices,</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;                                            InBounds);</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5e655fd99a56d50b071fc26d8db5fd5b">ConstantFoldConstant</a>(CE, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;}</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160; </div>
<div class="line"><a name="l04871"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec"> 4871</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec">llvm::simplifyGEPInst</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Indices,</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;                             <span class="keywordtype">bool</span> InBounds, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a0cf80bdc892c6cddd3d7598231c11d19">return ::simplifyGEPInst</a>(SrcTy, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Indices, InBounds, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;}</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;<span class="comment">/// Given operands for an InsertValueInst, see if we can fold the result.</span></div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l04878"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a02fd62d1632b15bb3e5482c92b494400"> 4878</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a94b67449bc2ce740bcec33d149769fe0">simplifyInsertValueInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Agg, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val,</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;                                      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Idxs,</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span>) {</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CAgg = dyn_cast&lt;Constant&gt;(Agg))</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CVal = dyn_cast&lt;Constant&gt;(Val))</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad7fa9b738742521d0a684cec016ef47e">ConstantFoldInsertValueInstruction</a>(CAgg, CVal, Idxs);</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160; </div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;  <span class="comment">// insertvalue x, poison, n -&gt; x</span></div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  <span class="comment">// insertvalue x, undef, n -&gt; x if x cannot be poison</span></div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Val) ||</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;      (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Val) &amp;&amp; <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(Agg)))</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;    <span class="keywordflow">return</span> Agg;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160; </div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;  <span class="comment">// insertvalue x, (extractvalue y, n), n</span></div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *EV = dyn_cast&lt;ExtractValueInst&gt;(Val))</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <span class="keywordflow">if</span> (EV-&gt;getAggregateOperand()-&gt;getType() == Agg-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        EV-&gt;getIndices() == Idxs) {</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;      <span class="comment">// insertvalue poison, (extractvalue y, n), n -&gt; y</span></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <span class="comment">// insertvalue undef, (extractvalue y, n), n -&gt; y if y cannot be poison</span></div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;      <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Agg) ||</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;          (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Agg) &amp;&amp;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;           <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(EV-&gt;getAggregateOperand())))</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;        <span class="keywordflow">return</span> EV-&gt;getAggregateOperand();</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160; </div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;      <span class="comment">// insertvalue y, (extractvalue y, n), n -&gt; y</span></div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;      <span class="keywordflow">if</span> (Agg == EV-&gt;getAggregateOperand())</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;        <span class="keywordflow">return</span> Agg;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;    }</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160; </div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;}</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160; </div>
<div class="line"><a name="l04910"></a><span class="lineno"><a class="line" href="namespacellvm.html#a94b67449bc2ce740bcec33d149769fe0"> 4910</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a94b67449bc2ce740bcec33d149769fe0">llvm::simplifyInsertValueInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Agg, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val,</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;                                     <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Idxs,</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a02fd62d1632b15bb3e5482c92b494400">return ::simplifyInsertValueInst</a>(Agg, Val, Idxs, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;}</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160; </div>
<div class="line"><a name="l04916"></a><span class="lineno"><a class="line" href="namespacellvm.html#abdf4b5f9e1dc6887cac393ee643c10b6"> 4916</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#abdf4b5f9e1dc6887cac393ee643c10b6">llvm::simplifyInsertElementInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Vec, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx,</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;  <span class="comment">// Try to constant fold.</span></div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;  <span class="keyword">auto</span> *VecC = dyn_cast&lt;Constant&gt;(Vec);</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  <span class="keyword">auto</span> *ValC = dyn_cast&lt;Constant&gt;(Val);</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;  <span class="keyword">auto</span> *IdxC = dyn_cast&lt;Constant&gt;(Idx);</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  <span class="keywordflow">if</span> (VecC &amp;&amp; ValC &amp;&amp; IdxC)</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a64d6bd55aa4447bb25f1361993223450">ConstantExpr::getInsertElement</a>(VecC, ValC, IdxC);</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160; </div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;  <span class="comment">// For fixed-length vector, fold into poison if index is out of bounds.</span></div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;ConstantInt&gt;(Idx)) {</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;    <span class="keywordflow">if</span> (isa&lt;FixedVectorType&gt;(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) &amp;&amp;</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        CI-&gt;uge(cast&lt;FixedVectorType&gt;(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements()))</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;  }</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160; </div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;  <span class="comment">// If index is undef, it might be out of bounds (see above case)</span></div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Idx))</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160; </div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;  <span class="comment">// If the scalar is poison, or it is undef and there is no risk of</span></div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;  <span class="comment">// propagating poison from the vector value, simplify to the vector value.</span></div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Val) ||</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;      (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Val) &amp;&amp; <a class="code" href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">isGuaranteedNotToBePoison</a>(Vec)))</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;    <span class="keywordflow">return</span> Vec;</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160; </div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;  <span class="comment">// If we are extracting a value from a vector, then inserting it into the same</span></div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;  <span class="comment">// place, that&#39;s the input vector:</span></div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;  <span class="comment">// insertelt Vec, (extractelt Vec, Idx), Idx --&gt; Vec</span></div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Val, <a class="code" href="namespacellvm_1_1PatternMatch.html#adf0290c7c322f0bf8b275d6b26410b52">m_ExtractElt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Vec), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Idx))))</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    <span class="keywordflow">return</span> Vec;</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160; </div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;}</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;<span class="comment">/// Given operands for an ExtractValueInst, see if we can fold the result.</span></div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l04953"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a52d340034d6461bd241aa118959499e9"> 4953</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9442ed00a8dff89558d50f9c150951ff">simplifyExtractValueInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Agg, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Idxs,</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;, <span class="keywordtype">unsigned</span>) {</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CAgg = dyn_cast&lt;Constant&gt;(Agg))</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a557be4c1daf6eb2611b214f927dccee2">ConstantFoldExtractValueInstruction</a>(CAgg, Idxs);</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160; </div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="comment">// extractvalue x, (insertvalue y, elt, n), n -&gt; elt</span></div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;  <span class="keywordtype">unsigned</span> NumIdxs = Idxs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *IVI = dyn_cast&lt;InsertValueInst&gt;(Agg); IVI != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;       IVI = dyn_cast&lt;InsertValueInst&gt;(IVI-&gt;getAggregateOperand())) {</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> InsertValueIdxs = IVI-&gt;getIndices();</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    <span class="keywordtype">unsigned</span> NumInsertValueIdxs = InsertValueIdxs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>();</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;    <span class="keywordtype">unsigned</span> NumCommonIdxs = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(NumInsertValueIdxs, NumIdxs);</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <span class="keywordflow">if</span> (InsertValueIdxs.<a class="code" href="classllvm_1_1ArrayRef.html#ace7bdce94e806bb8870626657630dab0">slice</a>(0, NumCommonIdxs) ==</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;        Idxs.<a class="code" href="classllvm_1_1ArrayRef.html#ace7bdce94e806bb8870626657630dab0">slice</a>(0, NumCommonIdxs)) {</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;      <span class="keywordflow">if</span> (NumIdxs == NumInsertValueIdxs)</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;        <span class="keywordflow">return</span> IVI-&gt;getInsertedValueOperand();</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    }</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  }</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160; </div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;}</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160; </div>
<div class="line"><a name="l04976"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9442ed00a8dff89558d50f9c150951ff"> 4976</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9442ed00a8dff89558d50f9c150951ff">llvm::simplifyExtractValueInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Agg, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Idxs,</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a52d340034d6461bd241aa118959499e9">return ::simplifyExtractValueInst</a>(Agg, Idxs, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;}</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;<span class="comment">/// Given operands for an ExtractElementInst, see if we can fold the result.</span></div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l04983"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a146398a442913031b9a8184e39f9d933"> 4983</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aee89448981f9fbc0d97fe68f354a8e82">simplifyExtractElementInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Vec, <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx,</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span>) {</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <span class="keyword">auto</span> *VecVTy = cast&lt;VectorType&gt;(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CVec = dyn_cast&lt;Constant&gt;(Vec)) {</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CIdx = dyn_cast&lt;Constant&gt;(Idx))</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a078455f9a6da73bc84f24700a81d19d7">ConstantExpr::getExtractElement</a>(CVec, CIdx);</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160; </div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Vec))</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(VecVTy-&gt;getElementType());</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  }</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160; </div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <span class="comment">// An undef extract index can be arbitrarily chosen to be an out-of-range</span></div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;  <span class="comment">// index value, which would result in the instruction being poison.</span></div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;  <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Idx))</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(VecVTy-&gt;getElementType());</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160; </div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;  <span class="comment">// If extracting a specified index from the vector, see if we can recursively</span></div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="comment">// find a previously computed scalar that was inserted into the vector.</span></div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *IdxC = dyn_cast&lt;ConstantInt&gt;(Idx)) {</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;    <span class="comment">// For fixed-length vector, fold into undef if index is out of bounds.</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    <span class="keywordtype">unsigned</span> MinNumElts = VecVTy-&gt;getElementCount().getKnownMinValue();</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="keywordflow">if</span> (isa&lt;FixedVectorType&gt;(VecVTy) &amp;&amp; IdxC-&gt;getValue().uge(MinNumElts))</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(VecVTy-&gt;getElementType());</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;    <span class="comment">// Handle case where an element is extracted from a splat.</span></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    <span class="keywordflow">if</span> (IdxC-&gt;getValue().ult(MinNumElts))</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Splat = <a class="code" href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">getSplatValue</a>(Vec))</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;        <span class="keywordflow">return</span> Splat;</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *Elt = <a class="code" href="namespacellvm.html#ab09fc7dee4f7e02c60f7a9c928dc1603">findScalarElement</a>(Vec, IdxC-&gt;getZExtValue()))</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;      <span class="keywordflow">return</span> Elt;</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="comment">// extractelt x, (insertelt y, elt, n), n -&gt; elt</span></div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;    <span class="comment">// If the possibly-variable indices are trivially known to be equal</span></div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    <span class="comment">// (because they are the same operand) then use the value that was</span></div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="comment">// inserted directly.</span></div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = dyn_cast&lt;InsertElementInst&gt;(Vec);</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>-&gt;getOperand(2) == Idx)</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160; </div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;    <span class="comment">// The index is not relevant if our vector is a splat.</span></div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *Splat = <a class="code" href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">getSplatValue</a>(Vec))</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;      <span class="keywordflow">return</span> Splat;</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;  }</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;}</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160; </div>
<div class="line"><a name="l05028"></a><span class="lineno"><a class="line" href="namespacellvm.html#aee89448981f9fbc0d97fe68f354a8e82"> 5028</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aee89448981f9fbc0d97fe68f354a8e82">llvm::simplifyExtractElementInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Vec, <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx,</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a146398a442913031b9a8184e39f9d933">return ::simplifyExtractElementInst</a>(Vec, Idx, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;}</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;<span class="comment">/// See if we can fold the given phi. If not, returns null.</span></div>
<div class="line"><a name="l05034"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#abfd17795a1092e713f9dabc864ba8eb6"> 5034</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#abfd17795a1092e713f9dabc864ba8eb6">simplifyPHINode</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> IncomingValues,</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;  <span class="comment">// WARNING: no matter how worthwhile it may seem, we can not perform PHI CSE</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;  <span class="comment">//          here, because the PHI we may succeed simplifying to was not</span></div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;  <span class="comment">//          def-reachable from the original PHI!</span></div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160; </div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;  <span class="comment">// If all of the PHI&#39;s incoming values are the same then replace the PHI node</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;  <span class="comment">// with the common value.</span></div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CommonValue = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="keywordtype">bool</span> HasUndefInput = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *Incoming : IncomingValues) {</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;    <span class="comment">// If the incoming value is the phi node itself, it can safely be skipped.</span></div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;    <span class="keywordflow">if</span> (Incoming == PN)</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Incoming)) {</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;      <span class="comment">// Remember that we saw an undef value, but otherwise ignore them.</span></div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;      HasUndefInput = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;    }</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    <span class="keywordflow">if</span> (CommonValue &amp;&amp; Incoming != CommonValue)</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// Not the same, bail out.</span></div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    CommonValue = Incoming;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  }</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160; </div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="comment">// If CommonValue is null then all of the incoming values were either undef or</span></div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;  <span class="comment">// equal to the phi node itself.</span></div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;  <span class="keywordflow">if</span> (!CommonValue)</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(PN-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160; </div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <span class="keywordflow">if</span> (HasUndefInput) {</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    <span class="comment">// If we have a PHI node like phi(X, undef, X), where X is defined by some</span></div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    <span class="comment">// instruction, we cannot return X as the result of the PHI node unless it</span></div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;    <span class="comment">// dominates the PHI block.</span></div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">valueDominatesPHI</a>(CommonValue, PN, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>) ? CommonValue : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;  }</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160; </div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;  <span class="keywordflow">return</span> CommonValue;</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;}</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160; </div>
<div class="line"><a name="l05073"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#abfcd971ce6ccafa5489dd3bf313219af"> 5073</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c">simplifyCastInst</a>(<span class="keywordtype">unsigned</span> CastOpc, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8bf77c90e2fb57af4d4d4aab084f7052">ConstantFoldCastOperand</a>(CastOpc, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Ty, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160; </div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CastInst&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)) {</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    <span class="keyword">auto</span> *Src = CI-&gt;getOperand(0);</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = Src-&gt;getType();</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *MidTy = CI-&gt;getType();</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy = Ty;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    <span class="keywordflow">if</span> (Src-&gt;getType() == Ty) {</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;      <span class="keyword">auto</span> FirstOp = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Instruction.html#afa0b2fa29ba074f2b6ec9ac11163f2d9">Instruction::CastOps</a><span class="keyword">&gt;</span>(CI-&gt;getOpcode());</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;      <span class="keyword">auto</span> SecondOp = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Instruction.html#afa0b2fa29ba074f2b6ec9ac11163f2d9">Instruction::CastOps</a><span class="keyword">&gt;</span>(CastOpc);</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcIntPtrTy =</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;          SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() ? Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#a7a2619d0e489a4ba9c19a0d86a041d59">getIntPtrType</a>(SrcTy) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *MidIntPtrTy =</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;          MidTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() ? Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#a7a2619d0e489a4ba9c19a0d86a041d59">getIntPtrType</a>(MidTy) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *DstIntPtrTy =</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;          DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() ? Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#a7a2619d0e489a4ba9c19a0d86a041d59">getIntPtrType</a>(DstTy) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CastInst.html#a8b805c54dc1ead67b711a4b1cb72f492">CastInst::isEliminableCastPair</a>(FirstOp, SecondOp, SrcTy, MidTy, DstTy,</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;                                         SrcIntPtrTy, MidIntPtrTy,</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;                                         DstIntPtrTy) == Instruction::BitCast)</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        <span class="keywordflow">return</span> Src;</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    }</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;  }</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160; </div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;  <span class="comment">// bitcast x -&gt; x</span></div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;  <span class="keywordflow">if</span> (CastOpc == Instruction::BitCast)</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType() == Ty)</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>;</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160; </div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;}</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160; </div>
<div class="line"><a name="l05107"></a><span class="lineno"><a class="line" href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c"> 5107</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c">llvm::simplifyCastInst</a>(<span class="keywordtype">unsigned</span> CastOpc, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#abfcd971ce6ccafa5489dd3bf313219af">return ::simplifyCastInst</a>(CastOpc, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Ty, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;}</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;<span class="comment">/// For the given destination element of a shuffle, peek through shuffles to</span></div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;<span class="comment">/// match a root vector source operand that contains that element in the same</span></div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;<span class="comment">/// vector lane (ie, the same mask index), so we can eliminate the shuffle(s).</span></div>
<div class="line"><a name="l05115"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aee6d5aa997e5fd7eea122503b96f212f"> 5115</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aee6d5aa997e5fd7eea122503b96f212f">foldIdentityShuffles</a>(<span class="keywordtype">int</span> DestElt, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;                                   <span class="keywordtype">int</span> MaskVal, <a class="code" href="classllvm_1_1Value.html">Value</a> *RootVec,</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;                                   <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160; </div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  <span class="comment">// Bail out if any mask value is undefined. That kind of shuffle may be</span></div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  <span class="comment">// simplified further based on demanded bits or other folds.</span></div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;  <span class="keywordflow">if</span> (MaskVal == -1)</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160; </div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;  <span class="comment">// The mask value chooses which source operand we need to look at next.</span></div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;  <span class="keywordtype">int</span> InVecNumElts = cast&lt;FixedVectorType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  <span class="keywordtype">int</span> RootElt = MaskVal;</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SourceOp = Op0;</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;  <span class="keywordflow">if</span> (MaskVal &gt;= InVecNumElts) {</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    RootElt = MaskVal - InVecNumElts;</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    SourceOp = Op1;</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;  }</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160; </div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;  <span class="comment">// If the source operand is a shuffle itself, look through it to find the</span></div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;  <span class="comment">// matching root vector.</span></div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *SourceShuf = dyn_cast&lt;ShuffleVectorInst&gt;(SourceOp)) {</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#aee6d5aa997e5fd7eea122503b96f212f">foldIdentityShuffles</a>(</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;        DestElt, SourceShuf-&gt;getOperand(0), SourceShuf-&gt;getOperand(1),</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;        SourceShuf-&gt;getMaskValue(RootElt), RootVec, MaxRecurse);</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;  }</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160; </div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;  <span class="comment">// TODO: Look through bitcasts? What if the bitcast changes the vector element</span></div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;  <span class="comment">// size?</span></div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160; </div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;  <span class="comment">// The source operand is not a shuffle. Initialize the root vector value for</span></div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;  <span class="comment">// this shuffle if that has not been done yet.</span></div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;  <span class="keywordflow">if</span> (!RootVec)</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;    RootVec = SourceOp;</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160; </div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;  <span class="comment">// Give up as soon as a source operand does not match the existing root value.</span></div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;  <span class="keywordflow">if</span> (RootVec != SourceOp)</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160; </div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;  <span class="comment">// The element must be coming from the same lane in the source vector</span></div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  <span class="comment">// (although it may have crossed lanes in intermediate shuffles).</span></div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;  <span class="keywordflow">if</span> (RootElt != DestElt)</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160; </div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;  <span class="keywordflow">return</span> RootVec;</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;}</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160; </div>
<div class="line"><a name="l05163"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab1cd7be95eef420c24e4acbb34f72456"> 5163</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4e04471ed9ac60e70f5cf2d81f49b8c4">simplifyShuffleVectorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;                                        <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy,</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;                                        <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, [](<span class="keywordtype">int</span> Elem) { <span class="keywordflow">return</span> Elem == <a class="code" href="namespacellvm.html#a4e09435caee07f636a47006fa08b9ec4">UndefMaskElem</a>; }))</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(RetTy);</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160; </div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;  <span class="keyword">auto</span> *InVecTy = cast&lt;VectorType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;  <span class="keywordtype">unsigned</span> MaskNumElts = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.size();</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;  <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> InVecEltCount = InVecTy-&gt;getElementCount();</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160; </div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;  <span class="keywordtype">bool</span> Scalable = InVecEltCount.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>();</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160; </div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 32&gt;</a> Indices;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;  Indices.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a38c50aa8e3e9588f4f968c2e03a0cee0">assign</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.begin(), <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.end());</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160; </div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;  <span class="comment">// Canonicalization: If mask does not select elements from an input vector,</span></div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;  <span class="comment">// replace that input vector with poison.</span></div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;  <span class="keywordflow">if</span> (!Scalable) {</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    <span class="keywordtype">bool</span> MaskSelects0 = <span class="keyword">false</span>, MaskSelects1 = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <span class="keywordtype">unsigned</span> InVecNumElts = InVecEltCount.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != MaskNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;      <span class="keywordflow">if</span> (Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == -1)</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; InVecNumElts)</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;        MaskSelects0 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;        MaskSelects1 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    }</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;    <span class="keywordflow">if</span> (!MaskSelects0)</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;      Op0 = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(InVecTy);</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    <span class="keywordflow">if</span> (!MaskSelects1)</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;      Op1 = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(InVecTy);</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;  }</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160; </div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;  <span class="keyword">auto</span> *Op0Const = dyn_cast&lt;Constant&gt;(Op0);</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;  <span class="keyword">auto</span> *Op1Const = dyn_cast&lt;Constant&gt;(Op1);</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160; </div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;  <span class="comment">// If all operands are constant, constant fold the shuffle. This</span></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <span class="comment">// transformation depends on the value of the mask which is not known at</span></div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;  <span class="comment">// compile time for scalable vectors</span></div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;  <span class="keywordflow">if</span> (Op0Const &amp;&amp; Op1Const)</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a6f6506f0bc515fe29da3b58565300017">ConstantExpr::getShuffleVector</a>(Op0Const, Op1Const, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160; </div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;  <span class="comment">// Canonicalization: if only one input vector is constant, it shall be the</span></div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;  <span class="comment">// second one. This transformation depends on the value of the mask which</span></div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  <span class="comment">// is not known at compile time for scalable vectors</span></div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  <span class="keywordflow">if</span> (!Scalable &amp;&amp; Op0Const &amp;&amp; !Op1Const) {</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;    <a class="code" href="classllvm_1_1ShuffleVectorInst.html#a9874bec83353914ed1e9309d5d9ccea0">ShuffleVectorInst::commuteShuffleMask</a>(Indices,</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;                                          InVecEltCount.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>());</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;  }</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160; </div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;  <span class="comment">// A splat of an inserted scalar constant becomes a vector constant:</span></div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  <span class="comment">// shuf (inselt ?, C, IndexC), undef, &lt;IndexC, IndexC...&gt; --&gt; &lt;C, C...&gt;</span></div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;  <span class="comment">// NOTE: We may have commuted above, so analyze the updated Indices, not the</span></div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;  <span class="comment">//       original mask constant.</span></div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;  <span class="comment">// NOTE: This transformation depends on the value of the mask which is not</span></div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;  <span class="comment">// known at compile time for scalable vectors</span></div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *IndexC;</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;  <span class="keywordflow">if</span> (!Scalable &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a9cae528bdb66086aa6c06da36fc6fa24">m_InsertElt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">m_Constant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>),</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;                                          <a class="code" href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">m_ConstantInt</a>(IndexC)))) {</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    <span class="comment">// Match a splat shuffle mask of the insert index allowing undef elements.</span></div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    <span class="keywordtype">int</span> InsertIndex = IndexC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>();</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Indices, [InsertIndex](<span class="keywordtype">int</span> MaskElt) {</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;          <span class="keywordflow">return</span> MaskElt == InsertIndex || MaskElt == -1;</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;        })) {</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;UndefValue&gt;(Op1) &amp;&amp; <span class="stringliteral">&quot;Expected undef operand 1 for splat&quot;</span>);</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160; </div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;      <span class="comment">// Shuffle mask undefs become undefined constant result elements.</span></div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 16&gt;</a> VecC(MaskNumElts, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != MaskNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;        <span class="keywordflow">if</span> (Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == -1)</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;          VecC[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType());</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantVector.html#ade9fa017ca3aa82f7694a47090547bc1">ConstantVector::get</a>(VecC);</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;    }</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;  }</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160; </div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  <span class="comment">// A shuffle of a splat is always the splat itself. Legal if the shuffle&#39;s</span></div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  <span class="comment">// value type is same as the input vectors&#39; type.</span></div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OpShuf = dyn_cast&lt;ShuffleVectorInst&gt;(Op0))</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1) &amp;&amp; RetTy == InVecTy &amp;&amp;</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;        <a class="code" href="namespacellvm.html#ad78da75bd1f157e72100f97d1ecdc756">all_equal</a>(OpShuf-&gt;getShuffleMask()))</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160; </div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;  <span class="comment">// All remaining transformation depend on the value of the mask, which is</span></div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;  <span class="comment">// not known at compile time for scalable vectors.</span></div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;  <span class="keywordflow">if</span> (Scalable)</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160; </div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;  <span class="comment">// Don&#39;t fold a shuffle with undef mask elements. This may get folded in a</span></div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;  <span class="comment">// better way using demanded bits or other analysis.</span></div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;  <span class="comment">// TODO: Should we allow this?</span></div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(Indices, -1))</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160; </div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;  <span class="comment">// Check if every element of this shuffle can be mapped back to the</span></div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;  <span class="comment">// corresponding element of a single root vector. If so, we don&#39;t need this</span></div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;  <span class="comment">// shuffle. This handles simple identity shuffles as well as chains of</span></div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;  <span class="comment">// shuffles that may widen/narrow and/or move elements across lanes and back.</span></div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *RootVec = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != MaskNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    <span class="comment">// Note that recursion is limited for each vector element, so if any element</span></div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;    <span class="comment">// exceeds the limit, this will fail to simplify.</span></div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    RootVec =</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;        <a class="code" href="InstructionSimplify_8cpp.html#aee6d5aa997e5fd7eea122503b96f212f">foldIdentityShuffles</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Op0, Op1, Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], RootVec, MaxRecurse);</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160; </div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    <span class="comment">// We can&#39;t replace a widening/narrowing shuffle with one of its operands.</span></div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    <span class="keywordflow">if</span> (!RootVec || RootVec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != RetTy)</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;  }</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;  <span class="keywordflow">return</span> RootVec;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;}</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;<span class="comment">/// Given operands for a ShuffleVectorInst, fold the result or return null.</span></div>
<div class="line"><a name="l05279"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4e04471ed9ac60e70f5cf2d81f49b8c4"> 5279</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4e04471ed9ac60e70f5cf2d81f49b8c4">llvm::simplifyShuffleVectorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;                                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy,</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ab1cd7be95eef420c24e4acbb34f72456">return ::simplifyShuffleVectorInst</a>(Op0, Op1, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, RetTy, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;}</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160; </div>
<div class="line"><a name="l05285"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a70b221b9d5d3fc8c7be9bd7afec16d70"> 5285</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a70b221b9d5d3fc8c7be9bd7afec16d70">foldConstant</a>(<a class="code" href="classllvm_1_1Instruction.html#af9f57a32b08304fea642871735717f24">Instruction::UnaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6810c4cb05b49909862249d3b3afa2af">ConstantFoldUnaryOpOperand</a>(Opcode, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;}</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;<span class="comment">/// Given the operand for an FNeg, see if we can fold the result.  If not, this</span></div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;<span class="comment">/// returns null.</span></div>
<div class="line"><a name="l05294"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ad213cc169e6f561f57cd42fb1c3a1728"> 5294</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33">simplifyFNegInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a70b221b9d5d3fc8c7be9bd7afec16d70">foldConstant</a>(Instruction::FNeg, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Q))</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160; </div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;  <span class="comment">// fneg (fneg X) ==&gt; X</span></div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160; </div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;}</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160; </div>
<div class="line"><a name="l05307"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33"> 5307</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33">llvm::simplifyFNegInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ad213cc169e6f561f57cd42fb1c3a1728">return ::simplifyFNegInst</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;}</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;<span class="comment">/// Try to propagate existing NaN values when possible. If not, replace the</span></div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;<span class="comment">/// constant or elements in the constant with a canonical NaN.</span></div>
<div class="line"><a name="l05314"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a5e959823c6ff21a60f998fbb045714c7"> 5314</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a5e959823c6ff21a60f998fbb045714c7">propagateNaN</a>(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>) {</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>-&gt;getType();</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *VecTy = dyn_cast&lt;FixedVectorType&gt;(Ty)) {</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;    <span class="keywordtype">unsigned</span> NumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 32&gt;</a> NewC(NumElts);</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *EltC = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>-&gt;getAggregateElement(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;      <span class="comment">// Poison elements propagate. NaN propagates except signaling is quieted.</span></div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;      <span class="comment">// Replace unknown or undef elements with canonical NaN.</span></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;      <span class="keywordflow">if</span> (EltC &amp;&amp; isa&lt;PoisonValue&gt;(EltC))</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;        NewC[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = EltC;</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EltC &amp;&amp; EltC-&gt;<a class="code" href="classllvm_1_1Constant.html#aabb53b9354c612fd43fa47b8266114d6">isNaN</a>())</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;        NewC[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;            EltC-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), cast&lt;ConstantFP&gt;(EltC)-&gt;getValue().makeQuiet());</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;        NewC[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classllvm_1_1ConstantFP.html#ab21342133676f10340dc3f541b128f24">ConstantFP::getNaN</a>(VecTy-&gt;getElementType());</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    }</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantVector.html#ade9fa017ca3aa82f7694a47090547bc1">ConstantVector::get</a>(NewC);</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;  }</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160; </div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;  <span class="comment">// If it is not a fixed vector, but not a simple NaN either, return a</span></div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  <span class="comment">// canonical NaN.</span></div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>-&gt;isNaN())</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#ab21342133676f10340dc3f541b128f24">ConstantFP::getNaN</a>(Ty);</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160; </div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;  <span class="comment">// Propagate an existing QNaN constant. If it is an SNaN, make it quiet, but</span></div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;  <span class="comment">// preserve the sign/payload.</span></div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(Ty, cast&lt;ConstantFP&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>)-&gt;getValue().makeQuiet());</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;}</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;<span class="comment">/// Perform folds that are common to any floating-point operation. This implies</span></div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;<span class="comment">/// transforms based on poison/undef/NaN because the operation itself makes no</span></div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;<span class="comment">/// difference to the result.</span></div>
<div class="line"><a name="l05347"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c"> 5347</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Ops, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;  <span class="comment">// Poison is independent of anything else. It always propagates from an</span></div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;  <span class="comment">// operand to a math result.</span></div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Ops, [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a412af20b5b0e761f6708ee59012c825b">m_Poison</a>()); }))</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Ops[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160; </div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : Ops) {</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;    <span class="keywordtype">bool</span> IsNan = <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ea57bfd7792ad38217ba65a4609e9f8">m_NaN</a>());</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    <span class="keywordtype">bool</span> IsInf = <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a67a3e55827742843c6cd23e49805e233">m_Inf</a>());</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;    <span class="keywordtype">bool</span> IsUndef = Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(V);</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160; </div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;    <span class="comment">// If this operation has &#39;nnan&#39; or &#39;ninf&#39; and at least 1 disallowed operand</span></div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    <span class="comment">// (an undef operand can be chosen to be Nan/Inf), then the result of</span></div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    <span class="comment">// this operation is poison.</span></div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>() &amp;&amp; (IsNan || IsUndef))</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a39b529fcda9ee90b17a3e1fed732a22a">noInfs</a>() &amp;&amp; (IsInf || IsUndef))</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160; </div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>)) {</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;      <span class="comment">// Undef does not propagate because undef means that all bits can take on</span></div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;      <span class="comment">// any value. If this is undef * NaN for example, then the result values</span></div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;      <span class="comment">// (at least the exponent bits) are limited. Assume the undef is a</span></div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;      <span class="comment">// canonical NaN and propagate that.</span></div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;      <span class="keywordflow">if</span> (IsUndef)</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#ab21342133676f10340dc3f541b128f24">ConstantFP::getNaN</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;      <span class="keywordflow">if</span> (IsNan)</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a5e959823c6ff21a60f998fbb045714c7">propagateNaN</a>(cast&lt;Constant&gt;(V));</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ExBehavior != <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7">fp::ebStrict</a>) {</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;      <span class="keywordflow">if</span> (IsNan)</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a5e959823c6ff21a60f998fbb045714c7">propagateNaN</a>(cast&lt;Constant&gt;(V));</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    }</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;  }</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;}</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;<span class="comment">/// Given operands for an FAdd, see if we can fold the result.  If not, this</span></div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;<span class="comment">/// returns null.</span></div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *</div>
<div class="line"><a name="l05389"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#adee18ba6e9cfff8ec24ceb2d3d2b486a"> 5389</a></span>&#160;<a class="code" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">simplifyFAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse,</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;                 <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior = <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ebIgnore</a>,</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;                 <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a> = <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">RoundingMode::NearestTiesToEven</a>) {</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::FAdd, Op0, Op1, Q))</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160; </div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1}, FMF, Q, ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160; </div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;  <span class="comment">// fadd X, -0 ==&gt; X</span></div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;  <span class="comment">// With strict/constrained FP, we have these possible edge cases that do</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;  <span class="comment">// not simplify to Op0:</span></div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;  <span class="comment">// fadd SNaN, -0.0 --&gt; QNaN</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;  <span class="comment">// fadd +0.0, -0.0 --&gt; -0.0 (but only with round toward negative)</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">canIgnoreSNaN</a>(ExBehavior, FMF) &amp;&amp;</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;      (!<a class="code" href="namespacellvm.html#a4137d83a9e8406ca72d0b668108814c5">canRoundingModeBe</a>(<a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>, <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7cacd6fee581a325642b84f1af5c0be5140">RoundingMode::TowardNegative</a>) ||</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;       FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>()))</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">m_NegZeroFP</a>()))</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160; </div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;  <span class="comment">// fadd X, 0 ==&gt; X, when we know X is not -0</span></div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">canIgnoreSNaN</a>(ExBehavior, FMF))</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7a371c4faf8e41f7cac98ad694f504dc">m_PosZeroFP</a>()) &amp;&amp;</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;        (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>() || <a class="code" href="namespacellvm.html#ae23e16c67aeaf23c68bf86fe04df42ee">CannotBeNegativeZero</a>(Op0, Q.TLI)))</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160; </div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160; </div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>()) {</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    <span class="comment">// With nnan: X + {+/-}Inf --&gt; {+/-}Inf</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a67a3e55827742843c6cd23e49805e233">m_Inf</a>()))</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160; </div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <span class="comment">// With nnan: -X + X --&gt; 0.0 (and commuted variant)</span></div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="comment">// We don&#39;t have to explicitly exclude infinities (ninf): INF + -INF == NaN.</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    <span class="comment">// Negative zeros are allowed because we always end up with positive zero:</span></div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;    <span class="comment">// X = -0.0: (-0.0 - (-0.0)) + (-0.0) == ( 0.0) + (-0.0) == 0.0</span></div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;    <span class="comment">// X = -0.0: ( 0.0 - (-0.0)) + (-0.0) == ( 0.0) + (-0.0) == 0.0</span></div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <span class="comment">// X =  0.0: (-0.0 - ( 0.0)) + ( 0.0) == (-0.0) + ( 0.0) == 0.0</span></div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;    <span class="comment">// X =  0.0: ( 0.0 - ( 0.0)) + ( 0.0) == ( 0.0) + ( 0.0) == 0.0</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantFP::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160; </div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantFP::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;  }</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160; </div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;  <span class="comment">// (X - Y) + Y --&gt; X</span></div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;  <span class="comment">// Y + (X - Y) --&gt; X</span></div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a9f3a7d3a575da12ac2fec17849b7b916">allowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0)))))</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160; </div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;}</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;<span class="comment">/// Given operands for an FSub, see if we can fold the result.  If not, this</span></div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;<span class="comment">/// returns null.</span></div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *</div>
<div class="line"><a name="l05455"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a296c2251618ede9492d84355b0f95e4c"> 5455</a></span>&#160;<a class="code" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">simplifyFSubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse,</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;                 <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior = <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ebIgnore</a>,</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;                 <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a> = <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">RoundingMode::NearestTiesToEven</a>) {</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::FSub, Op0, Op1, Q))</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160; </div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1}, FMF, Q, ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160; </div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="comment">// fsub X, +0 ==&gt; X</span></div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">canIgnoreSNaN</a>(ExBehavior, FMF) &amp;&amp;</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;      (!<a class="code" href="namespacellvm.html#a4137d83a9e8406ca72d0b668108814c5">canRoundingModeBe</a>(<a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>, <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7cacd6fee581a325642b84f1af5c0be5140">RoundingMode::TowardNegative</a>) ||</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;       FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>()))</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7a371c4faf8e41f7cac98ad694f504dc">m_PosZeroFP</a>()))</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160; </div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;  <span class="comment">// fsub X, -0 ==&gt; X, when we know X is not -0</span></div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">canIgnoreSNaN</a>(ExBehavior, FMF))</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">m_NegZeroFP</a>()) &amp;&amp;</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;        (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>() || <a class="code" href="namespacellvm.html#ae23e16c67aeaf23c68bf86fe04df42ee">CannotBeNegativeZero</a>(Op0, Q.TLI)))</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160; </div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  <span class="comment">// fsub -0.0, (fsub -0.0, X) ==&gt; X</span></div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  <span class="comment">// fsub -0.0, (fneg X) ==&gt; X</span></div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">canIgnoreSNaN</a>(ExBehavior, FMF))</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">m_NegZeroFP</a>()) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160; </div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="comment">// fsub 0.0, (fsub 0.0, X) ==&gt; X if signed zeros are ignored.</span></div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  <span class="comment">// fsub 0.0, (fneg X) ==&gt; X if signed zeros are ignored.</span></div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">canIgnoreSNaN</a>(ExBehavior, FMF))</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>()) &amp;&amp;</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;        (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) ||</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;         <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))))</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160; </div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160; </div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>()) {</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <span class="comment">// fsub nnan x, x ==&gt; 0.0</span></div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160; </div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    <span class="comment">// With nnan: {+/-}Inf - X --&gt; {+/-}Inf</span></div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a67a3e55827742843c6cd23e49805e233">m_Inf</a>()))</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160; </div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;    <span class="comment">// With nnan: X - {+/-}Inf --&gt; {-/+}Inf</span></div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a67a3e55827742843c6cd23e49805e233">m_Inf</a>()))</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a70b221b9d5d3fc8c7be9bd7afec16d70">foldConstant</a>(Instruction::FNeg, Op1, Q);</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;  }</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160; </div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;  <span class="comment">// Y - (Y - X) --&gt; X</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;  <span class="comment">// (X + Y) - Y --&gt; X</span></div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a9f3a7d3a575da12ac2fec17849b7b916">allowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;      (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) ||</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;       <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ada1025d503576216884e36b2fddc22e7">m_c_FAdd</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))))</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160; </div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;}</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160; </div>
<div class="line"><a name="l05521"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a72e76f7a9f21cfb012aa70480b1f4883"> 5521</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601">simplifyFMAFMul</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse,</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1}, FMF, Q, ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160; </div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160; </div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;  <span class="comment">// Canonicalize special constants as operand 1.</span></div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f87f39b5e0dedd0793bb3a450f463cf">m_FPOne</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>()))</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160; </div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;  <span class="comment">// X * 1.0 --&gt; X</span></div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f87f39b5e0dedd0793bb3a450f463cf">m_FPOne</a>()))</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160; </div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>())) {</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;    <span class="comment">// X * 0.0 --&gt; 0.0 (with nnan and nsz)</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>())</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantFP::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160; </div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <span class="comment">// +normal number * (-)0.0 --&gt; (-)0.0</span></div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">isKnownNeverInfinity</a>(Op0, Q.TLI) &amp;&amp; <a class="code" href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">isKnownNeverNaN</a>(Op0, Q.TLI) &amp;&amp;</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;        <a class="code" href="namespacellvm.html#ad0a51681428d4b7e3770680a9f1ae925">SignBitMustBeZero</a>(Op0, Q.TLI))</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;  }</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160; </div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;  <span class="comment">// sqrt(X) * sqrt(X) --&gt; X, if we can:</span></div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;  <span class="comment">// 1. Remove the intermediate rounding (reassociate).</span></div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;  <span class="comment">// 2. Ignore non-zero negative numbers because sqrt would produce NAN.</span></div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;  <span class="comment">// 3. Ignore -0.0 because sqrt(-0.0) == -0.0, but -0.0 * -0.0 == 0.0.</span></div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1 &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad71f4d6016b13f34f4f3022e2d1ae954">m_Sqrt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a9f3a7d3a575da12ac2fec17849b7b916">allowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;      FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>())</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160; </div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;}</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;<span class="comment">/// Given the operands for an FMul, see if we can fold the result</span></div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *</div>
<div class="line"><a name="l05564"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a5fa8da82e264a2cde5897163c6fc8553"> 5564</a></span>&#160;<a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">simplifyFMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse,</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;                 <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior = <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ebIgnore</a>,</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;                 <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a> = <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">RoundingMode::NearestTiesToEven</a>) {</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::FMul, Op0, Op1, Q))</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160; </div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  <span class="comment">// Now apply simplifications that do not require rounding.</span></div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601">simplifyFMAFMul</a>(Op0, Op1, FMF, Q, MaxRecurse, ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;}</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160; </div>
<div class="line"><a name="l05576"></a><span class="lineno"><a class="line" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd"> 5576</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">llvm::simplifyFAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#adee18ba6e9cfff8ec24ceb2d3d2b486a">return ::simplifyFAddInst</a>(Op0, Op1, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>, ExBehavior,</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;                            <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;}</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160; </div>
<div class="line"><a name="l05584"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5"> 5584</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">llvm::simplifyFSubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a296c2251618ede9492d84355b0f95e4c">return ::simplifyFSubInst</a>(Op0, Op1, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>, ExBehavior,</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;                            <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;}</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160; </div>
<div class="line"><a name="l05592"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05"> 5592</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">llvm::simplifyFMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a5fa8da82e264a2cde5897163c6fc8553">return ::simplifyFMulInst</a>(Op0, Op1, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>, ExBehavior,</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;                            <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;}</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160; </div>
<div class="line"><a name="l05600"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601"> 5600</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601">llvm::simplifyFMAFMul</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;                             <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;                             <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a72e76f7a9f21cfb012aa70480b1f4883">return ::simplifyFMAFMul</a>(Op0, Op1, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>, ExBehavior,</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;                           <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;}</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160; </div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *</div>
<div class="line"><a name="l05609"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a53c29b9b8d04f7d4f94919b8383a0254"> 5609</a></span>&#160;<a class="code" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">simplifyFDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span>,</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;                 <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior = <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ebIgnore</a>,</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;                 <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a> = <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">RoundingMode::NearestTiesToEven</a>) {</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::FDiv, Op0, Op1, Q))</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160; </div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1}, FMF, Q, ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160; </div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160; </div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;  <span class="comment">// X / 1.0 -&gt; X</span></div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f87f39b5e0dedd0793bb3a450f463cf">m_FPOne</a>()))</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160; </div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;  <span class="comment">// 0 / X -&gt; 0</span></div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;  <span class="comment">// Requires that NaNs are off (X could be zero) and signed zeroes are</span></div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  <span class="comment">// ignored (X could be positive or negative, so the output sign is unknown).</span></div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">noSignedZeros</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>()))</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantFP::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160; </div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>()) {</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    <span class="comment">// X / X -&gt; 1.0 is legal when NaNs are ignored.</span></div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <span class="comment">// We can ignore infinities because INF/INF is NaN.</span></div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1.0);</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160; </div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    <span class="comment">// (X * Y) / Y --&gt; X if we can reassociate to the above form.</span></div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a9f3a7d3a575da12ac2fec17849b7b916">allowReassoc</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a90b5c9b20258ae16d2be00374f116551">m_c_FMul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160; </div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <span class="comment">// -X /  X -&gt; -1.0 and</span></div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;    <span class="comment">//  X / -X -&gt; -1.0 are legal when NaNs are ignored.</span></div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    <span class="comment">// We can ignore signed zeros because +-0.0/+-0.0 is NaN and ignored.</span></div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a01daba556715b39e5c901e871a12e40b">m_FNegNSZ</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a01daba556715b39e5c901e871a12e40b">m_FNegNSZ</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), -1.0);</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160; </div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;    <span class="comment">// nnan ninf X / [-]0.0 -&gt; poison</span></div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a39b529fcda9ee90b17a3e1fed732a22a">noInfs</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">m_AnyZeroFP</a>()))</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;  }</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160; </div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;}</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160; </div>
<div class="line"><a name="l05659"></a><span class="lineno"><a class="line" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72"> 5659</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">llvm::simplifyFDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a53c29b9b8d04f7d4f94919b8383a0254">return ::simplifyFDivInst</a>(Op0, Op1, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>, ExBehavior,</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;                            <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;}</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160; </div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *</div>
<div class="line"><a name="l05668"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a43bec83692d1b662cb0236230c03927d"> 5668</a></span>&#160;<a class="code" href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699">simplifyFRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span>,</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;                 <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior = <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ebIgnore</a>,</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;                 <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a> = <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">RoundingMode::NearestTiesToEven</a>) {</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a>(Instruction::FRem, Op0, Op1, Q))</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160; </div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1}, FMF, Q, ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160; </div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">isDefaultFPEnvironment</a>(ExBehavior, <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>))</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160; </div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;  <span class="comment">// Unlike fdiv, the result of frem always matches the sign of the dividend.</span></div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;  <span class="comment">// The constant match may include undef elements in a vector, so return a full</span></div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;  <span class="comment">// zero constant as the result.</span></div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">noNaNs</a>()) {</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;    <span class="comment">// +0 % X -&gt; 0</span></div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7a371c4faf8e41f7cac98ad694f504dc">m_PosZeroFP</a>()))</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantFP::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <span class="comment">// -0 % X -&gt; -0</span></div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">m_NegZeroFP</a>()))</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a53ea3947b90b384e565d5ea33d5e1216">ConstantFP::getNegativeZero</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;  }</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160; </div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;}</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160; </div>
<div class="line"><a name="l05697"></a><span class="lineno"><a class="line" href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699"> 5697</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699">llvm::simplifyFRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;                              <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> ExBehavior,</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;                              <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">RoundingMode</a> <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>) {</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a43bec83692d1b662cb0236230c03927d">return ::simplifyFRemInst</a>(Op0, Op1, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>, ExBehavior,</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;                            <a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">Rounding</a>);</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;}</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160; </div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;<span class="comment">//=== Helper functions for higher up the class hierarchy.</span></div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;<span class="comment">/// Given the operand for a UnaryOperator, see if we can fold the result.</span></div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l05709"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a3ba3e8fde7409234793175d6a978ffab"> 5709</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d">simplifyUnOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;                           <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;  <span class="keywordflow">case</span> Instruction::FNeg:</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33">simplifyFNegInst</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;  }</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;}</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;<span class="comment">/// Given the operand for a UnaryOperator, see if we can fold the result.</span></div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;<span class="comment">/// Try to use FastMathFlags when folding the result.</span></div>
<div class="line"><a name="l05722"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a6497dd4ddbdc3b5dacec510108c4e62d"> 5722</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a6497dd4ddbdc3b5dacec510108c4e62d">simplifyFPUnOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> &amp;FMF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;                             <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;  <span class="keywordflow">case</span> Instruction::FNeg:</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33">simplifyFNegInst</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, FMF, Q, MaxRecurse);</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d">simplifyUnOp</a>(Opcode, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;  }</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;}</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160; </div>
<div class="line"><a name="l05733"></a><span class="lineno"><a class="line" href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d"> 5733</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d">llvm::simplifyUnOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a3ba3e8fde7409234793175d6a978ffab">return ::simplifyUnOp</a>(Opcode, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;}</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160; </div>
<div class="line"><a name="l05737"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9200266a9b65690c7156dbdc46817347"> 5737</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d">llvm::simplifyUnOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a6497dd4ddbdc3b5dacec510108c4e62d">return ::simplifyFPUnOp</a>(Opcode, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;}</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;<span class="comment">/// Given operands for a BinaryOperator, see if we can fold the result.</span></div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l05744"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac20fb14fde8d282680882caeb98c2298"> 5744</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;                            <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5e0af1b16cab9e0efc63a6ce9de2b9cc">simplifyAddInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsNSW */</span> <span class="keyword">false</span>, <span class="comment">/* IsNUW */</span> <span class="keyword">false</span>, Q,</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;                           MaxRecurse);</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5942ddc4393a8ef081555f9a938c86e9">simplifySubInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,  <span class="comment">/* IsNSW */</span> <span class="keyword">false</span>, <span class="comment">/* IsNUW */</span> <span class="keyword">false</span>, Q,</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;                           MaxRecurse);</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2b9904a62f8c9179b90d1cb89e6e05ac">simplifyMulInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsNSW */</span> <span class="keyword">false</span>, <span class="comment">/* IsNUW */</span> <span class="keyword">false</span>, Q,</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;                           MaxRecurse);</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a23805d3a4c907766bf29b589ba786c81">simplifySDivInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsExact */</span> <span class="keyword">false</span>, Q, MaxRecurse);</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab3b0406324f59a9dcdd00f68345ef9b7">simplifyUDivInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsExact */</span> <span class="keyword">false</span>, Q, MaxRecurse);</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acb98fd0d755e436c5749105d46b0c0d1">simplifySRemInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aecb805c568634be3390c7da36836d63e">simplifyURemInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6c052bfdf5f83877d32736ff3895cba5">simplifyShlInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsNSW */</span> <span class="keyword">false</span>, <span class="comment">/* IsNUW */</span> <span class="keyword">false</span>, Q,</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;                           MaxRecurse);</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7a41cf2067684aff8591bb68edad443e">simplifyLShrInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsExact */</span> <span class="keyword">false</span>, Q, MaxRecurse);</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0490e6e3fbdff8ae439abff8380ec7e2">simplifyAShrInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <span class="comment">/* IsExact */</span> <span class="keyword">false</span>, Q, MaxRecurse);</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;  <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">simplifyAndInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;  <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">simplifyOrInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;  <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;  <span class="keywordflow">case</span> Instruction::FAdd:</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">simplifyFAddInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;  <span class="keywordflow">case</span> Instruction::FSub:</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">simplifyFSubInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;  <span class="keywordflow">case</span> Instruction::FMul:</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">simplifyFMulInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;  <span class="keywordflow">case</span> Instruction::FDiv:</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">simplifyFDivInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;  <span class="keywordflow">case</span> Instruction::FRem:</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699">simplifyFRemInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;  }</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;}</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;<span class="comment">/// Given operands for a BinaryOperator, see if we can fold the result.</span></div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;<span class="comment">/// Try to use FastMathFlags when folding the result.</span></div>
<div class="line"><a name="l05795"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a0587e14aef27ebf77bcbdf0770da6392"> 5795</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> &amp;FMF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q,</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;                            <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  <span class="keywordflow">case</span> Instruction::FAdd:</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">simplifyFAddInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FMF, Q, MaxRecurse);</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;  <span class="keywordflow">case</span> Instruction::FSub:</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">simplifyFSubInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FMF, Q, MaxRecurse);</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;  <span class="keywordflow">case</span> Instruction::FMul:</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">simplifyFMulInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FMF, Q, MaxRecurse);</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;  <span class="keywordflow">case</span> Instruction::FDiv:</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">simplifyFDivInst</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FMF, Q, MaxRecurse);</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">simplifyBinOp</a>(Opcode, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  }</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;}</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160; </div>
<div class="line"><a name="l05812"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6"> 5812</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">llvm::simplifyBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ac20fb14fde8d282680882caeb98c2298">return ::simplifyBinOp</a>(Opcode, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;}</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160; </div>
<div class="line"><a name="l05817"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0acf8bc866da44b4527a020168d42da7"> 5817</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">llvm::simplifyBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;                           <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ac20fb14fde8d282680882caeb98c2298">return ::simplifyBinOp</a>(Opcode, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, FMF, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;}</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;<span class="comment">/// Given operands for a CmpInst, see if we can fold the result.</span></div>
<div class="line"><a name="l05823"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a36684f4c36cfa13d6fe058b844a7bda0"> 5823</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">simplifyCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#ad73f009e1b3b060bcdf6c2c1dd86600e">CmpInst::isIntPredicate</a>((<a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a>)<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>))</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, MaxRecurse);</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae490b518ab7ca0abfd0abad2e2eabb0f">simplifyFCmpInst</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;}</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160; </div>
<div class="line"><a name="l05830"></a><span class="lineno"><a class="line" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3"> 5830</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">llvm::simplifyCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a36684f4c36cfa13d6fe058b844a7bda0">return ::simplifyCmpInst</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Q, <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;}</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160; </div>
<div class="line"><a name="l05835"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a3f39d8494e80ff534547de5b51a30623"> 5835</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a3f39d8494e80ff534547de5b51a30623">isIdempotent</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160; </div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;  <span class="comment">// Unary idempotent: f(f(x)) = f(x)</span></div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fabs:</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#ac25bbfa16d28ab1f83da03668addad0a">Intrinsic::floor</a>:</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#a9209b9930d4d7750a6b8b38b3b4ddd6a">Intrinsic::ceil</a>:</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">Intrinsic::trunc</a>:</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;  <span class="keywordflow">case</span> Intrinsic::rint:</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;  <span class="keywordflow">case</span> Intrinsic::nearbyint:</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="xxhash_8cpp.html#ae4e947c75dafebd71b8de03cd0dbf5d6">Intrinsic::round</a>:</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;  <span class="keywordflow">case</span> Intrinsic::roundeven:</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;  <span class="keywordflow">case</span> Intrinsic::canonicalize:</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arithmetic_fence:</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;  }</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;}</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;<span class="comment">/// Return true if the intrinsic rounds a floating-point value to an integral</span></div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;<span class="comment">/// floating-point value (not an integer type).</span></div>
<div class="line"><a name="l05857"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a796b1851dc68b49eaeeeb7af4ff3f74b"> 5857</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a796b1851dc68b49eaeeeb7af4ff3f74b">removesFPFraction</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160; </div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#ac25bbfa16d28ab1f83da03668addad0a">Intrinsic::floor</a>:</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#a9209b9930d4d7750a6b8b38b3b4ddd6a">Intrinsic::ceil</a>:</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">Intrinsic::trunc</a>:</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;  <span class="keywordflow">case</span> Intrinsic::rint:</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;  <span class="keywordflow">case</span> Intrinsic::nearbyint:</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="xxhash_8cpp.html#ae4e947c75dafebd71b8de03cd0dbf5d6">Intrinsic::round</a>:</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;  <span class="keywordflow">case</span> Intrinsic::roundeven:</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;  }</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;}</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160; </div>
<div class="line"><a name="l05873"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a7c2aa70e946115c98815cbf7acdf5381"> 5873</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a7c2aa70e946115c98815cbf7acdf5381">simplifyRelativeLoad</a>(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Offset,</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) {</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *PtrSym;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> PtrOffset;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a2e3103683ccd8b97050f821110b98ad2">IsConstantOffsetFromGlobal</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, PtrSym, PtrOffset, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>))</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160; </div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8PtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getContext());</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getContext());</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int32PtrTy = <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>();</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int64Ty = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getContext());</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160; </div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;  <span class="keyword">auto</span> *OffsetConstInt = dyn_cast&lt;ConstantInt&gt;(Offset);</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;  <span class="keywordflow">if</span> (!OffsetConstInt || OffsetConstInt-&gt;getType()-&gt;getBitWidth() &gt; 64)</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160; </div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OffsetInt = OffsetConstInt-&gt;<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>();</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;  <span class="keywordflow">if</span> (OffsetInt % 4 != 0)</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160; </div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;      <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Int32PtrTy),</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int64Ty, OffsetInt / 4));</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Loaded = <a class="code" href="namespacellvm.html#ad95650d790f6f9d252cf0cd0e0094368">ConstantFoldLoadFromConstPtr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  <span class="keywordflow">if</span> (!Loaded)</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160; </div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;  <span class="keyword">auto</span> *LoadedCE = dyn_cast&lt;ConstantExpr&gt;(Loaded);</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;  <span class="keywordflow">if</span> (!LoadedCE)</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160; </div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;  <span class="keywordflow">if</span> (LoadedCE-&gt;getOpcode() == Instruction::Trunc) {</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    LoadedCE = dyn_cast&lt;ConstantExpr&gt;(LoadedCE-&gt;getOperand(0));</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;    <span class="keywordflow">if</span> (!LoadedCE)</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;  }</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160; </div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <span class="keywordflow">if</span> (LoadedCE-&gt;getOpcode() != Instruction::Sub)</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160; </div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;  <span class="keyword">auto</span> *LoadedLHS = dyn_cast&lt;ConstantExpr&gt;(LoadedCE-&gt;getOperand(0));</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;  <span class="keywordflow">if</span> (!LoadedLHS || LoadedLHS-&gt;getOpcode() != Instruction::PtrToInt)</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;  <span class="keyword">auto</span> *LoadedLHSPtr = LoadedLHS-&gt;getOperand(0);</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160; </div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *LoadedRHS = LoadedCE-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *LoadedRHSSym;</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LoadedRHSOffset;</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a2e3103683ccd8b97050f821110b98ad2">IsConstantOffsetFromGlobal</a>(LoadedRHS, LoadedRHSSym, LoadedRHSOffset,</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;                                  <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) ||</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;      PtrSym != LoadedRHSSym || PtrOffset != LoadedRHSOffset)</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160; </div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(LoadedLHSPtr, Int8PtrTy);</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;}</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160; </div>
<div class="line"><a name="l05929"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac56239b55e4476cc44adb9c99392e544"> 5929</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ac56239b55e4476cc44adb9c99392e544">simplifyUnaryIntrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;  <span class="comment">// Idempotent functions return the same result when called repeatedly.</span></div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID();</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a3f39d8494e80ff534547de5b51a30623">isIdempotent</a>(IID))</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(Op0))</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;      <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == IID)</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;        <span class="keywordflow">return</span> II;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160; </div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a796b1851dc68b49eaeeeb7af4ff3f74b">removesFPFraction</a>(IID)) {</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;    <span class="comment">// Converting from int or calling a rounding function always results in a</span></div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    <span class="comment">// finite integral number or infinity. For those inputs, rounding functions</span></div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;    <span class="comment">// always return the same value, so the (2nd) rounding is eliminated. Ex:</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;    <span class="comment">// floor (sitofp x) -&gt; sitofp x</span></div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;    <span class="comment">// round (ceil x) -&gt; ceil x</span></div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    <span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(Op0);</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    <span class="keywordflow">if</span> ((II &amp;&amp; <a class="code" href="InstructionSimplify_8cpp.html#a796b1851dc68b49eaeeeb7af4ff3f74b">removesFPFraction</a>(II-&gt;getIntrinsicID())) ||</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab7a6af71f539f24743081bf2e6adc0f7">m_SIToFP</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac47353e50683b2440ca9ad4a1fa860d0">m_UIToFP</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;  }</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160; </div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;  <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fabs:</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad0a51681428d4b7e3770680a9f1ae925">SignBitMustBeZero</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>))</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;  <span class="keywordflow">case</span> Intrinsic::bswap:</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;    <span class="comment">// bswap(bswap(x)) -&gt; x</span></div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">m_BSwap</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;  <span class="keywordflow">case</span> Intrinsic::bitreverse:</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;    <span class="comment">// bitreverse(bitreverse(x)) -&gt; x</span></div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">m_BitReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ctpop: {</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    <span class="comment">// ctpop(X) -&gt; 1 iff X is non-zero power of 2.</span></div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a4036c3c75bcee1206cd199548b87f9ae">isKnownToBeAPowerOfTwo</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, <span class="comment">/*OrZero*/</span> <span class="keyword">false</span>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>,</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;                               Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1);</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;    <span class="comment">// If everything but the lowest bit is zero, that bit is the pop-count. Ex:</span></div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    <span class="comment">// ctpop(and X, 1) --&gt; and X, 1</span></div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aedbf3998b4ff72347a45cb4169d120db">MaskedValueIsZero</a>(Op0, <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1),</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;                          Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, 0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;  }</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;  <span class="keywordflow">case</span> Intrinsic::exp:</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;    <span class="comment">// exp(log(x)) -&gt; x</span></div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">hasAllowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::log&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;  <span class="keywordflow">case</span> Intrinsic::exp2:</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    <span class="comment">// exp2(log2(x)) -&gt; x</span></div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">hasAllowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::log2&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;  <span class="keywordflow">case</span> Intrinsic::log:</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;    <span class="comment">// log(exp(x)) -&gt; x</span></div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">hasAllowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::exp&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a0f4bd88bd90f06f0e66d0b20f877cd1e">Intrinsic::log2</a>:</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;    <span class="comment">// log2(exp2(x)) -&gt; x</span></div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">hasAllowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;        (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::exp2&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))) ||</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;         <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0,</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;               m_Intrinsic&lt;Intrinsic::pow&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a43117391a6d351518362783bff747d44">m_SpecificFP</a>(2.0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))))</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;  <span class="keywordflow">case</span> Intrinsic::log10:</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;    <span class="comment">// log10(pow(10.0, x)) -&gt; x</span></div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">hasAllowReassoc</a>() &amp;&amp;</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::pow&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a43117391a6d351518362783bff747d44">m_SpecificFP</a>(10.0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_vector_reverse:</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;    <span class="comment">// experimental.vector.reverse(experimental.vector.reverse(x)) -&gt; x</span></div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">m_VecReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <span class="comment">// experimental.vector.reverse(splat(X)) -&gt; splat(X)</span></div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6339f2ad6701dc229c34ca4305596d3a">isSplatValue</a>(Op0))</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;  }</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160; </div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;}</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;<span class="comment">/// Given a min/max intrinsic, see if it can be removed based on having an</span></div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;<span class="comment">/// operand that is another min/max intrinsic with shared operand(s). The caller</span></div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;<span class="comment">/// is expected to swap the operand arguments to handle commutation.</span></div>
<div class="line"><a name="l06029"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a80defa1f283ed3fe144e6c474871cb6a"> 6029</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a80defa1f283ed3fe144e6c474871cb6a">foldMinMaxSharedOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1) {</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a74a8221adbd09a9076a1ab471644b223">m_MaxOrMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>))))</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160; </div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;  <span class="keyword">auto</span> *MM0 = dyn_cast&lt;IntrinsicInst&gt;(Op0);</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;  <span class="keywordflow">if</span> (!MM0)</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID0 = MM0-&gt;getIntrinsicID();</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160; </div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;  <span class="keywordflow">if</span> (Op1 == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> || Op1 == <a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a> ||</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#adcc0eb018adede4d62dafa5e60bce4be">m_c_MaxOrMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) {</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <span class="comment">// max (max X, Y), X --&gt; max X, Y</span></div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    <span class="keywordflow">if</span> (IID0 == IID)</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;      <span class="keywordflow">return</span> MM0;</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;    <span class="comment">// max (min X, Y), X --&gt; X</span></div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    <span class="keywordflow">if</span> (IID0 == <a class="code" href="namespacellvm.html#a0434306df3aa5ec48fcf19d0958d7c01">getInverseMinMaxIntrinsic</a>(IID))</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;  }</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;}</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160; </div>
<div class="line"><a name="l06051"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a791c8d75758b18d22a7f927af37c3167"> 6051</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a791c8d75758b18d22a7f927af37c3167">simplifyBinaryIntrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID();</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType();</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;  <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>:</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <span class="comment">// abs(abs(x)) -&gt; abs(x). We don&#39;t need to worry about the nsw arg here.</span></div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;    <span class="comment">// It is always ok to pick the earlier abs. We&#39;ll just lose nsw if its only</span></div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;    <span class="comment">// on the outer abs.</span></div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::abs&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160; </div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;  <span class="keywordflow">case</span> Intrinsic::cttz: {</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;  }</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ctlz: {</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aa82e8cd74318874b5a685021e96a412f">m_Negative</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>))))</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">m_AShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aa82e8cd74318874b5a685021e96a412f">m_Negative</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;  }</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>:</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>:</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>:</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>: {</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;    <span class="comment">// If the arguments are the same, this is a no-op.</span></div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160; </div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;    <span class="comment">// Canonicalize immediate constant operand as Op1.</span></div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">m_ImmConstant</a>()))</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160; </div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    <span class="comment">// Assume undef is the limit value.</span></div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;          <a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>, <a class="code" href="classllvm_1_1MinMaxIntrinsic.html#a4b6b84b97c4ee2f0023bfd66097ca424">MinMaxIntrinsic::getSaturationPoint</a>(IID, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>));</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160; </div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">m_APIntAllowUndef</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) {</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;      <span class="comment">// Clamp to limit value. For example:</span></div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;      <span class="comment">// umax(i8 %x, i8 255) --&gt; 255</span></div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <a class="code" href="classllvm_1_1MinMaxIntrinsic.html#a4b6b84b97c4ee2f0023bfd66097ca424">MinMaxIntrinsic::getSaturationPoint</a>(IID, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160; </div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;      <span class="comment">// If the constant op is the opposite of the limit value, the other must</span></div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;      <span class="comment">// be larger/smaller or equal. For example:</span></div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;      <span class="comment">// umin(i8 %x, i8 255) --&gt; %x</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == <a class="code" href="classllvm_1_1MinMaxIntrinsic.html#a4b6b84b97c4ee2f0023bfd66097ca424">MinMaxIntrinsic::getSaturationPoint</a>(</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;                    <a class="code" href="namespacellvm.html#a0434306df3aa5ec48fcf19d0958d7c01">getInverseMinMaxIntrinsic</a>(IID), <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160; </div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;      <span class="comment">// Remove nested call if constant operands allow it. Example:</span></div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;      <span class="comment">// max (max X, 7), 5 -&gt; max X, 7</span></div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;      <span class="keyword">auto</span> *MinMax0 = dyn_cast&lt;IntrinsicInst&gt;(Op0);</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;      <span class="keywordflow">if</span> (MinMax0 &amp;&amp; MinMax0-&gt;getIntrinsicID() == IID) {</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;        <span class="comment">// TODO: loosen undef/splat restrictions for vector constants.</span></div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *M00 = MinMax0-&gt;getOperand(0), *M01 = MinMax0-&gt;getOperand(1);</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *InnerC;</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(M00, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(InnerC)) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(M01, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(InnerC))) &amp;&amp;</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;            <a class="code" href="classllvm_1_1ICmpInst.html#a5769f1da829d6f6400b486d8e34e317f">ICmpInst::compare</a>(*InnerC, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;                              <a class="code" href="classllvm_1_1CmpInst.html#a6b13f2e75444202b854672a5fbf85e2e">ICmpInst::getNonStrictPredicate</a>(</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;                                  <a class="code" href="classllvm_1_1MinMaxIntrinsic.html#a9b051a0ae4af41983e9d18ab50b138c9">MinMaxIntrinsic::getPredicate</a>(IID))))</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;          <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;      }</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;    }</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160; </div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a80defa1f283ed3fe144e6c474871cb6a">foldMinMaxSharedOp</a>(IID, Op0, Op1))</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a80defa1f283ed3fe144e6c474871cb6a">foldMinMaxSharedOp</a>(IID, Op1, Op0))</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160; </div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;    <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred =</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;        <a class="code" href="classllvm_1_1CmpInst.html#a6b13f2e75444202b854672a5fbf85e2e">ICmpInst::getNonStrictPredicate</a>(<a class="code" href="classllvm_1_1MinMaxIntrinsic.html#a9b051a0ae4af41983e9d18ab50b138c9">MinMaxIntrinsic::getPredicate</a>(IID));</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(Pred, Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aba451d2306d849c2ca6821dfe84587a9">getWithoutUndef</a>(), <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>))</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a>(Pred, Op1, Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aba451d2306d849c2ca6821dfe84587a9">getWithoutUndef</a>(), <a class="code" href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>))</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160; </div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Imp =</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;            <a class="code" href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">isImpliedByDomCondition</a>(Pred, Op0, Op1, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>))</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;      <span class="keywordflow">return</span> *Imp ? Op0 : Op1;</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;bool&gt; Imp =</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;            <a class="code" href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">isImpliedByDomCondition</a>(Pred, Op1, Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>))</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;      <span class="keywordflow">return</span> *Imp ? Op1 : Op0;</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160; </div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;  }</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;  <span class="keywordflow">case</span> Intrinsic::usub_with_overflow:</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ssub_with_overflow:</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    <span class="comment">// X - X -&gt; { 0, false }</span></div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;    <span class="comment">// X - undef -&gt; { 0, false }</span></div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;    <span class="comment">// undef - X -&gt; { 0, false }</span></div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1 || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;  <span class="keywordflow">case</span> Intrinsic::uadd_with_overflow:</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;  <span class="keywordflow">case</span> Intrinsic::sadd_with_overflow:</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;    <span class="comment">// X + undef -&gt; { -1, false }</span></div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;    <span class="comment">// undef + x -&gt; { -1, false }</span></div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1)) {</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantStruct.html#a54fcfa620deb80373f489ba2fdad7643">ConstantStruct::get</a>(</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;          cast&lt;StructType&gt;(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>),</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;          {<a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>-&gt;getStructElementType(0)),</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;           <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>-&gt;getStructElementType(1))});</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;    }</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;  <span class="keywordflow">case</span> Intrinsic::umul_with_overflow:</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;  <span class="keywordflow">case</span> Intrinsic::smul_with_overflow:</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    <span class="comment">// 0 * X -&gt; { 0, false }</span></div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    <span class="comment">// X * 0 -&gt; { 0, false }</span></div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;    <span class="comment">// undef * X -&gt; { 0, false }</span></div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;    <span class="comment">// X * undef -&gt; { 0, false }</span></div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;  <span class="keywordflow">case</span> Intrinsic::uadd_sat:</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    <span class="comment">// sat(MAX + X) -&gt; MAX</span></div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;    <span class="comment">// sat(X + MAX) -&gt; MAX</span></div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <span class="keywordflow">case</span> Intrinsic::sadd_sat:</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    <span class="comment">// sat(X + undef) -&gt; -1</span></div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <span class="comment">// sat(undef + X) -&gt; -1</span></div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;    <span class="comment">// For unsigned: Assume undef is MAX, thus we saturate to MAX (-1).</span></div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;    <span class="comment">// For signed: Assume undef is ~X, in which case X + ~X = -1.</span></div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160; </div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;    <span class="comment">// X + 0 -&gt; X</span></div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;    <span class="comment">// 0 + X -&gt; X</span></div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;  <span class="keywordflow">case</span> Intrinsic::usub_sat:</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <span class="comment">// sat(0 - X) -&gt; 0, sat(X - MAX) -&gt; 0</span></div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ssub_sat:</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;    <span class="comment">// X - X -&gt; 0, X - undef -&gt; 0, undef - X -&gt; 0</span></div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1 || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    <span class="comment">// X - 0 -&gt; X</span></div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;  <span class="keywordflow">case</span> Intrinsic::load_relative:</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *C0 = dyn_cast&lt;Constant&gt;(Op0))</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;Constant&gt;(Op1))</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a7c2aa70e946115c98815cbf7acdf5381">simplifyRelativeLoad</a>(C0, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2README_8txt.html#a5cef66dcb1fc369e64240a0bff194597">Intrinsic::powi</a>:</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Power = dyn_cast&lt;ConstantInt&gt;(Op1)) {</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;      <span class="comment">// powi(x, 0) -&gt; 1.0</span></div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;      <span class="keywordflow">if</span> (Power-&gt;isZero())</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), 1.0);</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;      <span class="comment">// powi(x, 1) -&gt; x</span></div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;      <span class="keywordflow">if</span> (Power-&gt;isOne())</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;    }</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;  <span class="keywordflow">case</span> Intrinsic::copysign:</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;    <span class="comment">// copysign X, X --&gt; X</span></div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;    <span class="comment">// copysign -X, X --&gt; X</span></div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;    <span class="comment">// copysign X, -X --&gt; -X</span></div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">m_FNeg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;      <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;  <span class="keywordflow">case</span> Intrinsic::is_fpclass: {</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PoisonValue&gt;(Op0))</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160; </div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = cast&lt;ConstantInt&gt;(Op1)-&gt;getZExtValue();</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;    <span class="comment">// If all tests are made, it doesn&#39;t matter what the value is.</span></div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>) == <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>)</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; <a class="code" href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a>) == 0)</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0))</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;  }</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">Intrinsic::maxnum</a>:</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>:</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">Intrinsic::maximum</a>:</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a>: {</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    <span class="comment">// If the arguments are the same, this is a no-op.</span></div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1)</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160; </div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    <span class="comment">// Canonicalize constant operand as Op1.</span></div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Op0))</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160; </div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;    <span class="comment">// If an argument is undef, return the other argument.</span></div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160; </div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;    <span class="keywordtype">bool</span> PropagateNaN = IID == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a> || IID == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">Intrinsic::maximum</a>;</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;    <span class="keywordtype">bool</span> IsMin = IID == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">Intrinsic::minimum</a> || IID == <a class="code" href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">Intrinsic::minnum</a>;</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160; </div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;    <span class="comment">// minnum(X, nan) -&gt; X</span></div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <span class="comment">// maxnum(X, nan) -&gt; X</span></div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;    <span class="comment">// minimum(X, nan) -&gt; nan</span></div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;    <span class="comment">// maximum(X, nan) -&gt; nan</span></div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ea57bfd7792ad38217ba65a4609e9f8">m_NaN</a>()))</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;      <span class="keywordflow">return</span> PropagateNaN ? <a class="code" href="InstructionSimplify_8cpp.html#a5e959823c6ff21a60f998fbb045714c7">propagateNaN</a>(cast&lt;Constant&gt;(Op1)) : Op0;</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160; </div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;    <span class="comment">// In the following folds, inf can be replaced with the largest finite</span></div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;    <span class="comment">// float, if the ninf flag is set.</span></div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">m_APFloat</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)) &amp;&amp;</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;        (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isInfinity() || (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#a10d8839494fe8385aa1ddbca6f801d79">hasNoInfs</a>() &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isLargest()))) {</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;      <span class="comment">// minnum(X, -inf) -&gt; -inf</span></div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;      <span class="comment">// maxnum(X, +inf) -&gt; +inf</span></div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;      <span class="comment">// minimum(X, -inf) -&gt; -inf if nnan</span></div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;      <span class="comment">// maximum(X, +inf) -&gt; +inf if nnan</span></div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNegative() == IsMin &amp;&amp; (!PropagateNaN || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#a0d4bb13ba43d71cfe58184ab1bb4abd1">hasNoNaNs</a>()))</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160; </div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;      <span class="comment">// minnum(X, +inf) -&gt; X if nnan</span></div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;      <span class="comment">// maxnum(X, -inf) -&gt; X if nnan</span></div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;      <span class="comment">// minimum(X, +inf) -&gt; X</span></div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;      <span class="comment">// maximum(X, -inf) -&gt; X</span></div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNegative() != IsMin &amp;&amp; (PropagateNaN || Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>-&gt;<a class="code" href="classllvm_1_1Instruction.html#a0d4bb13ba43d71cfe58184ab1bb4abd1">hasNoNaNs</a>()))</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;    }</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160; </div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    <span class="comment">// Min/max of the same operation with common operand:</span></div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;    <span class="comment">// m(m(X, Y)), X --&gt; m(X, Y) (4 commuted variants)</span></div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a> = dyn_cast&lt;IntrinsicInst&gt;(Op0))</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a>-&gt;getIntrinsicID() == IID &amp;&amp;</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;          (<a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a>-&gt;getOperand(0) == Op1 || <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a>-&gt;getOperand(1) == Op1))</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;        <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a> = dyn_cast&lt;IntrinsicInst&gt;(Op1))</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>-&gt;getIntrinsicID() == IID &amp;&amp;</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;          (<a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>-&gt;getOperand(0) == Op0 || <a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>-&gt;getOperand(1) == Op0))</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;        <span class="keywordflow">return</span> Op1;</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160; </div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;  }</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_extract: {</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType();</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160; </div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;    <span class="comment">// (extract_vector (insert_vector _, X, 0), 0) -&gt; X</span></div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;    <span class="keywordtype">unsigned</span> IdxN = cast&lt;ConstantInt&gt;(Op1)-&gt;getZExtValue();</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, m_Intrinsic&lt;Intrinsic::vector_insert&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>),</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;                                                         <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) &amp;&amp;</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;        IdxN == 0 &amp;&amp; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>)</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160; </div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;  }</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;  }</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160; </div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;}</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160; </div>
<div class="line"><a name="l06328"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac8bae91527bb76ace2a17be8b7671da1"> 6328</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#ac8bae91527bb76ace2a17be8b7671da1">simplifyIntrinsic</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160; </div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;  <span class="keywordtype">unsigned</span> NumOperands = Call-&gt;arg_size();</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;Function&gt;(Call-&gt;getCalledFunction());</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID();</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160; </div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;  <span class="comment">// Most of the intrinsics with no operands have some kind of side effect.</span></div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;  <span class="comment">// Don&#39;t simplify.</span></div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;  <span class="keywordflow">if</span> (!NumOperands) {</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;    <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;    <span class="keywordflow">case</span> Intrinsic::vscale: {</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;      <span class="comment">// Call may not be inserted into the IR yet at point of calling simplify.</span></div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;      <span class="keywordflow">if</span> (!Call-&gt;getParent() || !Call-&gt;getParent()-&gt;getParent())</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;      <span class="keyword">auto</span> Attr = Call-&gt;getFunction()-&gt;getFnAttribute(Attribute::VScaleRange);</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;      <span class="keywordflow">if</span> (!Attr.isValid())</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;      <span class="keywordtype">unsigned</span> VScaleMin = Attr.getVScaleRangeMin();</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;      std::optional&lt;unsigned&gt; VScaleMax = Attr.getVScaleRangeMax();</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;      <span class="keywordflow">if</span> (VScaleMax &amp;&amp; VScaleMin == VScaleMax)</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), VScaleMin);</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    }</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    }</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;  }</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160; </div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;  <span class="keywordflow">if</span> (NumOperands == 1)</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#ac56239b55e4476cc44adb9c99392e544">simplifyUnaryIntrinsic</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Call-&gt;getArgOperand(0), Q);</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160; </div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <span class="keywordflow">if</span> (NumOperands == 2)</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a791c8d75758b18d22a7f927af37c3167">simplifyBinaryIntrinsic</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Call-&gt;getArgOperand(0),</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;                                   Call-&gt;getArgOperand(1), Q);</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160; </div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;  <span class="comment">// Handle intrinsics with 3 or more arguments.</span></div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;  <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_load:</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_gather: {</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *MaskArg = Call-&gt;getArgOperand(2);</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PassthruArg = Call-&gt;getArgOperand(3);</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;    <span class="comment">// If the mask is all zeros or undef, the &quot;passthru&quot; argument is the result.</span></div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ac43e0b6cbbe1e0d8988e9c5482573a92">maskIsAllZeroOrUndef</a>(MaskArg))</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;      <span class="keywordflow">return</span> PassthruArg;</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;  }</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fshl:</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fshr: {</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = Call-&gt;getArgOperand(0), *Op1 = Call-&gt;getArgOperand(1),</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;          *ShAmtArg = Call-&gt;getArgOperand(2);</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160; </div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    <span class="comment">// If both operands are undef, the result is undef.</span></div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op0) &amp;&amp; Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160; </div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    <span class="comment">// If shift amount is undef, assume it is zero.</span></div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(ShAmtArg))</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;      <span class="keywordflow">return</span> Call-&gt;getArgOperand(IID == Intrinsic::fshl ? 0 : 1);</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160; </div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *ShAmtC;</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ShAmtArg, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShAmtC))) {</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;      <span class="comment">// If there&#39;s effectively no shift, return the 1st arg or 2nd arg.</span></div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(ShAmtC-&gt;<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), ShAmtC-&gt;<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>());</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;      <span class="keywordflow">if</span> (ShAmtC-&gt;<a class="code" href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">urem</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>).<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>())</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;        <span class="keywordflow">return</span> Call-&gt;getArgOperand(IID == Intrinsic::fshl ? 0 : 1);</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;    }</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160; </div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    <span class="comment">// Rotating zero by anything is zero.</span></div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160; </div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    <span class="comment">// Rotating -1 by anything is -1.</span></div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">ConstantInt::getAllOnesValue</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160; </div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;  }</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_constrained_fma: {</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = Call-&gt;getArgOperand(0);</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = Call-&gt;getArgOperand(1);</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op2 = Call-&gt;getArgOperand(2);</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    <span class="keyword">auto</span> *FPI = cast&lt;ConstrainedFPIntrinsic&gt;(Call);</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;            <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1, Op2}, {}, Q, *FPI-&gt;getExceptionBehavior(),</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;                         *FPI-&gt;getRoundingMode()))</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;  }</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fma:</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;  <span class="keywordflow">case</span> Intrinsic::fmuladd: {</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = Call-&gt;getArgOperand(0);</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = Call-&gt;getArgOperand(1);</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op2 = Call-&gt;getArgOperand(2);</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a>({Op0, Op1, Op2}, {}, Q, <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ebIgnore</a>,</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;                                <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">RoundingMode::NearestTiesToEven</a>))</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;      <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;  }</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;  <span class="keywordflow">case</span> Intrinsic::smul_fix:</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;  <span class="keywordflow">case</span> Intrinsic::smul_fix_sat: {</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = Call-&gt;getArgOperand(0);</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = Call-&gt;getArgOperand(1);</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op2 = Call-&gt;getArgOperand(2);</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType();</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160; </div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    <span class="comment">// Canonicalize constant operand as Op1 (ConstantFolding handles the case</span></div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;    <span class="comment">// when both Op0 and Op1 are constant so we do not care about that special</span></div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    <span class="comment">// case here).</span></div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Op0))</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160; </div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    <span class="comment">// X * 0 -&gt; 0</span></div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160; </div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;    <span class="comment">// X * undef -&gt; 0</span></div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Op1))</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>);</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160; </div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;    <span class="comment">// X * (1 &lt;&lt; Scale) -&gt; X</span></div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ScaledOne =</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>-&gt;getScalarSizeInBits(),</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;                            cast&lt;ConstantInt&gt;(Op2)-&gt;getZExtValue());</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;    <span class="keywordflow">if</span> (ScaledOne.<a class="code" href="classllvm_1_1APInt.html#ac8c0157adbe12649beac0009c2f6ad8d">isNonNegative</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3acbd0be97863e3e03e3b85641254018">m_SpecificInt</a>(ScaledOne)))</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160; </div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;  }</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_insert: {</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Vec = Call-&gt;getArgOperand(0);</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SubVec = Call-&gt;getArgOperand(1);</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx = Call-&gt;getArgOperand(2);</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType();</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160; </div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    <span class="comment">// (insert_vector Y, (extract_vector X, 0), 0) -&gt; X</span></div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;    <span class="comment">// where: Y is X, or Y is undef</span></div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;    <span class="keywordtype">unsigned</span> IdxN = cast&lt;ConstantInt&gt;(Idx)-&gt;getZExtValue();</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(SubVec,</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;              m_Intrinsic&lt;Intrinsic::vector_extract&gt;(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>())) &amp;&amp;</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;        (Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">isUndefValue</a>(Vec) || Vec == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) &amp;&amp; IdxN == 0 &amp;&amp;</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;        <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType() == <a class="code" href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">ReturnType</a>)</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>;</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160; </div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;  }</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_constrained_fadd: {</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    <span class="keyword">auto</span> *FPI = cast&lt;ConstrainedFPIntrinsic&gt;(Call);</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">simplifyFAddInst</a>(</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;        FPI-&gt;getArgOperand(0), FPI-&gt;getArgOperand(1), FPI-&gt;getFastMathFlags(),</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;        Q, *FPI-&gt;getExceptionBehavior(), *FPI-&gt;getRoundingMode());</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;  }</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_constrained_fsub: {</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;    <span class="keyword">auto</span> *FPI = cast&lt;ConstrainedFPIntrinsic&gt;(Call);</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">simplifyFSubInst</a>(</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;        FPI-&gt;getArgOperand(0), FPI-&gt;getArgOperand(1), FPI-&gt;getFastMathFlags(),</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;        Q, *FPI-&gt;getExceptionBehavior(), *FPI-&gt;getRoundingMode());</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;  }</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_constrained_fmul: {</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;    <span class="keyword">auto</span> *FPI = cast&lt;ConstrainedFPIntrinsic&gt;(Call);</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">simplifyFMulInst</a>(</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;        FPI-&gt;getArgOperand(0), FPI-&gt;getArgOperand(1), FPI-&gt;getFastMathFlags(),</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;        Q, *FPI-&gt;getExceptionBehavior(), *FPI-&gt;getRoundingMode());</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;  }</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_constrained_fdiv: {</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    <span class="keyword">auto</span> *FPI = cast&lt;ConstrainedFPIntrinsic&gt;(Call);</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">simplifyFDivInst</a>(</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;        FPI-&gt;getArgOperand(0), FPI-&gt;getArgOperand(1), FPI-&gt;getFastMathFlags(),</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;        Q, *FPI-&gt;getExceptionBehavior(), *FPI-&gt;getRoundingMode());</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;  }</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_constrained_frem: {</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    <span class="keyword">auto</span> *FPI = cast&lt;ConstrainedFPIntrinsic&gt;(Call);</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699">simplifyFRemInst</a>(</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;        FPI-&gt;getArgOperand(0), FPI-&gt;getArgOperand(1), FPI-&gt;getFastMathFlags(),</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;        Q, *FPI-&gt;getExceptionBehavior(), *FPI-&gt;getRoundingMode());</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;  }</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;  }</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;}</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160; </div>
<div class="line"><a name="l06509"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a3bbc4eb1d5fe6d4cd13fc7f8bd346cb9"> 6509</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a3bbc4eb1d5fe6d4cd13fc7f8bd346cb9">tryConstantFoldCall</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(Call-&gt;getCalledOperand());</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || !<a class="code" href="namespacellvm.html#a20f356124998d05f7e605549cc2dda91">canConstantFoldCallTo</a>(Call, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160; </div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 4&gt;</a> ConstantArgs;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;  <span class="keywordtype">unsigned</span> NumArgs = Call-&gt;arg_size();</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;  ConstantArgs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(NumArgs);</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : Call-&gt;args()) {</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(&amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MetadataAsValue&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.get()))</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    }</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    ConstantArgs.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;  }</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160; </div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57bbf83a870bd632acf3165c19da8f44">ConstantFoldCall</a>(Call, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, ConstantArgs, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>);</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;}</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160; </div>
<div class="line"><a name="l06530"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2795a96498eb92ff9e37f87fba5f5807"> 6530</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a2795a96498eb92ff9e37f87fba5f5807">llvm::simplifyCall</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;  <span class="comment">// musttail calls can only be simplified if they are also DCEd.</span></div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;  <span class="comment">// As we can&#39;t guarantee this here, don&#39;t simplify them.</span></div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;  <span class="keywordflow">if</span> (Call-&gt;isMustTailCall())</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160; </div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;  <span class="comment">// call undef -&gt; poison</span></div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;  <span class="comment">// call null -&gt; poison</span></div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = Call-&gt;getCalledOperand();</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) || isa&lt;ConstantPointerNull&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>))</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Call-&gt;getType());</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160; </div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a3bbc4eb1d5fe6d4cd13fc7f8bd346cb9">tryConstantFoldCall</a>(Call, Q))</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160; </div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isIntrinsic())</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a class="code" href="InstructionSimplify_8cpp.html#ac8bae91527bb76ace2a17be8b7671da1">simplifyIntrinsic</a>(Call, Q))</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>;</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160; </div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;}</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160; </div>
<div class="line"><a name="l06553"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa45b543e17160f4f37f50d283ea5e2fe"> 6553</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aa45b543e17160f4f37f50d283ea5e2fe">llvm::simplifyConstrainedFPCall</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;ConstrainedFPIntrinsic&gt;(Call));</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a3bbc4eb1d5fe6d4cd13fc7f8bd346cb9">tryConstantFoldCall</a>(Call, Q))</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;    <span class="keywordflow">return</span> V;</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a class="code" href="InstructionSimplify_8cpp.html#ac8bae91527bb76ace2a17be8b7671da1">simplifyIntrinsic</a>(Call, Q))</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>;</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;}</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;<span class="comment">/// Given operands for a Freeze, see if we can fold the result.</span></div>
<div class="line"><a name="l06563"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#abf95a4f4e24a62d012d6f0e571346849"> 6563</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a12c01eba586da4db7ad4662e901b10a0">simplifyFreezeInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;  <span class="comment">// Use a utility function defined in ValueTracking.</span></div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ab8a7ef433279aabf7f30fa5504a4d4ef">llvm::isGuaranteedNotToBeUndefOrPoison</a>(Op0, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">AC</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">DT</a>))</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;    <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;  <span class="comment">// We have room for improvement.</span></div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;}</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160; </div>
<div class="line"><a name="l06571"></a><span class="lineno"><a class="line" href="namespacellvm.html#a12c01eba586da4db7ad4662e901b10a0"> 6571</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a12c01eba586da4db7ad4662e901b10a0">llvm::simplifyFreezeInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#abf95a4f4e24a62d012d6f0e571346849">return ::simplifyFreezeInst</a>(Op0, Q);</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;}</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160; </div>
<div class="line"><a name="l06575"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a876dfc1885a0cbba4c79ef54c425350a"> 6575</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a876dfc1885a0cbba4c79ef54c425350a">simplifyLoadInst</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI, <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrOp,</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;Q) {</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;  <span class="keywordflow">if</span> (LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a2eccc19f9061eeb7ad1e30e21f76034d">isVolatile</a>())</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160; </div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PtrOpC = dyn_cast&lt;Constant&gt;(PtrOp))</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad95650d790f6f9d252cf0cd0e0094368">ConstantFoldLoadFromConstPtr</a>(PtrOpC, LI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160; </div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;  <span class="comment">// We can only fold the load if it is from a constant global with definitive</span></div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;  <span class="comment">// initializer. Skip expensive logic if this is not the case.</span></div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;  <span class="keyword">auto</span> *GV = dyn_cast&lt;GlobalVariable&gt;(<a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(PtrOp));</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;  <span class="keywordflow">if</span> (!GV || !GV-&gt;isConstant() || !GV-&gt;hasDefinitiveInitializer())</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160; </div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;  <span class="comment">// Try to convert operand into a constant by stripping offsets while looking</span></div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;  <span class="comment">// through invariant.group intrinsics.</span></div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Offset(Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#a822fce84743a12eba6f9c83c9c719140">getIndexTypeSizeInBits</a>(PtrOp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), 0);</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;  PtrOp = PtrOp-&gt;<a class="code" href="classllvm_1_1Value.html#a4c539f826d954ab3bd78cdb0882540bd">stripAndAccumulateConstantOffsets</a>(</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;      Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Offset, <span class="comment">/* AllowNonInbounts */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;      <span class="comment">/* AllowInvariantGroup */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;  <span class="keywordflow">if</span> (PtrOp == GV) {</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    <span class="comment">// Index size may have changed due to address space casts.</span></div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    Offset = Offset.sextOrTrunc(Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>.<a class="code" href="classllvm_1_1DataLayout.html#a822fce84743a12eba6f9c83c9c719140">getIndexTypeSizeInBits</a>(PtrOp-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad95650d790f6f9d252cf0cd0e0094368">ConstantFoldLoadFromConstPtr</a>(GV, LI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), Offset, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>);</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  }</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160; </div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;}</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;<span class="comment">/// See if we can compute a simplified version of this instruction.</span></div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;<span class="comment">/// If not, this returns null.</span></div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06607"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa0b4ca6e043e408ed0be89a36c81373d"> 6607</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a27faf96484ade7c93b43abca300a24e5">simplifyInstructionWithOperands</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;                                              <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> NewOps,</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;SQ,</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;                                              <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE) {</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> Q = SQ.<a class="code" href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">CxtI</a> ? SQ : SQ.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf05c1194f5c7869a00434c13c46c228">getWithInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160; </div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(NewOps, [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { <span class="keywordflow">return</span> isa&lt;Constant&gt;(V); })) {</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 8&gt;</a> NewConstOps(NewOps.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;      <a class="code" href="namespacellvm.html#a615619b0b2879029152b9a20e96624bc">transform</a>(NewOps, NewConstOps.begin(),</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;                [](<a class="code" href="classllvm_1_1Value.html">Value</a> *V) { return cast&lt;Constant&gt;(V); });</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a72278be77e997abc4b0dbde1be280006">ConstantFoldInstOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, NewConstOps, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">DL</a>, Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">TLI</a>);</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;    }</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;  <span class="keywordflow">case</span> Instruction::FNeg:</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33">simplifyFNegInst</a>(NewOps[0], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;  <span class="keywordflow">case</span> Instruction::FAdd:</div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">simplifyFAddInst</a>(NewOps[0], NewOps[1], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5e0af1b16cab9e0efc63a6ce9de2b9cc">simplifyAddInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)),</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;  <span class="keywordflow">case</span> Instruction::FSub:</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">simplifyFSubInst</a>(NewOps[0], NewOps[1], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5942ddc4393a8ef081555f9a938c86e9">simplifySubInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)),</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;  <span class="keywordflow">case</span> Instruction::FMul:</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">simplifyFMulInst</a>(NewOps[0], NewOps[1], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2b9904a62f8c9179b90d1cb89e6e05ac">simplifyMulInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)),</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a23805d3a4c907766bf29b589ba786c81">simplifySDivInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;                            Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab3b0406324f59a9dcdd00f68345ef9b7">simplifyUDivInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;                            Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;  <span class="keywordflow">case</span> Instruction::FDiv:</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">simplifyFDivInst</a>(NewOps[0], NewOps[1], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acb98fd0d755e436c5749105d46b0c0d1">simplifySRemInst</a>(NewOps[0], NewOps[1], Q);</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aecb805c568634be3390c7da36836d63e">simplifyURemInst</a>(NewOps[0], NewOps[1], Q);</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;  <span class="keywordflow">case</span> Instruction::FRem:</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699">simplifyFRemInst</a>(NewOps[0], NewOps[1], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6c052bfdf5f83877d32736ff3895cba5">simplifyShlInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">hasNoSignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)),</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;                           Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">hasNoUnsignedWrap</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7a41cf2067684aff8591bb68edad443e">simplifyLShrInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;                            Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0490e6e3fbdff8ae439abff8380ec7e2">simplifyAShrInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;                            Q.<a class="code" href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">IIQ</a>.<a class="code" href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">isExact</a>(cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)), Q);</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;  <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">simplifyAndInst</a>(NewOps[0], NewOps[1], Q);</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;  <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">simplifyOrInst</a>(NewOps[0], NewOps[1], Q);</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;  <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">simplifyXorInst</a>(NewOps[0], NewOps[1], Q);</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;  <span class="keywordflow">case</span> Instruction::ICmp:</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">simplifyICmpInst</a>(cast&lt;ICmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">getPredicate</a>(), NewOps[0],</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;                            NewOps[1], Q);</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;  <span class="keywordflow">case</span> Instruction::FCmp:</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae490b518ab7ca0abfd0abad2e2eabb0f">simplifyFCmpInst</a>(cast&lt;FCmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">getPredicate</a>(), NewOps[0],</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;                            NewOps[1], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFastMathFlags(), Q);</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>:</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0">simplifySelectInst</a>(NewOps[0], NewOps[1], NewOps[2], Q);</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr: {</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;    <span class="keyword">auto</span> *GEPI = cast&lt;GetElementPtrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec">simplifyGEPInst</a>(GEPI-&gt;getSourceElementType(), NewOps[0],</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>(NewOps).slice(1), GEPI-&gt;isInBounds(), Q);</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;  }</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;  <span class="keywordflow">case</span> Instruction::InsertValue: {</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    <a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> *<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = cast&lt;InsertValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a94b67449bc2ce740bcec33d149769fe0">simplifyInsertValueInst</a>(NewOps[0], NewOps[1], <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getIndices(), Q);</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;  }</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;  <span class="keywordflow">case</span> Instruction::InsertElement:</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#abdf4b5f9e1dc6887cac393ee643c10b6">simplifyInsertElementInst</a>(NewOps[0], NewOps[1], NewOps[2], Q);</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;  <span class="keywordflow">case</span> Instruction::ExtractValue: {</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;    <span class="keyword">auto</span> *EVI = cast&lt;ExtractValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9442ed00a8dff89558d50f9c150951ff">simplifyExtractValueInst</a>(NewOps[0], EVI-&gt;getIndices(), Q);</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;  }</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;  <span class="keywordflow">case</span> Instruction::ExtractElement:</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aee89448981f9fbc0d97fe68f354a8e82">simplifyExtractElementInst</a>(NewOps[0], NewOps[1], Q);</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;  <span class="keywordflow">case</span> Instruction::ShuffleVector: {</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;    <span class="keyword">auto</span> *SVI = cast&lt;ShuffleVectorInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4e04471ed9ac60e70f5cf2d81f49b8c4">simplifyShuffleVectorInst</a>(NewOps[0], NewOps[1],</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;                                     SVI-&gt;getShuffleMask(), SVI-&gt;getType(), Q);</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;  }</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>:</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#abfd17795a1092e713f9dabc864ba8eb6">simplifyPHINode</a>(cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), NewOps, Q);</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;    <span class="comment">// TODO: Use NewOps</span></div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2795a96498eb92ff9e37f87fba5f5807">simplifyCall</a>(cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), Q);</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;  <span class="keywordflow">case</span> Instruction::Freeze:</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a12c01eba586da4db7ad4662e901b10a0">llvm::simplifyFreezeInst</a>(NewOps[0], Q);</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;<span class="preprocessor">#define HANDLE_CAST_INST(num, opc, clas) case Instruction::opc:</span></div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Instruction.def&quot;</span></div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;<span class="preprocessor">#undef HANDLE_CAST_INST</span></div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c">simplifyCastInst</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode(), NewOps[0], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType(), Q);</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;  <span class="keywordflow">case</span> Instruction::Alloca:</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    <span class="comment">// No simplifications for Alloca and it can&#39;t be constant folded.</span></div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>:</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a876dfc1885a0cbba4c79ef54c425350a">simplifyLoadInst</a>(cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), NewOps[0], Q);</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;  }</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;}</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160; </div>
<div class="line"><a name="l06722"></a><span class="lineno"><a class="line" href="namespacellvm.html#a27faf96484ade7c93b43abca300a24e5"> 6722</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a27faf96484ade7c93b43abca300a24e5">llvm::simplifyInstructionWithOperands</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;                                             <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> NewOps,</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;SQ,</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;                                             <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE) {</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewOps.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands() &amp;&amp;</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;         <span class="stringliteral">&quot;Number of operands should match the instruction!&quot;</span>);</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aa0b4ca6e043e408ed0be89a36c81373d">return ::simplifyInstructionWithOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, NewOps, SQ, ORE);</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;}</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160; </div>
<div class="line"><a name="l06731"></a><span class="lineno"><a class="line" href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941"> 6731</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">llvm::simplifyInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> &amp;SQ,</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;                                 <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE) {</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 8&gt;</a> Ops(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands());</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Result = <a class="code" href="namespacellvm.html#a27faf96484ade7c93b43abca300a24e5">::simplifyInstructionWithOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Ops, SQ, ORE);</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;<span class="comment">  /// If called on unreachable code, the instruction may simplify to itself.</span></div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;<span class="comment">  /// Make life easier for users by detecting that case here, and returning a</span></div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;<span class="comment">  /// safe value instead.</span></div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;<span class="comment"></span>  <span class="keywordflow">return</span> Result == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> ? <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()) : Result;</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;}</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;<span class="comment">/// Implementation of recursive simplification through an instruction&#39;s</span></div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;<span class="comment">/// uses.</span></div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;<span class="comment">/// This is the common implementation of the recursive simplification routines.</span></div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;<span class="comment">/// If we have a pre-simplified value in &#39;SimpleV&#39;, that is forcibly used to</span></div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;<span class="comment">/// replace the instruction &#39;I&#39;. Otherwise, we simply add &#39;I&#39; to the list of</span></div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;<span class="comment">/// instructions to process and attempt to simplify it using</span></div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;<span class="comment">/// InstructionSimplify. Recursively visited users which could not be</span></div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;<span class="comment">/// simplified themselves are to the optional UnsimplifiedUsers set for</span></div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;<span class="comment">/// further processing by the caller.</span></div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;<span class="comment">/// This routine returns &#39;true&#39; only when *it* simplifies something. The passed</span></div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;<span class="comment">/// in simplified value does not count toward this.</span></div>
<div class="line"><a name="l06755"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa7071d5024d9df2ab2086cccd673f002"> 6755</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#aa7071d5024d9df2ab2086cccd673f002">replaceAndRecursivelySimplifyImpl</a>(</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *SimpleV, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT, <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC,</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Instruction *, 8&gt;</a> *UnsimplifiedUsers = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Instruction *, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160; </div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;  <span class="comment">// If we have an explicit value to collapse to, do that round of the</span></div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;  <span class="comment">// simplification loop by hand initially.</span></div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;  <span class="keywordflow">if</span> (SimpleV) {</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;users())</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;      <span class="keywordflow">if</span> (U != <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;        Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;Instruction&gt;(U));</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160; </div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    <span class="comment">// Replace the instruction with its simplified value.</span></div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;replaceAllUsesWith(SimpleV);</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160; </div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;    <span class="comment">// Gracefully handle edge cases where the instruction is not wired into any</span></div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;    <span class="comment">// parent block.</span></div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isEHPad() &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isTerminator() &amp;&amp;</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;        !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayHaveSideEffects())</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  }</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160; </div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;  <span class="comment">// Note that we must test the size on each iteration, the worklist can grow.</span></div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx != Worklist.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++Idx) {</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Worklist[Idx];</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160; </div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;    <span class="comment">// See if this instruction simplifies.</span></div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;    SimpleV = <a class="code" href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">simplifyInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, {<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI, DT, AC});</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;    <span class="keywordflow">if</span> (!SimpleV) {</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;      <span class="keywordflow">if</span> (UnsimplifiedUsers)</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;        UnsimplifiedUsers-&gt;insert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;    }</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160; </div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;    <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160; </div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;    <span class="comment">// Stash away all the uses of the old instruction so we can check them for</span></div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;    <span class="comment">// recursive simplifications after a RAUW. This is cheaper than checking all</span></div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;    <span class="comment">// uses of To on the recursive step in most cases.</span></div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;users())</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;Instruction&gt;(U));</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160; </div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;    <span class="comment">// Replace the instruction with its simplified value.</span></div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;replaceAllUsesWith(SimpleV);</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160; </div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;    <span class="comment">// Gracefully handle edge cases where the instruction is not wired into any</span></div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;    <span class="comment">// parent block.</span></div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isEHPad() &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isTerminator() &amp;&amp;</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;        !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayHaveSideEffects())</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;  }</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;}</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160; </div>
<div class="line"><a name="l06814"></a><span class="lineno"><a class="line" href="namespacellvm.html#a66a40e8dfb026aef2f90764d2e49a8f1"> 6814</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a66a40e8dfb026aef2f90764d2e49a8f1">llvm::replaceAndRecursivelySimplify</a>(</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *SimpleV, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT, <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC,</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;    <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Instruction *, 8&gt;</a> *UnsimplifiedUsers) {</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != SimpleV &amp;&amp; <span class="stringliteral">&quot;replaceAndRecursivelySimplify(X,X) is not valid!&quot;</span>);</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SimpleV &amp;&amp; <span class="stringliteral">&quot;Must provide a simplified value.&quot;</span>);</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#aa7071d5024d9df2ab2086cccd673f002">replaceAndRecursivelySimplifyImpl</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, SimpleV, TLI, DT, AC,</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;                                           UnsimplifiedUsers);</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;}</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160; </div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l06825"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae489f96813329d10c0f6904477109f3b"> 6825</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> <a class="code" href="namespacellvm.html#ae489f96813329d10c0f6904477109f3b">getBestSimplifyQuery</a>(<a class="code" href="classllvm_1_1Pass.html">Pass</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;  <span class="keyword">auto</span> *DTWP = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getAnalysisIfAvailable&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;  <span class="keyword">auto</span> *DT = DTWP ? &amp;DTWP-&gt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html#a89cfc568a568a6dd8076408344ad5d02">getDomTree</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;  <span class="keyword">auto</span> *TLIWP = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getAnalysisIfAvailable&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;  <span class="keyword">auto</span> *TLI = TLIWP ? &amp;TLIWP-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html#a07d7c200d18724087ab991b5164e7181">getTLI</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;  <span class="keyword">auto</span> *ACWP = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getAnalysisIfAvailable&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;  <span class="keyword">auto</span> *AC = ACWP ? &amp;ACWP-&gt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html#af0c9a679eca493aa32aa7002bf4a50a3">getAssumptionCache</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;  <span class="keywordflow">return</span> {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent()-&gt;getDataLayout(), TLI, DT, AC};</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;}</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160; </div>
<div class="line"><a name="l06835"></a><span class="lineno"><a class="line" href="namespacellvm.html#a587d87d22706668ca92092a65fc8e1e7"> 6835</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> <a class="code" href="namespacellvm.html#ae489f96813329d10c0f6904477109f3b">getBestSimplifyQuery</a>(<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html">LoopStandardAnalysisResults</a> &amp;AR,</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) {</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;  <span class="keywordflow">return</span> {<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#a9e363c1eaf112166372e2d52704981fb">TLI</a>, &amp;AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#aaa96df870a1b3d7ffc56bec3eb0b0cff">DT</a>, &amp;AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#a902b4712394a3b3450893634b3302893">AC</a>};</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;}</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160; </div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class </span><a class="code" href="classT.html">T</a>, <span class="keyword">class</span>... TArgs&gt;</div>
<div class="line"><a name="l06841"></a><span class="lineno"><a class="line" href="namespacellvm.html#a849f809cde2b97204070ec013612be49"> 6841</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> <a class="code" href="namespacellvm.html#ae489f96813329d10c0f6904477109f3b">getBestSimplifyQuery</a>(<a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager&lt;T, TArgs...&gt;</a> &amp;AM,</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;                                         <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;  <span class="keyword">auto</span> *DT = AM.template getCachedResult&lt;DominatorTreeAnalysis&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;  <span class="keyword">auto</span> *TLI = AM.template getCachedResult&lt;TargetLibraryAnalysis&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;  <span class="keyword">auto</span> *AC = AM.template getCachedResult&lt;AssumptionAnalysis&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;  <span class="keywordflow">return</span> {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent()-&gt;getDataLayout(), TLI, DT, AC};</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;}</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;<span class="keyword">template</span> <span class="keyword">const</span> <a class="code" href="structllvm_1_1SimplifyQuery.html">SimplifyQuery</a> <a class="code" href="namespacellvm.html#ae489f96813329d10c0f6904477109f3b">getBestSimplifyQuery</a>(<a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager&lt;Function&gt;</a> &amp;,</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;                                                  <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;);</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160; </div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;<span class="keywordtype">void</span> InstSimplifyFolder::anchor() {}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1KnownBits_html_a70674aa792d906276123ab69dbdbfc69"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a70674aa792d906276123ab69dbdbfc69">llvm::KnownBits::countMaxActiveBits</a></div><div class="ttdeci">unsigned countMaxActiveBits() const</div><div class="ttdoc">Returns the maximum number of bits needed to represent all possible unsigned values with these known ...</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00305">KnownBits.h:305</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a4f6242fab5145c424cee29230fefe746"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a4f6242fab5145c424cee29230fefe746">llvm::ConstantRange::isFullSet</a></div><div class="ttdeci">bool isFullSet() const</div><div class="ttdoc">Return true if this set contains all of the elements possible for this data-type.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00363">ConstantRange.cpp:363</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_html_abdf4b5f9e1dc6887cac393ee643c10b6"><div class="ttname"><a href="namespacellvm.html#abdf4b5f9e1dc6887cac393ee643c10b6">llvm::simplifyInsertElementInst</a></div><div class="ttdeci">Value * simplifyInsertElementInst(Value *Vec, Value *Elt, Value *Idx, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an InsertElement, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04916">InstructionSimplify.cpp:4916</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba396dda2571cd3c575f1d9cb44dc2cc09"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba396dda2571cd3c575f1d9cb44dc2cc09">llvm::CmpInst::FCMP_ULE</a></div><div class="ttdeci">@ FCMP_ULE</div><div class="ttdoc">1 1 0 1 True if unordered, less than, or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00733">InstrTypes.h:733</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ac8099bedfdef48644386b16230fef2e5"><div class="ttname"><a href="classllvm_1_1APInt.html#ac8099bedfdef48644386b16230fef2e5">llvm::APInt::isMaxSignedValue</a></div><div class="ttdeci">bool isMaxSignedValue() const</div><div class="ttdoc">Determine if this is the largest signed value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00397">APInt.h:397</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aee079498c4865022f2eeb93d915797c0"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aee079498c4865022f2eeb93d915797c0">computePointerDifference</a></div><div class="ttdeci">static Constant * computePointerDifference(const DataLayout &amp;DL, Value *LHS, Value *RHS)</div><div class="ttdoc">Compute the constant difference between two pointer values.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00725">InstructionSimplify.cpp:725</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d4bdb0619aad92ee2de8f939930ba05"><div class="ttname"><a href="namespacellvm.html#a0d4bdb0619aad92ee2de8f939930ba05">llvm::simplifyFMulInst</a></div><div class="ttdeci">Value * simplifyFMulInst(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FMul, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05592">InstructionSimplify.cpp:5592</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1e172464f0de35f6ef97e10d3b0d809b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1e172464f0de35f6ef97e10d3b0d809b">trySimplifyICmpWithAdds</a></div><div class="ttdeci">static bool trySimplifyICmpWithAdds(CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03236">InstructionSimplify.cpp:3236</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a2b783b3eeb66a5a3827e5a20057086cf"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a2b783b3eeb66a5a3827e5a20057086cf">llvm::KnownBits::shl</a></div><div class="ttdeci">static KnownBits shl(const KnownBits &amp;LHS, const KnownBits &amp;RHS)</div><div class="ttdoc">Compute known bits for shl(LHS, RHS).</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8cpp_source.html#l00167">KnownBits.cpp:167</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a7c2aa70e946115c98815cbf7acdf5381"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a7c2aa70e946115c98815cbf7acdf5381">simplifyRelativeLoad</a></div><div class="ttdeci">static Value * simplifyRelativeLoad(Constant *Ptr, Constant *Offset, const DataLayout &amp;DL)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05873">InstructionSimplify.cpp:5873</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a587eab2c520053bb06fdc4afe5a57aa3"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a587eab2c520053bb06fdc4afe5a57aa3">isPoisonShift</a></div><div class="ttdeci">static bool isPoisonShift(Value *Amount, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Returns true if a shift by Amount always yields poison.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01311">InstructionSimplify.cpp:1311</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a768e1a76107c46276e339b07744f888a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">llvm::PatternMatch::m_FShr</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1, Opnd2 &gt;::Ty m_FShr(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1, const Opnd2 &amp;Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02200">PatternMatch.h:2200</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a8ad67a33bae235fe3cca1c3e5a91ed2d"><div class="ttname"><a href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized(SmallPtrSetImpl&lt; Type * &gt; *Visited=nullptr) const</div><div class="ttdoc">Return true if it makes sense to take the size of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00295">Type.h:295</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa3aa6026e39ab736ed0ed724cea87675"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa3aa6026e39ab736ed0ed724cea87675">simplifyDivRem</a></div><div class="ttdeci">static Value * simplifyDivRem(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Check for common or similar folds of integer division or integer remainder.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00997">InstructionSimplify.cpp:997</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac3befd2e6d896e64fed67ca6cf888c35"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac3befd2e6d896e64fed67ca6cf888c35">simplifyOrOfICmpsWithAdd</a></div><div class="ttdeci">static Value * simplifyOrOfICmpsWithAdd(ICmpInst *Op0, ICmpInst *Op1, const InstrInfoQuery &amp;IIQ)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01887">InstructionSimplify.cpp:1887</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4f0027b9d05b27206b1882976fce9038"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4f0027b9d05b27206b1882976fce9038">llvm::Instruction::isAssociative</a></div><div class="ttdeci">bool isAssociative() const LLVM_READONLY</div><div class="ttdoc">Return true if the instruction is associative:</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00801">Instruction.cpp:801</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aeadfb9f09670017a967f68a1f7377e4c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aeadfb9f09670017a967f68a1f7377e4c">simplifySDivInst</a></div><div class="ttdeci">static Value * simplifySDivInst(Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an SDiv, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01252">InstructionSimplify.cpp:1252</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ab7a6af71f539f24743081bf2e6adc0f7"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ab7a6af71f539f24743081bf2e6adc0f7">llvm::PatternMatch::m_SIToFP</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::SIToFP &gt; m_SIToFP(const OpTy &amp;Op)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01667">PatternMatch.h:1667</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a876dfc1885a0cbba4c79ef54c425350a"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a876dfc1885a0cbba4c79ef54c425350a">simplifyLoadInst</a></div><div class="ttdeci">static Value * simplifyLoadInst(LoadInst *LI, Value *PtrOp, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06575">InstructionSimplify.cpp:6575</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a1c7ded859212582e33828a47259f9bd3"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a1c7ded859212582e33828a47259f9bd3">llvm::ArrayRef::drop_back</a></div><div class="ttdeci">ArrayRef&lt; T &gt; drop_back(size_t N=1) const</div><div class="ttdoc">Drop the last N elements of the array.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00208">ArrayRef.h:208</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a49a2d8f483ea08a3d6ea75f90c640d76"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a49a2d8f483ea08a3d6ea75f90c640d76">llvm::CmpInst::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate() const</div><div class="ttdoc">For example, EQ-&gt;EQ, SLE-&gt;SGE, ULT-&gt;UGT, OEQ-&gt;OEQ, ULE-&gt;UGE, OLT-&gt;OGT, etc.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00859">InstrTypes.h:859</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae7e24731676a84f7b8ae32ec978168ec"><div class="ttname"><a href="namespacellvm.html#ae7e24731676a84f7b8ae32ec978168ec">llvm::simplifyGEPInst</a></div><div class="ttdeci">Value * simplifyGEPInst(Type *SrcTy, Value *Ptr, ArrayRef&lt; Value * &gt; Indices, bool InBounds, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a GetElementPtrInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04871">InstructionSimplify.cpp:4871</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_html_aebd66f6649c1449adbcfcedf1651af18"><div class="ttname"><a href="namespacellvm.html#aebd66f6649c1449adbcfcedf1651af18">llvm::isCheckForZeroAndMulWithOverflow</a></div><div class="ttdeci">bool isCheckForZeroAndMulWithOverflow(Value *Op0, Value *Op1, bool IsAnd, Use *&amp;Y)</div><div class="ttdoc">Match one of the patterns up to the select/logic op: Op0 = icmp ne i4 X, 0 Agg = call { i4,...</div><div class="ttdef"><b>Definition:</b> <a href="OverflowInstAnalysis_8cpp_source.html#l00021">OverflowInstAnalysis.cpp:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aabb53b9354c612fd43fa47b8266114d6"><div class="ttname"><a href="classllvm_1_1Constant.html#aabb53b9354c612fd43fa47b8266114d6">llvm::Constant::isNaN</a></div><div class="ttdeci">bool isNaN() const</div><div class="ttdoc">Return true if this is a floating-point NaN constant or a vector floating-point constant with all NaN...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00263">Constants.cpp:263</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0490e6e3fbdff8ae439abff8380ec7e2"><div class="ttname"><a href="namespacellvm.html#a0490e6e3fbdff8ae439abff8380ec7e2">llvm::simplifyAShrInst</a></div><div class="ttdeci">Value * simplifyAShrInst(Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a AShr, fold the result or return nulll.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01538">InstructionSimplify.cpp:1538</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1e6ddeb22c7d871b3e15f22af2078215"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1e6ddeb22c7d871b3e15f22af2078215">simplifyOrLogic</a></div><div class="ttdeci">static Value * simplifyOrLogic(Value *X, Value *Y)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02271">InstructionSimplify.cpp:2271</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a078455f9a6da73bc84f24700a81d19d7"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a078455f9a6da73bc84f24700a81d19d7">llvm::ConstantExpr::getExtractElement</a></div><div class="ttdeci">static Constant * getExtractElement(Constant *Vec, Constant *Idx, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02573">Constants.cpp:2573</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_a902b4712394a3b3450893634b3302893"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#a902b4712394a3b3450893634b3302893">llvm::LoopStandardAnalysisResults::AC</a></div><div class="ttdeci">AssumptionCache &amp; AC</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00053">LoopAnalysisManager.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdeci">@ ICMP_EQ</div><div class="ttdoc">equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00739">InstrTypes.h:739</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6810c4cb05b49909862249d3b3afa2af"><div class="ttname"><a href="namespacellvm.html#a6810c4cb05b49909862249d3b3afa2af">llvm::ConstantFoldUnaryOpOperand</a></div><div class="ttdeci">Constant * ConstantFoldUnaryOpOperand(unsigned Opcode, Constant *Op, const DataLayout &amp;DL)</div><div class="ttdoc">Attempt to constant fold a unary operation with the specified operand.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01328">ConstantFolding.cpp:1328</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a5b43a866f0fca605556f0f69f70c522a"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">llvm::ConstantExpr::getNot</a></div><div class="ttdeci">static Constant * getNot(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02651">Constants.cpp:2651</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a822fce84743a12eba6f9c83c9c719140"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a822fce84743a12eba6f9c83c9c719140">llvm::DataLayout::getIndexTypeSizeInBits</a></div><div class="ttdeci">unsigned getIndexTypeSizeInBits(Type *Ty) const</div><div class="ttdoc">Layout size of the index used in GEP calculation.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00752">DataLayout.cpp:752</a></div></div>
<div class="ttc" id="anamespacellvm_html_aedbf3998b4ff72347a45cb4169d120db"><div class="ttname"><a href="namespacellvm.html#aedbf3998b4ff72347a45cb4169d120db">llvm::MaskedValueIsZero</a></div><div class="ttdeci">bool MaskedValueIsZero(const Value *V, const APInt &amp;Mask, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if 'V &amp; Mask' is known to be zero.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00364">ValueTracking.cpp:364</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">llvm::RecurKind::Or</a></div><div class="ttdeci">@ Or</div><div class="ttdoc">Bitwise or logical OR of integers.</div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ae6251887455a61bc58dae044e27a58c8"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ae6251887455a61bc58dae044e27a58c8">simplifyAndOfICmps</a></div><div class="ttdeci">static Value * simplifyAndOfICmps(ICmpInst *Op0, ICmpInst *Op1, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01858">InstructionSimplify.cpp:1858</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a1f0ff79b64a40d383b891f1baba89c6b"><div class="ttname"><a href="classllvm_1_1PHINode.html#a1f0ff79b64a40d383b891f1baba89c6b">llvm::PHINode::incoming_values</a></div><div class="ttdeci">op_range incoming_values()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02784">Instructions.h:2784</a></div></div>
<div class="ttc" id="aCmpInstAnalysis_8h_html"><div class="ttname"><a href="CmpInstAnalysis_8h.html">CmpInstAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_af9f57a32b08304fea642871735717f24"><div class="ttname"><a href="classllvm_1_1Instruction.html#af9f57a32b08304fea642871735717f24">llvm::Instruction::UnaryOps</a></div><div class="ttdeci">UnaryOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00802">Instruction.h:802</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a43117391a6d351518362783bff747d44"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a43117391a6d351518362783bff747d44">llvm::PatternMatch::m_SpecificFP</a></div><div class="ttdeci">specific_fpval m_SpecificFP(double V)</div><div class="ttdoc">Match a specific floating point value or vector with all elements equal to the value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00815">PatternMatch.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a4b6dac7f69159e91546e9ec128506a66ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a></div><div class="ttdeci">@ RecursionLimit</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00050">InstructionSimplify.cpp:50</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a2c8498183c5bce88fb4f651ee4169611"><div class="ttname"><a href="classllvm_1_1Instruction.html#a2c8498183c5bce88fb4f651ee4169611">llvm::Instruction::hasNoSignedZeros</a></div><div class="ttdeci">bool hasNoSignedZeros() const LLVM_READONLY</div><div class="ttdoc">Determine whether the no-signed-zeros flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00319">Instruction.cpp:319</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac6658fee72b8daab345938527b4961a1"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac6658fee72b8daab345938527b4961a1">threadBinOpOverSelect</a></div><div class="ttdeci">static Value * threadBinOpOverSelect(Instruction::BinaryOps Opcode, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">In the case of a binary operation with a select instruction as an operand, try to simplify the binop ...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00395">InstructionSimplify.cpp:395</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html">llvm::SimplifyQuery</a></div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00093">InstructionSimplify.h:93</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_a9209b9930d4d7750a6b8b38b3b4ddd6a"><div class="ttname"><a href="README-FPStack_8txt.html#a9209b9930d4d7750a6b8b38b3b4ddd6a">ceil</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g ceil</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00054">README-FPStack.txt:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_a5769f1da829d6f6400b486d8e34e317f"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a5769f1da829d6f6400b486d8e34e317f">llvm::ICmpInst::compare</a></div><div class="ttdeci">static bool compare(const APInt &amp;LHS, const APInt &amp;RHS, ICmpInst::Predicate Pred)</div><div class="ttdoc">Return result of LHS Pred RHS comparison.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l04336">Instructions.cpp:4336</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a896f0dc48237fc8c91022b5df2c9c574"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a896f0dc48237fc8c91022b5df2c9c574">simplifyICmpWithBinOpOnLHS</a></div><div class="ttdeci">static Value * simplifyICmpWithBinOpOnLHS(CmpInst::Predicate Pred, BinaryOperator *LBO, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03079">InstructionSimplify.cpp:3079</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html"><div class="ttname"><a href="classllvm_1_1ElementCount.html">llvm::ElementCount</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00279">TypeSize.h:279</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a146398a442913031b9a8184e39f9d933"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a146398a442913031b9a8184e39f9d933">simplifyExtractElementInst</a></div><div class="ttdeci">static Value * simplifyExtractElementInst(Value *Vec, Value *Idx, const SimplifyQuery &amp;Q, unsigned)</div><div class="ttdoc">Given operands for an ExtractElementInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04983">InstructionSimplify.cpp:4983</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac8bae91527bb76ace2a17be8b7671da1"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac8bae91527bb76ace2a17be8b7671da1">simplifyIntrinsic</a></div><div class="ttdeci">static Value * simplifyIntrinsic(CallBase *Call, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06328">InstructionSimplify.cpp:6328</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_afcc3ba5b657190a234fcb018cfe98e47"><div class="ttname"><a href="InstructionSimplify_8cpp.html#afcc3ba5b657190a234fcb018cfe98e47">simplifyOrOfICmps</a></div><div class="ttdeci">static Value * simplifyOrOfICmps(ICmpInst *Op0, ICmpInst *Op1, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01934">InstructionSimplify.cpp:1934</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ac328c5d387ddf7d4a02afe9b669723c7"><div class="ttname"><a href="classllvm_1_1APInt.html#ac328c5d387ddf7d4a02afe9b669723c7">llvm::APInt::isMask</a></div><div class="ttdeci">bool isMask(unsigned numBits) const</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00476">APInt.h:476</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a9b35c622a902a7a7dc93b807a9fa9265"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a9b35c622a902a7a7dc93b807a9fa9265">llvm::KnownBits::getMinValue</a></div><div class="ttdeci">APInt getMinValue() const</div><div class="ttdoc">Return the minimal unsigned value possible given these KnownBits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00120">KnownBits.h:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_aba451d2306d849c2ca6821dfe84587a9"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#aba451d2306d849c2ca6821dfe84587a9">llvm::SimplifyQuery::getWithoutUndef</a></div><div class="ttdeci">SimplifyQuery getWithoutUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00125">InstructionSimplify.h:125</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_abfd17795a1092e713f9dabc864ba8eb6"><div class="ttname"><a href="InstructionSimplify_8cpp.html#abfd17795a1092e713f9dabc864ba8eb6">simplifyPHINode</a></div><div class="ttdeci">static Value * simplifyPHINode(PHINode *PN, ArrayRef&lt; Value * &gt; IncomingValues, const SimplifyQuery &amp;Q)</div><div class="ttdoc">See if we can fold the given phi. If not, returns null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05034">InstructionSimplify.cpp:5034</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantStruct_html_a54fcfa620deb80373f489ba2fdad7643"><div class="ttname"><a href="classllvm_1_1ConstantStruct.html#a54fcfa620deb80373f489ba2fdad7643">llvm::ConstantStruct::get</a></div><div class="ttdeci">static Constant * get(StructType *T, ArrayRef&lt; Constant * &gt; V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01314">Constants.cpp:1314</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="anamespacellvm_html_a287848fa3d087478355fd41a7fa41099"><div class="ttname"><a href="namespacellvm.html#a287848fa3d087478355fd41a7fa41099">llvm::ConstantFoldFPInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldFPInstOperands(unsigned Opcode, Constant *LHS, Constant *RHS, const DataLayout &amp;DL, const Instruction *I)</div><div class="ttdoc">Attempt to constant fold a floating point binary operation with the specified operands,...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01386">ConstantFolding.cpp:1386</a></div></div>
<div class="ttc" id="astructllvm_1_1SelectPatternResult_html_a3ca9c2098248eac9051008d6eb9f321d"><div class="ttname"><a href="structllvm_1_1SelectPatternResult.html#a3ca9c2098248eac9051008d6eb9f321d">llvm::SelectPatternResult::Flavor</a></div><div class="ttdeci">SelectPatternFlavor Flavor</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00714">ValueTracking.h:714</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3ea57bfd7792ad38217ba65a4609e9f8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3ea57bfd7792ad38217ba65a4609e9f8">llvm::PatternMatch::m_NaN</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_nan &gt; m_NaN()</div><div class="ttdoc">Match an arbitrary NaN constant.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00610">PatternMatch.h:610</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aa08fee11e8a5ec10c0cc2a7abbbd799a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">llvm::PatternMatch::m_LShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::LShr &gt; m_LShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01117">PatternMatch.h:1117</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a9188f84e1dd67530330dcab9cae787d7"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">llvm::details::FixedOrScalableQuantity::isScalable</a></div><div class="ttdeci">constexpr bool isScalable() const</div><div class="ttdoc">Returns whether the quantity is scaled by a runtime quantity (vscale).</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00166">TypeSize.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_acf0b1898efd7f81a078e9288befd9290"><div class="ttname"><a href="classllvm_1_1DataLayout.html#acf0b1898efd7f81a078e9288befd9290">llvm::DataLayout::getTypeSizeInBits</a></div><div class="ttdeci">TypeSize getTypeSizeInBits(Type *Ty) const</div><div class="ttdoc">Size examples:</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00669">DataLayout.h:669</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a050a395d1656e546679d8b144d951bb2"><div class="ttname"><a href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">llvm::PointerType::get</a></div><div class="ttdeci">static PointerType * get(Type *ElementType, unsigned AddressSpace)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in a numbered address space.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00729">Type.cpp:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a18b9d328d2490f447589ba60345eba6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00077">SetVector.h:77</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a3ebec767d878f6325649018816f5fbba"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a3ebec767d878f6325649018816f5fbba">minimum</a></div><div class="ttdeci">Should compile r2 movcc movcs str strb mov lr r1 movcs movcc mov lr r1 str mov mov cmp r1 movlo r2 str bx lr r0 mov mov cmp r0 movhs r2 mov r1 bx lr Some of the NEON intrinsics may be appropriate for more general either as target independent intrinsics or perhaps elsewhere in the ARM backend Some of them may also be lowered to target independent and perhaps some new SDNodes could be added For minimum</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac67bca6c764da76f5e152330d92ed916"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">llvm::KnownBits::Zero</a></div><div class="ttdeci">APInt Zero</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00024">KnownBits.h:24</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="anamespacellvm_html_a11c89e0918b007ef2cf1d6b03c4b4948"><div class="ttname"><a href="namespacellvm.html#a11c89e0918b007ef2cf1d6b03c4b4948">llvm::ConstantFoldSelectInstruction</a></div><div class="ttdeci">Constant * ConstantFoldSelectInstruction(Constant *Cond, Constant *V1, Constant *V2)</div><div class="ttdoc">Attempt to constant fold a select instruction with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFold_8cpp_source.html#l00521">ConstantFold.cpp:521</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a7a0985113e18f3db156ee625c3f1625b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a7a0985113e18f3db156ee625c3f1625b">simplifySRemInst</a></div><div class="ttdeci">static Value * simplifySRemInst(Value *Op0, Value *Op1, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an SRem, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01280">InstructionSimplify.cpp:1280</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a8f87f39b5e0dedd0793bb3a450f463cf"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8f87f39b5e0dedd0793bb3a450f463cf">llvm::PatternMatch::m_FPOne</a></div><div class="ttdeci">specific_fpval m_FPOne()</div><div class="ttdoc">Match a float 1.0 or vector with all elements equal to 1.0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00818">PatternMatch.h:818</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab8a7ef433279aabf7f30fa5504a4d4ef"><div class="ttname"><a href="namespacellvm.html#ab8a7ef433279aabf7f30fa5504a4d4ef">llvm::isGuaranteedNotToBeUndefOrPoison</a></div><div class="ttdeci">bool isGuaranteedNotToBeUndefOrPoison(const Value *V, AssumptionCache *AC=nullptr, const Instruction *CtxI=nullptr, const DominatorTree *DT=nullptr, unsigned Depth=0)</div><div class="ttdoc">Return true if this function can prove that V does not have undef bits and is never poison.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05581">ValueTracking.cpp:5581</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a9cae528bdb66086aa6c06da36fc6fa24"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a9cae528bdb66086aa6c06da36fc6fa24">llvm::PatternMatch::m_InsertElt</a></div><div class="ttdeci">ThreeOps_match&lt; Val_t, Elt_t, Idx_t, Instruction::InsertElement &gt; m_InsertElt(const Val_t &amp;Val, const Elt_t &amp;Elt, const Idx_t &amp;Idx)</div><div class="ttdoc">Matches InsertElementInst.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01484">PatternMatch.h:1484</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a4b001d9b458035fbbfc154d52d354ee9"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const</div><div class="ttdoc">Return the constant as an APInt value reference.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00132">Constants.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a845e93029e92776841aaf5e0ec4c812f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a845e93029e92776841aaf5e0ec4c812f">simplifyOrInst</a></div><div class="ttdeci">static Value * simplifyOrInst(Value *, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for an Or, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02364">InstructionSimplify.cpp:2364</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a944c25ac9b73b02a17a20a08a25b9b21"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">llvm::PatternMatch::m_Add</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Add &gt; m_Add(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00979">PatternMatch.h:979</a></div></div>
<div class="ttc" id="aCaptureTracking_8h_html"><div class="ttname"><a href="CaptureTracking_8h.html">CaptureTracking.h</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1876d72def55e62f3d361166975c11d3"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1876d72def55e62f3d361166975c11d3">simplifyLogicOfAddSub</a></div><div class="ttdeci">static Value * simplifyLogicOfAddSub(Value *Op0, Value *Op1, Instruction::BinaryOps Opcode)</div><div class="ttdoc">Given a bitwise logic op, check if the operands are add/sub with a common source value and inverted c...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02039">InstructionSimplify.cpp:2039</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af2daa0ee117afefed4c82eee55bf97b7"><div class="ttname"><a href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">llvm::APInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const</div><div class="ttdoc">Get sign extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01516">APInt.h:1516</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba8a80b27ca29fe2076b9bbdee02c65464"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba8a80b27ca29fe2076b9bbdee02c65464">llvm::CmpInst::FCMP_ONE</a></div><div class="ttdeci">@ FCMP_ONE</div><div class="ttdoc">0 1 1 0 True if ordered and operands are unequal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00726">InstrTypes.h:726</a></div></div>
<div class="ttc" id="anamespacellvm_html_a48fc95f799e976fb8bf571d61e6337f5"><div class="ttname"><a href="namespacellvm.html#a48fc95f799e976fb8bf571d61e6337f5">llvm::getSplatValue</a></div><div class="ttdeci">Value * getSplatValue(const Value *V)</div><div class="ttdoc">Get splat value if the input is a splat vector or return nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00371">VectorUtils.cpp:371</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a4b5e1f50cb0890ec60d8c61a61241170"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">llvm::CmpInst::makeCmpResultType</a></div><div class="ttdeci">static Type * makeCmpResultType(Type *opnd_type)</div><div class="ttdoc">Create a result type for fcmp/icmp.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01054">InstrTypes.h:1054</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_af4feec45578e32fe65d8efc59112bc8e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af4feec45578e32fe65d8efc59112bc8e">llvm::PatternMatch::m_CombineOr</a></div><div class="ttdeci">match_combine_or&lt; LTy, RTy &gt; m_CombineOr(const LTy &amp;L, const RTy &amp;R)</div><div class="ttdoc">Combine two pattern matchers matching L || R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00218">PatternMatch.h:218</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_abae3f750ce4d2edcea30f08fe9e29721"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">llvm::ConstantExpr::getGetElementPtr</a></div><div class="ttdeci">static Constant * getGetElementPtr(Type *Ty, Constant *C, ArrayRef&lt; Constant * &gt; IdxList, bool InBounds=false, std::optional&lt; unsigned &gt; InRangeIndex=std::nullopt, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdoc">Getelementptr form.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01245">Constants.h:1245</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ad36c433ede3621ca9b4921ea748a2228"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ad36c433ede3621ca9b4921ea748a2228">simplifyAddInst</a></div><div class="ttdeci">static Value * simplifyAddInst(Value *Op0, Value *Op1, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an Add, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00631">InstructionSimplify.cpp:631</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdeci">@ ICMP_NE</div><div class="ttdoc">not equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00740">InstrTypes.h:740</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aa2a54b545d237ecfe450fd1292f7675e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aa2a54b545d237ecfe450fd1292f7675e">llvm::CmpInst::getInversePredicate</a></div><div class="ttdeci">Predicate getInversePredicate() const</div><div class="ttdoc">For example, EQ -&gt; NE, UGT -&gt; ULE, SLT -&gt; SGE, OEQ -&gt; UNE, UGT -&gt; OLE, OLT -&gt; UGE,...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00832">InstrTypes.h:832</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac43e0b6cbbe1e0d8988e9c5482573a92"><div class="ttname"><a href="namespacellvm.html#ac43e0b6cbbe1e0d8988e9c5482573a92">llvm::maskIsAllZeroOrUndef</a></div><div class="ttdeci">bool maskIsAllZeroOrUndef(Value *Mask)</div><div class="ttdoc">Given a mask vector of i1, Return true if all of the elements of this predicate mask are known to be ...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l01066">VectorUtils.cpp:1066</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aea5f26deda5ef97e02f6afc57c0c3920"><div class="ttname"><a href="classllvm_1_1APInt.html#aea5f26deda5ef97e02f6afc57c0c3920">llvm::APInt::isOne</a></div><div class="ttdeci">bool isOne() const</div><div class="ttdoc">Determine if this is a value of 1.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00378">APInt.h:378</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa7b0d587e23c14a7872805e776f6318e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa7b0d587e23c14a7872805e776f6318e">getCompareTy</a></div><div class="ttdeci">static Type * getCompareTy(Value *Op)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02612">InstructionSimplify.cpp:2612</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad0a51681428d4b7e3770680a9f1ae925"><div class="ttname"><a href="namespacellvm.html#ad0a51681428d4b7e3770680a9f1ae925">llvm::SignBitMustBeZero</a></div><div class="ttdeci">bool SignBitMustBeZero(const Value *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Return true if we can prove that the specified FP value's sign bit is 0.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03762">ValueTracking.cpp:3762</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a8b805c54dc1ead67b711a4b1cb72f492"><div class="ttname"><a href="classllvm_1_1CastInst.html#a8b805c54dc1ead67b711a4b1cb72f492">llvm::CastInst::isEliminableCastPair</a></div><div class="ttdeci">static unsigned isEliminableCastPair(Instruction::CastOps firstOpcode, Instruction::CastOps secondOpcode, Type *SrcTy, Type *MidTy, Type *DstTy, Type *SrcIntPtrTy, Type *MidIntPtrTy, Type *DstIntPtrTy)</div><div class="ttdoc">Determine how a pair of casts can be eliminated, if they can be at all.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03129">Instructions.cpp:3129</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a80defa1f283ed3fe144e6c474871cb6a"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a80defa1f283ed3fe144e6c474871cb6a">foldMinMaxSharedOp</a></div><div class="ttdeci">static Value * foldMinMaxSharedOp(Intrinsic::ID IID, Value *Op0, Value *Op1)</div><div class="ttdoc">Given a min/max intrinsic, see if it can be removed based on having an operand that is another min/ma...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06029">InstructionSimplify.cpp:6029</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_acd794d7b3653822f61ba126e1678e03f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#acd794d7b3653822f61ba126e1678e03f">llvm::PatternMatch::m_APFloat</a></div><div class="ttdeci">apfloat_match m_APFloat(const APFloat *&amp;Res)</div><div class="ttdoc">Match a ConstantFP or splatted ConstantVector, binding the specified pointer to the contained APFloat...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00295">PatternMatch.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a8f793deb2edf1656236f570c01d7042e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">llvm::PatternMatch::m_BitReverse</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_BitReverse(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02161">PatternMatch.h:2161</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_a9d5f70171d811078c4d263811f13c121"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a9d5f70171d811078c4d263811f13c121">llvm::ICmpInst::getSignedPredicate</a></div><div class="ttdeci">Predicate getSignedPredicate() const</div><div class="ttdoc">For example, EQ-&gt;EQ, SLE-&gt;SLE, UGT-&gt;SGT, etc.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01264">Instructions.h:1264</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07256e6859fcb3b9d5eb02ecea9e9a38"><div class="ttname"><a href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">llvm::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(const Value *V, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if the given value is known to be non-zero when defined.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00313">ValueTracking.cpp:313</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25342d4b800ea1a4a8bf4ec8887efb45"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25342d4b800ea1a4a8bf4ec8887efb45">llvm::PatternMatch::m_NegZeroFP</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_neg_zero_fp &gt; m_NegZeroFP()</div><div class="ttdoc">Match a floating-point negative zero.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00682">PatternMatch.h:682</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a4796a8479f782aa42fa98ece31232a97"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a4796a8479f782aa42fa98ece31232a97">llvm::PatternMatch::m_NUWShl</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Shl, OverflowingBinaryOperator::NoUnsignedWrap &gt; m_NUWShl(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01213">PatternMatch.h:1213</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdeci">@ ICMP_SGT</div><div class="ttdoc">signed greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00745">InstrTypes.h:745</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1777124c8b3c365101cf61eb49a22f22"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1777124c8b3c365101cf61eb49a22f22">simplifyICmpOfBools</a></div><div class="ttdeci">static Value * simplifyICmpOfBools(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Fold an icmp when its operands have i1 scalar type.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02865">InstructionSimplify.cpp:2865</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ad213cc169e6f561f57cd42fb1c3a1728"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ad213cc169e6f561f57cd42fb1c3a1728">simplifyFNegInst</a></div><div class="ttdeci">static Value * simplifyFNegInst(Value *Op, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given the operand for an FNeg, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05294">InstructionSimplify.cpp:5294</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a791c8d75758b18d22a7f927af37c3167"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a791c8d75758b18d22a7f927af37c3167">simplifyBinaryIntrinsic</a></div><div class="ttdeci">static Value * simplifyBinaryIntrinsic(Function *F, Value *Op0, Value *Op1, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06051">InstructionSimplify.cpp:6051</a></div></div>
<div class="ttc" id="anamespacellvm_html_a27faf96484ade7c93b43abca300a24e5"><div class="ttname"><a href="namespacellvm.html#a27faf96484ade7c93b43abca300a24e5">llvm::simplifyInstructionWithOperands</a></div><div class="ttdeci">Value * simplifyInstructionWithOperands(Instruction *I, ArrayRef&lt; Value * &gt; NewOps, const SimplifyQuery &amp;Q, OptimizationRemarkEmitter *ORE=nullptr)</div><div class="ttdoc">Like simplifyInstruction but the operands of I are replaced with NewOps.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06722">InstructionSimplify.cpp:6722</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ab6d9b33c5b329e795a6a774bfcc61485"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab6d9b33c5b329e795a6a774bfcc61485">simplifyAndOrOfICmpsWithConstants</a></div><div class="ttdeci">static Value * simplifyAndOrOfICmpsWithConstants(ICmpInst *Cmp0, ICmpInst *Cmp1, bool IsAnd)</div><div class="ttdoc">Test if a pair of compares with a shared operand and 2 constants has an empty set intersection,...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01656">InstructionSimplify.cpp:1656</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a512fe2c15ea651294688eeec1341644c"><div class="ttname"><a href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Return the number of bits in the APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01439">APInt.h:1439</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_aaaeded5d0cab77f531b294638459aca5"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#aaaeded5d0cab77f531b294638459aca5">llvm::ICmpInst::isEquality</a></div><div class="ttdeci">bool isEquality() const</div><div class="ttdoc">Return true if this predicate is either EQ or NE.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01292">Instructions.h:1292</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a1e32582702cf5b9d4484c0ce346b2f57"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a1e32582702cf5b9d4484c0ce346b2f57">llvm::CmpInst::isFalseWhenEqual</a></div><div class="ttdeci">bool isFalseWhenEqual() const</div><div class="ttdoc">This is just a convenience.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01012">InstrTypes.h:1012</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a10d8839494fe8385aa1ddbca6f801d79"><div class="ttname"><a href="classllvm_1_1Instruction.html#a10d8839494fe8385aa1ddbca6f801d79">llvm::Instruction::hasNoInfs</a></div><div class="ttdeci">bool hasNoInfs() const LLVM_READONLY</div><div class="ttdoc">Determine whether the no-infs flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00314">Instruction.cpp:314</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a4162231a048d39fc6d4c0f7df3ff0d9c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a4162231a048d39fc6d4c0f7df3ff0d9c">simplifyCmpSelTrueCase</a></div><div class="ttdeci">static Value * simplifyCmpSelTrueCase(CmpInst::Predicate Pred, Value *LHS, Value *RHS, Value *Cond, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Simplify comparison with true branch of select.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00164">InstructionSimplify.cpp:164</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a38dc339806a701c1f11ec31cf76936ff"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a38dc339806a701c1f11ec31cf76936ff">simplifySelectInst</a></div><div class="ttdeci">static Value * simplifySelectInst(Value *, Value *, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for a SelectInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04548">InstructionSimplify.cpp:4548</a></div></div>
<div class="ttc" id="astructllvm_1_1ObjectSizeOpts_html_a0229c5396522e5a903a277fda4c3659c"><div class="ttname"><a href="structllvm_1_1ObjectSizeOpts.html#a0229c5396522e5a903a277fda4c3659c">llvm::ObjectSizeOpts::NullIsUnknownSize</a></div><div class="ttdeci">bool NullIsUnknownSize</div><div class="ttdoc">If this is true, null pointers in address space 0 will be treated as though they can't be evaluated.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8h_source.html#l00163">MemoryBuiltins.h:163</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html">llvm::LoopStandardAnalysisResults</a></div><div class="ttdoc">The adaptor from a function pass to a loop pass computes these analyses and makes them available to t...</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00051">LoopAnalysisManager.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1FastMathFlags_html_a278a2e29bf56f2e2109fd35ae454b050"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#a278a2e29bf56f2e2109fd35ae454b050">llvm::FastMathFlags::noSignedZeros</a></div><div class="ttdeci">bool noSignedZeros() const</div><div class="ttdef"><b>Definition:</b> <a href="FMF_8h_source.html#l00069">FMF.h:69</a></div></div>
<div class="ttc" id="anamespacellvm_html_a94b67449bc2ce740bcec33d149769fe0"><div class="ttname"><a href="namespacellvm.html#a94b67449bc2ce740bcec33d149769fe0">llvm::simplifyInsertValueInst</a></div><div class="ttdeci">Value * simplifyInsertValueInst(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an InsertValueInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04910">InstructionSimplify.cpp:4910</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6e8a8610223f1f09b6000dcbca9649a5"><div class="ttname"><a href="namespacellvm.html#a6e8a8610223f1f09b6000dcbca9649a5">llvm::simplifyFSubInst</a></div><div class="ttdeci">Value * simplifyFSubInst(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FSub, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05584">InstructionSimplify.cpp:5584</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a43ac4fbaaf63a88eb5ac05f6d3e5649c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a43ac4fbaaf63a88eb5ac05f6d3e5649c">llvm::PatternMatch::m_BinOp</a></div><div class="ttdeci">class_match&lt; BinaryOperator &gt; m_BinOp()</div><div class="ttdoc">Match an arbitrary binary operation and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00084">PatternMatch.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a4c539f826d954ab3bd78cdb0882540bd"><div class="ttname"><a href="classllvm_1_1Value.html#a4c539f826d954ab3bd78cdb0882540bd">llvm::Value::stripAndAccumulateConstantOffsets</a></div><div class="ttdeci">const Value * stripAndAccumulateConstantOffsets(const DataLayout &amp;DL, APInt &amp;Offset, bool AllowNonInbounds, bool AllowInvariantGroup=false, function_ref&lt; bool(Value &amp;Value, APInt &amp;Offset)&gt; ExternalAnalysis=nullptr) const</div><div class="ttdoc">Accumulate the constant offset this value has compared to a base pointer.</div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a35c62ad2d2b9c55798c27b6276933480"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a35c62ad2d2b9c55798c27b6276933480">simplifyAShrInst</a></div><div class="ttdeci">static Value * simplifyAShrInst(Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an AShr, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01512">InstructionSimplify.cpp:1512</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a64153676e101a130bbbaaf91635d253a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">llvm::PatternMatch::m_AShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::AShr &gt; m_AShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01123">PatternMatch.h:1123</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad46ed333b920b20e78d948610366254c"><div class="ttname"><a href="namespacellvm.html#ad46ed333b920b20e78d948610366254c">llvm::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(const Value *Op, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return the number of times the sign bit of the register is replicated into the other bits.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00383">ValueTracking.cpp:383</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aeb5a2908109c763377832cbb4726b6d4">llvm::tgtok::FalseVal</a></div><div class="ttdeci">@ FalseVal</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00062">TGLexer.h:62</a></div></div>
<div class="ttc" id="aOperator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba2751d6136a2819749dcef65dc19a4246">llvm::CmpInst::ICMP_SLE</a></div><div class="ttdeci">@ ICMP_SLE</div><div class="ttdoc">signed less or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00748">InstrTypes.h:748</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a6da514c588b2668280a861a59bfc9fa5"><div class="ttname"><a href="classllvm_1_1APInt.html#a6da514c588b2668280a861a59bfc9fa5">llvm::APInt::intersects</a></div><div class="ttdeci">bool intersects(const APInt &amp;RHS) const</div><div class="ttdoc">This operation tests if there are any pairs of corresponding bits between this APInt and RHS that are...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01227">APInt.h:1227</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_abeb800768ee7b50792f741ccb8815612"><div class="ttname"><a href="InstructionSimplify_8cpp.html#abeb800768ee7b50792f741ccb8815612">simplifyRem</a></div><div class="ttdeci">static Value * simplifyRem(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">These are simplifications common to SRem and URem.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01208">InstructionSimplify.cpp:1208</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae9d735be1ececf149966a4da253f0320"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae9d735be1ececf149966a4da253f0320">llvm::PatternMatch::m_c_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And, true &gt; m_c_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches an And with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02262">PatternMatch.h:2262</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5193c3535375c450b9430e5671cbeb2d"><div class="ttname"><a href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">llvm::getConstantRangeFromMetadata</a></div><div class="ttdeci">ConstantRange getConstantRangeFromMetadata(const MDNode &amp;RangeMD)</div><div class="ttdoc">Parse out a conservative ConstantRange from !range metadata.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l01797">ConstantRange.cpp:1797</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4f6b08837306196c6ff45fc5c65fe815"><div class="ttname"><a href="namespacellvm.html#a4f6b08837306196c6ff45fc5c65fe815">llvm::simplifyXorInst</a></div><div class="ttdeci">Value * simplifyXorInst(Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an Xor, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02608">InstructionSimplify.cpp:2608</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6bf471c1030973649c2e426afc212097"><div class="ttname"><a href="namespacellvm.html#a6bf471c1030973649c2e426afc212097">llvm::SelectPatternFlavor</a></div><div class="ttdeci">SelectPatternFlavor</div><div class="ttdoc">Specific patterns of select instructions we can match.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00690">ValueTracking.h:690</a></div></div>
<div class="ttc" id="aclassllvm_1_1FastMathFlags_html"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html">llvm::FastMathFlags</a></div><div class="ttdoc">Convenience struct for specifying and reasoning about fast-math flags.</div><div class="ttdef"><b>Definition:</b> <a href="FMF_8h_source.html#l00021">FMF.h:21</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_aaa96df870a1b3d7ffc56bec3eb0b0cff"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#aaa96df870a1b3d7ffc56bec3eb0b0cff">llvm::LoopStandardAnalysisResults::DT</a></div><div class="ttdeci">DominatorTree &amp; DT</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00054">LoopAnalysisManager.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_a53ea3947b90b384e565d5ea33d5e1216"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a53ea3947b90b384e565d5ea33d5e1216">llvm::ConstantFP::getNegativeZero</a></div><div class="ttdeci">static Constant * getNegativeZero(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00292">Constants.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ac0467ca7fad871738b10db95feb40dad"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ac0467ca7fad871738b10db95feb40dad">llvm::PatternMatch::m_BitCast</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::BitCast &gt; m_BitCast(const OpTy &amp;Op)</div><div class="ttdoc">Matches BitCast.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01593">PatternMatch.h:1593</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a50d0a964e06603c1e3ce2341d39d8733"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a50d0a964e06603c1e3ce2341d39d8733">simplifyICmpWithDominatingAssume</a></div><div class="ttdeci">static Value * simplifyICmpWithDominatingAssume(CmpInst::Predicate Predicate, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03630">InstructionSimplify.cpp:3630</a></div></div>
<div class="ttc" id="aclassllvm_1_1FastMathFlags_html_ac1d140361490d7847edf0c7503e3188a"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#ac1d140361490d7847edf0c7503e3188a">llvm::FastMathFlags::noNaNs</a></div><div class="ttdeci">bool noNaNs() const</div><div class="ttdef"><b>Definition:</b> <a href="FMF_8h_source.html#l00067">FMF.h:67</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a0a7ec509af7a984c419565ee8a909678"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a0a7ec509af7a984c419565ee8a909678">simplifyUDivInst</a></div><div class="ttdeci">static Value * simplifyUDivInst(Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for a UDiv, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01268">InstructionSimplify.cpp:1268</a></div></div>
<div class="ttc" id="anamespacellvm_html_a76162df5082ce14f7796e4307cba27fd"><div class="ttname"><a href="namespacellvm.html#a76162df5082ce14f7796e4307cba27fd">llvm::simplifyFAddInst</a></div><div class="ttdeci">Value * simplifyFAddInst(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FAdd, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05576">InstructionSimplify.cpp:5576</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac5aa07ad3181b3821ab7ab4602443264"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac5aa07ad3181b3821ab7ab4602443264">simplifyAndOrOfICmpsWithLimitConst</a></div><div class="ttdeci">static Value * simplifyAndOrOfICmpsWithLimitConst(ICmpInst *Cmp0, ICmpInst *Cmp1, bool IsAnd)</div><div class="ttdoc">Try to eliminate compares with signed or unsigned min/max constants.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01778">InstructionSimplify.cpp:1778</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a6794011307b3ce1f16573e268d9a74e5"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a6794011307b3ce1f16573e268d9a74e5">simplifyURemInst</a></div><div class="ttdeci">static Value * simplifyURemInst(Value *Op0, Value *Op1, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for a URem, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01301">InstructionSimplify.cpp:1301</a></div></div>
<div class="ttc" id="anamespacellvm_html_a221f053d5107888218e536fe5f1f457c"><div class="ttname"><a href="namespacellvm.html#a221f053d5107888218e536fe5f1f457c">llvm::getMinMaxLimit</a></div><div class="ttdeci">APInt getMinMaxLimit(SelectPatternFlavor SPF, unsigned BitWidth)</div><div class="ttdoc">Return the minimum or maximum constant value for the specified integer min/max flavor and type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06624">ValueTracking.cpp:6624</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">llvm::CmpInst::FCMP_OGT</a></div><div class="ttdeci">@ FCMP_OGT</div><div class="ttdoc">0 0 1 0 True if ordered and greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00722">InstrTypes.h:722</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a3ba3e8fde7409234793175d6a978ffab"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a3ba3e8fde7409234793175d6a978ffab">simplifyUnOp</a></div><div class="ttdeci">static Value * simplifyUnOp(unsigned, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given the operand for a UnaryOperator, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05709">InstructionSimplify.cpp:5709</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a025ae78e80792793dcc7ca23c91955bb"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a025ae78e80792793dcc7ca23c91955bb">simplifyAndOrOfICmpsWithZero</a></div><div class="ttdeci">static Value * simplifyAndOrOfICmpsWithZero(ICmpInst *Cmp0, ICmpInst *Cmp1, bool IsAnd)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01693">InstructionSimplify.cpp:1693</a></div></div>
<div class="ttc" id="aConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a60dd597765e178719e8d4caf44ba3b64"><div class="ttname"><a href="classllvm_1_1APInt.html#a60dd597765e178719e8d4caf44ba3b64">llvm::APInt::isMinValue</a></div><div class="ttdeci">bool isMinValue() const</div><div class="ttdoc">Determine if this is the smallest unsigned value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00409">APInt.h:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_add4e37b60ea64faafbc9a5bf3e27280f"><div class="ttname"><a href="classllvm_1_1APInt.html#add4e37b60ea64faafbc9a5bf3e27280f">llvm::APInt::getZero</a></div><div class="ttdeci">static APInt getZero(unsigned numBits)</div><div class="ttdoc">Get the '0' value for the specified bit-width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00177">APInt.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a94bf3939e0bea91b481096473d0e549f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a94bf3939e0bea91b481096473d0e549f">llvm::PatternMatch::m_Deferred</a></div><div class="ttdeci">deferredval_ty&lt; Value &gt; m_Deferred(Value *const &amp;V)</div><div class="ttdoc">Like m_Specific(), but works if the specific value to match is determined as part of the same match()...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00790">PatternMatch.h:790</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a752290add5877b026eca19940637920f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a752290add5877b026eca19940637920f">simplifyMulInst</a></div><div class="ttdeci">static Value * simplifyMulInst(Value *Op0, Value *Op1, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for a Mul, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00925">InstructionSimplify.cpp:925</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a3bbc4eb1d5fe6d4cd13fc7f8bd346cb9"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a3bbc4eb1d5fe6d4cd13fc7f8bd346cb9">tryConstantFoldCall</a></div><div class="ttdeci">static Value * tryConstantFoldCall(CallBase *Call, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06509">InstructionSimplify.cpp:6509</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_aa606171b17bdde9015fa656e226ca9e0"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">llvm::APIntOps::umin</a></div><div class="ttdeci">const APInt &amp; umin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02185">APInt.h:2185</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a3f39d8494e80ff534547de5b51a30623"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a3f39d8494e80ff534547de5b51a30623">isIdempotent</a></div><div class="ttdeci">static bool isIdempotent(Intrinsic::ID ID)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05835">InstructionSimplify.cpp:5835</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adcc0eb018adede4d62dafa5e60bce4be"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adcc0eb018adede4d62dafa5e60bce4be">llvm::PatternMatch::m_c_MaxOrMin</a></div><div class="ttdeci">match_combine_or&lt; match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty, true &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty, true &gt; &gt;, match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty, true &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty, true &gt; &gt; &gt; m_c_MaxOrMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02362">PatternMatch.h:2362</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_a557be4c1daf6eb2611b214f927dccee2"><div class="ttname"><a href="namespacellvm.html#a557be4c1daf6eb2611b214f927dccee2">llvm::ConstantFoldExtractValueInstruction</a></div><div class="ttdeci">Constant * ConstantFoldExtractValueInstruction(Constant *Agg, ArrayRef&lt; unsigned &gt; Idxs)</div><div class="ttdoc">Attempt to constant fold an extractvalue instruction with the specified operands and indices.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFold_8cpp_source.html#l00775">ConstantFold.cpp:775</a></div></div>
<div class="ttc" id="aKnownBits_8h_html"><div class="ttname"><a href="KnownBits_8h.html">KnownBits.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aac83d9218356dfe82518cb81e3a53f2f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">llvm::PatternMatch::m_FSub</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::FSub &gt; m_FSub(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00997">PatternMatch.h:997</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ab29fdeb7689892b6496576ca70cfc625"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab29fdeb7689892b6496576ca70cfc625">isDivZero</a></div><div class="ttdeci">static bool isDivZero(Value *X, Value *Y, const SimplifyQuery &amp;Q, unsigned MaxRecurse, bool IsSigned)</div><div class="ttdoc">Return true if we can simplify X / Y to 0.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01092">InstructionSimplify.cpp:1092</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a018f5956c630ca34df2de35b1cf099b4"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a018f5956c630ca34df2de35b1cf099b4">simplifyCmpSelOfMaxMin</a></div><div class="ttdeci">static Value * simplifyCmpSelOfMaxMin(Value *CmpLHS, Value *CmpRHS, ICmpInst::Predicate Pred, Value *TVal, Value *FVal)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04322">InstructionSimplify.cpp:4322</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a1eeff70353694cb360b2893553c18e7d"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">llvm::KnownBits::countMinTrailingZeros</a></div><div class="ttdeci">unsigned countMinTrailingZeros() const</div><div class="ttdoc">Returns the minimum number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00233">KnownBits.h:233</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9442ed00a8dff89558d50f9c150951ff"><div class="ttname"><a href="namespacellvm.html#a9442ed00a8dff89558d50f9c150951ff">llvm::simplifyExtractValueInst</a></div><div class="ttdeci">Value * simplifyExtractValueInst(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an ExtractValueInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04976">InstructionSimplify.cpp:4976</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_ac25bbfa16d28ab1f83da03668addad0a"><div class="ttname"><a href="README-FPStack_8txt.html#ac25bbfa16d28ab1f83da03668addad0a">floor</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g floor</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00054">README-FPStack.txt:54</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2e3103683ccd8b97050f821110b98ad2"><div class="ttname"><a href="namespacellvm.html#a2e3103683ccd8b97050f821110b98ad2">llvm::IsConstantOffsetFromGlobal</a></div><div class="ttdeci">bool IsConstantOffsetFromGlobal(Constant *C, GlobalValue *&amp;GV, APInt &amp;Offset, const DataLayout &amp;DL, DSOLocalEquivalent **DSOEquiv=nullptr)</div><div class="ttdoc">If this constant is a constant offset from a global, return the global and the constant.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00295">ConstantFolding.cpp:295</a></div></div>
<div class="ttc" id="aLoopAnalysisManager_8h_html"><div class="ttname"><a href="LoopAnalysisManager_8h.html">LoopAnalysisManager.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4e09435caee07f636a47006fa08b9ec4"><div class="ttname"><a href="namespacellvm.html#a4e09435caee07f636a47006fa08b9ec4">llvm::UndefMaskElem</a></div><div class="ttdeci">constexpr int UndefMaskElem</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02005">Instructions.h:2005</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3de757fc0f1dc7f8f8e9211b32ac106d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3de757fc0f1dc7f8f8e9211b32ac106d">llvm::PatternMatch::m_c_ICmp</a></div><div class="ttdeci">CmpClass_match&lt; LHS, RHS, ICmpInst, ICmpInst::Predicate, true &gt; m_c_ICmp(ICmpInst::Predicate &amp;Pred, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches an ICmp with a predicate over LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02234">PatternMatch.h:2234</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba75016d5872d90adf89cc1cbf5763f474"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba75016d5872d90adf89cc1cbf5763f474">llvm::CmpInst::FCMP_ULT</a></div><div class="ttdeci">@ FCMP_ULT</div><div class="ttdoc">1 1 0 0 True if unordered or less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00732">InstrTypes.h:732</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee89448981f9fbc0d97fe68f354a8e82"><div class="ttname"><a href="namespacellvm.html#aee89448981f9fbc0d97fe68f354a8e82">llvm::simplifyExtractElementInst</a></div><div class="ttdeci">Value * simplifyExtractElementInst(Value *Vec, Value *Idx, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an ExtractElementInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05028">InstructionSimplify.cpp:5028</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrInfoQuery_html_a1c34baec8172c7b50b70ac9e78cbaebb"><div class="ttname"><a href="structllvm_1_1InstrInfoQuery.html#a1c34baec8172c7b50b70ac9e78cbaebb">llvm::InstrInfoQuery::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(const Instruction *I, unsigned KindID) const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00068">InstructionSimplify.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_ac9e61b1a68b91217d3d10a61a1f0fbb9"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ac9e61b1a68b91217d3d10a61a1f0fbb9">llvm::DataLayout::getIndexSizeInBits</a></div><div class="ttdeci">unsigned getIndexSizeInBits(unsigned AS) const</div><div class="ttdoc">Size in bits of index used for address calculation in getelementptr.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00416">DataLayout.h:416</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_a8349c0152a8ece08ab63f6180baa7c8e"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#a8349c0152a8ece08ab63f6180baa7c8e">llvm::SimplifyQuery::isUndefValue</a></div><div class="ttdeci">bool isUndefValue(Value *V) const</div><div class="ttdoc">If CanUseUndef is true, returns whether V is undef.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00133">InstructionSimplify.h:133</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aac9e78b3aa02ec087c4621358f506718"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">llvm::PatternMatch::m_APInt</a></div><div class="ttdeci">apint_match m_APInt(const APInt *&amp;Res)</div><div class="ttdoc">Match a ConstantInt or splatted ConstantVector, binding the specified pointer to the contained APInt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00278">PatternMatch.h:278</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ac56cd25f664c1497623d26158a6c5997"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ac56cd25f664c1497623d26158a6c5997">llvm::PatternMatch::m_c_BinOp</a></div><div class="ttdeci">AnyBinaryOp_match&lt; LHS, RHS, true &gt; m_c_BinOp(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches a BinaryOperator with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02226">PatternMatch.h:2226</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae9c2f00a962cb8e0316cf3548a5d8029"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae9c2f00a962cb8e0316cf3548a5d8029">llvm::ConstantExpr::getBinOpIdentity</a></div><div class="ttdeci">static Constant * getBinOpIdentity(unsigned Opcode, Type *Ty, bool AllowRHSConstant=false, bool NSZ=false)</div><div class="ttdoc">Return the identity constant for a binary opcode.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02741">Constants.cpp:2741</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af4b1ccc0b78f9da9f3f3944e06007f1d"><div class="ttname"><a href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">llvm::APInt::uge</a></div><div class="ttdeci">bool uge(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned greater or equal comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01199">APInt.h:1199</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_a928ce56952772d0e0f43cab3a489a6fe"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#a928ce56952772d0e0f43cab3a489a6fe">llvm::SimplifyQuery::AC</a></div><div class="ttdeci">AssumptionCache * AC</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00097">InstructionSimplify.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae5a9f5c71425f38b8874296c380567ad"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">llvm::PatternMatch::m_UMax</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty &gt; m_UMax(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01865">PatternMatch.h:1865</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a157efd68e8b4b838829cad165b1583f8"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a157efd68e8b4b838829cad165b1583f8">llvm::KnownBits::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const</div><div class="ttdoc">Returns true if this value is known to be non-negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00099">KnownBits.h:99</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a349b7a2df83b4d33997e6d5ab7b2892c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a349b7a2df83b4d33997e6d5ab7b2892c">simplifySelectWithFakeICmpEq</a></div><div class="ttdeci">static Value * simplifySelectWithFakeICmpEq(Value *CmpLHS, Value *CmpRHS, ICmpInst::Predicate Pred, Value *TrueVal, Value *FalseVal)</div><div class="ttdoc">An alternative way to test if a bit is set or not uses sgt/slt instead of eq/ne.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04396">InstructionSimplify.cpp:4396</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ac8c0157adbe12649beac0009c2f6ad8d"><div class="ttname"><a href="classllvm_1_1APInt.html#ac8c0157adbe12649beac0009c2f6ad8d">llvm::APInt::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const</div><div class="ttdoc">Determine if this APInt Value is non-negative (&gt;= 0)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00317">APInt.h:317</a></div></div>
<div class="ttc" id="anamespacellvm_html_af1d57d70f59588a35ebfe3c4f50fecd2"><div class="ttname"><a href="namespacellvm.html#af1d57d70f59588a35ebfe3c4f50fecd2">llvm::isValidAssumeForContext</a></div><div class="ttdeci">bool isValidAssumeForContext(const Instruction *I, const Instruction *CxtI, const DominatorTree *DT=nullptr)</div><div class="ttdoc">Return true if it is valid to use the assumptions provided by an assume intrinsic,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00534">ValueTracking.cpp:534</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_adb38eaaa53c1d9c57b6fe11cf84bd7a4"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">llvm::ArrayRef::back</a></div><div class="ttdeci">const T &amp; back() const</div><div class="ttdoc">back - Get the last element.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00172">ArrayRef.h:172</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ac47353e50683b2440ca9ad4a1fa860d0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ac47353e50683b2440ca9ad4a1fa860d0">llvm::PatternMatch::m_UIToFP</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::UIToFP &gt; m_UIToFP(const OpTy &amp;Op)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01662">PatternMatch.h:1662</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6339f2ad6701dc229c34ca4305596d3a"><div class="ttname"><a href="namespacellvm.html#a6339f2ad6701dc229c34ca4305596d3a">llvm::isSplatValue</a></div><div class="ttdeci">bool isSplatValue(const Value *V, int Index=-1, unsigned Depth=0)</div><div class="ttdoc">Return true if each element of the vector value V is poisoned or equal to every other non-poisoned el...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00386">VectorUtils.cpp:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a6804d9caf15411f55e7b9e9f397f0422"><div class="ttname"><a href="classllvm_1_1APInt.html#a6804d9caf15411f55e7b9e9f397f0422">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const</div><div class="ttdoc">Determine sign of this APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00312">APInt.h:312</a></div></div>
<div class="ttc" id="aFloatingPointMode_8h_html_a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362"><div class="ttname"><a href="FloatingPointMode_8h.html#a75561e03bba6883c8023574327d92b67ae40661d92d6edd95f9ba785c04e08362">fcAllFlags</a></div><div class="ttdeci">@ fcAllFlags</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00219">FloatingPointMode.h:219</a></div></div>
<div class="ttc" id="anamespacellvm_html_a433468826ef20b5ddb53704fc38363fc"><div class="ttname"><a href="namespacellvm.html#a433468826ef20b5ddb53704fc38363fc">llvm::isNoAliasCall</a></div><div class="ttdeci">bool isNoAliasCall(const Value *V)</div><div class="ttdoc">Return true if this pointer is returned by a noalias function.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00866">AliasAnalysis.cpp:866</a></div></div>
<div class="ttc" id="anamespacellvm_html_a12c01eba586da4db7ad4662e901b10a0"><div class="ttname"><a href="namespacellvm.html#a12c01eba586da4db7ad4662e901b10a0">llvm::simplifyFreezeInst</a></div><div class="ttdeci">Value * simplifyFreezeInst(Value *Op, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given an operand for a Freeze, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06571">InstructionSimplify.cpp:6571</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_addb87fe3f509b7803d3f5933ee24b560"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#addb87fe3f509b7803d3f5933ee24b560">llvm::PatternMatch::m_Select</a></div><div class="ttdeci">ThreeOps_match&lt; Cond, LHS, RHS, Instruction::Select &gt; m_Select(const Cond &amp;C, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches SelectInst.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01462">PatternMatch.h:1462</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a7bd850492d35a34f0fe419e5555997a9"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a7bd850492d35a34f0fe419e5555997a9">llvm::CmpInst::isFPPredicate</a></div><div class="ttdeci">bool isFPPredicate() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00825">InstrTypes.h:825</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="anamespacellvm_html_a118b2507b9f8c68c87b2592913406e86"><div class="ttname"><a href="namespacellvm.html#a118b2507b9f8c68c87b2592913406e86">llvm::canCreatePoison</a></div><div class="ttdeci">bool canCreatePoison(const Operator *Op, bool ConsiderFlagsAndMetadata=true)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05388">ValueTracking.cpp:5388</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a16c39eb6e60b42a40c399d8d65347bb6"><div class="ttname"><a href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const</div><div class="ttdoc">Return incoming value number x.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02794">Instructions.h:2794</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_ae4b6abe77abf42fb02081a6cc41a0132"><div class="ttname"><a href="classllvm_1_1Constant.html#ae4b6abe77abf42fb02081a6cc41a0132">llvm::Constant::isNullValue</a></div><div class="ttdeci">bool isNullValue() const</div><div class="ttdoc">Return true if this is the value that would be returned by getNullValue.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00076">Constants.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aeabb6bae24f546580e022835285da5ab"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">llvm::PatternMatch::m_FShl</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1, Opnd2 &gt;::Ty m_FShl(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1, const Opnd2 &amp;Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02194">PatternMatch.h:2194</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_af91797dc0ab1ae005fdbf19482859eaf"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#af91797dc0ab1ae005fdbf19482859eaf">shl</a></div><div class="ttdeci">We currently generate a but we really shouldn eax ecx xorl edx divl ecx eax divl ecx movl eax ret A similar code sequence works for division We currently compile i32 v2 eax eax jo LBB1_2 shl</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01271">README.txt:1271</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a49cd5939942c6665aba4cae8c220dff1"><div class="ttname"><a href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">llvm::APInt::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">Determine if this value is zero, i.e. all bits are clear.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00366">APInt.h:366</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a9cfeea050198084d67109f0260e33970"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a9cfeea050198084d67109f0260e33970">simplifyXorInst</a></div><div class="ttdeci">static Value * simplifyXorInst(Value *, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for a Xor, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02536">InstructionSimplify.cpp:2536</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a6b13f2e75444202b854672a5fbf85e2e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a6b13f2e75444202b854672a5fbf85e2e">llvm::CmpInst::getNonStrictPredicate</a></div><div class="ttdeci">Predicate getNonStrictPredicate() const</div><div class="ttdoc">For example, SGT -&gt; SGE, SLT -&gt; SLE, ULT -&gt; ULE, UGT -&gt; UGE.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00903">InstrTypes.h:903</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_adbc4e5b23d7154e30b03717a470e8178"><div class="ttname"><a href="namespacellvm.html#adbc4e5b23d7154e30b03717a470e8178">llvm::isImpliedByDomCondition</a></div><div class="ttdeci">std::optional&lt; bool &gt; isImpliedByDomCondition(const Value *Cond, const Instruction *ContextI, const DataLayout &amp;DL)</div><div class="ttdoc">Return the boolean condition value in the context of the given instruction if it is known based on do...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l07044">ValueTracking.cpp:7044</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a57fc1a7eeb6dbc10640fe0e1ced96f55"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a57fc1a7eeb6dbc10640fe0e1ced96f55">simplifySelectWithICmpCond</a></div><div class="ttdeci">static Value * simplifySelectWithICmpCond(Value *CondVal, Value *TrueVal, Value *FalseVal, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Try to simplify a select instruction when its condition operand is an integer comparison.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04410">InstructionSimplify.cpp:4410</a></div></div>
<div class="ttc" id="anamespacellvm_html_a964455f36837281d37f2a44e2fcb4cca"><div class="ttname"><a href="namespacellvm.html#a964455f36837281d37f2a44e2fcb4cca">llvm::ConstantFoldBinaryOpOperands</a></div><div class="ttdeci">Constant * ConstantFoldBinaryOpOperands(unsigned Opcode, Constant *LHS, Constant *RHS, const DataLayout &amp;DL)</div><div class="ttdoc">Attempt to constant fold a binary operation with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01335">ConstantFolding.cpp:1335</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a0d67a58f519c9ff820e1015ef3932f75"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">llvm::PatternMatch::m_Exact</a></div><div class="ttdeci">Exact_match&lt; T &gt; m_Exact(const T &amp;SubPattern)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01351">PatternMatch.h:1351</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8bf77c90e2fb57af4d4d4aab084f7052"><div class="ttname"><a href="namespacellvm.html#a8bf77c90e2fb57af4d4d4aab084f7052">llvm::ConstantFoldCastOperand</a></div><div class="ttdeci">Constant * ConstantFoldCastOperand(unsigned Opcode, Constant *C, Type *DestTy, const DataLayout &amp;DL)</div><div class="ttdoc">Attempt to constant fold a cast with the specified operand.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01407">ConstantFolding.cpp:1407</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb98fd0d755e436c5749105d46b0c0d1"><div class="ttname"><a href="namespacellvm.html#acb98fd0d755e436c5749105d46b0c0d1">llvm::simplifySRemInst</a></div><div class="ttdeci">Value * simplifySRemInst(Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an SRem, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01295">InstructionSimplify.cpp:1295</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7af0c09900daed62bbdb01dba180f7c"><div class="ttname"><a href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7c">llvm::RoundingMode</a></div><div class="ttdeci">RoundingMode</div><div class="ttdoc">Rounding mode.</div><div class="ttdef"><b>Definition:</b> <a href="FloatingPointMode_8h_source.html#l00036">FloatingPointMode.h:36</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad92f160316221fd4090520bb2b3cefc5">llvm::CmpInst::ICMP_ULE</a></div><div class="ttdeci">@ ICMP_ULE</div><div class="ttdoc">unsigned less or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00744">InstrTypes.h:744</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a02560cda155aaed54314383bed827d60"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02215">Constants.cpp:2215</a></div></div>
<div class="ttc" id="axxhash_8cpp_html_ae4e947c75dafebd71b8de03cd0dbf5d6"><div class="ttname"><a href="xxhash_8cpp.html#ae4e947c75dafebd71b8de03cd0dbf5d6">round</a></div><div class="ttdeci">static uint64_t round(uint64_t Acc, uint64_t Input)</div><div class="ttdef"><b>Definition:</b> <a href="xxhash_8cpp_source.html#l00056">xxhash.cpp:56</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a97ff52bca68f0168c930daf2fad29c72"><div class="ttname"><a href="namespacellvm.html#a97ff52bca68f0168c930daf2fad29c72">llvm::simplifyFDivInst</a></div><div class="ttdeci">Value * simplifyFDivInst(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FDiv, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05659">InstructionSimplify.cpp:5659</a></div></div>
<div class="ttc" id="astructllvm_1_1SelectPatternResult_html_a94c732c9e96c40976f0509fe0233fe7b"><div class="ttname"><a href="structllvm_1_1SelectPatternResult.html#a94c732c9e96c40976f0509fe0233fe7b">llvm::SelectPatternResult::isMinOrMax</a></div><div class="ttdeci">static bool isMinOrMax(SelectPatternFlavor SPF)</div><div class="ttdoc">When implementing this min/max pattern as fcmp; select, does the fcmp have to be ordered?</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8h_source.html#l00722">ValueTracking.h:722</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aba205f553f24c184ea47fc1a6cb56537"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aba205f553f24c184ea47fc1a6cb56537">llvm::KnownBits::One</a></div><div class="ttdeci">APInt One</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00025">KnownBits.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1FCmpInst_html"><div class="ttname"><a href="classllvm_1_1FCmpInst.html">llvm::FCmpInst</a></div><div class="ttdoc">This instruction compares its operands according to the predicate given to the constructor.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01371">Instructions.h:1371</a></div></div>
<div class="ttc" id="aOcamlGCPrinter_8cpp_html_afcf2f797ed287a723263583c9b1c1bce"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7a371c4faf8e41f7cac98ad694f504dc"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7a371c4faf8e41f7cac98ad694f504dc">llvm::PatternMatch::m_PosZeroFP</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_pos_zero_fp &gt; m_PosZeroFP()</div><div class="ttdoc">Match a floating-point positive zero.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00673">PatternMatch.h:673</a></div></div>
<div class="ttc" id="anamespacellvm_1_1JumpTable_html_ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a"><div class="ttname"><a href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">llvm::JumpTable::Simplified</a></div><div class="ttdeci">@ Simplified</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00047">TargetOptions.h:47</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae51609fc6a425f849d37c28cb9bc0344">llvm::CmpInst::FCMP_UGE</a></div><div class="ttdeci">@ FCMP_UGE</div><div class="ttdoc">1 0 1 1 True if unordered, greater than, or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00731">InstrTypes.h:731</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57bbf83a870bd632acf3165c19da8f44"><div class="ttname"><a href="namespacellvm.html#a57bbf83a870bd632acf3165c19da8f44">llvm::ConstantFoldCall</a></div><div class="ttdeci">Constant * ConstantFoldCall(const CallBase *Call, Function *F, ArrayRef&lt; Constant * &gt; Operands, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">ConstantFoldCall - Attempt to constant fold a call to the specified function with the specified argum...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l03267">ConstantFolding.cpp:3267</a></div></div>
<div class="ttc" id="aclassllvm_1_1FastMathFlags_html_a9f3a7d3a575da12ac2fec17849b7b916"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#a9f3a7d3a575da12ac2fec17849b7b916">llvm::FastMathFlags::allowReassoc</a></div><div class="ttdeci">bool allowReassoc() const</div><div class="ttdoc">Flag queries.</div><div class="ttdef"><b>Definition:</b> <a href="FMF_8h_source.html#l00066">FMF.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa750395459fa1eb7130d6de8e3d074f6"><div class="ttname"><a href="namespacellvm.html#aa750395459fa1eb7130d6de8e3d074f6">llvm::simplifyBinOp</a></div><div class="ttdeci">Value * simplifyBinOp(unsigned Opcode, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a BinaryOperator, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05812">InstructionSimplify.cpp:5812</a></div></div>
<div class="ttc" id="anamespacellvm_html_a20f356124998d05f7e605549cc2dda91"><div class="ttname"><a href="namespacellvm.html#a20f356124998d05f7e605549cc2dda91">llvm::canConstantFoldCallTo</a></div><div class="ttdeci">bool canConstantFoldCallTo(const CallBase *Call, const Function *F)</div><div class="ttdoc">canConstantFoldCallTo - Return true if its even possible to fold a call to the specified function.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01495">ConstantFolding.cpp:1495</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a44875c6f48f6c843cf3114a19280b5ca"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a44875c6f48f6c843cf3114a19280b5ca">llvm::KnownBits::hasConflict</a></div><div class="ttdeci">bool hasConflict() const</div><div class="ttdoc">Returns true if there is conflicting information.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00047">KnownBits.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ab01d8694a759a934e01f1c558c3ce862"><div class="ttname"><a href="classllvm_1_1APInt.html#ab01d8694a759a934e01f1c558c3ce862">llvm::APInt::getLimitedValue</a></div><div class="ttdeci">uint64_t getLimitedValue(uint64_t Limit=UINT64_MAX) const</div><div class="ttdoc">If this value is smaller than the specified limit, return it, otherwise return the limit value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00463">APInt.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a1bc022868b23918efa44df511f4d5b61"><div class="ttname"><a href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const</div><div class="ttdoc">True if this is an instance of VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00258">Type.h:258</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_a0ffb6d79f6befe2030328bd1d7110feb"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#a0ffb6d79f6befe2030328bd1d7110feb">llvm::SimplifyQuery::DL</a></div><div class="ttdeci">const DataLayout &amp; DL</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00094">InstructionSimplify.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae490b518ab7ca0abfd0abad2e2eabb0f"><div class="ttname"><a href="namespacellvm.html#ae490b518ab7ca0abfd0abad2e2eabb0f">llvm::simplifyFCmpInst</a></div><div class="ttdeci">Value * simplifyFCmpInst(unsigned Predicate, Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an FCmpInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04162">InstructionSimplify.cpp:4162</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_acbb1daefd0f6159cfb48d6b01103c2ac"><div class="ttname"><a href="InstructionSimplify_8cpp.html#acbb1daefd0f6159cfb48d6b01103c2ac">simplifyCmpSelFalseCase</a></div><div class="ttdeci">static Value * simplifyCmpSelFalseCase(CmpInst::Predicate Pred, Value *LHS, Value *RHS, Value *Cond, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Simplify comparison with false branch of select.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00173">InstructionSimplify.cpp:173</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2cbdca7c8267aac6914d674f8e81841b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">llvm::PatternMatch::m_ZExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::ZExt &gt; m_ZExt(const OpTy &amp;Op)</div><div class="ttdoc">Matches ZExt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01629">PatternMatch.h:1629</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ad191220adaaedcfba833985509a17452"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ad191220adaaedcfba833985509a17452">llvm::PatternMatch::m_c_Add</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Add, true &gt; m_c_Add(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches a Add with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02248">PatternMatch.h:2248</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a74a8221adbd09a9076a1ab471644b223"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a74a8221adbd09a9076a1ab471644b223">llvm::PatternMatch::m_MaxOrMin</a></div><div class="ttdeci">match_combine_or&lt; match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty &gt; &gt;, match_combine_or&lt; MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty &gt;, MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty &gt; &gt; &gt; m_MaxOrMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01882">PatternMatch.h:1882</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_afa0b2fa29ba074f2b6ec9ac11163f2d9"><div class="ttname"><a href="classllvm_1_1Instruction.html#afa0b2fa29ba074f2b6ec9ac11163f2d9">llvm::Instruction::CastOps</a></div><div class="ttdeci">CastOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00823">Instruction.h:823</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_af431ec215bba8bb9c56e7541d99920f2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af431ec215bba8bb9c56e7541d99920f2">llvm::PatternMatch::m_FNeg</a></div><div class="ttdeci">FNeg_match&lt; OpTy &gt; m_FNeg(const OpTy &amp;X)</div><div class="ttdoc">Match 'fneg X' as 'fsub -0.0, X'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01033">PatternMatch.h:1033</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_a4d51384de6e1798bb6aa875aebeea9f0"><div class="ttname"><a href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">llvm::Constant::getAllOnesValue</a></div><div class="ttdeci">static Constant * getAllOnesValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00403">Constants.cpp:403</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a741e3212cc4b9d94cd549d02d26e172b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">llvm::PatternMatch::m_SDiv</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::SDiv &gt; m_SDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01063">PatternMatch.h:1063</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a31bf07f3f61525486633bc1d0bbaf029"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00391">InstrTypes.h:391</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a677ac8d99ff3c2d32a95c21de9ed372c"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a677ac8d99ff3c2d32a95c21de9ed372c">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">Match an arbitrary ConstantInt and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00147">PatternMatch.h:147</a></div></div>
<div class="ttc" id="anamespacellvm_html_a75983bc94469337f93d99c6a2ad05699"><div class="ttname"><a href="namespacellvm.html#a75983bc94469337f93d99c6a2ad05699">llvm::simplifyFRemInst</a></div><div class="ttdeci">Value * simplifyFRemInst(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FRem, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05697">InstructionSimplify.cpp:5697</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab8aff98d3587ddb15f9e46ed88687f0f"><div class="ttname"><a href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">llvm::M0</a></div><div class="ttdeci">unsigned M0(unsigned Val)</div><div class="ttdef"><b>Definition:</b> <a href="VE_8h_source.html#l00467">VE.h:467</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baf0159e4005258dc54f20b6fc227d19ed"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baf0159e4005258dc54f20b6fc227d19ed">llvm::CmpInst::FCMP_UNO</a></div><div class="ttdeci">@ FCMP_UNO</div><div class="ttdoc">1 0 0 0 True if unordered: isnan(X) | isnan(Y)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00728">InstrTypes.h:728</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a591ea0d13cc18949cc588bf7272adf45"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a591ea0d13cc18949cc588bf7272adf45">llvm::PatternMatch::m_NSWMul</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Mul, OverflowingBinaryOperator::NoSignedWrap &gt; m_NSWMul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01172">PatternMatch.h:1172</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3d1ce4e87339c423692359ff22209b42"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3d1ce4e87339c423692359ff22209b42">llvm::PatternMatch::m_IDiv</a></div><div class="ttdeci">BinOpPred_match&lt; LHS, RHS, is_idiv_op &gt; m_IDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches integer division operations.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01324">PatternMatch.h:1324</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa9fb01a51417407eb7de1dff943c27e3"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa9fb01a51417407eb7de1dff943c27e3">isAllocDisjoint</a></div><div class="ttdeci">static bool isAllocDisjoint(const Value *V)</div><div class="ttdoc">Return true if the underlying object (storage) must be disjoint from storage returned by any noalias ...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02638">InstructionSimplify.cpp:2638</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adc571425e9aecccf7ebf5fcc3c678d94"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">llvm::PatternMatch::m_UMin</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty &gt; m_UMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01871">PatternMatch.h:1871</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_ad029c8abde2f42c8d5837bd5515bb18e"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#ad029c8abde2f42c8d5837bd5515bb18e">llvm::SimplifyQuery::IIQ</a></div><div class="ttdeci">const InstrInfoQuery IIQ</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00103">InstructionSimplify.h:103</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7af604b3a6b3a44113d4c54c5c04d031"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7af604b3a6b3a44113d4c54c5c04d031">llvm::PatternMatch::m_c_Or</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Or, true &gt; m_c_Or(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches an Or with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02269">PatternMatch.h:2269</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a667b196462b32455549f962ee7a1a4f9"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a667b196462b32455549f962ee7a1a4f9">isICmpTrue</a></div><div class="ttdeci">static bool isICmpTrue(ICmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given a predicate and two operands, return true if the comparison is true.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01083">InstructionSimplify.cpp:1083</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_a6626b9250a7ec4cc54a9e8ce78bc0cc3"><div class="ttname"><a href="namespacellvm.html#a6626b9250a7ec4cc54a9e8ce78bc0cc3">llvm::getInverseMinMaxFlavor</a></div><div class="ttdeci">SelectPatternFlavor getInverseMinMaxFlavor(SelectPatternFlavor SPF)</div><div class="ttdoc">Return the inverse minimum/maximum flavor of the specified flavor.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06606">ValueTracking.cpp:6606</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantVector_html_aa3b241b35b0039b413faf1ef4e873eb7"><div class="ttname"><a href="classllvm_1_1ConstantVector.html#aa3b241b35b0039b413faf1ef4e873eb7">llvm::ConstantVector::getSplat</a></div><div class="ttdeci">static Constant * getSplat(ElementCount EC, Constant *Elt)</div><div class="ttdoc">Return a ConstantVector with the specified constant in each element.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01399">Constants.cpp:1399</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_adcb96bd09d7c75c7669fa5f9d1190899"><div class="ttname"><a href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">llvm::APInt::getHighBitsSet</a></div><div class="ttdeci">static APInt getHighBitsSet(unsigned numBits, unsigned hiBitsSet)</div><div class="ttdoc">Constructs an APInt value that has the top hiBitsSet bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00279">APInt.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aadc704717d75dbcbf0c47160cfbec46b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aadc704717d75dbcbf0c47160cfbec46b">foldSelectWithBinaryOp</a></div><div class="ttdeci">static Value * foldSelectWithBinaryOp(Value *Cond, Value *TrueVal, Value *FalseVal)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00078">InstructionSimplify.cpp:78</a></div></div>
<div class="ttc" id="anamespacellvm_html_a27487de7fe616848977b268e8aa6354d"><div class="ttname"><a href="namespacellvm.html#a27487de7fe616848977b268e8aa6354d">llvm::simplifyUnOp</a></div><div class="ttdeci">Value * simplifyUnOp(unsigned Opcode, Value *Op, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operand for a UnaryOperator, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05733">InstructionSimplify.cpp:5733</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b1c5788b85ffa254be0e834edf5cf8f"><div class="ttname"><a href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">llvm::getUnderlyingObject</a></div><div class="ttdeci">const Value * getUnderlyingObject(const Value *V, unsigned MaxLookup=6)</div><div class="ttdoc">This method strips off any GEP address adjustments and pointer casts from the specified value,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04567">ValueTracking.cpp:4567</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba024db78a5ed74f64666f3ca4955e6eca"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba024db78a5ed74f64666f3ca4955e6eca">llvm::CmpInst::FCMP_OEQ</a></div><div class="ttdeci">@ FCMP_OEQ</div><div class="ttdoc">0 0 0 1 True if ordered and equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00721">InstrTypes.h:721</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9e6861fa4cb7fe1437d3057b8b3d1601"><div class="ttname"><a href="namespacellvm.html#a9e6861fa4cb7fe1437d3057b8b3d1601">llvm::simplifyFMAFMul</a></div><div class="ttdeci">Value * simplifyFMAFMul(Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for the multiplication of a FMA, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05600">InstructionSimplify.cpp:5600</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">llvm::CmpInst::FCMP_OLT</a></div><div class="ttdeci">@ FCMP_OLT</div><div class="ttdoc">0 1 0 0 True if ordered and less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00724">InstrTypes.h:724</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_aabc0af41b4437080b27002ed7a1ed656"><div class="ttname"><a href="structllvm_1_1KnownBits.html#aabc0af41b4437080b27002ed7a1ed656">llvm::KnownBits::isNegative</a></div><div class="ttdeci">bool isNegative() const</div><div class="ttdoc">Returns true if this value is known to be negative.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00096">KnownBits.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae1a04895305aaea96e5e82d95c39bbe0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">llvm::PatternMatch::m_URem</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::URem &gt; m_URem(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01075">PatternMatch.h:1075</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4f2dc2393a7799e74a0ab4aaa96783f6"><div class="ttname"><a href="namespacellvm.html#a4f2dc2393a7799e74a0ab4aaa96783f6">llvm::simplifyOrInst</a></div><div class="ttdeci">Value * simplifyOrInst(Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an Or, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02530">InstructionSimplify.cpp:2530</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a9a99431f0828d0222c617eb876bc5d34"><div class="ttname"><a href="classllvm_1_1APInt.html#a9a99431f0828d0222c617eb876bc5d34">llvm::APInt::countTrailingZeros</a></div><div class="ttdeci">unsigned countTrailingZeros() const</div><div class="ttdoc">Count the number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01591">APInt.h:1591</a></div></div>
<div class="ttc" id="anamespacellvm_html_a71a4a4e0f6178682ef05a0d85891e5a9"><div class="ttname"><a href="namespacellvm.html#a71a4a4e0f6178682ef05a0d85891e5a9">llvm::impliesPoison</a></div><div class="ttdeci">bool impliesPoison(const Value *ValAssumedPoison, const Value *V)</div><div class="ttdoc">Return true if V is poison given that ValAssumedPoison is already poison.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05442">ValueTracking.cpp:5442</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a0f8629c0ff1db9c384e378b2ca860f0a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a0f8629c0ff1db9c384e378b2ca860f0a">llvm::PatternMatch::m_APIntAllowUndef</a></div><div class="ttdeci">apint_match m_APIntAllowUndef(const APInt *&amp;Res)</div><div class="ttdoc">Match APInt while allowing undefs in splat vector constants.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00284">PatternMatch.h:284</a></div></div>
<div class="ttc" id="anamespacellvm_html_a62ba0e5ee2d86f663c6de4efda6082a7"><div class="ttname"><a href="namespacellvm.html#a62ba0e5ee2d86f663c6de4efda6082a7">llvm::getObjectSize</a></div><div class="ttdeci">bool getObjectSize(const Value *Ptr, uint64_t &amp;Size, const DataLayout &amp;DL, const TargetLibraryInfo *TLI, ObjectSizeOpts Opts={})</div><div class="ttdoc">Compute the size of the object pointed by Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00578">MemoryBuiltins.cpp:578</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ace7bdce94e806bb8870626657630dab0"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ace7bdce94e806bb8870626657630dab0">llvm::ArrayRef::slice</a></div><div class="ttdeci">ArrayRef&lt; T &gt; slice(size_t N, size_t M) const</div><div class="ttdoc">slice(n, m) - Chop off the first N elements of the array, and keep M elements in the array.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00193">ArrayRef.h:193</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a4f1e1a4449b58958c5884c689e7f4861"><div class="ttname"><a href="classllvm_1_1APInt.html#a4f1e1a4449b58958c5884c689e7f4861">llvm::APInt::setSignBit</a></div><div class="ttdeci">void setSignBit()</div><div class="ttdoc">Set the sign bit to 1.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01318">APInt.h:1318</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa60596d02424932ad61cfc2911ffcf13"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa60596d02424932ad61cfc2911ffcf13">simplifyShlInst</a></div><div class="ttdeci">static Value * simplifyShlInst(Value *Op0, Value *Op1, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an Shl, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01442">InstructionSimplify.cpp:1442</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a55dab77fc401999b5d0795c5a917b058"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a55dab77fc401999b5d0795c5a917b058">simplifyAndOfICmpsWithAdd</a></div><div class="ttdeci">static Value * simplifyAndOfICmpsWithAdd(ICmpInst *Op0, ICmpInst *Op1, const InstrInfoQuery &amp;IIQ)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01730">InstructionSimplify.cpp:1730</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ac131d830427393332e440e1d6e3013b6"><div class="ttname"><a href="classllvm_1_1APInt.html#ac131d830427393332e440e1d6e3013b6">llvm::APInt::srem</a></div><div class="ttdeci">APInt srem(const APInt &amp;RHS) const</div><div class="ttdoc">Function for signed remainder operation.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01734">APInt.cpp:1734</a></div></div>
<div class="ttc" id="anamespacellvm_html_a058782b98991f0719657d9008d3df41b"><div class="ttname"><a href="namespacellvm.html#a058782b98991f0719657d9008d3df41b">llvm::Log2_32_Ceil</a></div><div class="ttdeci">unsigned Log2_32_Ceil(uint32_t Value)</div><div class="ttdoc">Return the ceil log base 2 of the specified value, 32 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00395">MathExtras.h:395</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrInfoQuery_html_affcd96f408768d8c1849b5293579143d"><div class="ttname"><a href="structllvm_1_1InstrInfoQuery.html#affcd96f408768d8c1849b5293579143d">llvm::InstrInfoQuery::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap(const InstT *Op) const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00074">InstructionSimplify.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aebdb2700a77d10ae6f0ce115e23d9f77"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">llvm::PatternMatch::m_One</a></div><div class="ttdeci">cst_pred_ty&lt; is_one &gt; m_One()</div><div class="ttdoc">Match an integer 1 or a vector with all elements equal to 1.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00517">PatternMatch.h:517</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a55743bd32282bf6f87aeb49237b1fb68"><div class="ttname"><a href="classllvm_1_1Instruction.html#a55743bd32282bf6f87aeb49237b1fb68">llvm::Instruction::isCommutative</a></div><div class="ttdeci">bool isCommutative() const LLVM_READONLY</div><div class="ttdoc">Return true if the instruction is commutative:</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00816">Instruction.cpp:816</a></div></div>
<div class="ttc" id="anamespacellvm_html_a636de400e4dd2bc090b729329a99e75b"><div class="ttname"><a href="namespacellvm.html#a636de400e4dd2bc090b729329a99e75b">llvm::maxnum</a></div><div class="ttdeci">LLVM_READONLY APFloat maxnum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE maxNum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01357">APFloat.h:1357</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adf0290c7c322f0bf8b275d6b26410b52"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adf0290c7c322f0bf8b275d6b26410b52">llvm::PatternMatch::m_ExtractElt</a></div><div class="ttdeci">TwoOps_match&lt; Val_t, Idx_t, Instruction::ExtractElement &gt; m_ExtractElt(const Val_t &amp;Val, const Idx_t &amp;Idx)</div><div class="ttdoc">Matches ExtractElementInst.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01492">PatternMatch.h:1492</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a321b8e5bfbda0da1e621822399fe3960"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a321b8e5bfbda0da1e621822399fe3960">llvm::PatternMatch::m_NSWAdd</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Add, OverflowingBinaryOperator::NoSignedWrap &gt; m_NSWAdd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01156">PatternMatch.h:1156</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bae9c013750fff3023001d7e3af8df2d6d"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bae9c013750fff3023001d7e3af8df2d6d">llvm::CmpInst::FCMP_FALSE</a></div><div class="ttdeci">@ FCMP_FALSE</div><div class="ttdoc">0 0 0 0 Always false (always folded)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00720">InstrTypes.h:720</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad78da75bd1f157e72100f97d1ecdc756"><div class="ttname"><a href="namespacellvm.html#ad78da75bd1f157e72100f97d1ecdc756">llvm::all_equal</a></div><div class="ttdeci">bool all_equal(std::initializer_list&lt; T &gt; Values)</div><div class="ttdoc">Returns true if all Values in the initializer lists are equal or the list.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01986">STLExtras.h:1986</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdeci">@ IE</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00027">ARMBaseInfo.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ad5e60756e331a97669d11b5c9d8691a2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ad5e60756e331a97669d11b5c9d8691a2">llvm::PatternMatch::m_Power2</a></div><div class="ttdeci">cst_pred_ty&lt; is_power2 &gt; m_Power2()</div><div class="ttdoc">Match an integer or vector power-of-2.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00544">PatternMatch.h:544</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">This class is the base class for the comparison instructions.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00708">InstrTypes.h:708</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a82e2ea7f0ab67e33e22b3a2a188feaba"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a82e2ea7f0ab67e33e22b3a2a188feaba">llvm::PatternMatch::m_Xor</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Xor &gt; m_Xor(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01105">PatternMatch.h:1105</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrInfoQuery_html_a0e8fe3b04971436feea66aca9016f45b"><div class="ttname"><a href="structllvm_1_1InstrInfoQuery.html#a0e8fe3b04971436feea66aca9016f45b">llvm::InstrInfoQuery::isExact</a></div><div class="ttdeci">bool isExact(const BinaryOperator *Op) const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00086">InstructionSimplify.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_acfae9bdee6027ffa8ffe244cc22e3a76"><div class="ttname"><a href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">llvm::APInt::isSubsetOf</a></div><div class="ttdeci">bool isSubsetOf(const APInt &amp;RHS) const</div><div class="ttdoc">This operation checks that all bits set in this APInt are also set in RHS.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01235">APInt.h:1235</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aec662ee6ab1490a4cabebf2812e5b9ca"><div class="ttname"><a href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">llvm::APInt::getOneBitSet</a></div><div class="ttdeci">static APInt getOneBitSet(unsigned numBits, unsigned BitNo)</div><div class="ttdoc">Return an APInt with exactly one bit set in the result.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00222">APInt.h:222</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aa41636955199b88164376e06e5914855"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aa41636955199b88164376e06e5914855">llvm::PatternMatch::m_Shr</a></div><div class="ttdeci">BinOpPred_match&lt; LHS, RHS, is_right_shift_op &gt; m_Shr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches logical shift operations.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01303">PatternMatch.h:1303</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a6f6506f0bc515fe29da3b58565300017"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a6f6506f0bc515fe29da3b58565300017">llvm::ConstantExpr::getShuffleVector</a></div><div class="ttdeci">static Constant * getShuffleVector(Constant *V1, Constant *V2, ArrayRef&lt; int &gt; Mask, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02618">Constants.cpp:2618</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdoc">Base class of all SIMD vector types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00389">DerivedTypes.h:389</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a872414c0ef92452cc42da0c62ca982dd"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a872414c0ef92452cc42da0c62ca982dd">simplifyDiv</a></div><div class="ttdeci">static Value * simplifyDiv(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">These are simplifications common to SDiv and UDiv.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01153">InstructionSimplify.cpp:1153</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">llvm::tgtok::In</a></div><div class="ttdeci">@ In</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00051">TGLexer.h:51</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_adee18ba6e9cfff8ec24ceb2d3d2b486a"><div class="ttname"><a href="InstructionSimplify_8cpp.html#adee18ba6e9cfff8ec24ceb2d3d2b486a">simplifyFAddInst</a></div><div class="ttdeci">static Value * simplifyFAddInst(Value *Op0, Value *Op1, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned MaxRecurse, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FAdd, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05389">InstructionSimplify.cpp:5389</a></div></div>
<div class="ttc" id="aVectorUtils_8h_html"><div class="ttname"><a href="VectorUtils_8h.html">VectorUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_af238147cf5453729781a0fcc7322e1c6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#af238147cf5453729781a0fcc7322e1c6">llvm::ConstantExpr::getTrunc</a></div><div class="ttdeci">static Constant * getTrunc(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02091">Constants.cpp:2091</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00744">APFloat.h:744</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_adafa9575780f9246d1df0b7e2a619356"><div class="ttname"><a href="classllvm_1_1APInt.html#adafa9575780f9246d1df0b7e2a619356">llvm::APInt::slt</a></div><div class="ttdeci">bool slt(const APInt &amp;RHS) const</div><div class="ttdoc">Signed less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01108">APInt.h:1108</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aee6d5aa997e5fd7eea122503b96f212f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aee6d5aa997e5fd7eea122503b96f212f">foldIdentityShuffles</a></div><div class="ttdeci">static Value * foldIdentityShuffles(int DestElt, Value *Op0, Value *Op1, int MaskVal, Value *RootVec, unsigned MaxRecurse)</div><div class="ttdoc">For the given destination element of a shuffle, peek through shuffles to match a root vector source o...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05115">InstructionSimplify.cpp:5115</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a6e14e69fb6993abe3350d9faa68ff312"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a6e14e69fb6993abe3350d9faa68ff312">simplifyCmpSelCase</a></div><div class="ttdeci">static Value * simplifyCmpSelCase(CmpInst::Predicate Pred, Value *LHS, Value *RHS, Value *Cond, const SimplifyQuery &amp;Q, unsigned MaxRecurse, Constant *TrueOrFalse)</div><div class="ttdoc">Simplify comparison with true or false branch of select: sel = select i1 cond, i32 tv,...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00147">InstructionSimplify.cpp:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1ShuffleVectorInst_html_a9874bec83353914ed1e9309d5d9ccea0"><div class="ttname"><a href="classllvm_1_1ShuffleVectorInst.html#a9874bec83353914ed1e9309d5d9ccea0">llvm::ShuffleVectorInst::commuteShuffleMask</a></div><div class="ttdeci">static void commuteShuffleMask(MutableArrayRef&lt; int &gt; Mask, unsigned InVecNumElts)</div><div class="ttdoc">Change values in a shuffle permute mask assuming the two vector operands of length InVecNumElts have ...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02422">Instructions.h:2422</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a5e959823c6ff21a60f998fbb045714c7"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a5e959823c6ff21a60f998fbb045714c7">propagateNaN</a></div><div class="ttdeci">static Constant * propagateNaN(Constant *In)</div><div class="ttdoc">Try to propagate existing NaN values when possible.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05314">InstructionSimplify.cpp:5314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a969e30a11e5b3ac2ad7ab5fcc537d495"><div class="ttname"><a href="namespacellvm.html#a969e30a11e5b3ac2ad7ab5fcc537d495">llvm::simplifyICmpInst</a></div><div class="ttdeci">Value * simplifyICmpInst(unsigned Predicate, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an ICmpInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03946">InstructionSimplify.cpp:3946</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1766fdfd6561f8585dca1ac3f867399c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1766fdfd6561f8585dca1ac3f867399c">haveNonOverlappingStorage</a></div><div class="ttdeci">static bool haveNonOverlappingStorage(const Value *V1, const Value *V2)</div><div class="ttdoc">Return true if V1 and V2 are each the base of some distict storage region [V, object_size(V)] which d...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02658">InstructionSimplify.cpp:2658</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_af07a09f1cda33d984cc725dc9e856d40"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#af07a09f1cda33d984cc725dc9e856d40">llvm::ICmpInst::getUnsignedPredicate</a></div><div class="ttdeci">Predicate getUnsignedPredicate() const</div><div class="ttdoc">For example, EQ-&gt;EQ, SLE-&gt;ULE, UGT-&gt;UGT, etc.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01276">Instructions.h:1276</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae77be336e228cf9aa00709a8606dfb98"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">llvm::PatternMatch::m_Zero</a></div><div class="ttdeci">is_zero m_Zero()</div><div class="ttdoc">Match any null constant or a vector with all elements equal to 0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00537">PatternMatch.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aaaa2f5e2c6c3122d2b484f9e50950e18"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aaaa2f5e2c6c3122d2b484f9e50950e18">llvm::ConstantRange::inverse</a></div><div class="ttdeci">ConstantRange inverse() const</div><div class="ttdoc">Return a new range that is the logical not of the current set.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l01620">ConstantRange.cpp:1620</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a50ba40ac2424092482569cfdbcbce48f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a50ba40ac2424092482569cfdbcbce48f">threadBinOpOverPHI</a></div><div class="ttdeci">static Value * threadBinOpOverPHI(Instruction::BinaryOps Opcode, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">In the case of a binary operation with an operand that is a PHI instruction, try to simplify the bino...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00519">InstructionSimplify.cpp:519</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1fa33552f21afa988d7fa09b1a369fa"><div class="ttname"><a href="namespacellvm.html#aa1fa33552f21afa988d7fa09b1a369fa">llvm::getUnderlyingObjects</a></div><div class="ttdeci">void getUnderlyingObjects(const Value *V, SmallVectorImpl&lt; const Value * &gt; &amp;Objects, LoopInfo *LI=nullptr, unsigned MaxLookup=6)</div><div class="ttdoc">This method is similar to getUnderlyingObject except that it can look through phi and select instruct...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04612">ValueTracking.cpp:4612</a></div></div>
<div class="ttc" id="anamespacellvm_html_abf62ca503c047621e9b9047c548f231f"><div class="ttname"><a href="namespacellvm.html#abf62ca503c047621e9b9047c548f231f">llvm::matchDecomposedSelectPattern</a></div><div class="ttdeci">SelectPatternResult matchDecomposedSelectPattern(CmpInst *CmpI, Value *TrueVal, Value *FalseVal, Value *&amp;LHS, Value *&amp;RHS, Instruction::CastOps *CastOp=nullptr, unsigned Depth=0)</div><div class="ttdoc">Determine the pattern that a select with the given compare as its predicate and given values as its t...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06555">ValueTracking.cpp:6555</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa45b543e17160f4f37f50d283ea5e2fe"><div class="ttname"><a href="namespacellvm.html#aa45b543e17160f4f37f50d283ea5e2fe">llvm::simplifyConstrainedFPCall</a></div><div class="ttdeci">Value * simplifyConstrainedFPCall(CallBase *Call, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given a constrained FP intrinsic call, tries to compute its simplified version.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06553">InstructionSimplify.cpp:6553</a></div></div>
<div class="ttc" id="aclassllvm_1_1FastMathFlags_html_a39b529fcda9ee90b17a3e1fed732a22a"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#a39b529fcda9ee90b17a3e1fed732a22a">llvm::FastMathFlags::noInfs</a></div><div class="ttdeci">bool noInfs() const</div><div class="ttdef"><b>Definition:</b> <a href="FMF_8h_source.html#l00068">FMF.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html"><div class="ttname"><a href="classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">This instruction compares its operands according to the predicate given to the constructor.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01197">Instructions.h:1197</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad7fa9b738742521d0a684cec016ef47e"><div class="ttname"><a href="namespacellvm.html#ad7fa9b738742521d0a684cec016ef47e">llvm::ConstantFoldInsertValueInstruction</a></div><div class="ttdeci">Constant * ConstantFoldInsertValueInstruction(Constant *Agg, Constant *Val, ArrayRef&lt; unsigned &gt; Idxs)</div><div class="ttdoc">ConstantFoldInsertValueInstruction - Attempt to constant fold an insertvalue instruction with the spe...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFold_8cpp_source.html#l00787">ConstantFold.cpp:787</a></div></div>
<div class="ttc" id="anamespacellvm_html_af03a113ed05a87f07ee096463723cfc0"><div class="ttname"><a href="namespacellvm.html#af03a113ed05a87f07ee096463723cfc0">llvm::simplifySelectInst</a></div><div class="ttdeci">Value * simplifySelectInst(Value *Cond, Value *TrueVal, Value *FalseVal, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a SelectInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04726">InstructionSimplify.cpp:4726</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aInstSimplifyFolder_8h_html"><div class="ttname"><a href="InstSimplifyFolder_8h.html">InstSimplifyFolder.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a67a3e55827742843c6cd23e49805e233"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a67a3e55827742843c6cd23e49805e233">llvm::PatternMatch::m_Inf</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_inf &gt; m_Inf()</div><div class="ttdoc">Match a positive or negative infinity FP constant.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00626">PatternMatch.h:626</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_acfd39cf838ff9b37f517f0007e8b5e8c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#acfd39cf838ff9b37f517f0007e8b5e8c">simplifyICmpWithConstant</a></div><div class="ttdeci">static Value * simplifyICmpWithConstant(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const InstrInfoQuery &amp;IIQ)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03030">InstructionSimplify.cpp:3030</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a42569041ddafba7d40243e126af07f42"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">llvm::PatternMatch::m_Or</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Or &gt; m_Or(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01099">PatternMatch.h:1099</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aaea0d5ebb8b57ddde2095f80e2e94bb2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">llvm::PatternMatch::m_AllOnes</a></div><div class="ttdeci">cst_pred_ty&lt; is_all_ones &gt; m_AllOnes()</div><div class="ttdoc">Match an integer or vector with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00453">PatternMatch.h:453</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aec0ccdbde0581b3aae7f001634a34d8e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aec0ccdbde0581b3aae7f001634a34d8e">llvm::PatternMatch::m_ImmConstant</a></div><div class="ttdeci">match_combine_and&lt; class_match&lt; Constant &gt;, match_unless&lt; constantexpr_match &gt; &gt; m_ImmConstant()</div><div class="ttdoc">Match an arbitrary immediate Constant and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00751">PatternMatch.h:751</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa90049400a941a30f216f25c219df382"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa90049400a941a30f216f25c219df382">threadCmpOverPHI</a></div><div class="ttdeci">static Value * threadCmpOverPHI(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">In the case of a comparison with a PHI instruction, try to simplify the comparison by seeing whether ...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00562">InstructionSimplify.cpp:562</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_aaf09fd551f7b18f7c75c662a8a8ed040"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#aaf09fd551f7b18f7c75c662a8a8ed040">llvm::SimplifyQuery::TLI</a></div><div class="ttdeci">const TargetLibraryInfo * TLI</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00095">InstructionSimplify.h:95</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac90052ea1afde8fc28fe6f27181fd5f2"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac90052ea1afde8fc28fe6f27181fd5f2">simplifyAndInst</a></div><div class="ttdeci">static Value * simplifyAndInst(Value *, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for an And, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02063">InstructionSimplify.cpp:2063</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ae141213586421346b826b8483431d416"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ae141213586421346b826b8483431d416">simplifyICmpInst</a></div><div class="ttdeci">static Value * simplifyICmpInst(unsigned Predicate, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an ICmpInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03655">InstructionSimplify.cpp:3655</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_a4776fa0f5a726bd5a8a444981c283c69"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#a4776fa0f5a726bd5a8a444981c283c69">llvm::SimplifyQuery::DT</a></div><div class="ttdeci">const DominatorTree * DT</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00096">InstructionSimplify.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01093">PatternMatch.h:1093</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab02db480f387fca92956ef1c9a01941"><div class="ttname"><a href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">llvm::simplifyInstruction</a></div><div class="ttdeci">Value * simplifyInstruction(Instruction *I, const SimplifyQuery &amp;Q, OptimizationRemarkEmitter *ORE=nullptr)</div><div class="ttdoc">See if we can compute a simplified version of this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06731">InstructionSimplify.cpp:6731</a></div></div>
<div class="ttc" id="aclassllvm_1_1ICmpInst_html_abe8988eef2e6fc2baba032cb22afedd7"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#abe8988eef2e6fc2baba032cb22afedd7">llvm::ICmpInst::isEquality</a></div><div class="ttdeci">static bool isEquality(Predicate P)</div><div class="ttdoc">Return true if this predicate is either EQ or NE.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01286">Instructions.h:1286</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ab5ee5344e3a4b185f87f22cab1fa42ec"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab5ee5344e3a4b185f87f22cab1fa42ec">simplifyAndOrOfICmpsWithCtpop</a></div><div class="ttdeci">static Value * simplifyAndOrOfICmpsWithCtpop(ICmpInst *Cmp0, ICmpInst *Cmp1, bool IsAnd)</div><div class="ttdoc">Try to simplify and/or of icmp with ctpop intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01838">InstructionSimplify.cpp:1838</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa9afd47568010f063c6ca4ed6473db03"><div class="ttname"><a href="namespacellvm.html#aa9afd47568010f063c6ca4ed6473db03">llvm::isKnownNonEqual</a></div><div class="ttdeci">bool isKnownNonEqual(const Value *V1, const Value *V2, const DataLayout &amp;DL, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if the given values are known to be non-equal when defined.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00352">ValueTracking.cpp:352</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3cd3a3ec28036937ecebe767498ba55d"><div class="ttname"><a href="namespacellvm.html#a3cd3a3ec28036937ecebe767498ba55d">llvm::ConstantFoldCompareInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldCompareInstOperands(unsigned Predicate, Constant *LHS, Constant *RHS, const DataLayout &amp;DL, const TargetLibraryInfo *TLI=nullptr, const Instruction *I=nullptr)</div><div class="ttdoc">Attempt to constant fold a compare instruction (icmp/fcmp) with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01216">ConstantFolding.cpp:1216</a></div></div>
<div class="ttc" id="anamespacellvm_html_a56641197c50e1c7a9558446d14deadb3"><div class="ttname"><a href="namespacellvm.html#a56641197c50e1c7a9558446d14deadb3">llvm::isAllocLikeFn</a></div><div class="ttdeci">bool isAllocLikeFn(const Value *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Tests if a value is a call or invoke to a library function that allocates memory (either malloc,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00313">MemoryBuiltins.cpp:313</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa7071d5024d9df2ab2086cccd673f002"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa7071d5024d9df2ab2086cccd673f002">replaceAndRecursivelySimplifyImpl</a></div><div class="ttdeci">static bool replaceAndRecursivelySimplifyImpl(Instruction *I, Value *SimpleV, const TargetLibraryInfo *TLI, const DominatorTree *DT, AssumptionCache *AC, SmallSetVector&lt; Instruction *, 8 &gt; *UnsimplifiedUsers=nullptr)</div><div class="ttdoc">Implementation of recursive simplification through an instruction's uses.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06755">InstructionSimplify.cpp:6755</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a42df6a41563b50a3fd1872230ed0b5ec"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">llvm::PatternMatch::m_SRem</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::SRem &gt; m_SRem(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01081">PatternMatch.h:1081</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac1f3339fcbc2d32ad0a3b65dc4cd7965"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac1f3339fcbc2d32ad0a3b65dc4cd7965">simplifyAssociativeBinOp</a></div><div class="ttdeci">static Value * simplifyAssociativeBinOp(Instruction::BinaryOps Opcode, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Generic simplifications for associative binary operations.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00291">InstructionSimplify.cpp:291</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1f8f0633edd8b9a1c5ec15bb9fc5640"><div class="ttname"><a href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">llvm::computeKnownBits</a></div><div class="ttdeci">void computeKnownBits(const Value *V, KnownBits &amp;Known, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, OptimizationRemarkEmitter *ORE=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Determine which bits of V are known to be either zero or one and return them in the KnownZero/KnownOn...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00186">ValueTracking.cpp:186</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a70b221b9d5d3fc8c7be9bd7afec16d70"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a70b221b9d5d3fc8c7be9bd7afec16d70">foldConstant</a></div><div class="ttdeci">static Constant * foldConstant(Instruction::UnaryOps Opcode, Value *&amp;Op, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05285">InstructionSimplify.cpp:5285</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ac394f9304a427e4d136ac39a262c0f32"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ac394f9304a427e4d136ac39a262c0f32">maximum</a></div><div class="ttdeci">Should compile r2 movcc movcs str strb mov lr r1 movcs movcc mov lr r1 str mov mov cmp r1 movlo r2 str bx lr r0 mov mov cmp r0 movhs r2 mov r1 bx lr Some of the NEON intrinsics may be appropriate for more general either as target independent intrinsics or perhaps elsewhere in the ARM backend Some of them may also be lowered to target independent and perhaps some new SDNodes could be added For maximum</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a6becc8920dea7dfc1df655a3d3c8a40a"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a6becc8920dea7dfc1df655a3d3c8a40a">simplifyICmpWithBinOp</a></div><div class="ttdeci">static Value * simplifyICmpWithBinOp(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">TODO: A large part of this logic is duplicated in InstCombine's foldICmpBinOp().</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03261">InstructionSimplify.cpp:3261</a></div></div>
<div class="ttc" id="anamespacellvm_html_a66a40e8dfb026aef2f90764d2e49a8f1"><div class="ttname"><a href="namespacellvm.html#a66a40e8dfb026aef2f90764d2e49a8f1">llvm::replaceAndRecursivelySimplify</a></div><div class="ttdeci">bool replaceAndRecursivelySimplify(Instruction *I, Value *SimpleV, const TargetLibraryInfo *TLI=nullptr, const DominatorTree *DT=nullptr, AssumptionCache *AC=nullptr, SmallSetVector&lt; Instruction *, 8 &gt; *UnsimplifiedUsers=nullptr)</div><div class="ttdoc">Replace all uses of 'I' with 'SimpleV' and simplify the uses recursively.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06814">InstructionSimplify.cpp:6814</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a2ad6370e532a52014fe2e5a54bfbaddd"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a2ad6370e532a52014fe2e5a54bfbaddd">llvm::KnownBits::countMaxTrailingZeros</a></div><div class="ttdeci">unsigned countMaxTrailingZeros() const</div><div class="ttdoc">Returns the maximum number of trailing zero bits possible.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00273">KnownBits.h:273</a></div></div>
<div class="ttc" id="astructllvm_1_1ObjectSizeOpts_html_a77eec32ab6be9e75a4b1f7cd5c4e5b8ea78d811e98514cd165dda532286610fd2"><div class="ttname"><a href="structllvm_1_1ObjectSizeOpts.html#a77eec32ab6be9e75a4b1f7cd5c4e5b8ea78d811e98514cd165dda532286610fd2">llvm::ObjectSizeOpts::Mode::Min</a></div><div class="ttdeci">@ Min</div><div class="ttdoc">Evaluate all branches of an unknown condition.</div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ac3ed5602889a22db44a16e1b97fac5b8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">llvm::PatternMatch::m_Sub</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Sub &gt; m_Sub(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00991">PatternMatch.h:991</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_adb39181b87dffcd61082d08e02bf314e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a></div><div class="ttdeci">static Constant * getFalse(Type *Ty)</div><div class="ttdoc">For a boolean type or a vector of boolean type, return false or a vector with every element false.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00122">InstructionSimplify.cpp:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba541533f34077bbbcfb703a90f6d2da9b">llvm::CmpInst::FCMP_OGE</a></div><div class="ttdeci">@ FCMP_OGE</div><div class="ttdoc">0 0 1 1 True if ordered and greater than or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00723">InstrTypes.h:723</a></div></div>
<div class="ttc" id="anamespacellvm_html_a15235832ef7c31b1d789987f9a656b43"><div class="ttname"><a href="namespacellvm.html#a15235832ef7c31b1d789987f9a656b43">llvm::isKnownNegation</a></div><div class="ttdeci">bool isKnownNegation(const Value *X, const Value *Y, bool NeedNSW=false)</div><div class="ttdoc">Return true if the two given values are negation.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06216">ValueTracking.cpp:6216</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a49b69843927f7cd96d866768b3aec92b"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a49b69843927f7cd96d866768b3aec92b">llvm::ConstantExpr::getCast</a></div><div class="ttdeci">static Constant * getCast(unsigned ops, Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdoc">Convenience function for getting a Cast operation.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01973">Constants.cpp:1973</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdeci">@ ICMP_UGE</div><div class="ttdoc">unsigned greater or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00742">InstrTypes.h:742</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ae9305e00d0227e8805edcc610f09bcdb"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ae9305e00d0227e8805edcc610f09bcdb">simplifyShift</a></div><div class="ttdeci">static Value * simplifyShift(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, bool IsNSW, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an Shl, LShr or AShr, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01342">InstructionSimplify.cpp:1342</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a59cd1a000769414b2d832576bf689c32"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a59cd1a000769414b2d832576bf689c32">stripAndComputeConstantOffsets</a></div><div class="ttdeci">static APInt stripAndComputeConstantOffsets(const DataLayout &amp;DL, Value *&amp;V, bool AllowNonInbounds=false)</div><div class="ttdoc">Compute the base pointer and cumulative constant offsets for V.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00712">InstructionSimplify.cpp:712</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7b16ca23f54fa7ee63778bbf6ee8e8cd"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7b16ca23f54fa7ee63778bbf6ee8e8cd">llvm::PatternMatch::m_NotForbidUndef</a></div><div class="ttdeci">NotForbidUndef_match&lt; ValTy &gt; m_NotForbidUndef(const ValTy &amp;V)</div><div class="ttdoc">Matches a bitwise 'not' as 'xor V, -1' or 'xor -1, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02327">PatternMatch.h:2327</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdoc">This class represents the LLVM 'select' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01746">Instructions.h:1746</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac56239b55e4476cc44adb9c99392e544"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac56239b55e4476cc44adb9c99392e544">simplifyUnaryIntrinsic</a></div><div class="ttdeci">static Value * simplifyUnaryIntrinsic(Function *F, Value *Op0, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05929">InstructionSimplify.cpp:5929</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba07aee43ffb66908a25c55c77ce4c0d05">llvm::CmpInst::BAD_ICMP_PREDICATE</a></div><div class="ttdeci">@ BAD_ICMP_PREDICATE</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00751">InstrTypes.h:751</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_aaf05c1194f5c7869a00434c13c46c228"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#aaf05c1194f5c7869a00434c13c46c228">llvm::SimplifyQuery::getWithInstruction</a></div><div class="ttdeci">SimplifyQuery getWithInstruction(Instruction *I) const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00120">InstructionSimplify.h:120</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_af16a6c9336ca2a17389ea709b45fe7f5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">llvm::PatternMatch::m_SMin</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty &gt; m_SMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01859">PatternMatch.h:1859</a></div></div>
<div class="ttc" id="aclassllvm_1_1MinMaxIntrinsic_html_a9b051a0ae4af41983e9d18ab50b138c9"><div class="ttname"><a href="classllvm_1_1MinMaxIntrinsic.html#a9b051a0ae4af41983e9d18ab50b138c9">llvm::MinMaxIntrinsic::getPredicate</a></div><div class="ttdeci">ICmpInst::Predicate getPredicate() const</div><div class="ttdoc">Returns the comparison predicate underlying the intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00678">IntrinsicInst.h:678</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aa82e8cd74318874b5a685021e96a412f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aa82e8cd74318874b5a685021e96a412f">llvm::PatternMatch::m_Negative</a></div><div class="ttdeci">cst_pred_ty&lt; is_negative &gt; m_Negative()</div><div class="ttdoc">Match an integer or vector of negative values.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00475">PatternMatch.h:475</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5e0af1b16cab9e0efc63a6ce9de2b9cc"><div class="ttname"><a href="namespacellvm.html#a5e0af1b16cab9e0efc63a6ce9de2b9cc">llvm::simplifyAddInst</a></div><div class="ttdeci">Value * simplifyAddInst(Value *LHS, Value *RHS, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an Add, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00698">InstructionSimplify.cpp:698</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aac36437b53825d9eb6f3564f9ee7737b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aac36437b53825d9eb6f3564f9ee7737b">simplifyUnsignedRangeCheck</a></div><div class="ttdeci">static Value * simplifyUnsignedRangeCheck(ICmpInst *ZeroICmp, ICmpInst *UnsignedICmp, bool IsAnd, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Commuted variants are assumed to be handled by calling this function again with the parameters swappe...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01545">InstructionSimplify.cpp:1545</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_ab21342133676f10340dc3f541b128f24"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#ab21342133676f10340dc3f541b128f24">llvm::ConstantFP::getNaN</a></div><div class="ttdeci">static Constant * getNaN(Type *Ty, bool Negative=false, uint64_t Payload=0)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00975">Constants.cpp:975</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7af0c09900daed62bbdb01dba180f7cacd6fee581a325642b84f1af5c0be5140"><div class="ttname"><a href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7cacd6fee581a325642b84f1af5c0be5140">llvm::RoundingMode::TowardNegative</a></div><div class="ttdeci">@ TowardNegative</div><div class="ttdoc">roundTowardNegative.</div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a43bec83692d1b662cb0236230c03927d"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a43bec83692d1b662cb0236230c03927d">simplifyFRemInst</a></div><div class="ttdeci">static Value * simplifyFRemInst(Value *Op0, Value *Op1, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05668">InstructionSimplify.cpp:5668</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aadd209ba7e1bfa8113a609e09a7fe62f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aadd209ba7e1bfa8113a609e09a7fe62f">llvm::PatternMatch::m_Constant</a></div><div class="ttdeci">class_match&lt; Constant &gt; m_Constant()</div><div class="ttdoc">Match an arbitrary Constant and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00144">PatternMatch.h:144</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8f751e3ed5adc61048480e9fd0e257cc"><div class="ttname"><a href="namespacellvm.html#a8f751e3ed5adc61048480e9fd0e257cc">llvm::simplifyAndInst</a></div><div class="ttdeci">Value * simplifyAndInst(Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an And, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02266">InstructionSimplify.cpp:2266</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM_1_1WinEH_html_aeb1849a948db3f783d1598b797186c4a"><div class="ttname"><a href="namespacellvm_1_1ARM_1_1WinEH.html#aeb1849a948db3f783d1598b797186c4a">llvm::ARM::WinEH::ReturnType</a></div><div class="ttdeci">ReturnType</div><div class="ttdef"><b>Definition:</b> <a href="ARMWinEH_8h_source.html#l00025">ARMWinEH.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a4e3a2187cacdec76028617a403c47d89"><div class="ttname"><a href="classllvm_1_1APInt.html#a4e3a2187cacdec76028617a403c47d89">llvm::APInt::urem</a></div><div class="ttdeci">APInt urem(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned remainder operation.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01664">APInt.cpp:1664</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">Match an arbitrary value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ZExtInst_html"><div class="ttname"><a href="classllvm_1_1ZExtInst.html">llvm::ZExtInst</a></div><div class="ttdoc">This class represents zero extension of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04852">Instructions.h:4852</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa0b4ca6e043e408ed0be89a36c81373d"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa0b4ca6e043e408ed0be89a36c81373d">simplifyInstructionWithOperands</a></div><div class="ttdeci">static Value * simplifyInstructionWithOperands(Instruction *I, ArrayRef&lt; Value * &gt; NewOps, const SimplifyQuery &amp;SQ, OptimizationRemarkEmitter *ORE)</div><div class="ttdoc">See if we can compute a simplified version of this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06607">InstructionSimplify.cpp:6607</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4137d83a9e8406ca72d0b668108814c5"><div class="ttname"><a href="namespacellvm.html#a4137d83a9e8406ca72d0b668108814c5">llvm::canRoundingModeBe</a></div><div class="ttdeci">bool canRoundingModeBe(RoundingMode RM, RoundingMode QRM)</div><div class="ttdoc">Returns true if the rounding mode RM may be QRM at compile time or at run time.</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00077">FPEnv.h:77</a></div></div>
<div class="ttc" id="aM68kELFObjectWriter_8cpp_html_ae4a8bc3879d2282eefd72b16b12c2a37"><div class="ttname"><a href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a></div><div class="ttdeci">static M68kRelType getType(unsigned Kind, MCSymbolRefExpr::VariantKind &amp;Modifier, bool &amp;IsPCRel)</div><div class="ttdef"><b>Definition:</b> <a href="M68kELFObjectWriter_8cpp_source.html#l00048">M68kELFObjectWriter.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdeci">@ ICMP_SLT</div><div class="ttdoc">signed less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00747">InstrTypes.h:747</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_ad73f009e1b3b060bcdf6c2c1dd86600e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#ad73f009e1b3b060bcdf6c2c1dd86600e">llvm::CmpInst::isIntPredicate</a></div><div class="ttdeci">bool isIntPredicate() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00826">InstrTypes.h:826</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a87e2895d880926d0b9a2128b3acfc9dd"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">llvm::APIntOps::smin</a></div><div class="ttdeci">const APInt &amp; smin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02175">APInt.h:2175</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aaab494a433fbb23bc68393ee8bcfc5ac"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">llvm::PatternMatch::m_SExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::SExt &gt; m_SExt(const OpTy &amp;Op)</div><div class="ttdoc">Matches SExt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01623">PatternMatch.h:1623</a></div></div>
<div class="ttc" id="anamespacellvm_html_a72278be77e997abc4b0dbde1be280006"><div class="ttname"><a href="namespacellvm.html#a72278be77e997abc4b0dbde1be280006">llvm::ConstantFoldInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldInstOperands(Instruction *I, ArrayRef&lt; Constant * &gt; Ops, const DataLayout &amp;DL, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">ConstantFoldInstOperands - Attempt to constant fold an instruction with the specified operands.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01209">ConstantFolding.cpp:1209</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a02fd62d1632b15bb3e5482c92b494400"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a02fd62d1632b15bb3e5482c92b494400">simplifyInsertValueInst</a></div><div class="ttdeci">static Value * simplifyInsertValueInst(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const SimplifyQuery &amp;Q, unsigned)</div><div class="ttdoc">Given operands for an InsertValueInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04878">InstructionSimplify.cpp:4878</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3acbd0be97863e3e03e3b85641254018"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3acbd0be97863e3e03e3b85641254018">llvm::PatternMatch::m_SpecificInt</a></div><div class="ttdeci">specific_intval&lt; false &gt; m_SpecificInt(APInt V)</div><div class="ttdoc">Match a specific integer value or vector with all elements equal to the value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00854">PatternMatch.h:854</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a575c2299c6f145ba3a12efa20829db43"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a575c2299c6f145ba3a12efa20829db43">llvm::PatternMatch::m_CombineAnd</a></div><div class="ttdeci">match_combine_and&lt; LTy, RTy &gt; m_CombineAnd(const LTy &amp;L, const RTy &amp;R)</div><div class="ttdoc">Combine two pattern matchers matching L &amp;&amp; R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00224">PatternMatch.h:224</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a7580eaba3cee9cdf52c080253bd57f5d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7580eaba3cee9cdf52c080253bd57f5d">llvm::PatternMatch::m_NUWMul</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Mul, OverflowingBinaryOperator::NoUnsignedWrap &gt; m_NUWMul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01205">PatternMatch.h:1205</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrInfoQuery_html"><div class="ttname"><a href="structllvm_1_1InstrInfoQuery.html">llvm::InstrInfoQuery</a></div><div class="ttdoc">InstrInfoQuery provides an interface to query additional information for instructions like metadata o...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00063">InstructionSimplify.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00187">InstrTypes.h:187</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7912b6c9e7843ca9fd5a11e199bef617"><div class="ttname"><a href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">llvm::PointerMayBeCaptured</a></div><div class="ttdeci">bool PointerMayBeCaptured(const Value *V, bool ReturnCaptures, bool StoreCaptures, unsigned MaxUsesToExplore=0)</div><div class="ttdoc">PointerMayBeCaptured - Return true if this pointer value may be captured by the enclosing function (w...</div><div class="ttdef"><b>Definition:</b> <a href="CaptureTracking_8cpp_source.html#l00214">CaptureTracking.cpp:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57b7707bae1b59648d9b09e7c3e1106c"><div class="ttname"><a href="namespacellvm.html#a57b7707bae1b59648d9b09e7c3e1106c">llvm::simplifyCastInst</a></div><div class="ttdeci">Value * simplifyCastInst(unsigned CastOpc, Value *Op, Type *Ty, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a CastInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05107">InstructionSimplify.cpp:5107</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_ac4ab9dd9440c55bee1aa4a1195cee759"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ac4ab9dd9440c55bee1aa4a1195cee759">llvm::details::FixedOrScalableQuantity::getKnownMinValue</a></div><div class="ttdeci">constexpr ScalarTy getKnownMinValue() const</div><div class="ttdoc">Returns the minimum value this quantity can represent.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00163">TypeSize.h:163</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdeci">@ ICMP_ULT</div><div class="ttdoc">unsigned less than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00743">InstrTypes.h:743</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a796b1851dc68b49eaeeeb7af4ff3f74b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a796b1851dc68b49eaeeeb7af4ff3f74b">removesFPFraction</a></div><div class="ttdeci">static bool removesFPFraction(Intrinsic::ID ID)</div><div class="ttdoc">Return true if the intrinsic rounds a floating-point value to an integral floating-point value (not a...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05857">InstructionSimplify.cpp:5857</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_acd530d0571f320d47d37e7ae51cf70ff"><div class="ttname"><a href="classllvm_1_1Constant.html#acd530d0571f320d47d37e7ae51cf70ff">llvm::Constant::getAggregateElement</a></div><div class="ttdeci">Constant * getAggregateElement(unsigned Elt) const</div><div class="ttdoc">For aggregates (struct/array/vector) return the constant that corresponds to the specified element if...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00418">Constants.cpp:418</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="anamespacellvm_html_a615619b0b2879029152b9a20e96624bc"><div class="ttname"><a href="namespacellvm.html#a615619b0b2879029152b9a20e96624bc">llvm::transform</a></div><div class="ttdeci">OutputIt transform(R &amp;&amp;Range, OutputIt d_first, UnaryFunction F)</div><div class="ttdoc">Wrapper function around std::transform to apply a function to a range and store the result elsewhere.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01910">STLExtras.h:1910</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa74aa2dcba8eadb5755418ae3ff12be0"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa74aa2dcba8eadb5755418ae3ff12be0">simplifyICmpWithMinMax</a></div><div class="ttdeci">static Value * simplifyICmpWithMinMax(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">simplify integer comparisons where at least one operand of the compare matches an integer min/max idi...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03445">InstructionSimplify.cpp:3445</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a72e76f7a9f21cfb012aa70480b1f4883"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a72e76f7a9f21cfb012aa70480b1f4883">simplifyFMAFMul</a></div><div class="ttdeci">static Value * simplifyFMAFMul(Value *Op0, Value *Op1, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned MaxRecurse, fp::ExceptionBehavior ExBehavior, RoundingMode Rounding)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05521">InstructionSimplify.cpp:5521</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a64d6bd55aa4447bb25f1361993223450"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a64d6bd55aa4447bb25f1361993223450">llvm::ConstantExpr::getInsertElement</a></div><div class="ttdeci">static Constant * getInsertElement(Constant *Vec, Constant *Elt, Constant *Idx, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02595">Constants.cpp:2595</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_html_a546e6f5ba8f510c3e7ed2e20013548d9"><div class="ttname"><a href="namespacellvm.html#a546e6f5ba8f510c3e7ed2e20013548d9">llvm::computeConstantRange</a></div><div class="ttdeci">ConstantRange computeConstantRange(const Value *V, bool ForSigned, bool UseInstrInfo=true, AssumptionCache *AC=nullptr, const Instruction *CtxI=nullptr, const DominatorTree *DT=nullptr, unsigned Depth=0)</div><div class="ttdoc">Determine the possible constant range of an integer or vector of integer value.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l07404">ValueTracking.cpp:7404</a></div></div>
<div class="ttc" id="aConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PtrToIntInst_html"><div class="ttname"><a href="classllvm_1_1PtrToIntInst.html">llvm::PtrToIntInst</a></div><div class="ttdoc">This class represents a cast from a pointer to an integer.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05207">Instructions.h:5207</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7a41cf2067684aff8591bb68edad443e"><div class="ttname"><a href="namespacellvm.html#a7a41cf2067684aff8591bb68edad443e">llvm::simplifyLShrInst</a></div><div class="ttdeci">Value * simplifyLShrInst(Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a LShr, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01505">InstructionSimplify.cpp:1505</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a90d84324b6b6aa2a60077a79b31a49e7"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a90d84324b6b6aa2a60077a79b31a49e7">llvm::ConstantExpr::getIntegerCast</a></div><div class="ttdeci">static Constant * getIntegerCast(Constant *C, Type *Ty, bool IsSigned)</div><div class="ttdoc">Create a ZExt, Bitcast or Trunc for integer -&gt; integer casts.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02067">Constants.cpp:2067</a></div></div>
<div class="ttc" id="aREADME-FPStack_8txt_html_aeb9a134c2755c0ad7801bf630a790904"><div class="ttname"><a href="README-FPStack_8txt.html#aeb9a134c2755c0ad7801bf630a790904">trunc</a></div><div class="ttdeci">We have fiadd patterns now but the followings have the same cost and complexity We need a way to specify the later is more profitable def def The FP stackifier should handle simple permutates to reduce number of shuffle e g trunc</div><div class="ttdef"><b>Definition:</b> <a href="README-FPStack_8txt_source.html#l00063">README-FPStack.txt:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html_a07d7c200d18724087ab991b5164e7181"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html#a07d7c200d18724087ab991b5164e7181">llvm::TargetLibraryInfoWrapperPass::getTLI</a></div><div class="ttdeci">TargetLibraryInfo &amp; getTLI(const Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00577">TargetLibraryInfo.h:577</a></div></div>
<div class="ttc" id="astructllvm_1_1ObjectSizeOpts_html"><div class="ttname"><a href="structllvm_1_1ObjectSizeOpts.html">llvm::ObjectSizeOpts</a></div><div class="ttdoc">Various options to control the behavior of getObjectSize.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8h_source.html#l00139">MemoryBuiltins.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantVector_html_ade9fa017ca3aa82f7694a47090547bc1"><div class="ttname"><a href="classllvm_1_1ConstantVector.html#ade9fa017ca3aa82f7694a47090547bc1">llvm::ConstantVector::get</a></div><div class="ttdeci">static Constant * get(ArrayRef&lt; Constant * &gt; V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01356">Constants.cpp:1356</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_add939eebb5195a290ecb0a7494654fa7"><div class="ttname"><a href="InstructionSimplify_8cpp.html#add939eebb5195a290ecb0a7494654fa7">simplifySelectBitTest</a></div><div class="ttdeci">static Value * simplifySelectBitTest(Value *TrueVal, Value *FalseVal, Value *X, const APInt *Y, bool TrueWhenUnset)</div><div class="ttdoc">Try to simplify a select instruction when its condition operand is an integer comparison where one op...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04289">InstructionSimplify.cpp:4289</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ab03652069eab17006c51f00c261a6a44"><div class="ttname"><a href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">llvm::Type::isPtrOrPtrVectorTy</a></div><div class="ttdeci">bool isPtrOrPtrVectorTy() const</div><div class="ttdoc">Return true if this is a pointer type or a vector of pointer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00255">Type.h:255</a></div></div>
<div class="ttc" id="anamespacellvm_html_a670d4ce84e762e337fbf51e582316e13"><div class="ttname"><a href="namespacellvm.html#a670d4ce84e762e337fbf51e582316e13">llvm::isKnownNeverInfinity</a></div><div class="ttdeci">bool isKnownNeverInfinity(const Value *V, const TargetLibraryInfo *TLI, unsigned Depth=0)</div><div class="ttdoc">Return true if the floating-point scalar value is not an infinity or if the floating-point vector val...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03766">ValueTracking.cpp:3766</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_afa748c1dffd997f9113b267fe5073c37"><div class="ttname"><a href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a></div><div class="ttdeci">static bool isSameCompare(Value *V, CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdoc">isSameCompare - Is V equivalent to the comparison &quot;LHS Pred RHS&quot;?</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00129">InstructionSimplify.cpp:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a545e8d5dfa1688acea0d0e275b03682f"><div class="ttname"><a href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01089">APInt.h:1089</a></div></div>
<div class="ttc" id="aclassllvm_1_1SExtInst_html"><div class="ttname"><a href="classllvm_1_1SExtInst.html">llvm::SExtInst</a></div><div class="ttdoc">This class represents a sign extension of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04891">Instructions.h:4891</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a38a6a25e425f94c9836dda96f3718593"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">llvm::PatternMatch::m_SMax</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty &gt; m_SMax(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01853">PatternMatch.h:1853</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a0566221f10834bfcea70965379745a20"><div class="ttname"><a href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Return the LLVMContext in which this type was uniqued.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00129">Type.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a412af20b5b0e761f6708ee59012c825b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a412af20b5b0e761f6708ee59012c825b">llvm::PatternMatch::m_Poison</a></div><div class="ttdeci">class_match&lt; PoisonValue &gt; m_Poison()</div><div class="ttdoc">Match an arbitrary poison constant.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00139">PatternMatch.h:139</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4c88ebe757c51044c4ad4275012e4593"><div class="ttname"><a href="namespacellvm.html#a4c88ebe757c51044c4ad4275012e4593">llvm::isKnownNeverNaN</a></div><div class="ttdeci">bool isKnownNeverNaN(const Value *V, const TargetLibraryInfo *TLI, unsigned Depth=0)</div><div class="ttdoc">Return true if the floating-point scalar value is not a NaN or if the floating-point vector value has...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03894">ValueTracking.cpp:3894</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a97c60d34e23a09e6a3ee40e54bb3e65f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a97c60d34e23a09e6a3ee40e54bb3e65f">computePointerICmp</a></div><div class="ttdeci">static Constant * computePointerICmp(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02728">InstructionSimplify.cpp:2728</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a0d4bb13ba43d71cfe58184ab1bb4abd1"><div class="ttname"><a href="classllvm_1_1Instruction.html#a0d4bb13ba43d71cfe58184ab1bb4abd1">llvm::Instruction::hasNoNaNs</a></div><div class="ttdeci">bool hasNoNaNs() const LLVM_READONLY</div><div class="ttdoc">Determine whether the no-NaNs flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00309">Instruction.cpp:309</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00842">Constants.cpp:842</a></div></div>
<div class="ttc" id="anamespacellvm_html_a28294e7b4ae05afa8858fd6496f3ff12"><div class="ttname"><a href="namespacellvm.html#a28294e7b4ae05afa8858fd6496f3ff12">llvm::isDefaultFPEnvironment</a></div><div class="ttdeci">bool isDefaultFPEnvironment(fp::ExceptionBehavior EB, RoundingMode RM)</div><div class="ttdoc">Returns true if the exception handling behavior and rounding mode match what is used in the default f...</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00065">FPEnv.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_ac09a21c371a9c535cbc13e8f82503aec"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Return the constant as a 64-bit unsigned integer value after it has been zero extended as appropriate...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00141">Constants.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad95650d790f6f9d252cf0cd0e0094368"><div class="ttname"><a href="namespacellvm.html#ad95650d790f6f9d252cf0cd0e0094368">llvm::ConstantFoldLoadFromConstPtr</a></div><div class="ttdeci">Constant * ConstantFoldLoadFromConstPtr(Constant *C, Type *Ty, APInt Offset, const DataLayout &amp;DL)</div><div class="ttdoc">Return the value that a load from C with offset Offset would produce if it is constant and determinab...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00729">ConstantFolding.cpp:729</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6e06e93488a2f32aeb56f86797a78c33"><div class="ttname"><a href="namespacellvm.html#a6e06e93488a2f32aeb56f86797a78c33">llvm::simplifyFNegInst</a></div><div class="ttdeci">Value * simplifyFNegInst(Value *Op, FastMathFlags FMF, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operand for an FNeg, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05307">InstructionSimplify.cpp:5307</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6c052bfdf5f83877d32736ff3895cba5"><div class="ttname"><a href="namespacellvm.html#a6c052bfdf5f83877d32736ff3895cba5">llvm::simplifyShlInst</a></div><div class="ttdeci">Value * simplifyShlInst(Value *Op0, Value *Op1, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a Shl, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01468">InstructionSimplify.cpp:1468</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a5fa8da82e264a2cde5897163c6fc8553"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a5fa8da82e264a2cde5897163c6fc8553">simplifyFMulInst</a></div><div class="ttdeci">static Value * simplifyFMulInst(Value *Op0, Value *Op1, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned MaxRecurse, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given the operands for an FMul, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05564">InstructionSimplify.cpp:5564</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a071b3581888d9e3b0b05cec58f152a91"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">llvm::APIntOps::umax</a></div><div class="ttdeci">const APInt &amp; umax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02190">APInt.h:2190</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba959268ceeae23abe5c9ad9e895669d0c">llvm::CmpInst::FCMP_UGT</a></div><div class="ttdeci">@ FCMP_UGT</div><div class="ttdoc">1 0 1 0 True if unordered or greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00730">InstrTypes.h:730</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a7a2619d0e489a4ba9c19a0d86a041d59"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a7a2619d0e489a4ba9c19a0d86a041d59">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const</div><div class="ttdoc">Returns an integer type with size at least as big as that of a pointer in the given address space.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00861">DataLayout.cpp:861</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdeci">@ V2</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00124">NVPTX.h:124</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa656aa475d13ec6a900414eadabe86b0"><div class="ttname"><a href="namespacellvm.html#aa656aa475d13ec6a900414eadabe86b0">llvm::minnum</a></div><div class="ttdeci">LLVM_READONLY APFloat minnum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE minNum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01346">APFloat.h:1346</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec255ef4fae19e320da9585657e25a1e"><div class="ttname"><a href="namespacellvm.html#aec255ef4fae19e320da9585657e25a1e">llvm::simplifyWithOpReplaced</a></div><div class="ttdeci">Value * simplifyWithOpReplaced(Value *V, Value *Op, Value *RepOp, const SimplifyQuery &amp;Q, bool AllowRefinement)</div><div class="ttdoc">See if V simplifies when its operand Op is replaced with RepOp.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04280">InstructionSimplify.cpp:4280</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00835">Constants.cpp:835</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a40c2294c9ecba721df7f29aaf05157d8"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">llvm::PPC::getPredicate</a></div><div class="ttdeci">Predicate getPredicate(unsigned Condition, unsigned Hint)</div><div class="ttdoc">Return predicate consisting of specified condition and hint bits.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00087">PPCPredicates.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae489f96813329d10c0f6904477109f3b"><div class="ttname"><a href="namespacellvm.html#ae489f96813329d10c0f6904477109f3b">llvm::getBestSimplifyQuery</a></div><div class="ttdeci">const SimplifyQuery getBestSimplifyQuery(Pass &amp;, Function &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06825">InstructionSimplify.cpp:6825</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_abd9323a37d0beb24f9975b4d36994b24"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">llvm::PatternMatch::m_UDiv</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::UDiv &gt; m_UDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01057">PatternMatch.h:1057</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad4d2f143e181b60a4f70d791bbcba8b3"><div class="ttname"><a href="namespacellvm.html#ad4d2f143e181b60a4f70d791bbcba8b3">llvm::decomposeBitTestICmp</a></div><div class="ttdeci">bool decomposeBitTestICmp(Value *LHS, Value *RHS, CmpInst::Predicate &amp;Pred, Value *&amp;X, APInt &amp;Mask, bool LookThroughTrunc=true)</div><div class="ttdoc">Decompose an icmp into the form ((X &amp; Mask) pred 0) if possible.</div><div class="ttdef"><b>Definition:</b> <a href="CmpInstAnalysis_8cpp_source.html#l00076">CmpInstAnalysis.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html_af0c9a679eca493aa32aa7002bf4a50a3"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html#af0c9a679eca493aa32aa7002bf4a50a3">llvm::AssumptionCacheTracker::getAssumptionCache</a></div><div class="ttdeci">AssumptionCache &amp; getAssumptionCache(Function &amp;F)</div><div class="ttdoc">Get the cached assumptions for a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8cpp_source.html#l00292">AssumptionCache.cpp:292</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ad71f4d6016b13f34f4f3022e2d1ae954"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ad71f4d6016b13f34f4f3022e2d1ae954">llvm::PatternMatch::m_Sqrt</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_Sqrt(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02205">PatternMatch.h:2205</a></div></div>
<div class="ttc" id="astructllvm_1_1SimplifyQuery_html_a30647c42c8c40890c577ba5b4ab16468"><div class="ttname"><a href="structllvm_1_1SimplifyQuery.html#a30647c42c8c40890c577ba5b4ab16468">llvm::SimplifyQuery::CxtI</a></div><div class="ttdeci">const Instruction * CxtI</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00098">InstructionSimplify.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a38c50aa8e3e9588f4f968c2e03a0cee0"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a38c50aa8e3e9588f4f968c2e03a0cee0">llvm::SmallVectorImpl::assign</a></div><div class="ttdeci">void assign(size_type NumElts, ValueParamT Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00708">SmallVector.h:708</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a34ee40bb2f4f5ece47ef19e5f1f57e3c"><div class="ttname"><a href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">llvm::Type::isIntOrIntVectorTy</a></div><div class="ttdeci">bool isIntOrIntVectorTy() const</div><div class="ttdoc">Return true if this is an integer type or a vector of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00228">Type.h:228</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_af206a3d6f58d9e53b074460f0d1ecb86"><div class="ttname"><a href="classllvm_1_1CmpInst.html#af206a3d6f58d9e53b074460f0d1ecb86">llvm::CmpInst::isUnsigned</a></div><div class="ttdeci">bool isUnsigned() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00963">InstrTypes.h:963</a></div></div>
<div class="ttc" id="astructllvm_1_1ObjectSizeOpts_html_a0c614185ae8ad5ed7bd5ff0aa66f8242"><div class="ttname"><a href="structllvm_1_1ObjectSizeOpts.html#a0c614185ae8ad5ed7bd5ff0aa66f8242">llvm::ObjectSizeOpts::EvalMode</a></div><div class="ttdeci">Mode EvalMode</div><div class="ttdoc">How we want to evaluate this object's size.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8h_source.html#l00156">MemoryBuiltins.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdoc">This instruction extracts a struct member or array element value from an aggregate value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02455">Instructions.h:2455</a></div></div>
<div class="ttc" id="anamespacellvm_html_a23805d3a4c907766bf29b589ba786c81"><div class="ttname"><a href="namespacellvm.html#a23805d3a4c907766bf29b589ba786c81">llvm::simplifySDivInst</a></div><div class="ttdeci">Value * simplifySDivInst(Value *LHS, Value *RHS, bool IsExact, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for an SDiv, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01261">InstructionSimplify.cpp:1261</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_a5eb8f7a5d3cfdd127ad9db2e425e14eb"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">llvm::ConstantFP::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, double V)</div><div class="ttdoc">This returns a ConstantFP, or a vector containing a splat of a ConstantFP, for the specified value in...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00934">Constants.cpp:934</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1039ff0107bd032f04eb60f224daf2c6"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1039ff0107bd032f04eb60f224daf2c6">extractEquivalentCondition</a></div><div class="ttdeci">static Value * extractEquivalentCondition(Value *V, CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdoc">Rummage around inside V looking for something equivalent to the comparison &quot;LHS Pred RHS&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02619">InstructionSimplify.cpp:2619</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a8c0f3bd24cad8bf9994d62b2d8cff6a0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8c0f3bd24cad8bf9994d62b2d8cff6a0">llvm::PatternMatch::m_SignMask</a></div><div class="ttdeci">cst_pred_ty&lt; is_sign_mask &gt; m_SignMask()</div><div class="ttdoc">Match an integer or vector with only the sign bit(s) set.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00576">PatternMatch.h:576</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a0cf80bdc892c6cddd3d7598231c11d19"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a0cf80bdc892c6cddd3d7598231c11d19">simplifyGEPInst</a></div><div class="ttdeci">static Value * simplifyGEPInst(Type *, Value *, ArrayRef&lt; Value * &gt;, bool, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for an GetElementPtrInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04733">InstructionSimplify.cpp:4733</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_addcb216ae7b435c305401afddd9c28a9"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#addcb216ae7b435c305401afddd9c28a9">llvm::PatternMatch::m_NSWShl</a></div><div class="ttdeci">OverflowingBinaryOp_match&lt; LHS, RHS, Instruction::Shl, OverflowingBinaryOperator::NoSignedWrap &gt; m_NSWShl(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01180">PatternMatch.h:1180</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a39d717dc10783ec7bd5a24111bd5b8a5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">llvm::PatternMatch::m_BSwap</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_BSwap(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02166">PatternMatch.h:2166</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a3712279d70deeec90a93db09deb12d02"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a3712279d70deeec90a93db09deb12d02">llvm::CmpInst::isSigned</a></div><div class="ttdeci">bool isSigned() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00957">InstrTypes.h:957</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrInfoQuery_html_a9f2a11175d1af9d1bf62666c50c60145"><div class="ttname"><a href="structllvm_1_1InstrInfoQuery.html#a9f2a11175d1af9d1bf62666c50c60145">llvm::InstrInfoQuery::UseInstrInfo</a></div><div class="ttdeci">bool UseInstrInfo</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00066">InstructionSimplify.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARCCC_html_a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4"><div class="ttname"><a href="namespacellvm_1_1ARCCC.html#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">llvm::ARCCC::Z</a></div><div class="ttdeci">@ Z</div><div class="ttdef"><b>Definition:</b> <a href="ARCInfo_8h_source.html#l00041">ARCInfo.h:41</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a5cef66dcb1fc369e64240a0bff194597"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a5cef66dcb1fc369e64240a0bff194597">powi</a></div><div class="ttdeci">This is blocked on not handling X *X *X powi(X, 3)(see note above). The issue is that we end up getting t</div></div>
<div class="ttc" id="aOverflowInstAnalysis_8h_html"><div class="ttname"><a href="OverflowInstAnalysis_8h.html">OverflowInstAnalysis.h</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a296c2251618ede9492d84355b0f95e4c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a296c2251618ede9492d84355b0f95e4c">simplifyFSubInst</a></div><div class="ttdeci">static Value * simplifyFSubInst(Value *Op0, Value *Op1, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned MaxRecurse, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdoc">Given operands for an FSub, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05455">InstructionSimplify.cpp:5455</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae0a678aed09084c04a53e1d9ebbc0534"><div class="ttname"><a href="namespacellvm.html#ae0a678aed09084c04a53e1d9ebbc0534">llvm::CannotBeOrderedLessThanZero</a></div><div class="ttdeci">bool CannotBeOrderedLessThanZero(const Value *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Return true if we can prove that the specified FP value is either NaN or never less than -0....</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03757">ValueTracking.cpp:3757</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0f4bd88bd90f06f0e66d0b20f877cd1e"><div class="ttname"><a href="namespacellvm.html#a0f4bd88bd90f06f0e66d0b20f877cd1e">llvm::log2</a></div><div class="ttdeci">static double log2(double V)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00794">AMDGPULibCalls.cpp:794</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae6340bd94913ece0f698bc762647599f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae6340bd94913ece0f698bc762647599f">llvm::PatternMatch::m_c_LogicalAnd</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::And, true &gt; m_c_LogicalAnd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L &amp;&amp; R with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02567">PatternMatch.h:2567</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a36684f4c36cfa13d6fe058b844a7bda0"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a36684f4c36cfa13d6fe058b844a7bda0">simplifyCmpInst</a></div><div class="ttdeci">static Value * simplifyCmpInst(unsigned, Value *, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for a CmpInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05823">InstructionSimplify.cpp:5823</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a8f3259c7db0ce698876fe79f45b80a32"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8f3259c7db0ce698876fe79f45b80a32">llvm::PatternMatch::m_c_Mul</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Mul, true &gt; m_c_Mul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches a Mul with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02255">PatternMatch.h:2255</a></div></div>
<div class="ttc" id="anamespacellvm_1_1fp_html_a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62"><div class="ttname"><a href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">llvm::fp::ebIgnore</a></div><div class="ttdeci">@ ebIgnore</div><div class="ttdoc">This corresponds to &quot;fpexcept.ignore&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00039">FPEnv.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a874d53817a4923de8e58af6b278c09b0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a874d53817a4923de8e58af6b278c09b0">llvm::PatternMatch::m_ZeroInt</a></div><div class="ttdeci">cst_pred_ty&lt; is_zero_int &gt; m_ZeroInt()</div><div class="ttdoc">Match an integer 0 or a vector with all elements equal to 0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00524">PatternMatch.h:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html_a99d4bfe49182f8d80abb1960f2c12d46"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a99d4bfe49182f8d80abb1960f2c12d46">llvm::GetElementPtrInst::getIndexedType</a></div><div class="ttdeci">static Type * getIndexedType(Type *Ty, ArrayRef&lt; Value * &gt; IdxList)</div><div class="ttdoc">Returns the result type of a getelementptr with the given source element type and indexes.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01900">Instructions.cpp:1900</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html_a89cfc568a568a6dd8076408344ad5d02"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html#a89cfc568a568a6dd8076408344ad5d02">llvm::DominatorTreeWrapperPass::getDomTree</a></div><div class="ttdeci">DominatorTree &amp; getDomTree()</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00322">Dominators.h:322</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0434306df3aa5ec48fcf19d0958d7c01"><div class="ttname"><a href="namespacellvm.html#a0434306df3aa5ec48fcf19d0958d7c01">llvm::getInverseMinMaxIntrinsic</a></div><div class="ttdeci">Intrinsic::ID getInverseMinMaxIntrinsic(Intrinsic::ID MinMaxID)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06614">ValueTracking.cpp:6614</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aaca3a4d2b25c24b11179cbd01079b73c"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">llvm::ConstantRange::contains</a></div><div class="ttdeci">bool contains(const APInt &amp;Val) const</div><div class="ttdoc">Return true if the specified value is in the set.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00446">ConstantRange.cpp:446</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3ffbacd388121d5e3ba1c4360b7449d0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">llvm::PatternMatch::m_PtrToInt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::PtrToInt &gt; m_PtrToInt(const OpTy &amp;Op)</div><div class="ttdoc">Matches PtrToInt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01599">PatternMatch.h:1599</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdeci">@ ICMP_SGE</div><div class="ttdoc">signed greater or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00746">InstrTypes.h:746</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ac3376e3bd632ad72252638ae43295ce4"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac3376e3bd632ad72252638ae43295ce4">llvm::Instruction::isBitwiseLogicOp</a></div><div class="ttdeci">bool isBitwiseLogicOp() const</div><div class="ttdoc">Return true if this is and/or/xor.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00224">Instruction.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a0578679c169c9ca4cc731185ffddb431"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a0578679c169c9ca4cc731185ffddb431">llvm::CmpInst::getStrictPredicate</a></div><div class="ttdeci">Predicate getStrictPredicate() const</div><div class="ttdoc">For example, SGE -&gt; SGT, SLE -&gt; SLT, ULE -&gt; ULT, UGE -&gt; UGT.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00890">InstrTypes.h:890</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a8f877403433892e14ff0c692cbe9efdf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">llvm::APInt::getSignedMinValue</a></div><div class="ttdeci">static APInt getSignedMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00199">APInt.h:199</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a52d340034d6461bd241aa118959499e9"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a52d340034d6461bd241aa118959499e9">simplifyExtractValueInst</a></div><div class="ttdeci">static Value * simplifyExtractValueInst(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for an ExtractValueInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04953">InstructionSimplify.cpp:4953</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdoc">This class represents a range of values.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00047">ConstantRange.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a5cd1934b6c8ddec3a2d161ce710d59bc"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a5cd1934b6c8ddec3a2d161ce710d59bc">llvm::PatternMatch::m_c_Xor</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Xor, true &gt; m_c_Xor(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches an Xor with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02276">PatternMatch.h:2276</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a5ba8484cef2818d14b85640a903b2598"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a5ba8484cef2818d14b85640a903b2598">llvm::CmpInst::isTrueWhenEqual</a></div><div class="ttdeci">bool isTrueWhenEqual() const</div><div class="ttdoc">This is just a convenience.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01006">InstrTypes.h:1006</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab09fc7dee4f7e02c60f7a9c928dc1603"><div class="ttname"><a href="namespacellvm.html#ab09fc7dee4f7e02c60f7a9c928dc1603">llvm::findScalarElement</a></div><div class="ttdeci">Value * findScalarElement(Value *V, unsigned EltNo)</div><div class="ttdoc">Given a vector and an element number, see if the scalar value is already around as a register,...</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00285">VectorUtils.cpp:285</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a6497dd4ddbdc3b5dacec510108c4e62d"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a6497dd4ddbdc3b5dacec510108c4e62d">simplifyFPUnOp</a></div><div class="ttdeci">static Value * simplifyFPUnOp(unsigned, Value *, const FastMathFlags &amp;, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given the operand for a UnaryOperator, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05722">InstructionSimplify.cpp:5722</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a048bc1fd07fe399938733635c5b2fa0d"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a048bc1fd07fe399938733635c5b2fa0d">expandCommutativeBinOp</a></div><div class="ttdeci">static Value * expandCommutativeBinOp(Instruction::BinaryOps Opcode, Value *L, Value *R, Instruction::BinaryOps OpcodeToExpand, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Try to simplify binops of form &quot;A op (B op' C)&quot; or the commuted variant by distributing op over op'.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00273">InstructionSimplify.cpp:273</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ab9370b798ae530641518075b0832723a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ab9370b798ae530641518075b0832723a">llvm::PatternMatch::m_AnyZeroFP</a></div><div class="ttdeci">cstfp_pred_ty&lt; is_any_zero_fp &gt; m_AnyZeroFP()</div><div class="ttdoc">Match a floating-point negative zero or positive zero.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00664">PatternMatch.h:664</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a0620da2f33db6ed015d9d2ecb3befb9c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a0620da2f33db6ed015d9d2ecb3befb9c">simplifyWithOpReplaced</a></div><div class="ttdeci">static Value * simplifyWithOpReplaced(Value *V, Value *Op, Value *RepOp, const SimplifyQuery &amp;Q, bool AllowRefinement, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04167">InstructionSimplify.cpp:4167</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2ff0f084844b189a858647d637d47eba"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">llvm::PatternMatch::m_Not</a></div><div class="ttdeci">BinaryOp_match&lt; cst_pred_ty&lt; is_all_ones &gt;, ValTy, Instruction::Xor, true &gt; m_Not(const ValTy &amp;V)</div><div class="ttdoc">Matches a 'Not' as 'xor V, -1' or 'xor -1, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02302">PatternMatch.h:2302</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a1711672fba92fd8aaaf2581473292716"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1711672fba92fd8aaaf2581473292716">simplifyLShrInst</a></div><div class="ttdeci">static Value * simplifyLShrInst(Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an LShr, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01475">InstructionSimplify.cpp:1475</a></div></div>
<div class="ttc" id="aclassllvm_1_1MinMaxIntrinsic_html_a4b6b84b97c4ee2f0023bfd66097ca424"><div class="ttname"><a href="classllvm_1_1MinMaxIntrinsic.html#a4b6b84b97c4ee2f0023bfd66097ca424">llvm::MinMaxIntrinsic::getSaturationPoint</a></div><div class="ttdeci">static APInt getSaturationPoint(Intrinsic::ID ID, unsigned numBits)</div><div class="ttdoc">Min/max intrinsics are monotonic, they operate on a fixed-bitwidth values, so there is a certain thre...</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00693">IntrinsicInst.h:693</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ac26154a24f393f523c87cc5f8239f36c"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">llvm::Instruction::BinaryOps</a></div><div class="ttdeci">BinaryOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00809">Instruction.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aed565a1dfd056c37a481581db8cdbedd"><div class="ttname"><a href="classllvm_1_1Instruction.html#aed565a1dfd056c37a481581db8cdbedd">llvm::Instruction::hasAllowReassoc</a></div><div class="ttdeci">bool hasAllowReassoc() const LLVM_READONLY</div><div class="ttdoc">Determine whether the allow-reassociation flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00304">Instruction.cpp:304</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae23e16c67aeaf23c68bf86fe04df42ee"><div class="ttname"><a href="namespacellvm.html#ae23e16c67aeaf23c68bf86fe04df42ee">llvm::CannotBeNegativeZero</a></div><div class="ttdeci">bool CannotBeNegativeZero(const Value *V, const TargetLibraryInfo *TLI, unsigned Depth=0)</div><div class="ttdoc">Return true if we can prove that the specified FP value is never equal to -0.0.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l03518">ValueTracking.cpp:3518</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdoc">Pass interface - Implemented by all 'passes'.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00091">Pass.h:91</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a90b5c9b20258ae16d2be00374f116551"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a90b5c9b20258ae16d2be00374f116551">llvm::PatternMatch::m_c_FMul</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::FMul, true &gt; m_c_FMul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches FMul with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02377">PatternMatch.h:2377</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ada1025d503576216884e36b2fddc22e7"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ada1025d503576216884e36b2fddc22e7">llvm::PatternMatch::m_c_FAdd</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::FAdd, true &gt; m_c_FAdd(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches FAdd with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02370">PatternMatch.h:2370</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a2eccc19f9061eeb7ad1e30e21f76034d"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a2eccc19f9061eeb7ad1e30e21f76034d">llvm::LoadInst::isVolatile</a></div><div class="ttdeci">bool isVolatile() const</div><div class="ttdoc">Return true if this is a load from a volatile memory location.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00214">Instructions.h:214</a></div></div>
<div class="ttc" id="anamespacellvm_html_af7f2eb961a542779e97c0b3ec7fa6623"><div class="ttname"><a href="namespacellvm.html#af7f2eb961a542779e97c0b3ec7fa6623">llvm::isImpliedCondition</a></div><div class="ttdeci">std::optional&lt; bool &gt; isImpliedCondition(const Value *LHS, const Value *RHS, const DataLayout &amp;DL, bool LHSIsTrue=true, unsigned Depth=0)</div><div class="ttdoc">Return true if RHS is known to be implied true by LHS.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06971">ValueTracking.cpp:6971</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">Match if we have a specific specified value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00772">PatternMatch.h:772</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_abfcd971ce6ccafa5489dd3bf313219af"><div class="ttname"><a href="InstructionSimplify_8cpp.html#abfcd971ce6ccafa5489dd3bf313219af">simplifyCastInst</a></div><div class="ttdeci">static Value * simplifyCastInst(unsigned, Value *, Type *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05073">InstructionSimplify.cpp:5073</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af976f3fd3889dab65f16068048c41168"><div class="ttname"><a href="classllvm_1_1APInt.html#af976f3fd3889dab65f16068048c41168">llvm::APInt::isMaxValue</a></div><div class="ttdeci">bool isMaxValue() const</div><div class="ttdoc">Determine if this is the largest unsigned value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00391">APInt.h:391</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a3fe9b3ddb71b9fb53d9fc74b3a0710bf"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3fe9b3ddb71b9fb53d9fc74b3a0710bf">llvm::PatternMatch::m_ICmp</a></div><div class="ttdeci">CmpClass_match&lt; LHS, RHS, ICmpInst, ICmpInst::Predicate &gt; m_ICmp(ICmpInst::Predicate &amp;Pred, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01394">PatternMatch.h:1394</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdeci">@ ICMP_UGT</div><div class="ttdoc">unsigned greater than</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00741">InstrTypes.h:741</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ada19a89b7c62ce0bb713a7254b002445"><div class="ttname"><a href="classllvm_1_1APInt.html#ada19a89b7c62ce0bb713a7254b002445">llvm::APInt::isSignBitSet</a></div><div class="ttdeci">bool isSignBitSet() const</div><div class="ttdoc">Determine if sign bit of this APInt is set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00324">APInt.h:324</a></div></div>
<div class="ttc" id="anamespacellvm_1_1fp_html_a51c5e09b2604faec548aef87bd482630"><div class="ttname"><a href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630">llvm::fp::ExceptionBehavior</a></div><div class="ttdeci">ExceptionBehavior</div><div class="ttdoc">Exception behavior used for floating point operations.</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00038">FPEnv.h:38</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a53c29b9b8d04f7d4f94919b8383a0254"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a53c29b9b8d04f7d4f94919b8383a0254">simplifyFDivInst</a></div><div class="ttdeci">static Value * simplifyFDivInst(Value *Op0, Value *Op1, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned, fp::ExceptionBehavior ExBehavior=fp::ebIgnore, RoundingMode Rounding=RoundingMode::NearestTiesToEven)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05609">InstructionSimplify.cpp:5609</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bad601460c9371d0f0ada5ae006bdba2bd"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bad601460c9371d0f0ada5ae006bdba2bd">llvm::CmpInst::FCMP_UNE</a></div><div class="ttdeci">@ FCMP_UNE</div><div class="ttdoc">1 1 1 0 True if unordered or not equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00734">InstrTypes.h:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aInstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a565dd825f238fa0a8c4bbfe562635f7c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a></div><div class="ttdeci">static Constant * getTrue(Type *Ty)</div><div class="ttdoc">For a boolean type or a vector of boolean type, return true or a vector with every element true.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00126">InstructionSimplify.cpp:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aa7414ba9f658ff1287d22a4b8fe81bcb"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aa7414ba9f658ff1287d22a4b8fe81bcb">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const</div><div class="ttdoc">Return the predicate for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00808">InstrTypes.h:808</a></div></div>
<div class="ttc" id="anamespacellvm_html_a493bd393688f22538e5de34117e70236"><div class="ttname"><a href="namespacellvm.html#a493bd393688f22538e5de34117e70236">llvm::getMinMaxPred</a></div><div class="ttdeci">CmpInst::Predicate getMinMaxPred(SelectPatternFlavor SPF, bool Ordered=false)</div><div class="ttdoc">Return the canonical comparison predicate for the specified minimum/maximum flavor.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l06594">ValueTracking.cpp:6594</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a8ce0c4746a1ec805e66409d20ae93922"><div class="ttname"><a href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const</div><div class="ttdoc">Return incoming basic block number i.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02814">Instructions.h:2814</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_abf95a4f4e24a62d012d6f0e571346849"><div class="ttname"><a href="InstructionSimplify_8cpp.html#abf95a4f4e24a62d012d6f0e571346849">simplifyFreezeInst</a></div><div class="ttdeci">static Value * simplifyFreezeInst(Value *Op0, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a Freeze, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06563">InstructionSimplify.cpp:6563</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec4ff9b2beab5c962935042f5b5758dd"><div class="ttname"><a href="namespacellvm.html#aec4ff9b2beab5c962935042f5b5758dd">llvm::canIgnoreSNaN</a></div><div class="ttdeci">bool canIgnoreSNaN(fp::ExceptionBehavior EB, FastMathFlags FMF)</div><div class="ttdoc">Returns true if the possibility of a signaling NaN can be safely ignored.</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00083">FPEnv.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00047">PatternMatch.h:47</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a662ffa9d4304f7afafce1f1276caa11e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a662ffa9d4304f7afafce1f1276caa11e">simplifyByDomEq</a></div><div class="ttdeci">static Value * simplifyByDomEq(unsigned Opcode, Value *Op0, Value *Op1, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Test if there is a dominating equivalence condition for the two operands.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00749">InstructionSimplify.cpp:749</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_ad91c80980a394e9c81f04e8988261224"><div class="ttname"><a href="classllvm_1_1CmpInst.html#ad91c80980a394e9c81f04e8988261224">llvm::CmpInst::isOrdered</a></div><div class="ttdeci">static bool isOrdered(Predicate predicate)</div><div class="ttdoc">Determine if the predicate is an ordered operation.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l04418">Instructions.cpp:4418</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a78823051d1dad34b9b3d8120112e674d"><div class="ttname"><a href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a></div><div class="ttdeci">static const uint32_t IV[8]</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00077">blake3_impl.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba9835cfe02fb5027680bd7203b024f77a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba9835cfe02fb5027680bd7203b024f77a">llvm::CmpInst::FCMP_OLE</a></div><div class="ttdeci">@ FCMP_OLE</div><div class="ttdoc">0 1 0 1 True if ordered and less than or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00725">InstrTypes.h:725</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a5772946ca265c6a5c951cb331983daa5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a5772946ca265c6a5c951cb331983daa5">llvm::PatternMatch::m_FCmp</a></div><div class="ttdeci">CmpClass_match&lt; LHS, RHS, FCmpInst, FCmpInst::Predicate &gt; m_FCmp(FCmpInst::Predicate &amp;Pred, const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01400">PatternMatch.h:1400</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5e655fd99a56d50b071fc26d8db5fd5b"><div class="ttname"><a href="namespacellvm.html#a5e655fd99a56d50b071fc26d8db5fd5b">llvm::ConstantFoldConstant</a></div><div class="ttdeci">Constant * ConstantFoldConstant(const Constant *C, const DataLayout &amp;DL, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">ConstantFoldConstant - Fold the constant using the specified DataLayout.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01203">ConstantFolding.cpp:1203</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aa89e9cec92a0b38d2f47a077bf12cc98"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aa89e9cec92a0b38d2f47a077bf12cc98">llvm::ConstantRange::makeExactICmpRegion</a></div><div class="ttdeci">static ConstantRange makeExactICmpRegion(CmpInst::Predicate Pred, const APInt &amp;Other)</div><div class="ttdoc">Produce the exact range such that all values in the returned range satisfy the given predicate with a...</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00157">ConstantRange.cpp:157</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a54f884bd538afb4b2464132e0d7a9034"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a54f884bd538afb4b2464132e0d7a9034">expandBinOp</a></div><div class="ttdeci">static Value * expandBinOp(Instruction::BinaryOps Opcode, Value *V, Value *OtherOp, Instruction::BinaryOps OpcodeToExpand, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Try to simplify a binary operator of form &quot;V op OtherOp&quot; where V is &quot;(B0 opex B1)&quot; by distributing 'o...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00239">InstructionSimplify.cpp:239</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_aa92f78ec5f5cbd86f1fc74b3e166475e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa92f78ec5f5cbd86f1fc74b3e166475e">simplifyAndOrOfCmps</a></div><div class="ttdeci">static Value * simplifyAndOrOfCmps(const SimplifyQuery &amp;Q, Value *Op0, Value *Op1, bool IsAnd)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02001">InstructionSimplify.cpp:2001</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a26add618924d2d20326cdec6c7ff7943"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a26add618924d2d20326cdec6c7ff7943">foldOrCommuteConstant</a></div><div class="ttdeci">static Constant * foldOrCommuteConstant(Instruction::BinaryOps Opcode, Value *&amp;Op0, Value *&amp;Op1, const SimplifyQuery &amp;Q)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00603">InstructionSimplify.cpp:603</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_aae55ea42185b7528c0c149625b998968"><div class="ttname"><a href="classllvm_1_1CmpInst.html#aae55ea42185b7528c0c149625b998968">llvm::CmpInst::isUnordered</a></div><div class="ttdeci">static bool isUnordered(Predicate predicate)</div><div class="ttdoc">Determine if the predicate is an unordered operation.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l04427">Instructions.cpp:4427</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2fed53ed2b3225752bd9e4fce4967361"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2fed53ed2b3225752bd9e4fce4967361">llvm::PatternMatch::m_Neg</a></div><div class="ttdeci">BinaryOp_match&lt; cst_pred_ty&lt; is_zero_int &gt;, ValTy, Instruction::Sub &gt; m_Neg(const ValTy &amp;V)</div><div class="ttdoc">Matches a 'Neg' as 'sub 0, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02284">PatternMatch.h:2284</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_a21ae5af9c62928bb06c66379017bdda1"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a21ae5af9c62928bb06c66379017bdda1">llvm::DataLayout::getPointerSizeInBits</a></div><div class="ttdeci">unsigned getPointerSizeInBits(unsigned AS=0) const</div><div class="ttdoc">Layout pointer size, in bits FIXME: The defaults need to be removed once all of the backends/clients ...</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00406">DataLayout.h:406</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ab1cd7be95eef420c24e4acbb34f72456"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab1cd7be95eef420c24e4acbb34f72456">simplifyShuffleVectorInst</a></div><div class="ttdeci">static Value * simplifyShuffleVectorInst(Value *Op0, Value *Op1, ArrayRef&lt; int &gt; Mask, Type *RetTy, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05163">InstructionSimplify.cpp:5163</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_af931eb1f29f980898d2205c21f6e40f3"><div class="ttname"><a href="InstructionSimplify_8cpp.html#af931eb1f29f980898d2205c21f6e40f3">simplifyFCmpInst</a></div><div class="ttdeci">static Value * simplifyFCmpInst(unsigned Predicate, Value *LHS, Value *RHS, FastMathFlags FMF, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an FCmpInst, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03953">InstructionSimplify.cpp:3953</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ad960e1ff48d25c382b6d28e7961f074e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">llvm::APInt::getLowBitsSet</a></div><div class="ttdeci">static APInt getLowBitsSet(unsigned numBits, unsigned loBitsSet)</div><div class="ttdoc">Constructs an APInt value that has the bottom loBitsSet bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00289">APInt.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_af412caabe4d2526271b50f052f9d3aef"><div class="ttname"><a href="InstructionSimplify_8cpp.html#af412caabe4d2526271b50f052f9d3aef">valueDominatesPHI</a></div><div class="ttdeci">static bool valueDominatesPHI(Value *V, PHINode *P, const DominatorTree *DT)</div><div class="ttdoc">Does the given value dominate the specified phi node?</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00211">InstructionSimplify.cpp:211</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b9904a62f8c9179b90d1cb89e6e05ac"><div class="ttname"><a href="namespacellvm.html#a2b9904a62f8c9179b90d1cb89e6e05ac">llvm::simplifyMulInst</a></div><div class="ttdeci">Value * simplifyMulInst(Value *LHS, Value *RHS, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a Mul, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00990">InstructionSimplify.cpp:990</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae058c4750de2c85f12a1f96841ac9ae3"><div class="ttname"><a href="namespacellvm.html#ae058c4750de2c85f12a1f96841ac9ae3">llvm::isGuaranteedNotToBePoison</a></div><div class="ttdeci">bool isGuaranteedNotToBePoison(const Value *V, AssumptionCache *AC=nullptr, const Instruction *CtxI=nullptr, const DominatorTree *DT=nullptr, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05588">ValueTracking.cpp:5588</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4fdc09049a61f952b5d52788dbd2f69b"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">llvm::KnownBits::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the bit width of this value.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00040">KnownBits.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4036c3c75bcee1206cd199548b87f9ae"><div class="ttname"><a href="namespacellvm.html#a4036c3c75bcee1206cd199548b87f9ae">llvm::isKnownToBeAPowerOfTwo</a></div><div class="ttdeci">bool isKnownToBeAPowerOfTwo(const Value *V, const DataLayout &amp;DL, bool OrZero=false, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if the given value is known to have exactly one bit set when defined.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00300">ValueTracking.cpp:300</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a53b262b2b6cb7c4003930f731fd30405"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a53b262b2b6cb7c4003930f731fd30405">simplifyICmpWithZero</a></div><div class="ttdeci">static Value * simplifyICmpWithZero(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Try hard to fold icmp with zero RHS because this is a common case.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02968">InstructionSimplify.cpp:2968</a></div></div>
<div class="ttc" id="anamespacellvm_1_1fp_html_a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7"><div class="ttname"><a href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7">llvm::fp::ebStrict</a></div><div class="ttdeci">@ ebStrict</div><div class="ttdoc">This corresponds to &quot;fpexcept.strict&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00041">FPEnv.h:41</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a1339768ca51595b3ebf5c0e69b80c9e8"><div class="ttname"><a href="README__P9_8txt.html#a1339768ca51595b3ebf5c0e69b80c9e8">lshr</a></div><div class="ttdeci">Vector Shift Left don t map to llvm shl and lshr</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00118">README_P9.txt:118</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ac20fb14fde8d282680882caeb98c2298"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac20fb14fde8d282680882caeb98c2298">simplifyBinOp</a></div><div class="ttdeci">static Value * simplifyBinOp(unsigned, Value *, Value *, const SimplifyQuery &amp;, unsigned)</div><div class="ttdoc">Given operands for a BinaryOperator, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05744">InstructionSimplify.cpp:5744</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ad32c0e0dca06bc00a0e131c77a046819"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ad32c0e0dca06bc00a0e131c77a046819">simplifySubInst</a></div><div class="ttdeci">static Value * simplifySubInst(Value *Op0, Value *Op1, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for a Sub, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00783">InstructionSimplify.cpp:783</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_a5bd6d98b4a7ecc1dcdc571e4352fcc52"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a5bd6d98b4a7ecc1dcdc571e4352fcc52">llvm::ConstantRange::isEmptySet</a></div><div class="ttdeci">bool isEmptySet() const</div><div class="ttdoc">Return true if this set contains no members.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00367">ConstantRange.cpp:367</a></div></div>
<div class="ttc" id="anamespacellvm_html_a58328e0582aabaf012bf9bc6f36c9e04"><div class="ttname"><a href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">llvm::M1</a></div><div class="ttdeci">unsigned M1(unsigned Val)</div><div class="ttdef"><b>Definition:</b> <a href="VE_8h_source.html#l00468">VE.h:468</a></div></div>
<div class="ttc" id="anamespacellvm_html_aecb805c568634be3390c7da36836d63e"><div class="ttname"><a href="namespacellvm.html#aecb805c568634be3390c7da36836d63e">llvm::simplifyURemInst</a></div><div class="ttdeci">Value * simplifyURemInst(Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a URem, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01306">InstructionSimplify.cpp:1306</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_ab5c252e24256fb7f9d979b26123a572c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab5c252e24256fb7f9d979b26123a572c">simplifyFPOp</a></div><div class="ttdeci">static Constant * simplifyFPOp(ArrayRef&lt; Value * &gt; Ops, FastMathFlags FMF, const SimplifyQuery &amp;Q, fp::ExceptionBehavior ExBehavior, RoundingMode Rounding)</div><div class="ttdoc">Perform folds that are common to any floating-point operation.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05347">InstructionSimplify.cpp:5347</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac8a71d79e03a0d6665ee1018fd7aef3"><div class="ttname"><a href="namespacellvm.html#aac8a71d79e03a0d6665ee1018fd7aef3">llvm::simplifyCmpInst</a></div><div class="ttdeci">Value * simplifyCmpInst(unsigned Predicate, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a CmpInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05830">InstructionSimplify.cpp:5830</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a5b844aada27c4c6fdb87146ac458c0d8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">llvm::PatternMatch::m_Trunc</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::Trunc &gt; m_Trunc(const OpTy &amp;Op)</div><div class="ttdoc">Matches Trunc.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01611">PatternMatch.h:1611</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b03ed78a8e299bde6d26a8793cd4e06"><div class="ttname"><a href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">llvm::NullPointerIsDefined</a></div><div class="ttdeci">bool NullPointerIsDefined(const Function *F, unsigned AS=0)</div><div class="ttdoc">Check whether null pointer dereferencing is considered undefined behavior for a given function or an ...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l02136">Function.cpp:2136</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4e04471ed9ac60e70f5cf2d81f49b8c4"><div class="ttname"><a href="namespacellvm.html#a4e04471ed9ac60e70f5cf2d81f49b8c4">llvm::simplifyShuffleVectorInst</a></div><div class="ttdeci">Value * simplifyShuffleVectorInst(Value *Op0, Value *Op1, ArrayRef&lt; int &gt; Mask, Type *RetTy, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a ShuffleVectorInst, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l05279">InstructionSimplify.cpp:5279</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1InsertValueInst_html"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html">llvm::InsertValueInst</a></div><div class="ttdoc">This instruction inserts a struct field of array element value into an aggregate value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02566">Instructions.h:2566</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba0a33c71e3c5e8f128ca47539a85962f5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba0a33c71e3c5e8f128ca47539a85962f5">llvm::CmpInst::FCMP_TRUE</a></div><div class="ttdeci">@ FCMP_TRUE</div><div class="ttdoc">1 1 1 1 Always true (always folded)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a58b95af1ca96e109f85a0646a05fceb7">llvm::tgtok::TrueVal</a></div><div class="ttdeci">@ TrueVal</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00062">TGLexer.h:62</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a98cbd7a04d75645f42138c67c5b8e44b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a98cbd7a04d75645f42138c67c5b8e44b">simplifySelectWithFCmp</a></div><div class="ttdeci">static Value * simplifySelectWithFCmp(Value *Cond, Value *T, Value *F, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Try to simplify a select instruction when its condition operand is a floating-point comparison.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l04517">InstructionSimplify.cpp:4517</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab3b0406324f59a9dcdd00f68345ef9b7"><div class="ttname"><a href="namespacellvm.html#ab3b0406324f59a9dcdd00f68345ef9b7">llvm::simplifyUDivInst</a></div><div class="ttdeci">Value * simplifyUDivInst(Value *LHS, Value *RHS, bool IsExact, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a UDiv, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01273">InstructionSimplify.cpp:1273</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2816e84a08c108d18bc4665bc1817e01"><div class="ttname"><a href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">llvm::abs</a></div><div class="ttdeci">APFloat abs(APFloat X)</div><div class="ttdoc">Returns the absolute value of the argument.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01332">APFloat.h:1332</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a80125f89cb8651eda4792d59384ee70d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a80125f89cb8651eda4792d59384ee70d">llvm::PatternMatch::m_c_LogicalOr</a></div><div class="ttdeci">LogicalOp_match&lt; LHS, RHS, Instruction::Or, true &gt; m_c_LogicalOr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches L || R with LHS and RHS in either order.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02585">PatternMatch.h:2585</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ad4201fc3d0958c5d8dff30af6fa45803"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ad4201fc3d0958c5d8dff30af6fa45803">llvm::PatternMatch::m_VecReverse</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_VecReverse(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02216">PatternMatch.h:2216</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a32712dc69f8e24c2bce9b4a7b4029401"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a32712dc69f8e24c2bce9b4a7b4029401">simplifyRightShift</a></div><div class="ttdeci">static Value * simplifyRightShift(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, bool IsExact, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given operands for an Shl, LShr or AShr, see if we can fold the result.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01412">InstructionSimplify.cpp:1412</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_a9e363c1eaf112166372e2d52704981fb"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#a9e363c1eaf112166372e2d52704981fb">llvm::LoopStandardAnalysisResults::TLI</a></div><div class="ttdeci">TargetLibraryInfo &amp; TLI</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00057">LoopAnalysisManager.h:57</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832"><div class="ttname"><a href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca44467144e3b6bdac3e85ef6f90e7d832">llvm::RoundingMode::NearestTiesToEven</a></div><div class="ttdeci">@ NearestTiesToEven</div><div class="ttdoc">roundTiesToEven.</div></div>
<div class="ttc" id="anamespacellvm_html_a2795a96498eb92ff9e37f87fba5f5807"><div class="ttname"><a href="namespacellvm.html#a2795a96498eb92ff9e37f87fba5f5807">llvm::simplifyCall</a></div><div class="ttdeci">Value * simplifyCall(CallBase *Call, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given a callsite, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06530">InstructionSimplify.cpp:6530</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a37668d9884c78ac77254cf9fb8a4276a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">llvm::PatternMatch::m_Shl</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Shl &gt; m_Shl(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01111">PatternMatch.h:1111</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a01daba556715b39e5c901e871a12e40b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a01daba556715b39e5c901e871a12e40b">llvm::PatternMatch::m_FNegNSZ</a></div><div class="ttdeci">BinaryOp_match&lt; cstfp_pred_ty&lt; is_any_zero_fp &gt;, RHS, Instruction::FSub &gt; m_FNegNSZ(const RHS &amp;X)</div><div class="ttdoc">Match 'fneg X' as 'fsub +-0.0, X'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01040">PatternMatch.h:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a8c90e6c50e795b17466482a04947690e"><div class="ttname"><a href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, ElementCount EC)</div><div class="ttdoc">This static method is the primary way to construct an VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00670">Type.cpp:670</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a8e963ab9157b44ed68ad9b31025cf3f9"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a8e963ab9157b44ed68ad9b31025cf3f9">handleOtherCmpSelSimplifications</a></div><div class="ttdeci">static Value * handleOtherCmpSelSimplifications(Value *TCmp, Value *FCmp, Value *Cond, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">We know comparison with both branches of select can be simplified, but they are not equal.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00183">InstructionSimplify.cpp:183</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_af2e7f2020d420aef3c72a900d7dbdf16"><div class="ttname"><a href="InstructionSimplify_8cpp.html#af2e7f2020d420aef3c72a900d7dbdf16">simplifyAndOrOfFCmps</a></div><div class="ttdeci">static Value * simplifyAndOrOfFCmps(const TargetLibraryInfo *TLI, FCmpInst *LHS, FCmpInst *RHS, bool IsAnd)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01963">InstructionSimplify.cpp:1963</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_afee2477c062b67b487941ee0f4ff95ba"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">llvm::APIntOps::smax</a></div><div class="ttdeci">const APInt &amp; smax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02180">APInt.h:2180</a></div></div>
<div class="ttc" id="aInstructionSimplify_8cpp_html_a024f23f3655fcfb90cdf093705dcb64b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a024f23f3655fcfb90cdf093705dcb64b">threadCmpOverSelect</a></div><div class="ttdeci">static Value * threadCmpOverSelect(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const SimplifyQuery &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">In the case of a comparison with a select instruction, try to simplify the comparison by seeing wheth...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00473">InstructionSimplify.cpp:473</a></div></div>
<div class="ttc" id="aclassllvm_1_1SrcOp_html"><div class="ttname"><a href="classllvm_1_1SrcOp.html">llvm::SrcOp</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00128">MachineIRBuilder.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baa3213b645e029aba8bb1b85213607d5e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa3213b645e029aba8bb1b85213607d5e">llvm::CmpInst::FCMP_ORD</a></div><div class="ttdeci">@ FCMP_ORD</div><div class="ttdoc">0 1 1 1 True if ordered (no nans)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00727">InstrTypes.h:727</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a971522b36bf432ad69a0083581ab4108"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">llvm::PatternMatch::m_Mul</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Mul &gt; m_Mul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01045">PatternMatch.h:1045</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba919643b83ce3c9af2e4296ed5e413a1f"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba919643b83ce3c9af2e4296ed5e413a1f">llvm::CmpInst::FCMP_UEQ</a></div><div class="ttdeci">@ FCMP_UEQ</div><div class="ttdoc">1 0 0 1 True if unordered or equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00729">InstrTypes.h:729</a></div></div>
<div class="ttc" id="astructllvm_1_1InstrInfoQuery_html_a879785896627e7415e7aee7934bf922b"><div class="ttname"><a href="structllvm_1_1InstrInfoQuery.html#a879785896627e7415e7aee7934bf922b">llvm::InstrInfoQuery::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap(const InstT *Op) const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00080">InstructionSimplify.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a833daf718a49c5cd637d8c9ddeaebe07"><div class="ttname"><a href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">TypeSize getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdoc">Return the basic size of this type if it is a primitive type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00163">Type.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5942ddc4393a8ef081555f9a938c86e9"><div class="ttname"><a href="namespacellvm.html#a5942ddc4393a8ef081555f9a938c86e9">llvm::simplifySubInst</a></div><div class="ttdeci">Value * simplifySubInst(Value *LHS, Value *RHS, bool IsNSW, bool IsNUW, const SimplifyQuery &amp;Q)</div><div class="ttdoc">Given operands for a Sub, fold the result or return null.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00918">InstructionSimplify.cpp:918</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a2a1421dcee7067c8a9c69752bd8ec566"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566">llvm::AArch64::Rounding</a></div><div class="ttdeci">Rounding</div><div class="ttdoc">Possible values of current rounding mode, which is specified in bits 23:22 of FPCR.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00496">AArch64ISelLowering.h:496</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_aa48b3b7e554b44f4e513d5dd8d9f9343"><div class="ttname"><a href="classllvm_1_1DataLayout.html#aa48b3b7e554b44f4e513d5dd8d9f9343">llvm::DataLayout::getTypeAllocSize</a></div><div class="ttdeci">TypeSize getTypeAllocSize(Type *Ty) const</div><div class="ttdoc">Returns the offset in bytes between successive objects of the specified type, including alignment pad...</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00500">DataLayout.h:500</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html_a447266eb917fd60e5a3aa2722bb02f7d"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html#a447266eb917fd60e5a3aa2722bb02f7d">llvm::AssumptionCache::assumptionsFor</a></div><div class="ttdeci">MutableArrayRef&lt; ResultElem &gt; assumptionsFor(const Value *V)</div><div class="ttdoc">Access the list of assumptions which affect this value.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00157">AssumptionCache.h:157</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:48:36 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
