<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ObjCopy/MachO/MachOObjcopy.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_852ebda2bb84520f77418fa9810685ae.html">ObjCopy</a></li><li class="navelem"><a class="el" href="dir_846bab61ea58bf01876a93e6f6bfccf3.html">MachO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachOObjcopy.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachOObjcopy_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MachOObjcopy.cpp -----------------------------------------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOObjcopy_8h.html">llvm/ObjCopy/MachO/MachOObjcopy.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;Archive.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOReader_8h.html">MachOReader.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOWriter_8h.html">MachOWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommonConfig_8h.html">llvm/ObjCopy/CommonConfig.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOConfig_8h.html">llvm/ObjCopy/MachO/MachOConfig.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MultiFormatConfig_8h.html">llvm/ObjCopy/MultiFormatConfig.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjCopy_8h.html">llvm/ObjCopy/ObjCopy.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArchiveWriter_8h.html">llvm/Object/ArchiveWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOUniversal_8h.html">llvm/Object/MachOUniversal.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOUniversalWriter_8h.html">llvm/Object/MachOUniversalWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Errc_8h.html">llvm/Support/Errc.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FileOutputBuffer_8h.html">llvm/Support/FileOutputBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Path_8h.html">llvm/Support/Path.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVectorMemoryBuffer_8h.html">llvm/Support/SmallVectorMemoryBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1objcopy.html">llvm::objcopy</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1objcopy_1_1macho.html">llvm::objcopy::macho</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1object.html">llvm::object</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a149edc9fb81a1275062af3c72b7d0e94">   32</a></span>&#160;<span class="keyword">using</span> <a class="code" href="ELFObjcopy_8cpp.html#a5d2098d7d394c83ff9e7e4c780987788">SectionPred</a> = <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;bool(<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;Sec)&gt;;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a9acdfbcce7bf8b9cb5ac43e036141d08">   33</a></span>&#160;<span class="keyword">using</span> <a class="code" href="MachOObjcopy_8cpp.html#a9acdfbcce7bf8b9cb5ac43e036141d08">LoadCommandPred</a> = <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;bool(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC)&gt;;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a49343f777e053584c42f916b5e567142">   36</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MachOObjcopy_8cpp.html#a49343f777e053584c42f916b5e567142">isLoadCommandWithPayloadString</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// TODO: Add support for LC_REEXPORT_DYLIB, LC_LOAD_UPWARD_DYLIB and</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// LC_LAZY_LOAD_DYLIB</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">return</span> LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_RPATH ||</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;         LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_ID_DYLIB ||</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;         LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_LOAD_DYLIB ||</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;         LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_LOAD_WEAK_DYLIB;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">   46</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">getPayloadString</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MachOObjcopy_8cpp.html#a49343f777e053584c42f916b5e567142">isLoadCommandWithPayloadString</a>(LC) &amp;&amp;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;         <span class="stringliteral">&quot;unsupported load command encountered&quot;</span>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">Payload</a>.data()),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                   LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">Payload</a>.size())</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      .<a class="code" href="classllvm_1_1StringRef.html#a9b52404a8d2877d3b32ebb5d1f5c72ff">rtrim</a>(<span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a918836be9d98b9555fa33b3153155511">   55</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#a918836be9d98b9555fa33b3153155511">removeSections</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html">CommonConfig</a> &amp;Config, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="ELFObjcopy_8cpp.html#a5d2098d7d394c83ff9e7e4c780987788">SectionPred</a> RemovePred = [](<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  };</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (!Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#addbcdc27b0e6e19fba3ec20ef5de05d9">ToRemove</a>.<a class="code" href="classllvm_1_1objcopy_1_1NameMatcher.html#ae37fd1e51553e31998f280b07d853e77">empty</a>()) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    RemovePred = [&amp;Config, RemovePred](<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;Sec) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keywordflow">return</span> Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#addbcdc27b0e6e19fba3ec20ef5de05d9">ToRemove</a>.<a class="code" href="classllvm_1_1objcopy_1_1NameMatcher.html#a8fe6d6e80304c85e35c03066ae1bcfa9">matches</a>(Sec-&gt;CanonicalName);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    };</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a9d5713c258905f31b34b13b07086b7c7">StripAll</a> || Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#abadfb5107f778ad8d81df7893db2c25e">StripDebug</a>) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// Remove all debug sections.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    RemovePred = [RemovePred](<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;Sec) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">if</span> (Sec-&gt;Segname == <span class="stringliteral">&quot;__DWARF&quot;</span>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">return</span> RemovePred(Sec);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    };</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (!Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#aba256fcc9763c4d144e805e67f6790f9">OnlySection</a>.<a class="code" href="classllvm_1_1objcopy_1_1NameMatcher.html#ae37fd1e51553e31998f280b07d853e77">empty</a>()) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// Overwrite RemovePred because --only-section takes priority.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    RemovePred = [&amp;Config](<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;Sec) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="keywordflow">return</span> !Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#aba256fcc9763c4d144e805e67f6790f9">OnlySection</a>.<a class="code" href="classllvm_1_1objcopy_1_1NameMatcher.html#a8fe6d6e80304c85e35c03066ae1bcfa9">matches</a>(Sec-&gt;CanonicalName);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    };</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">return</span> Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a47fbc494119ba51bed1e722d310bba1e">removeSections</a>(RemovePred);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a506d6e3bcda2cef91232c70016b03355">   86</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachOObjcopy_8cpp.html#a506d6e3bcda2cef91232c70016b03355">markSymbols</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html">CommonConfig</a> &amp;, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// Symbols referenced from the indirect symbol table must not be removed.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry.html">IndirectSymbolEntry</a> &amp;ISE : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#ae196d6fcc377004d38c6a1a70f4f8146">IndirectSymTable</a>.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolTable.html#aa75fd45f620f74df78d9ed001171048f">Symbols</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (ISE.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry.html#a245bdcc73e0fa8718af5c9ffeeabf765">Symbol</a>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      (*ISE.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry.html#a245bdcc73e0fa8718af5c9ffeeabf765">Symbol</a>)-&gt;Referenced = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#af77b232892df5c7e1321f2885b0c49ef">   93</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachOObjcopy_8cpp.html#af77b232892df5c7e1321f2885b0c49ef">updateAndRemoveSymbols</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html">CommonConfig</a> &amp;Config,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a> &amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                   <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1SymbolEntry.html">SymbolEntry</a> &amp;Sym : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a653496a554313e67608e0d8f90f39c40">SymTable</a>) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#ae7d2b6748551fda8ea5d3757f96f7d0b">SymbolsToRename</a>.find(Sym.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1SymbolEntry.html#a614b7cc8bdf811b60786c0dba3214906">Name</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#ae7d2b6748551fda8ea5d3757f96f7d0b">SymbolsToRename</a>.end())</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      Sym.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1SymbolEntry.html#a614b7cc8bdf811b60786c0dba3214906">Name</a> = std::string(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getValue());</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">auto</span> RemovePred = [&amp;Config, &amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                     &amp;Obj](<span class="keyword">const</span> std::unique_ptr&lt;SymbolEntry&gt; &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Referenced)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#af941dc09de3a437e11895a41b8de23f5">KeepUndefined</a> &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isUndefinedSymbol())</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;n_desc &amp; <a class="code" href="namespacellvm_1_1MachO.html#a0ccac1c90d0945d4d243371af446837aa30911644caa01a2fcdc733f62bbbb80b">MachO::REFERENCED_DYNAMICALLY</a>)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a9d5713c258905f31b34b13b07086b7c7">StripAll</a>)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#ac6efd384d0ad969083034e1205ec5166">DiscardMode</a> == <a class="code" href="namespacellvm_1_1objcopy.html#ad8575ac23541d1433a8e492cc876f75aab1c94ca2fbc3e78fc30069c8d0f01680">DiscardType::All</a> &amp;&amp; !(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;n_type &amp; <a class="code" href="namespacellvm_1_1MachO.html#a3c83da58566a7f9174b3d46b7eb2abd2a8bc1bbfcee7206480576072973724a1a">MachO::N_EXT</a>))</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// This behavior is consistent with cctools&#39; strip.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#adc7cdb19bae50c7c3ed42b1a2e34525c">StripSwiftSymbols</a> &amp;&amp;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        (Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#ad496d543def51ce6b51763279ddd7584">Header</a>.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1MachHeader.html#ac51ba4499832320329016831ef5910e4">Flags</a> &amp; <a class="code" href="namespacellvm_1_1MachO.html#ac7f4fa537e5dab277bd0fa20522b8d17a0716fd35b77fa761c2bfd30224c1c687">MachO::MH_DYLDLINK</a>) &amp;&amp; Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a83bd3e89b50db37fd5e21b7591f5ac31">SwiftVersion</a> &amp;&amp;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        *Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a83bd3e89b50db37fd5e21b7591f5ac31">SwiftVersion</a> &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isSwiftSymbol())</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  };</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a653496a554313e67608e0d8f90f39c40">SymTable</a>.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1SymbolTable.html#a93dd1b9a6cbe03781efa0a11ea3bd236">removeSymbols</a>(RemovePred);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> LCType&gt;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a36314b2982eff94abe0b78ad9c97f53f">  126</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MachOObjcopy_8cpp.html#a36314b2982eff94abe0b78ad9c97f53f">updateLoadCommandPayloadString</a>(<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MachOObjcopy_8cpp.html#a49343f777e053584c42f916b5e567142">isLoadCommandWithPayloadString</a>(LC) &amp;&amp;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         <span class="stringliteral">&quot;unsupported load command encountered&quot;</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NewCmdsize = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<span class="keyword">sizeof</span>(LCType) + <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.size() + 1, 8);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmdsize = NewCmdsize;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">Payload</a>.assign(NewCmdsize - <span class="keyword">sizeof</span>(LCType), 0);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">std::copy</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.begin(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.end(), LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">Payload</a>.begin());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a4002ef7d78e41ceeaa9ca3e21222e725">  137</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> <a class="code" href="MachOObjcopy_8cpp.html#a4002ef7d78e41ceeaa9ca3e21222e725">buildRPathLoadCommand</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Path) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> LC;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="structllvm_1_1MachO_1_1rpath__command.html">MachO::rpath_command</a> RPathLC;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  RPathLC.<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html#acce18417e443d6bc1c36cf3340c8dfe8">cmd</a> = MachO::LC_RPATH;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  RPathLC.<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html#a15e13b0a7dd3c76275917a090e4cbfff">path</a> = <span class="keyword">sizeof</span>(<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html">MachO::rpath_command</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  RPathLC.<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html#a5d19f90388f4d2a771c2374b91ce3b7f">cmdsize</a> = <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<span class="keyword">sizeof</span>(<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html">MachO::rpath_command</a>) + Path.size() + 1, 8);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.rpath_command_data = RPathLC;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">Payload</a>.assign(RPathLC.<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html#a5d19f90388f4d2a771c2374b91ce3b7f">cmdsize</a> - <span class="keyword">sizeof</span>(<a class="code" href="structllvm_1_1MachO_1_1rpath__command.html">MachO::rpath_command</a>), 0);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">std::copy</a>(Path.begin(), Path.end(), LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">Payload</a>.begin());</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">return</span> LC;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a14dfead54615906a608b43ce6881920b">  149</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#a14dfead54615906a608b43ce6881920b">processLoadCommands</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a> &amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// Remove RPaths.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;StringRef&gt;</a> RPathsToRemove(<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a916f81c0e991f3f0dea3717cae887764">RPathsToRemove</a>.begin(),</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                     <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a916f81c0e991f3f0dea3717cae887764">RPathsToRemove</a>.end());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="MachOObjcopy_8cpp.html#a9acdfbcce7bf8b9cb5ac43e036141d08">LoadCommandPred</a> RemovePred = [&amp;RPathsToRemove,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                &amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>](<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (LC.MachOLoadCommand.load_command_data.cmd == MachO::LC_RPATH) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="comment">// When removing all RPaths we don&#39;t need to care</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="comment">// about what it contains</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#ab25866653b367bec23cf05ef587b4051">RemoveAllRpaths</a>)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> RPath = <a class="code" href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">getPayloadString</a>(LC);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">if</span> (RPathsToRemove.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(RPath)) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        RPathsToRemove.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#af972d87e15b5f6ed61bd5c3956c5213d">erase</a>(RPath);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  };</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a29234a4bcb1dca0dabae964f8eacb264">removeLoadCommands</a>(RemovePred))</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// Emit an error if the Mach-O binary does not contain an rpath path name</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// specified in -delete_rpath.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> RPath : <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a916f81c0e991f3f0dea3717cae887764">RPathsToRemove</a>) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (RPathsToRemove.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(RPath))</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                               <span class="stringliteral">&quot;no LC_RPATH load command with path: %s&quot;</span>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                               RPath.<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>().c_str());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;StringRef&gt;</a> RPaths;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// Get all existing RPaths.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_RPATH)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">getPayloadString</a>(LC));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// Throw errors for invalid RPaths.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;OldNew : <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#ad9f5e6ffb240fdcc1cdfa1aac327fd4b">RPathsToUpdate</a>) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Old = OldNew.getFirst();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> New = OldNew.getSecond();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (!RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(Old))</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                               <span class="stringliteral">&quot;no LC_RPATH load command with path: &quot;</span> + Old);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(New))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                               <span class="stringliteral">&quot;rpath &#39;&quot;</span> + New +</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                   <span class="stringliteral">&quot;&#39; would create a duplicate load command&quot;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// Update load commands.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">switch</span> (LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">case</span> MachO::LC_ID_DYLIB:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a8e23bb7046c989748f162eab83122d93">SharedLibId</a>)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        updateLoadCommandPayloadString&lt;MachO::dylib_command&gt;(</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            LC, *<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a8e23bb7046c989748f162eab83122d93">SharedLibId</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">case</span> MachO::LC_RPATH: {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> RPath = <a class="code" href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">getPayloadString</a>(LC);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NewRPath = <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#ad9f5e6ffb240fdcc1cdfa1aac327fd4b">RPathsToUpdate</a>.lookup(RPath);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span> (!NewRPath.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>())</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        updateLoadCommandPayloadString&lt;MachO::rpath_command&gt;(LC, NewRPath);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// TODO: Add LC_REEXPORT_DYLIB, LC_LAZY_LOAD_DYLIB, and LC_LOAD_UPWARD_DYLIB</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// here once llvm-objcopy supports them.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">case</span> MachO::LC_LOAD_DYLIB:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">case</span> MachO::LC_LOAD_WEAK_DYLIB:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> InstallName = <a class="code" href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">getPayloadString</a>(LC);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NewInstallName =</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a43a835e9dea583015d151fb5bbe8aa2c">InstallNamesToUpdate</a>.lookup(InstallName);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (!NewInstallName.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>())</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        updateLoadCommandPayloadString&lt;MachO::dylib_command&gt;(LC,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                                             NewInstallName);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// Add new RPaths.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> RPath : <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#aeaabcf623530c6964340a7fbf1429711">RPathToAdd</a>) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(RPath))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                               <span class="stringliteral">&quot;rpath &#39;&quot;</span> + RPath +</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                   <span class="stringliteral">&quot;&#39; would create a duplicate load command&quot;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(RPath);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>.push_back(<a class="code" href="MachOObjcopy_8cpp.html#a4002ef7d78e41ceeaa9ca3e21222e725">buildRPathLoadCommand</a>(RPath));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> RPath : <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a40a1fde31114835514985bff83320863">RPathToPrepend</a>) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">contains</a>(RPath))</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                               <span class="stringliteral">&quot;rpath &#39;&quot;</span> + RPath +</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                   <span class="stringliteral">&quot;&#39; would create a duplicate load command&quot;</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    RPaths.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(RPath);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>.insert(Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>.begin(),</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                            <a class="code" href="MachOObjcopy_8cpp.html#a4002ef7d78e41ceeaa9ca3e21222e725">buildRPathLoadCommand</a>(RPath));</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// Unlike appending rpaths, the indexes of subsequent load commands must</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// be recalculated after prepending one.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a40a1fde31114835514985bff83320863">RPathToPrepend</a>.empty())</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a113f3affc038124b490bb878a5a05b04">updateLoadCommandIndexes</a>();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// Remove any empty segments if required.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a8fa1caf761d4acd4745c4eb38040cfda">EmptySegmentsToRemove</a>.empty()) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keyword">auto</span> RemovePred = [&amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>](<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">if</span> (LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_SEGMENT_64 ||</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">MachOLoadCommand</a>.load_command_data.cmd == MachO::LC_SEGMENT) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;               <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>.<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html#a8fa1caf761d4acd4745c4eb38040cfda">EmptySegmentsToRemove</a>.contains(*LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a9f8d500e5dff1d5da2c3acb1cdf633e9">getSegmentName</a>());</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    };</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a29234a4bcb1dca0dabae964f8eacb264">removeLoadCommands</a>(RemovePred))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#ac83aff13dcc3301e82ac631a13b478e4">  278</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#ac83aff13dcc3301e82ac631a13b478e4">dumpSectionToFile</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SecName, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Filename,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                               <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;Sec : LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">if</span> (Sec-&gt;CanonicalName == SecName) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;FileOutputBuffer&gt;</a>&gt; BufferOrErr =</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="classllvm_1_1FileOutputBuffer.html#a3a10ce8cad8fee5d6a4c55270866aa05">FileOutputBuffer::create</a>(Filename, Sec-&gt;Content.size());</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> (!BufferOrErr)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          <span class="keywordflow">return</span> BufferOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        std::unique_ptr&lt;FileOutputBuffer&gt; Buf = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*BufferOrErr);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a>(Sec-&gt;Content, Buf-&gt;getBufferStart());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Buf-&gt;commit())</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(object_error::parse_failed, <span class="stringliteral">&quot;section &#39;%s&#39; not found&quot;</span>,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                           SecName.<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>().c_str());</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#aa6138676e4615546fc1c7d559029916a">  300</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#aa6138676e4615546fc1c7d559029916a">addSection</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html">NewSectionInfo</a> &amp;NewSection, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  std::pair&lt;StringRef, StringRef&gt; Pair = NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a05c34cfa6560e1e8b1aa9a540d5505e3">SectionName</a>.<a class="code" href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">split</a>(<span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TargetSegName = Pair.first;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html">Section</a> Sec(TargetSegName, Pair.second);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#a6560167012e320de6291d4d2897cb26c">Content</a> =</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a16bee11bc1500081f5af7293e515a6f8">NewSectionsContents</a>.<a class="code" href="classllvm_1_1StringSaver.html#ada08f15f76fa550da28d92b038b6644b">save</a>(NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a641257caac84236fba46e30aa91f6c7a">SectionData</a>-&gt;getBuffer());</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#af8518cb8fda5065b350c17c993b2f187">Size</a> = Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#a6560167012e320de6291d4d2897cb26c">Content</a>.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Add the a section into an existing segment.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    std::optional&lt;StringRef&gt; SegName = LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a9f8d500e5dff1d5da2c3acb1cdf633e9">getSegmentName</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (SegName &amp;&amp; SegName == TargetSegName) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = *LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aba583cbf3f31bbb8851463e449bf5cd5">getSegmentVMAddr</a>();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;Addr + <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;Size);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>.push_back(std::make_unique&lt;Section&gt;(Sec));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>.back()-&gt;Addr = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// There&#39;s no segment named TargetSegName. Create a new load command and</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// Insert a new section into it.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;NewSegment =</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#aede39cad347831c61affdf79666a37db">addSegment</a>(TargetSegName, <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#af8518cb8fda5065b350c17c993b2f187">Size</a>, 16384));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  NewSegment.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>.push_back(std::make_unique&lt;Section&gt;(Sec));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  NewSegment.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>.back()-&gt;Addr = *NewSegment.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aba583cbf3f31bbb8851463e449bf5cd5">getSegmentVMAddr</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a4e0ff47f6d4abcdc8ebcf4daf31d8d9a">  330</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Expected.html">Expected&lt;Section &amp;&gt;</a> <a class="code" href="MachOObjcopy_8cpp.html#a4e0ff47f6d4abcdc8ebcf4daf31d8d9a">findSection</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SecName, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SegName;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  std::tie(SegName, SecName) = SecName.<a class="code" href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">split</a>(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keyword">auto</span> FoundSeg =</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.LoadCommands, [SegName](<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        return LC.getSegmentName() == SegName;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      });</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (FoundSeg == <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.LoadCommands.end())</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                             <span class="stringliteral">&quot;could not find segment with name &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                             SegName.<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>().c_str());</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keyword">auto</span> FoundSec = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a>(FoundSeg-&gt;Sections,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                [SecName](<span class="keyword">const</span> std::unique_ptr&lt;Section&gt; &amp;Sec) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                  return Sec-&gt;Sectname == SecName;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                });</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span> (FoundSec == FoundSeg-&gt;Sections.end())</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                             <span class="stringliteral">&quot;could not find section with name &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                             SecName.<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>().c_str());</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FoundSec-&gt;get()-&gt;CanonicalName == (SegName + <span class="stringliteral">&quot;,&quot;</span> + SecName).str());</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> **FoundSec;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#afcfed892d87764504587749693efe357">  354</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#afcfed892d87764504587749693efe357">updateSection</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html">NewSectionInfo</a> &amp;NewSection, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="classllvm_1_1Expected.html">Expected&lt;Section &amp;&gt;</a> SecToUpdateOrErr = <a class="code" href="MachOObjcopy_8cpp.html#a4e0ff47f6d4abcdc8ebcf4daf31d8d9a">findSection</a>(NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a05c34cfa6560e1e8b1aa9a540d5505e3">SectionName</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (!SecToUpdateOrErr)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> SecToUpdateOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html">Section</a> &amp;Sec = *SecToUpdateOrErr;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a641257caac84236fba46e30aa91f6c7a">SectionData</a>-&gt;getBufferSize() &gt; Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#af8518cb8fda5065b350c17c993b2f187">Size</a>)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="stringliteral">&quot;new section cannot be larger than previous section&quot;</span>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#a6560167012e320de6291d4d2897cb26c">Content</a> = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.NewSectionsContents.save(NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a641257caac84236fba46e30aa91f6c7a">SectionData</a>-&gt;getBuffer());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#af8518cb8fda5065b350c17c993b2f187">Size</a> = Sec.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Section.html#a6560167012e320de6291d4d2897cb26c">Content</a>.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">// isValidMachOCannonicalName returns success if Name is a MachO cannonical name</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">// (&quot;&lt;segment&gt;,&lt;section&gt;&quot;) and lengths of both segment and section names are</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">// valid.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a1d2a5be3f3c66e1c7670d490725af1d8">  373</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#a1d2a5be3f3c66e1c7670d490725af1d8">isValidMachOCannonicalName</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">if</span> (Name.count(<span class="charliteral">&#39;,&#39;</span>) != 1)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                             <span class="stringliteral">&quot;invalid section name &#39;%s&#39; (should be formatted &quot;</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                             <span class="stringliteral">&quot;as &#39;&lt;segment name&gt;,&lt;section name&gt;&#39;)&quot;</span>,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                             Name.str().c_str());</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  std::pair&lt;StringRef, StringRef&gt; Pair = Name.split(<span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> (Pair.first.size() &gt; 16)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                             <span class="stringliteral">&quot;too long segment name: &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                             Pair.first.str().c_str());</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (Pair.second.size() &gt; 16)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(<a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                             <span class="stringliteral">&quot;too long section name: &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                             Pair.second.str().c_str());</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="MachOObjcopy_8cpp.html#a8fdf1b59602b3fa2d23286e468abb8a9">  392</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="MachOObjcopy_8cpp.html#a8fdf1b59602b3fa2d23286e468abb8a9">handleArgs</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html">CommonConfig</a> &amp;Config,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        <span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a> &amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>, <a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html">Object</a> &amp;Obj) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// Dump sections before add/remove for compatibility with GNU objcopy.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> : Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a2352592cf543e97a6a5206ceb9144603">DumpSection</a>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1ElfNote.html#aa702f4b4896b49796a6e6be51b14bfc1">SectionName</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FileName;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    std::tie(<a class="code" href="structllvm_1_1SectionName.html">SectionName</a>, FileName) = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.split(<span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#ac83aff13dcc3301e82ac631a13b478e4">dumpSectionToFile</a>(<a class="code" href="structllvm_1_1SectionName.html">SectionName</a>, FileName, Obj))</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#a918836be9d98b9555fa33b3153155511">removeSections</a>(Config, Obj))</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">// Mark symbols to determine which symbols are still needed.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">if</span> (Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a9d5713c258905f31b34b13b07086b7c7">StripAll</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="MachOObjcopy_8cpp.html#a506d6e3bcda2cef91232c70016b03355">markSymbols</a>(Config, Obj);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="MachOObjcopy_8cpp.html#af77b232892df5c7e1321f2885b0c49ef">updateAndRemoveSymbols</a>(Config, <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>, Obj);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a9d5713c258905f31b34b13b07086b7c7">StripAll</a>)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">LoadCommand</a> &amp;LC : Obj.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">LoadCommands</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">for</span> (std::unique_ptr&lt;Section&gt; &amp;Sec : LC.<a class="code" href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">Sections</a>)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        Sec-&gt;Relocations.clear();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html">NewSectionInfo</a> &amp;NewSection : Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#acc70a26186c169dd4c153b43ef7daad9">AddSection</a>) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#a1d2a5be3f3c66e1c7670d490725af1d8">isValidMachOCannonicalName</a>(NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a05c34cfa6560e1e8b1aa9a540d5505e3">SectionName</a>))</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#aa6138676e4615546fc1c7d559029916a">addSection</a>(NewSection, Obj))</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html">NewSectionInfo</a> &amp;NewSection : Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a265bac66780f8b0670023c2839058508">UpdateSection</a>) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#a1d2a5be3f3c66e1c7670d490725af1d8">isValidMachOCannonicalName</a>(NewSection.<a class="code" href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a05c34cfa6560e1e8b1aa9a540d5505e3">SectionName</a>))</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#afcfed892d87764504587749693efe357">updateSection</a>(NewSection, Obj))</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#a14dfead54615906a608b43ce6881920b">processLoadCommands</a>(<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>, Obj))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="namespacellvm_1_1objcopy_1_1macho.html#ad23f6403620ffb61f8c0e1f006f6ea66">  437</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="namespacellvm_1_1objcopy_1_1macho.html#ad23f6403620ffb61f8c0e1f006f6ea66">objcopy::macho::executeObjcopyOnBinary</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html">CommonConfig</a> &amp;Config,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a> &amp;<a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                             <a class="code" href="classllvm_1_1object_1_1MachOObjectFile.html">object::MachOObjectFile</a> &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                             <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;Out) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1objcopy_1_1macho_1_1MachOReader.html">MachOReader</a> <a class="code" href="classllvm_1_1objcopy_1_1macho_1_1Reader.html">Reader</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;Object&gt;</a>&gt; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = <a class="code" href="classllvm_1_1objcopy_1_1macho_1_1Reader.html">Reader</a>.<a class="code" href="classllvm_1_1objcopy_1_1macho_1_1Reader.html#adda267d924a2436e6480187a33180a5f">create</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0f4ffaa2f15fc8f612a233e3b45510c0">createFileError</a>(Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a24e1ca7d92cbc2a42152ac37dbc0e7ad">InputFilename</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.takeError());</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>-&gt;get()-&gt;Header.FileType == <a class="code" href="namespacellvm_1_1MachO.html#a4099e754341e36bdbc04624fa2f1e19aa43095f132c345c9e3de6277f63d60bdd">MachO::HeaderFileType::MH_PRELOAD</a>)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(std::errc::not_supported,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                             <span class="stringliteral">&quot;%s: MH_PRELOAD files are not supported&quot;</span>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                             Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a24e1ca7d92cbc2a42152ac37dbc0e7ad">InputFilename</a>.<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>().c_str());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="MachOObjcopy_8cpp.html#a8fdf1b59602b3fa2d23286e468abb8a9">handleArgs</a>(Config, <a class="code" href="structllvm_1_1objcopy_1_1MachOConfig.html">MachOConfig</a>, **<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>))</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0f4ffaa2f15fc8f612a233e3b45510c0">createFileError</a>(Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a24e1ca7d92cbc2a42152ac37dbc0e7ad">InputFilename</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>));</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// Page size used for alignment of segment sizes in Mach-O executables and</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">// dynamic libraries.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getArch()) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">case</span> Triple::ArchType::arm:</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">case</span> Triple::ArchType::aarch64:</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">case</span> Triple::ArchType::aarch64_32:</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a> = 16384;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a> = 4096;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="classllvm_1_1objcopy_1_1macho_1_1MachOWriter.html">MachOWriter</a> Writer(**<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.is64Bit(), <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.isLittleEndian(),</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                     <a class="code" href="namespacellvm_1_1sys_1_1path.html#a5ab6bf136f12ce0bfe2a9754cf1644c7">sys::path::filename</a>(Config.<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a8a04952cef062450e2bd671d5e4b3c0c">OutputFilename</a>), <a class="code" href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a>, Out);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Writer.<a class="code" href="classllvm_1_1objcopy_1_1macho_1_1MachOWriter.html#a6075f02bb8591bb5bf64134c7597631d">finalize</a>())</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">return</span> Writer.<a class="code" href="classllvm_1_1objcopy_1_1macho_1_1MachOWriter.html#a664a6fc223b56ef4fec7642360062ae0">write</a>();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="namespacellvm_1_1objcopy_1_1macho.html#af0902234f18e67e03ce4b3d4d8a6a273">  474</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="namespacellvm_1_1objcopy_1_1macho.html#af0902234f18e67e03ce4b3d4d8a6a273">objcopy::macho::executeObjcopyOnMachOUniversalBinary</a>(</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1objcopy_1_1MultiFormatConfig.html">MultiFormatConfig</a> &amp;Config, <span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1MachOUniversalBinary.html">MachOUniversalBinary</a> &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;Out) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OwningBinary&lt;Binary&gt;</a>, 2&gt; Binaries;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Slice, 2&gt;</a> Slices;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.objects()) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;Archive&gt;</a>&gt; ArOrErr = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getAsArchive();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (ArOrErr) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::vector&lt;NewArchiveMember&gt;</a>&gt; NewArchiveMembersOrErr =</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          <a class="code" href="namespacellvm_1_1objcopy.html#afb660c7a07ee04be6dac1b6ce20de6d6">createNewArchiveMembers</a>(Config, **ArOrErr);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">if</span> (!NewArchiveMembersOrErr)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> NewArchiveMembersOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1object.html#a42e5b6ee6f67085d2115b2ea44588c47">Kind</a> = (*ArOrErr)-&gt;kind();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1object.html#a42e5b6ee6f67085d2115b2ea44588c47">Kind</a> == <a class="code" href="classllvm_1_1object_1_1Archive.html#ab288378fa8bfa0678dd25e36b5198a87a769a0d23f23121590187fb224cfa650f">object::Archive::K_BSD</a>)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="namespacellvm_1_1object.html#a42e5b6ee6f67085d2115b2ea44588c47">Kind</a> = <a class="code" href="classllvm_1_1object_1_1Archive.html#ab288378fa8bfa0678dd25e36b5198a87a521625eb71f7beb3f5764da18be48ae8">object::Archive::K_DARWIN</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;MemoryBuffer&gt;</a>&gt; OutputBufferOrErr =</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;          <a class="code" href="namespacellvm.html#a14c2fe7044222da697a655d7f04c1606">writeArchiveToBuffer</a>(*NewArchiveMembersOrErr,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                               (*ArOrErr)-&gt;hasSymbolTable(), <a class="code" href="namespacellvm_1_1object.html#a42e5b6ee6f67085d2115b2ea44588c47">Kind</a>,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                               Config.<a class="code" href="classllvm_1_1objcopy_1_1MultiFormatConfig.html#a9f3bfa749c13a25c229b0c6788c76931">getCommonConfig</a>().<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a8b05a53d014a071653516a835619a22c">DeterministicArchives</a>,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                               (*ArOrErr)-&gt;isThin());</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">if</span> (!OutputBufferOrErr)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> OutputBufferOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;Binary&gt;</a>&gt; BinaryOrErr =</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          <a class="code" href="namespacellvm_1_1object.html#aebd3886db896c46327320cfd1ccc808c">object::createBinary</a>(**OutputBufferOrErr);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">if</span> (!BinaryOrErr)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">return</span> BinaryOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      Binaries.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*BinaryOrErr),</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                            <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*OutputBufferOrErr));</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      Slices.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(*cast&lt;Archive&gt;(Binaries.back().getBinary()),</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getCPUType(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getCPUSubType(),</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getArchFlagName(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getAlign());</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// The methods getAsArchive, getAsObjectFile, getAsIRObject of the class</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// ObjectForArch return an Error in case of the type mismatch. We need to</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// check each in turn to see what kind of slice this is, so ignore errors</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// produced along the way.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">consumeError</a>(ArOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>());</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;MachOObjectFile&gt;</a>&gt; ObjOrErr = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getAsObjectFile();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (!ObjOrErr) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">consumeError</a>(ObjOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>());</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          std::errc::invalid_argument,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          <span class="stringliteral">&quot;slice for &#39;%s&#39; of the universal Mach-O binary &quot;</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;          <span class="stringliteral">&quot;&#39;%s&#39; is not a Mach-O object or an archive&quot;</span>,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getArchFlagName().c_str(),</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          Config.<a class="code" href="classllvm_1_1objcopy_1_1MultiFormatConfig.html#a9f3bfa749c13a25c229b0c6788c76931">getCommonConfig</a>().<a class="code" href="structllvm_1_1objcopy_1_1CommonConfig.html#a24e1ca7d92cbc2a42152ac37dbc0e7ad">InputFilename</a>.<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>().c_str());</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    std::string ArchFlagName = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getArchFlagName();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;char, 0&gt;</a> Buffer;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="classllvm_1_1raw__svector__ostream.html">raw_svector_ostream</a> MemStream(Buffer);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="classllvm_1_1Expected.html">Expected&lt;const MachOConfig &amp;&gt;</a> MachO = Config.<a class="code" href="classllvm_1_1objcopy_1_1MultiFormatConfig.html#a7cb62742ef8b99ffc6b0dea7860486b1">getMachOConfig</a>();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (!MachO)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="keywordflow">return</span> MachO.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm_1_1objcopy_1_1macho.html#ad23f6403620ffb61f8c0e1f006f6ea66">executeObjcopyOnBinary</a>(Config.<a class="code" href="classllvm_1_1objcopy_1_1MultiFormatConfig.html#a9f3bfa749c13a25c229b0c6788c76931">getCommonConfig</a>(), *MachO,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                         **ObjOrErr, MemStream))</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keyword">auto</span> MB = std::make_unique&lt;SmallVectorMemoryBuffer&gt;(</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Buffer), ArchFlagName, <span class="comment">/*RequiresNullTerminator=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;Binary&gt;</a>&gt; BinaryOrErr = <a class="code" href="namespacellvm_1_1object.html#aebd3886db896c46327320cfd1ccc808c">object::createBinary</a>(*MB);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (!BinaryOrErr)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">return</span> BinaryOrErr.<a class="code" href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">takeError</a>();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    Binaries.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*BinaryOrErr), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(MB));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    Slices.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(*cast&lt;MachOObjectFile&gt;(Binaries.back().getBinary()),</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.getAlign());</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> Err = <a class="code" href="namespacellvm_1_1object.html#af09c82390c3b97ce4290439dc551aa0b">writeUniversalBinaryToStream</a>(Slices, Out))</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aMachOUniversalWriter_8h_html"><div class="ttname"><a href="MachOUniversalWriter_8h.html">MachOUniversalWriter.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="anamespacellvm_html_a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f"><div class="ttname"><a href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">llvm::errc::invalid_argument</a></div><div class="ttdeci">@ invalid_argument</div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_a40a1fde31114835514985bff83320863"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#a40a1fde31114835514985bff83320863">llvm::objcopy::MachOConfig::RPathToPrepend</a></div><div class="ttdeci">std::vector&lt; StringRef &gt; RPathToPrepend</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00025">MachOConfig.h:25</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a16bee11bc1500081f5af7293e515a6f8"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a16bee11bc1500081f5af7293e515a6f8">llvm::objcopy::macho::Object::NewSectionsContents</a></div><div class="ttdeci">StringSaver NewSectionsContents</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00345">MachOObject.h:345</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html_a42e5b6ee6f67085d2115b2ea44588c47"><div class="ttname"><a href="namespacellvm_1_1object.html#a42e5b6ee6f67085d2115b2ea44588c47">llvm::object::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="COFFModuleDefinition_8cpp_source.html#l00031">COFFModuleDefinition.cpp:31</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_a8a04952cef062450e2bd671d5e4b3c0c"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#a8a04952cef062450e2bd671d5e4b3c0c">llvm::objcopy::CommonConfig::OutputFilename</a></div><div class="ttdeci">StringRef OutputFilename</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00205">CommonConfig.h:205</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_a24e1ca7d92cbc2a42152ac37dbc0e7ad"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#a24e1ca7d92cbc2a42152ac37dbc0e7ad">llvm::objcopy::CommonConfig::InputFilename</a></div><div class="ttdeci">StringRef InputFilename</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00203">CommonConfig.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Archive_html_ab288378fa8bfa0678dd25e36b5198a87a769a0d23f23121590187fb224cfa650f"><div class="ttname"><a href="classllvm_1_1object_1_1Archive.html#ab288378fa8bfa0678dd25e36b5198a87a769a0d23f23121590187fb224cfa650f">llvm::object::Archive::K_BSD</a></div><div class="ttdeci">@ K_BSD</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Object_2Archive_8h_source.html#l00336">Archive.h:336</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_a43a835e9dea583015d151fb5bbe8aa2c"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#a43a835e9dea583015d151fb5bbe8aa2c">llvm::objcopy::MachOConfig::InstallNamesToUpdate</a></div><div class="ttdeci">DenseMap&lt; StringRef, StringRef &gt; InstallNamesToUpdate</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00027">MachOConfig.h:27</a></div></div>
<div class="ttc" id="aMachOConfig_8h_html"><div class="ttname"><a href="MachOConfig_8h.html">MachOConfig.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1MultiFormatConfig_html_a7cb62742ef8b99ffc6b0dea7860486b1"><div class="ttname"><a href="classllvm_1_1objcopy_1_1MultiFormatConfig.html#a7cb62742ef8b99ffc6b0dea7860486b1">llvm::objcopy::MultiFormatConfig::getMachOConfig</a></div><div class="ttdeci">virtual Expected&lt; const MachOConfig &amp; &gt; getMachOConfig() const =0</div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a506d6e3bcda2cef91232c70016b03355"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a506d6e3bcda2cef91232c70016b03355">markSymbols</a></div><div class="ttdeci">static void markSymbols(const CommonConfig &amp;, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00086">MachOObjcopy.cpp:86</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_ae196d6fcc377004d38c6a1a70f4f8146"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#ae196d6fcc377004d38c6a1a70f4f8146">llvm::objcopy::macho::Object::IndirectSymTable</a></div><div class="ttdeci">IndirectSymbolTable IndirectSymTable</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00310">MachOObject.h:310</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Section_html_a6560167012e320de6291d4d2897cb26c"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Section.html#a6560167012e320de6291d4d2897cb26c">llvm::objcopy::macho::Section::Content</a></div><div class="ttdeci">StringRef Content</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00056">MachOObject.h:56</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1rpath__command_html_a5d19f90388f4d2a771c2374b91ce3b7f"><div class="ttname"><a href="structllvm_1_1MachO_1_1rpath__command.html#a5d19f90388f4d2a771c2374b91ce3b7f">llvm::MachO::rpath_command::cmdsize</a></div><div class="ttdeci">uint32_t cmdsize</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00801">MachO.h:801</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1NewSectionInfo_html_a05c34cfa6560e1e8b1aa9a540d5505e3"><div class="ttname"><a href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a05c34cfa6560e1e8b1aa9a540d5505e3">llvm::objcopy::NewSectionInfo::SectionName</a></div><div class="ttdeci">StringRef SectionName</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00196">CommonConfig.h:196</a></div></div>
<div class="ttc" id="aMachOWriter_8h_html"><div class="ttname"><a href="MachOWriter_8h.html">MachOWriter.h</a></div></div>
<div class="ttc" id="aELFObjcopy_8cpp_html_a5d2098d7d394c83ff9e7e4c780987788"><div class="ttname"><a href="ELFObjcopy_8cpp.html#a5d2098d7d394c83ff9e7e4c780987788">SectionPred</a></div><div class="ttdeci">std::function&lt; bool(const SectionBase &amp;Sec)&gt; SectionPred</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjcopy_8cpp_source.html#l00052">ELFObjcopy.cpp:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1NameMatcher_html_a8fe6d6e80304c85e35c03066ae1bcfa9"><div class="ttname"><a href="classllvm_1_1objcopy_1_1NameMatcher.html#a8fe6d6e80304c85e35c03066ae1bcfa9">llvm::objcopy::NameMatcher::matches</a></div><div class="ttdeci">bool matches(StringRef S) const</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00150">CommonConfig.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aPath_8h_html"><div class="ttname"><a href="Path_8h.html">Path.h</a></div></div>
<div class="ttc" id="aMultiFormatConfig_8h_html"><div class="ttname"><a href="MultiFormatConfig_8h.html">MultiFormatConfig.h</a></div></div>
<div class="ttc" id="aSmallVectorMemoryBuffer_8h_html"><div class="ttname"><a href="SmallVectorMemoryBuffer_8h.html">SmallVectorMemoryBuffer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html_a4dfd0813c3d0e0a30439b5a3e9196b59"><div class="ttname"><a href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">llvm::Error::success</a></div><div class="ttdeci">static ErrorSuccess success()</div><div class="ttdoc">Create a success value.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00330">Error.h:330</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_1_1macho_html_af0902234f18e67e03ce4b3d4d8a6a273"><div class="ttname"><a href="namespacellvm_1_1objcopy_1_1macho.html#af0902234f18e67e03ce4b3d4d8a6a273">llvm::objcopy::macho::executeObjcopyOnMachOUniversalBinary</a></div><div class="ttdeci">Error executeObjcopyOnMachOUniversalBinary(const MultiFormatConfig &amp;Config, const object::MachOUniversalBinary &amp;In, raw_ostream &amp;Out)</div><div class="ttdoc">Apply the transformations described by Config and MachOConfig to In and writes the result into Out.</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00474">MachOObjcopy.cpp:474</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1SymbolTable_html_a93dd1b9a6cbe03781efa0a11ea3bd236"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1SymbolTable.html#a93dd1b9a6cbe03781efa0a11ea3bd236">llvm::objcopy::macho::SymbolTable::removeSymbols</a></div><div class="ttdeci">void removeSymbols(function_ref&lt; bool(const std::unique_ptr&lt; SymbolEntry &gt; &amp;)&gt; ToRemove)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00035">MachOObject.cpp:35</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1rpath__command_html"><div class="ttname"><a href="structllvm_1_1MachO_1_1rpath__command.html">llvm::MachO::rpath_command</a></div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00799">MachO.h:799</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a36314b2982eff94abe0b78ad9c97f53f"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a36314b2982eff94abe0b78ad9c97f53f">updateLoadCommandPayloadString</a></div><div class="ttdeci">static void updateLoadCommandPayloadString(LoadCommand &amp;LC, StringRef S)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00126">MachOObjcopy.cpp:126</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_a8fa1caf761d4acd4745c4eb38040cfda"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#a8fa1caf761d4acd4745c4eb38040cfda">llvm::objcopy::MachOConfig::EmptySegmentsToRemove</a></div><div class="ttdeci">DenseSet&lt; StringRef &gt; EmptySegmentsToRemove</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00034">MachOConfig.h:34</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_ae7d2b6748551fda8ea5d3757f96f7d0b"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#ae7d2b6748551fda8ea5d3757f96f7d0b">llvm::objcopy::CommonConfig::SymbolsToRename</a></div><div class="ttdeci">StringMap&lt; StringRef &gt; SymbolsToRename</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00245">CommonConfig.h:245</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_af941dc09de3a437e11895a41b8de23f5"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#af941dc09de3a437e11895a41b8de23f5">llvm::objcopy::MachOConfig::KeepUndefined</a></div><div class="ttdeci">bool KeepUndefined</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00038">MachOConfig.h:38</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_ac6efd384d0ad969083034e1205ec5166"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#ac6efd384d0ad969083034e1205ec5166">llvm::objcopy::CommonConfig::DiscardMode</a></div><div class="ttdeci">DiscardType DiscardMode</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00219">CommonConfig.h:219</a></div></div>
<div class="ttc" id="aErrc_8h_html"><div class="ttname"><a href="Errc_8h.html">Errc.h</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_ac83aff13dcc3301e82ac631a13b478e4"><div class="ttname"><a href="MachOObjcopy_8cpp.html#ac83aff13dcc3301e82ac631a13b478e4">dumpSectionToFile</a></div><div class="ttdeci">static Error dumpSectionToFile(StringRef SecName, StringRef Filename, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00278">MachOObjcopy.cpp:278</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_aa6138676e4615546fc1c7d559029916a"><div class="ttname"><a href="MachOObjcopy_8cpp.html#aa6138676e4615546fc1c7d559029916a">addSection</a></div><div class="ttdeci">static Error addSection(const NewSectionInfo &amp;NewSection, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00300">MachOObjcopy.cpp:300</a></div></div>
<div class="ttc" id="anamespacellvm_html_abb650e853db0ddbb60411b885c499737"><div class="ttname"><a href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a></div><div class="ttdeci">OutputIt copy(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01837">STLExtras.h:1837</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1rpath__command_html_a15e13b0a7dd3c76275917a090e4cbfff"><div class="ttname"><a href="structllvm_1_1MachO_1_1rpath__command.html#a15e13b0a7dd3c76275917a090e4cbfff">llvm::MachO::rpath_command::path</a></div><div class="ttdeci">uint32_t path</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00802">MachO.h:802</a></div></div>
<div class="ttc" id="aFileOutputBuffer_8h_html"><div class="ttname"><a href="FileOutputBuffer_8h.html">FileOutputBuffer.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_1_1macho_html"><div class="ttname"><a href="namespacellvm_1_1objcopy_1_1macho.html">llvm::objcopy::macho</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8h_source.html#l00026">MachOObjcopy.h:26</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1macho_1_1MachOReader_html"><div class="ttname"><a href="classllvm_1_1objcopy_1_1macho_1_1MachOReader.html">llvm::objcopy::macho::MachOReader</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOReader_8h_source.html#l00030">MachOReader.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1macho_1_1Reader_html"><div class="ttname"><a href="classllvm_1_1objcopy_1_1macho_1_1Reader.html">llvm::objcopy::macho::Reader</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOReader_8h_source.html#l00024">MachOReader.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_ab25866653b367bec23cf05ef587b4051"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#ab25866653b367bec23cf05ef587b4051">llvm::objcopy::MachOConfig::RemoveAllRpaths</a></div><div class="ttdeci">bool RemoveAllRpaths</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00041">MachOConfig.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee0e70be66536b9ef7b65ae2e5a45959"><div class="ttname"><a href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">llvm::consumeError</a></div><div class="ttdeci">void consumeError(Error Err)</div><div class="ttdoc">Consume a Error without doing anything.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01043">Error.h:1043</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_ae3326a9bb0843a456b29982ae9be935d"><div class="ttname"><a href="MachOObjcopy_8cpp.html#ae3326a9bb0843a456b29982ae9be935d">getPayloadString</a></div><div class="ttdeci">static StringRef getPayloadString(const LoadCommand &amp;LC)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00046">MachOObjcopy.cpp:46</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1IndirectSymbolTable_html_aa75fd45f620f74df78d9ed001171048f"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolTable.html#aa75fd45f620f74df78d9ed001171048f">llvm::objcopy::macho::IndirectSymbolTable::Symbols</a></div><div class="ttdeci">std::vector&lt; IndirectSymbolEntry &gt; Symbols</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00163">MachOObject.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1MultiFormatConfig_html_a9f3bfa749c13a25c229b0c6788c76931"><div class="ttname"><a href="classllvm_1_1objcopy_1_1MultiFormatConfig.html#a9f3bfa749c13a25c229b0c6788c76931">llvm::objcopy::MultiFormatConfig::getCommonConfig</a></div><div class="ttdeci">virtual const CommonConfig &amp; getCommonConfig() const =0</div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry.html">llvm::objcopy::macho::IndirectSymbolEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00149">MachOObject.h:149</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1MachHeader_html_ac51ba4499832320329016831ef5910e4"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1MachHeader.html#ac51ba4499832320329016831ef5910e4">llvm::objcopy::macho::MachHeader::Flags</a></div><div class="ttdeci">uint32_t Flags</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00033">MachOObject.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html"><div class="ttname"><a href="namespacellvm_1_1object.html">llvm::object</a></div><div class="ttdef"><b>Definition:</b> <a href="DWARFDebugLoc_8h_source.html#l00024">DWARFDebugLoc.h:24</a></div></div>
<div class="ttc" id="aArchiveWriter_8h_html"><div class="ttname"><a href="ArchiveWriter_8h.html">ArchiveWriter.h</a></div></div>
<div class="ttc" id="aImplicitNullChecks_8cpp_html_a7c77357cccbb9291259cfcacd7324e2e"><div class="ttname"><a href="ImplicitNullChecks_8cpp.html#a7c77357cccbb9291259cfcacd7324e2e">PageSize</a></div><div class="ttdeci">static cl::opt&lt; int &gt; PageSize(&quot;imp-null-check-page-size&quot;, cl::desc(&quot;The page size of the target in bytes&quot;), cl::init(4096), cl::Hidden)</div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_aba256fcc9763c4d144e805e67f6790f9"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#aba256fcc9763c4d144e805e67f6790f9">llvm::objcopy::CommonConfig::OnlySection</a></div><div class="ttdeci">NameMatcher OnlySection</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00228">CommonConfig.h:228</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0f4ffaa2f15fc8f612a233e3b45510c0"><div class="ttname"><a href="namespacellvm.html#a0f4ffaa2f15fc8f612a233e3b45510c0">llvm::createFileError</a></div><div class="ttdeci">Error createFileError(const Twine &amp;F, Error E)</div><div class="ttdoc">Concatenate a source file path and/or name with an Error.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01327">Error.h:1327</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a29234a4bcb1dca0dabae964f8eacb264"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a29234a4bcb1dca0dabae964f8eacb264">llvm::objcopy::macho::Object::removeLoadCommands</a></div><div class="ttdeci">Error removeLoadCommands(function_ref&lt; bool(const LoadCommand &amp;)&gt; ToRemove)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00091">MachOObject.cpp:91</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1NewSectionInfo_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1NewSectionInfo.html">llvm::objcopy::NewSectionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00191">CommonConfig.h:191</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1rpath__command_html_acce18417e443d6bc1c36cf3340c8dfe8"><div class="ttname"><a href="structllvm_1_1MachO_1_1rpath__command.html#acce18417e443d6bc1c36cf3340c8dfe8">llvm::MachO::rpath_command::cmd</a></div><div class="ttdeci">uint32_t cmd</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00800">MachO.h:800</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1LoadCommand_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html">llvm::objcopy::macho::LoadCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00078">MachOObject.h:78</a></div></div>
<div class="ttc" id="aMachOUniversal_8h_html"><div class="ttname"><a href="MachOUniversal_8h.html">MachOUniversal.h</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html">llvm::objcopy::MachOConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00022">MachOConfig.h:22</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_acc70a26186c169dd4c153b43ef7daad9"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#acc70a26186c169dd4c153b43ef7daad9">llvm::objcopy::CommonConfig::AddSection</a></div><div class="ttdeci">std::vector&lt; NewSectionInfo &gt; AddSection</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00222">CommonConfig.h:222</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html">llvm::objcopy::macho::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00298">MachOObject.h:298</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a83bd3e89b50db37fd5e21b7591f5ac31"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a83bd3e89b50db37fd5e21b7591f5ac31">llvm::objcopy::macho::Object::SwiftVersion</a></div><div class="ttdeci">std::optional&lt; uint32_t &gt; SwiftVersion</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00318">MachOObject.h:318</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_aeaabcf623530c6964340a7fbf1429711"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#aeaabcf623530c6964340a7fbf1429711">llvm::objcopy::MachOConfig::RPathToAdd</a></div><div class="ttdeci">std::vector&lt; StringRef &gt; RPathToAdd</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00024">MachOConfig.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_a2352592cf543e97a6a5206ceb9144603"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#a2352592cf543e97a6a5206ceb9144603">llvm::objcopy::CommonConfig::DumpSection</a></div><div class="ttdeci">std::vector&lt; StringRef &gt; DumpSection</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00223">CommonConfig.h:223</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1SymbolEntry_html_a614b7cc8bdf811b60786c0dba3214906"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1SymbolEntry.html#a614b7cc8bdf811b60786c0dba3214906">llvm::objcopy::macho::SymbolEntry::Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00105">MachOObject.h:105</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_1_1macho_html_ad23f6403620ffb61f8c0e1f006f6ea66"><div class="ttname"><a href="namespacellvm_1_1objcopy_1_1macho.html#ad23f6403620ffb61f8c0e1f006f6ea66">llvm::objcopy::macho::executeObjcopyOnBinary</a></div><div class="ttdeci">Error executeObjcopyOnBinary(const CommonConfig &amp;Config, const MachOConfig &amp;MachOConfig, object::MachOObjectFile &amp;In, raw_ostream &amp;Out)</div><div class="ttdoc">Apply the transformations described by Config and MachOConfig to In and writes the result into Out.</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00437">MachOObjcopy.cpp:437</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">llvm::MCID::Flag</a></div><div class="ttdeci">Flag</div><div class="ttdoc">These should be considered private to the implementation of the MCInstrDesc class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00148">MCInstrDesc.h:148</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Section_html_af8518cb8fda5065b350c17c993b2f187"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Section.html#af8518cb8fda5065b350c17c993b2f187">llvm::objcopy::macho::Section::Size</a></div><div class="ttdeci">uint64_t Size</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00045">MachOObject.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1ElfNote_html_aa702f4b4896b49796a6e6be51b14bfc1"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1ElfNote.html#aa702f4b4896b49796a6e6be51b14bfc1">llvm::AMDGPU::ElfNote::SectionName</a></div><div class="ttdeci">const char SectionName[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUPTNote_8h_source.html#l00024">AMDGPUPTNote.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1MultiFormatConfig_html"><div class="ttname"><a href="classllvm_1_1objcopy_1_1MultiFormatConfig.html">llvm::objcopy::MultiFormatConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="MultiFormatConfig_8h_source.html#l00024">MultiFormatConfig.h:24</a></div></div>
<div class="ttc" id="aCommonConfig_8h_html"><div class="ttname"><a href="CommonConfig_8h.html">CommonConfig.h</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a113f3affc038124b490bb878a5a05b04"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a113f3affc038124b490bb878a5a05b04">llvm::objcopy::macho::Object::updateLoadCommandIndexes</a></div><div class="ttdeci">void updateLoadCommandIndexes()</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00040">MachOObject.cpp:40</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1NewSectionInfo_html_a641257caac84236fba46e30aa91f6c7a"><div class="ttname"><a href="structllvm_1_1objcopy_1_1NewSectionInfo.html#a641257caac84236fba46e30aa91f6c7a">llvm::objcopy::NewSectionInfo::SectionData</a></div><div class="ttdeci">std::shared_ptr&lt; MemoryBuffer &gt; SectionData</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00197">CommonConfig.h:197</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a653496a554313e67608e0d8f90f39c40"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a653496a554313e67608e0d8f90f39c40">llvm::objcopy::macho::Object::SymTable</a></div><div class="ttdeci">SymbolTable SymTable</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00302">MachOObject.h:302</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1LoadCommand_html_a9f8d500e5dff1d5da2c3acb1cdf633e9"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a9f8d500e5dff1d5da2c3acb1cdf633e9">llvm::objcopy::macho::LoadCommand::getSegmentName</a></div><div class="ttdeci">std::optional&lt; StringRef &gt; getSegmentName() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00204">MachOObject.cpp:204</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_a916f81c0e991f3f0dea3717cae887764"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#a916f81c0e991f3f0dea3717cae887764">llvm::objcopy::MachOConfig::RPathsToRemove</a></div><div class="ttdeci">DenseSet&lt; StringRef &gt; RPathsToRemove</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00028">MachOConfig.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1NameMatcher_html_ae37fd1e51553e31998f280b07d853e77"><div class="ttname"><a href="classllvm_1_1objcopy_1_1NameMatcher.html#ae37fd1e51553e31998f280b07d853e77">llvm::objcopy::NameMatcher::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00155">CommonConfig.h:155</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_afcfed892d87764504587749693efe357"><div class="ttname"><a href="MachOObjcopy_8cpp.html#afcfed892d87764504587749693efe357">updateSection</a></div><div class="ttdeci">static Error updateSection(const NewSectionInfo &amp;NewSection, Object &amp;O)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00354">MachOObjcopy.cpp:354</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1MachOObjectFile_html"><div class="ttname"><a href="classllvm_1_1object_1_1MachOObjectFile.html">llvm::object::MachOObjectFile</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_2MachO_8h_source.html#l00406">MachO.h:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:268</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">llvm::tgtok::In</a></div><div class="ttdeci">@ In</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00051">TGLexer.h:51</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1LoadCommand_html_aa9d03f7cb5acb5efb6c8aaa9fa5df989"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aa9d03f7cb5acb5efb6c8aaa9fa5df989">llvm::objcopy::macho::LoadCommand::Sections</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; Section &gt; &gt; Sections</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00093">MachOObject.h:93</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_a8b05a53d014a071653516a835619a22c"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#a8b05a53d014a071653516a835619a22c">llvm::objcopy::CommonConfig::DeterministicArchives</a></div><div class="ttdeci">bool DeterministicArchives</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00251">CommonConfig.h:251</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1macho_1_1MachOWriter_html"><div class="ttname"><a href="classllvm_1_1objcopy_1_1macho_1_1MachOWriter.html">llvm::objcopy::macho::MachOWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOWriter_8h_source.html#l00024">MachOWriter.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a47fbc494119ba51bed1e722d310bba1e"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a47fbc494119ba51bed1e722d310bba1e">llvm::objcopy::macho::Object::removeSections</a></div><div class="ttdeci">Error removeSections(function_ref&lt; bool(const std::unique_ptr&lt; Section &gt; &amp;)&gt; ToRemove)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00102">MachOObject.cpp:102</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_html_afb660c7a07ee04be6dac1b6ce20de6d6"><div class="ttname"><a href="namespacellvm_1_1objcopy.html#afb660c7a07ee04be6dac1b6ce20de6d6">llvm::objcopy::createNewArchiveMembers</a></div><div class="ttdeci">Expected&lt; std::vector&lt; NewArchiveMember &gt; &gt; createNewArchiveMembers(const MultiFormatConfig &amp;Config, const Archive &amp;Ar)</div><div class="ttdoc">Applies the transformations described by Config to each member in archive Ar.</div><div class="ttdef"><b>Definition:</b> <a href="ObjCopy_2Archive_8cpp_source.html#l00024">Archive.cpp:24</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_a7056fc4479dd0274dea7baabfaea80bb"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#a7056fc4479dd0274dea7baabfaea80bb">llvm::objcopy::macho::Object::LoadCommands</a></div><div class="ttdeci">std::vector&lt; LoadCommand &gt; LoadCommands</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00300">MachOObject.h:300</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a9b52404a8d2877d3b32ebb5d1f5c72ff"><div class="ttname"><a href="classllvm_1_1StringRef.html#a9b52404a8d2877d3b32ebb5d1f5c72ff">llvm::StringRef::rtrim</a></div><div class="ttdeci">StringRef rtrim(char Char) const</div><div class="ttdoc">Return string with consecutive Char characters starting from the right removed.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00791">StringRef.h:791</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1LoadCommand_html_aba583cbf3f31bbb8851463e449bf5cd5"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#aba583cbf3f31bbb8851463e449bf5cd5">llvm::objcopy::macho::LoadCommand::getSegmentVMAddr</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getSegmentVMAddr() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00216">MachOObject.cpp:216</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1LoadCommand_html_a521ae30565359d9c67ad94fed18ce660"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#a521ae30565359d9c67ad94fed18ce660">llvm::objcopy::macho::LoadCommand::MachOLoadCommand</a></div><div class="ttdeci">MachO::macho_load_command MachOLoadCommand</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00082">MachOObject.h:82</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a1d2a5be3f3c66e1c7670d490725af1d8"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a1d2a5be3f3c66e1c7670d490725af1d8">isValidMachOCannonicalName</a></div><div class="ttdeci">static Error isValidMachOCannonicalName(StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00373">MachOObjcopy.cpp:373</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_aede39cad347831c61affdf79666a37db"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#aede39cad347831c61affdf79666a37db">llvm::objcopy::macho::Object::addSegment</a></div><div class="ttdeci">LoadCommand &amp; addSegment(StringRef SegName, uint64_t SegVMSize)</div><div class="ttdoc">Creates a new segment load command in the object and returns a reference to the newly created load co...</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8cpp_source.html#l00184">MachOObject.cpp:184</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a4002ef7d78e41ceeaa9ca3e21222e725"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a4002ef7d78e41ceeaa9ca3e21222e725">buildRPathLoadCommand</a></div><div class="ttdeci">static LoadCommand buildRPathLoadCommand(StringRef Path)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00137">MachOObjcopy.cpp:137</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a9acdfbcce7bf8b9cb5ac43e036141d08"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a9acdfbcce7bf8b9cb5ac43e036141d08">LoadCommandPred</a></div><div class="ttdeci">std::function&lt; bool(const LoadCommand &amp;LC)&gt; LoadCommandPred</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00033">MachOObjcopy.cpp:33</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_abadfb5107f778ad8d81df7893db2c25e"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#abadfb5107f778ad8d81df7893db2c25e">llvm::objcopy::CommonConfig::StripDebug</a></div><div class="ttdeci">bool StripDebug</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00259">CommonConfig.h:259</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a4e0ff47f6d4abcdc8ebcf4daf31d8d9a"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a4e0ff47f6d4abcdc8ebcf4daf31d8d9a">findSection</a></div><div class="ttdeci">static Expected&lt; Section &amp; &gt; findSection(StringRef SecName, Object &amp;O)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00330">MachOObjcopy.cpp:330</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1SymbolEntry_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1SymbolEntry.html">llvm::objcopy::macho::SymbolEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00104">MachOObject.h:104</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_ad9f5e6ffb240fdcc1cdfa1aac327fd4b"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#ad9f5e6ffb240fdcc1cdfa1aac327fd4b">llvm::objcopy::MachOConfig::RPathsToUpdate</a></div><div class="ttdeci">DenseMap&lt; StringRef, StringRef &gt; RPathsToUpdate</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00026">MachOConfig.h:26</a></div></div>
<div class="ttc" id="aMachOReader_8h_html"><div class="ttname"><a href="MachOReader_8h.html">MachOReader.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a3c83da58566a7f9174b3d46b7eb2abd2a8bc1bbfcee7206480576072973724a1a"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a3c83da58566a7f9174b3d46b7eb2abd2a8bc1bbfcee7206480576072973724a1a">llvm::MachO::N_EXT</a></div><div class="ttdeci">@ N_EXT</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00310">MachO.h:310</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_adc7cdb19bae50c7c3ed42b1a2e34525c"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#adc7cdb19bae50c7c3ed42b1a2e34525c">llvm::objcopy::MachOConfig::StripSwiftSymbols</a></div><div class="ttdeci">bool StripSwiftSymbols</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00037">MachOConfig.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_ad409c2de8502b94c8a0b1193307c63b6"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#ad409c2de8502b94c8a0b1193307c63b6">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::contains</a></div><div class="ttdeci">bool contains(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Check if the set contains the given element.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00185">DenseSet.h:185</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_af77b232892df5c7e1321f2885b0c49ef"><div class="ttname"><a href="MachOObjcopy_8cpp.html#af77b232892df5c7e1321f2885b0c49ef">updateAndRemoveSymbols</a></div><div class="ttdeci">static void updateAndRemoveSymbols(const CommonConfig &amp;Config, const MachOConfig &amp;MachOConfig, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00093">MachOObjcopy.cpp:93</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1macho_1_1MachOWriter_html_a664a6fc223b56ef4fec7642360062ae0"><div class="ttname"><a href="classllvm_1_1objcopy_1_1macho_1_1MachOWriter.html#a664a6fc223b56ef4fec7642360062ae0">llvm::objcopy::macho::MachOWriter::write</a></div><div class="ttdeci">Error write()</div><div class="ttdef"><b>Definition:</b> <a href="MachOWriter_8cpp_source.html#l00660">MachOWriter.cpp:660</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aMachOObjcopy_8h_html"><div class="ttname"><a href="MachOObjcopy_8h.html">MachOObjcopy.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1FileOutputBuffer_html_a3a10ce8cad8fee5d6a4c55270866aa05"><div class="ttname"><a href="classllvm_1_1FileOutputBuffer.html#a3a10ce8cad8fee5d6a4c55270866aa05">llvm::FileOutputBuffer::create</a></div><div class="ttdeci">static Expected&lt; std::unique_ptr&lt; FileOutputBuffer &gt; &gt; create(StringRef FilePath, size_t Size, unsigned Flags=0)</div><div class="ttdoc">Factory method to create an OutputBuffer object which manages a read/write buffer of the specified si...</div><div class="ttdef"><b>Definition:</b> <a href="FileOutputBuffer_8cpp_source.html#l00156">FileOutputBuffer.cpp:156</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1LoadCommand_html_ae25df5c778a8f3a989d3f384ca9fc116"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1LoadCommand.html#ae25df5c778a8f3a989d3f384ca9fc116">llvm::objcopy::macho::LoadCommand::Payload</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; Payload</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00087">MachOObject.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1macho_1_1MachOWriter_html_a6075f02bb8591bb5bf64134c7597631d"><div class="ttname"><a href="classllvm_1_1objcopy_1_1macho_1_1MachOWriter.html#a6075f02bb8591bb5bf64134c7597631d">llvm::objcopy::macho::MachOWriter::finalize</a></div><div class="ttdeci">Error finalize()</div><div class="ttdef"><b>Definition:</b> <a href="MachOWriter_8cpp_source.html#l00658">MachOWriter.cpp:658</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac78c09ae232b2ce188ff590d51e3c268"><div class="ttname"><a href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a></div><div class="ttdeci">auto find_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::find_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01762">STLExtras.h:1762</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5db9240c74644c67759dd0f901fc3c7d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">llvm::StringRef::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdoc">size - Get the string size.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00137">StringRef.h:137</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a8fdf1b59602b3fa2d23286e468abb8a9"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a8fdf1b59602b3fa2d23286e468abb8a9">handleArgs</a></div><div class="ttdeci">static Error handleArgs(const CommonConfig &amp;Config, const MachOConfig &amp;MachOConfig, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00392">MachOObjcopy.cpp:392</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4d2fd926089a58d482fb67a362e11bad"><div class="ttname"><a href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">llvm::createStringError</a></div><div class="ttdeci">Error createStringError(std::error_code EC, char const *Fmt, const Ts &amp;... Vals)</div><div class="ttdoc">Create formatted StringError object.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01246">Error.h:1246</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Object_html_ad496d543def51ce6b51763279ddd7584"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Object.html#ad496d543def51ce6b51763279ddd7584">llvm::objcopy::macho::Object::Header</a></div><div class="ttdeci">MachHeader Header</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00299">MachOObject.h:299</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html_af09c82390c3b97ce4290439dc551aa0b"><div class="ttname"><a href="namespacellvm_1_1object.html#af09c82390c3b97ce4290439dc551aa0b">llvm::object::writeUniversalBinaryToStream</a></div><div class="ttdeci">Error writeUniversalBinaryToStream(ArrayRef&lt; Slice &gt; Slices, raw_ostream &amp;Out)</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8cpp_source.html#l00273">MachOUniversalWriter.cpp:273</a></div></div>
<div class="ttc" id="astructllvm_1_1SectionName_html"><div class="ttname"><a href="structllvm_1_1SectionName.html">llvm::SectionName</a></div><div class="ttdef"><b>Definition:</b> <a href="DWARFSection_8h_source.html#l00021">DWARFSection.h:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_a265bac66780f8b0670023c2839058508"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#a265bac66780f8b0670023c2839058508">llvm::objcopy::CommonConfig::UpdateSection</a></div><div class="ttdeci">std::vector&lt; NewSectionInfo &gt; UpdateSection</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00224">CommonConfig.h:224</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_html_ad8575ac23541d1433a8e492cc876f75aab1c94ca2fbc3e78fc30069c8d0f01680"><div class="ttname"><a href="namespacellvm_1_1objcopy.html#ad8575ac23541d1433a8e492cc876f75aab1c94ca2fbc3e78fc30069c8d0f01680">llvm::objcopy::DiscardType::All</a></div><div class="ttdeci">@ All</div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a918836be9d98b9555fa33b3153155511"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a918836be9d98b9555fa33b3153155511">removeSections</a></div><div class="ttdeci">static Error removeSections(const CommonConfig &amp;Config, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00055">MachOObjcopy.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_a9d5713c258905f31b34b13b07086b7c7"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#a9d5713c258905f31b34b13b07086b7c7">llvm::objcopy::CommonConfig::StripAll</a></div><div class="ttdeci">bool StripAll</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00256">CommonConfig.h:256</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1MachOConfig_html_a8e23bb7046c989748f162eab83122d93"><div class="ttname"><a href="structllvm_1_1objcopy_1_1MachOConfig.html#a8e23bb7046c989748f162eab83122d93">llvm::objcopy::MachOConfig::SharedLibId</a></div><div class="ttdeci">std::optional&lt; StringRef &gt; SharedLibId</div><div class="ttdef"><b>Definition:</b> <a href="MachOConfig_8h_source.html#l00031">MachOConfig.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Archive_html_ab288378fa8bfa0678dd25e36b5198a87a521625eb71f7beb3f5764da18be48ae8"><div class="ttname"><a href="classllvm_1_1object_1_1Archive.html#ab288378fa8bfa0678dd25e36b5198a87a521625eb71f7beb3f5764da18be48ae8">llvm::object::Archive::K_DARWIN</a></div><div class="ttdeci">@ K_DARWIN</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Object_2Archive_8h_source.html#l00336">Archive.h:336</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a4099e754341e36bdbc04624fa2f1e19aa43095f132c345c9e3de6277f63d60bdd"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a4099e754341e36bdbc04624fa2f1e19aa43095f132c345c9e3de6277f63d60bdd">llvm::MachO::MH_PRELOAD</a></div><div class="ttdeci">@ MH_PRELOAD</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00047">MachO.h:47</a></div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a49343f777e053584c42f916b5e567142"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a49343f777e053584c42f916b5e567142">isLoadCommandWithPayloadString</a></div><div class="ttdeci">static bool isLoadCommandWithPayloadString(const LoadCommand &amp;LC)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00036">MachOObjcopy.cpp:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html_a94789df4ebd03dc008e8adebaa66ac1f"><div class="ttname"><a href="classllvm_1_1Expected.html#a94789df4ebd03dc008e8adebaa66ac1f">llvm::Expected::takeError</a></div><div class="ttdeci">Error takeError()</div><div class="ttdoc">Take ownership of the stored error.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00597">Error.h:597</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a5ab6bf136f12ce0bfe2a9754cf1644c7"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a5ab6bf136f12ce0bfe2a9754cf1644c7">llvm::sys::path::filename</a></div><div class="ttdeci">StringRef filename(StringRef path, Style style=Style::native)</div><div class="ttdoc">Get filename.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00577">Path.cpp:577</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1Section_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1Section.html">llvm::objcopy::macho::Section</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00038">MachOObject.h:38</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aMachOObjcopy_8cpp_html_a14dfead54615906a608b43ce6881920b"><div class="ttname"><a href="MachOObjcopy_8cpp.html#a14dfead54615906a608b43ce6881920b">processLoadCommands</a></div><div class="ttdeci">static Error processLoadCommands(const MachOConfig &amp;MachOConfig, Object &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjcopy_8cpp_source.html#l00149">MachOObjcopy.cpp:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSaver_html_ada08f15f76fa550da28d92b038b6644b"><div class="ttname"><a href="classllvm_1_1StringSaver.html#ada08f15f76fa550da28d92b038b6644b">llvm::StringSaver::save</a></div><div class="ttdeci">StringRef save(const char *S)</div><div class="ttdef"><b>Definition:</b> <a href="StringSaver_8h_source.html#l00030">StringSaver.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__svector__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__svector__ostream.html">llvm::raw_svector_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an SmallVector or SmallString.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00672">raw_ostream.h:672</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html_aebd3886db896c46327320cfd1ccc808c"><div class="ttname"><a href="namespacellvm_1_1object.html#aebd3886db896c46327320cfd1ccc808c">llvm::object::createBinary</a></div><div class="ttdeci">Expected&lt; std::unique_ptr&lt; Binary &gt; &gt; createBinary(MemoryBufferRef Source, LLVMContext *Context=nullptr, bool InitContent=true)</div><div class="ttdoc">Create a Binary from Source, autodetecting the file type.</div><div class="ttdef"><b>Definition:</b> <a href="Binary_8cpp_source.html#l00045">Binary.cpp:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_af972d87e15b5f6ed61bd5c3956c5213d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#af972d87e15b5f6ed61bd5c3956c5213d">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00101">DenseSet.h:101</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry_html_a245bdcc73e0fa8718af5c9ffeeabf765"><div class="ttname"><a href="structllvm_1_1objcopy_1_1macho_1_1IndirectSymbolEntry.html#a245bdcc73e0fa8718af5c9ffeeabf765">llvm::objcopy::macho::IndirectSymbolEntry::Symbol</a></div><div class="ttdeci">std::optional&lt; SymbolEntry * &gt; Symbol</div><div class="ttdoc">The Symbol referenced by this entry.</div><div class="ttdef"><b>Definition:</b> <a href="MachOObject_8h_source.html#l00155">MachOObject.h:155</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html_addbcdc27b0e6e19fba3ec20ef5de05d9"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html#addbcdc27b0e6e19fba3ec20ef5de05d9">llvm::objcopy::CommonConfig::ToRemove</a></div><div class="ttdeci">NameMatcher ToRemove</div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00229">CommonConfig.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="astructllvm_1_1objcopy_1_1CommonConfig_html"><div class="ttname"><a href="structllvm_1_1objcopy_1_1CommonConfig.html">llvm::objcopy::CommonConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="CommonConfig_8h_source.html#l00201">CommonConfig.h:201</a></div></div>
<div class="ttc" id="aObjCopy_8h_html"><div class="ttname"><a href="ObjCopy_8h.html">ObjCopy.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_ac7f4fa537e5dab277bd0fa20522b8d17a0716fd35b77fa761c2bfd30224c1c687"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ac7f4fa537e5dab277bd0fa20522b8d17a0716fd35b77fa761c2bfd30224c1c687">llvm::MachO::MH_DYLDLINK</a></div><div class="ttdeci">@ MH_DYLDLINK</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00062">MachO.h:62</a></div></div>
<div class="ttc" id="alib_2Target_2WebAssembly_2README_8txt_html_a79ea041233b5866026c3071dfc464ec0"><div class="ttname"><a href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">copy</a></div><div class="ttdeci">we should consider alternate ways to model stack dependencies Lots of things could be done in WebAssemblyTargetTransformInfo cpp there are numerous optimization related hooks that can be overridden in WebAssemblyTargetLowering Instead of the OptimizeReturned which should consider preserving the returned attribute through to MachineInstrs and extending the MemIntrinsicResults pass to do this optimization on calls too That would also let the WebAssemblyPeephole pass clean up dead defs for such as it does for stores Consider implementing and or getMachineCombinerPatterns Find a clean way to fix the problem which leads to the Shrink Wrapping pass being run after the WebAssembly PEI pass When setting multiple variables to the same we currently get code like const It could be done with a smaller encoding like local tee $pop5 local copy</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2WebAssembly_2README_8txt_source.html#l00101">README.txt:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_html"><div class="ttname"><a href="namespacellvm_1_1objcopy.html">llvm::objcopy</a></div><div class="ttdef"><b>Definition:</b> <a href="COFFConfig_8h_source.html#l00015">COFFConfig.h:15</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a6414735714bdbd5c8790f32a0fe99bd2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a6414735714bdbd5c8790f32a0fe99bd2">llvm::StringRef::split</a></div><div class="ttdeci">std::pair&lt; StringRef, StringRef &gt; split(char Separator) const</div><div class="ttdoc">Split into two substrings around the first occurrence of a separator character.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00688">StringRef.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1MachOUniversalBinary_html"><div class="ttname"><a href="classllvm_1_1object_1_1MachOUniversalBinary.html">llvm::object::MachOUniversalBinary</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversal_8h_source.html#l00030">MachOUniversal.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1objcopy_1_1macho_1_1Reader_html_adda267d924a2436e6480187a33180a5f"><div class="ttname"><a href="classllvm_1_1objcopy_1_1macho_1_1Reader.html#adda267d924a2436e6480187a33180a5f">llvm::objcopy::macho::Reader::create</a></div><div class="ttdeci">virtual Expected&lt; std::unique_ptr&lt; Object &gt; &gt; create() const =0</div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a0ccac1c90d0945d4d243371af446837aa30911644caa01a2fcdc733f62bbbb80b"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a0ccac1c90d0945d4d243371af446837aa30911644caa01a2fcdc733f62bbbb80b">llvm::MachO::REFERENCED_DYNAMICALLY</a></div><div class="ttdeci">@ REFERENCED_DYNAMICALLY</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00343">MachO.h:343</a></div></div>
<div class="ttc" id="anamespacellvm_html_a14c2fe7044222da697a655d7f04c1606"><div class="ttname"><a href="namespacellvm.html#a14c2fe7044222da697a655d7f04c1606">llvm::writeArchiveToBuffer</a></div><div class="ttdeci">Expected&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; writeArchiveToBuffer(ArrayRef&lt; NewArchiveMember &gt; NewMembers, bool WriteSymtab, object::Archive::Kind Kind, bool Deterministic, bool Thin)</div><div class="ttdef"><b>Definition:</b> <a href="ArchiveWriter_8cpp_source.html#l00856">ArchiveWriter.cpp:856</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:06:44 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
