<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/SystemZ/SystemZTargetTransformInfo.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_243ce763aa699d4ab757f403b35b464a.html">SystemZ</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SystemZTargetTransformInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SystemZTargetTransformInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- SystemZTargetTransformInfo.cpp - SystemZ-specific TTI -------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements a TargetTransformInfo analysis pass specific to the</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// SystemZ target machine. It uses the target&#39;s detailed information to provide</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// more precise answers to certain TTI queries, while letting the target</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// independent and default TTI implementations handle the rest.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SystemZTargetTransformInfo_8h.html">SystemZTargetTransformInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetTransformInfo_8h.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicTTIImpl_8h.html">llvm/CodeGen/BasicTTIImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CostTable_8h.html">llvm/CodeGen/CostTable.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLowering_8h.html">llvm/CodeGen/TargetLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   25</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;systemztti&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// SystemZ cost model.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#af47b2b88cf087903cd678c12700be7b4">   33</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af47b2b88cf087903cd678c12700be7b4">isUsedAsMemCpySource</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">bool</span> &amp;OtherUse) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordtype">bool</span> UsedAsMemCpySource = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1User.html">User</a> *U : V-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1User.html">User</a> = dyn_cast&lt;Instruction&gt;(U)) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="keywordflow">if</span> (isa&lt;BitCastInst&gt;(<a class="code" href="classllvm_1_1User.html">User</a>) || isa&lt;GetElementPtrInst&gt;(<a class="code" href="classllvm_1_1User.html">User</a>)) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        UsedAsMemCpySource |= <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af47b2b88cf087903cd678c12700be7b4">isUsedAsMemCpySource</a>(<a class="code" href="classllvm_1_1User.html">User</a>, OtherUse);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemCpyInst.html">MemCpyInst</a> *Memcpy = dyn_cast&lt;MemCpyInst&gt;(<a class="code" href="classllvm_1_1User.html">User</a>)) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">if</span> (Memcpy-&gt;getOperand(1) == V &amp;&amp; !Memcpy-&gt;isVolatile()) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;          UsedAsMemCpySource = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      OtherUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">return</span> UsedAsMemCpySource;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a6396da6d0b65cef8693b0aedd06f31e3">   52</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a6396da6d0b65cef8693b0aedd06f31e3">SystemZTTIImpl::adjustInliningThreshold</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordtype">unsigned</span> Bonus = 0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// Increase the threshold if an incoming argument is used only as a memcpy</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// source.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>())</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;args()) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordtype">bool</span> OtherUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SystemZTargetTransformInfo_8cpp.html#af47b2b88cf087903cd678c12700be7b4">isUsedAsMemCpySource</a>(&amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, OtherUse) &amp;&amp; !OtherUse)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        Bonus += 150;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (Bonus)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;               <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;++ SZTTI Adding inlining bonus: &quot;</span> &lt;&lt; Bonus &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">return</span> Bonus;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a16e32182d059b74f0c3af9ccbd5ec57a">   69</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a16e32182d059b74f0c3af9ccbd5ec57a">SystemZTTIImpl::getIntImmCost</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                              <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>());</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordtype">unsigned</span> BitSize = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// There is no cost model for constants with a bit size of 0. Return TCC_Free</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// here, so that constant hoisting will ignore this constant.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (BitSize == 0)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// No cost model for operations on integers larger than 64 bit implemented yet.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">if</span> (BitSize &gt; 64)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 0)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// Constants loaded via lgfi.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">TTI::TCC_Basic</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// Constants loaded via llilf.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue()))</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">TTI::TCC_Basic</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// Constants loaded via llihf:</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue() &amp; 0xffffffff) == 0)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">TTI::TCC_Basic</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> 2 * <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">TTI::TCC_Basic</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> 4 * <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">TTI::TCC_Basic</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#ac930342d40facdf25b725f3b07c968e6">  102</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#ac930342d40facdf25b725f3b07c968e6">SystemZTTIImpl::getIntImmCostInst</a>(<span class="keywordtype">unsigned</span> Opcode, <span class="keywordtype">unsigned</span> Idx,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                                  <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                                  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">unsigned</span> BitSize = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// There is no cost model for constants with a bit size of 0. Return TCC_Free</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// here, so that constant hoisting will ignore this constant.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (BitSize == 0)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// No cost model for operations on integers larger than 64 bit implemented yet.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (BitSize &gt; 64)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Always hoist the base address of a GetElementPtr. This prevents the</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// creation of new constants for every base constant that gets constant</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// folded with the offset.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (Idx == 0)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keywordflow">return</span> 2 * <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">TTI::TCC_Basic</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>:</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (Idx == 0 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// Any 8-bit immediate store can by implemented via mvi.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">if</span> (BitSize == 8)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">// 16-bit immediate values can be stored via mvhhi/mvhi/mvghi.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">if</span> (isInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">case</span> Instruction::ICmp:</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="comment">// Comparisons against signed 32-bit immediates implemented via cgfi.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">if</span> (isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">// Comparisons against unsigned 32-bit immediates implemented via clgfi.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue()))</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="comment">// We use algfi/slgfi to add/subtract 32-bit unsigned immediates.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue()))</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="comment">// Or their negation, by swapping addition vs. subtraction.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(-<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="comment">// We use msgfi to multiply by 32-bit signed immediates.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// Masks supported by oilf/xilf.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue()))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="comment">// Masks supported by oihf/xihf.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue() &amp; 0xffffffff) == 0)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">// Any 32-bit AND operation can by implemented via nilf.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (BitSize &lt;= 32)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="comment">// 64-bit masks supported by nilf.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(~<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue()))</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="comment">// 64-bit masks supported by nilh.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue() &amp; 0xffffffff) == 0xffffffff)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">// Some 64-bit AND operations can be implemented via risbg.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SystemZInstrInfo.html">SystemZInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = ST-&gt;<a class="code" href="classllvm_1_1SystemZSubtarget.html#a0c936cf277092fe2c46de8584edffc26">getInstrInfo</a>();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordtype">unsigned</span> Start, End;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isRxSBGMask(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue(), BitSize, Start, End))</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Always return TCC_Free for the shift value of a shift instruction.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (Idx == 1)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt:</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>:</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Instruction::Ret</a>:</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>:</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a16e32182d059b74f0c3af9ccbd5ec57a">SystemZTTIImpl::getIntImmCost</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, Ty, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a></div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#ae6ef5f0ba206c999c821489993e46edb">  223</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#ae6ef5f0ba206c999c821489993e46edb">SystemZTTIImpl::getIntImmCostIntrin</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID, <span class="keywordtype">unsigned</span> Idx,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                    <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">unsigned</span> BitSize = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// There is no cost model for constants with a bit size of 0. Return TCC_Free</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// here, so that constant hoisting will ignore this constant.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (BitSize == 0)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// No cost model for operations on integers larger than 64 bit implemented yet.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (BitSize &gt; 64)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">case</span> Intrinsic::sadd_with_overflow:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">case</span> Intrinsic::uadd_with_overflow:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ssub_with_overflow:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">case</span> Intrinsic::usub_with_overflow:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// These get expanded to include a normal addition/subtraction.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getZExtValue()))</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(-<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">case</span> Intrinsic::smul_with_overflow:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">case</span> Intrinsic::umul_with_overflow:</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// These get expanded to include a normal multiplication.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (Idx == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue()))</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_stackmap:</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> ((Idx &lt; 2) || (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64 &amp;&amp; isInt&lt;64&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue())))</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_patchpoint_void:</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">case</span> Intrinsic::experimental_patchpoint_i64:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> ((Idx &lt; 4) || (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth() &lt;= 64 &amp;&amp; isInt&lt;64&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue())))</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TTI::TCC_Free</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a16e32182d059b74f0c3af9ccbd5ec57a">SystemZTTIImpl::getIntImmCost</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, Ty, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<a class="code" href="classllvm_1_1TargetTransformInfo.html#aa4c17e89b1ef061ed69f42b7cee93dbe">TargetTransformInfo::PopcntSupportKind</a></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a2c79f9c396826f7d6442ad29d9c8561a">  274</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#a2c79f9c396826f7d6442ad29d9c8561a">SystemZTTIImpl::getPopcntSupport</a>(<span class="keywordtype">unsigned</span> TyWidth) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(TyWidth) &amp;&amp; <span class="stringliteral">&quot;Type width must be power of 2&quot;</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (ST-&gt;hasPopulationCount() &amp;&amp; TyWidth &lt;= 64)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#aa4c17e89b1ef061ed69f42b7cee93dbeac71465fd61f1ba8aa2c7c397722b5e05">TTI::PSK_FastHardware</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#aa4c17e89b1ef061ed69f42b7cee93dbea0ce99a3a4fe2b7f2771a7b288a99ed2c">TTI::PSK_Software</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a99733e87982c752be1218b2d87e592b9">  281</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a99733e87982c752be1218b2d87e592b9">SystemZTTIImpl::getUnrollingPreferences</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                             <a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html">TTI::UnrollingPreferences</a> &amp;UP,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                             <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Find out if L contains a call, what the machine instruction count</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// estimate is, and how many stores there are.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordtype">bool</span> HasCall = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> NumStores = 0;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">blocks</a>())</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;InvokeInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).<a class="code" href="MemoryBuiltins_8cpp.html#ae688f6339b1f6caae4e543a83feed2de">getCalledFunction</a>()) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetTransformInfoImplBase.html#abe34766b63068ff9df2cabd924c83cbc">isLoweredToCall</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            HasCall = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID() == <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">Intrinsic::memcpy</a> ||</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;              <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID() == Intrinsic::memset)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            NumStores++;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        } <span class="keywordflow">else</span> { <span class="comment">// indirect call.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          HasCall = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">if</span> (isa&lt;StoreInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *MemAccessTy = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        NumStores += <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a97ebd00c769b1d7c67f7db4b58137c93">getMemoryOpCost</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>, MemAccessTy,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                     std::nullopt, 0, <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">TTI::TCK_RecipThroughput</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// The z13 processor will run out of store tags if too many stores</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// are fed into it too quickly. Therefore make sure there are not</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// too many stores in the resulting unrolled loop.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keyword">const</span> NumStoresVal = *NumStores.<a class="code" href="classllvm_1_1InstructionCost.html#aefaba3912f52186ea896035ea0f5b00c">getValue</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keyword">const</span> Max = (NumStoresVal ? (12 / NumStoresVal) : UINT_MAX);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (HasCall) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// Only allow full unrolling if loop has any calls.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ac9d35cceaeac03c999997e0b4d3ebcb6">FullUnrollMaxCount</a> = Max;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a0e3eba5cd35140f30d54eb8ef1fb0215">MaxCount</a> = 1;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a0e3eba5cd35140f30d54eb8ef1fb0215">MaxCount</a> = Max;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a0e3eba5cd35140f30d54eb8ef1fb0215">MaxCount</a> &lt;= 1)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// Allow partial and runtime trip count unrolling.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#af01349dac5ea8d7fc1d5bedcc82a17b8">Partial</a> = UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ae31307b4efc5ce5311752041e7ff7cdc">Runtime</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ae28e05c1aac288aa7e4a49d858b35c46">PartialThreshold</a> = 75;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a5ebdb0ee911db5f4304bc6b92b0fed98">DefaultUnrollRuntimeCount</a> = 4;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// Allow expensive instructions in the pre-header of the loop.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#afaa4eb31d0f39aa8c7ac8d081a39fec5">AllowExpensiveTripCount</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a4217ba2e3d1295f8e9e6b49cef2a8b76">Force</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a04bb162707335d2cfac99b1fcd9a387a">  337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a04bb162707335d2cfac99b1fcd9a387a">SystemZTTIImpl::getPeelingPreferences</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                           <a class="code" href="structllvm_1_1TargetTransformInfo_1_1PeelingPreferences.html">TTI::PeelingPreferences</a> &amp;PP) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a9d093749d001a714592c88df0e81b3fe">BaseT::getPeelingPreferences</a>(L, SE, PP);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#aa07ee4a285d3e3e144b27bdd1cb7529b">  342</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#aa07ee4a285d3e3e144b27bdd1cb7529b">SystemZTTIImpl::isLSRCostLess</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html">TargetTransformInfo::LSRCost</a> &amp;<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html">TargetTransformInfo::LSRCost</a> &amp;C2) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// SystemZ specific: check instruction count (first), and don&#39;t care about</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// ImmCost, since offsets are checked explicitly.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> std::tie(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.Insns, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.NumRegs, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.AddRecCost,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                  <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.NumIVMuls, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.NumBaseAdds,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                  <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.ScaleCost, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>.SetupCost) &lt;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    std::tie(C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a5b3b10333e5dcfbc64652b383025b77c">Insns</a>, C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#acc4efcc7eb81341eb7b94387d7519fd7">NumRegs</a>, C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a95eb887e84c6d2b102a6b0114276f8da">AddRecCost</a>,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;             C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a1cc611760ab739d87bf545a55dcea72b">NumIVMuls</a>, C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#ad56d6a45ed26384d00b88e431e6e9181">NumBaseAdds</a>,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;             C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a56c87ad7c1654d83b3f4d7984fc66d75">ScaleCost</a>, C2.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#afa00c85b17f12a25f99f238eaf86ece7">SetupCost</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a2c3592225ac76b22e45e2a24dc159be8">  354</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a2c3592225ac76b22e45e2a24dc159be8">SystemZTTIImpl::getNumberOfRegisters</a>(<span class="keywordtype">unsigned</span> ClassID)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="README__P9_8txt.html#ae6881514a39f1bcf75ad62e5188700a4">Vector</a> = (ClassID == 1);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__P9_8txt.html#ae6881514a39f1bcf75ad62e5188700a4">Vector</a>)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// Discount the stack pointer.  Also leave out %r0, since it can&#39;t</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// be used in an address.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> 14;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (ST-&gt;hasVector())</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">return</span> 32;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a></div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#ad57ed85603b397523b651a6fc8feff16">  366</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#ad57ed85603b397523b651a6fc8feff16">SystemZTTIImpl::getRegisterBitWidth</a>(<a class="code" href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166">TargetTransformInfo::RegisterKind</a> K)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">switch</span> (K) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166ad8f233645107107ed48d2e4a915152cc">TargetTransformInfo::RGK_Scalar</a>:</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TypeSize.html#a003b4369b4130e669dc9139798e0193c">TypeSize::getFixed</a>(64);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166a183020fbea95c99db23f6d3594f4c4af">TargetTransformInfo::RGK_FixedWidthVector</a>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TypeSize.html#a003b4369b4130e669dc9139798e0193c">TypeSize::getFixed</a>(ST-&gt;hasVector() ? 128 : 0);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166a331413d3887a08546d0973091f6a4993">TargetTransformInfo::RGK_ScalableVector</a>:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TypeSize.html#ac9a353e0993122f60d42ef06a92fd408">TypeSize::getScalable</a>(0);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported register kind&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a5c9480a0457113135f239eea6aa9bbf2">  379</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a5c9480a0457113135f239eea6aa9bbf2">SystemZTTIImpl::getMinPrefetchStride</a>(<span class="keywordtype">unsigned</span> NumMemAccesses,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                              <span class="keywordtype">unsigned</span> NumStridedMemAccesses,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                              <span class="keywordtype">unsigned</span> NumPrefetches,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                              <span class="keywordtype">bool</span> HasCall)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// Don&#39;t prefetch a loop with many far apart accesses.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">if</span> (NumPrefetches &gt; 16)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span> UINT_MAX;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Emit prefetch instructions for smaller strides in cases where we think</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// the hardware prefetcher might not be able to keep up.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">if</span> (NumStridedMemAccesses &gt; 32 &amp;&amp; !HasCall &amp;&amp;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      (NumMemAccesses - NumStridedMemAccesses) * 32 &lt;= NumStridedMemAccesses)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">return</span> ST-&gt;hasMiscellaneousExtensions3() ? 8192 : 2048;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#af06956f4bacf1c2d150c176648e0b244">  396</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#af06956f4bacf1c2d150c176648e0b244">SystemZTTIImpl::hasDivRemOp</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classDataType.html">DataType</a>, <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a class="code" href="classllvm_1_1BasicTTIImplBase.html#aec0b8db50138e2a68aca36959b6692a5">DL</a>, <a class="code" href="classDataType.html">DataType</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> (VT.<a class="code" href="structllvm_1_1EVT.html#ad958859a7af278dd5ea2b593c2b25050">isScalarInteger</a>() &amp;&amp; TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT));</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">// Return the bit size for the scalar type or vector element</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">// type. getScalarSizeInBits() returns 0 for a pointer type.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">  403</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordtype">unsigned</span> Size =</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() ? 64U : Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Size &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Element must have non-zero size.&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">// getNumberOfParts() calls getTypeLegalizationCost() which splits the vector</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">// type until it is legal. This would e.g. return 4 for &lt;6 x i64&gt;, instead of</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">// 3.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">  413</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keyword">auto</span> *VTy = cast&lt;FixedVectorType&gt;(Ty);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordtype">unsigned</span> WideBits = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a>(Ty) * VTy-&gt;getNumElements();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(WideBits &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Could not compute size of vector&quot;</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">return</span> ((WideBits % 128U) ? ((WideBits / 128U) + 1) : (WideBits / 128U));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a843256aa051cd1c3e6517650f81b3e25">  420</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a843256aa051cd1c3e6517650f81b3e25">SystemZTTIImpl::getArithmeticInstrCost</a>(</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="structllvm_1_1TargetTransformInfo_1_1OperandValueInfo.html">TTI::OperandValueInfo</a> Op1Info, <a class="code" href="structllvm_1_1TargetTransformInfo_1_1OperandValueInfo.html">TTI::OperandValueInfo</a> Op2Info,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const Value *&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CxtI) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// TODO: Handle more cost kinds.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a> != <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">TTI::TCK_RecipThroughput</a>)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a2ad3fccbfc25b87c73ffcc5f352641c5">BaseT::getArithmeticInstrCost</a>(Opcode, Ty, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, Op1Info,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                         Op2Info, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, CxtI);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// TODO: return a good value for BB-VECTORIZER that includes the</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// immediate loads, which we do not want to count for the loop</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// vectorizer, since they are hopefully hoisted out of the loop. This</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// would require a new parameter &#39;InLoop&#39;, but not sure if constant</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// args are common enough to motivate this.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordtype">unsigned</span> ScalarBits = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// There are thre cases of division and remainder: Dividing with a register</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// needs a divide instruction. A divisor which is a power of two constant</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// can be implemented with a sequence of shifts. Any other constant needs a</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// multiply and shifts.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> DivInstrCost = 20;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> DivMulSeqCost = 10;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> SDivPow2Cost = 4;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordtype">bool</span> SignedDivRem =</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      Opcode == Instruction::SDiv || Opcode == Instruction::SRem;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordtype">bool</span> UnsignedDivRem =</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      Opcode == Instruction::UDiv || Opcode == Instruction::URem;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Check for a constant divisor.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordtype">bool</span> DivRemConst = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordtype">bool</span> DivRemConstPow2 = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> ((SignedDivRem || UnsignedDivRem) &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size() == 2) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1])) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CVal =</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType()-&gt;isVectorTy()</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;               ? dyn_cast_or_null&lt;const ConstantInt&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSplatValue())</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;               : dyn_cast&lt;const ConstantInt&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">if</span> (CVal &amp;&amp; (CVal-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#ad1b0513de876d1c85cf6268ca21b2c86">isPowerOf2</a>() ||</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                   CVal-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a1b6b4785fa27be394cf040e543d9fe7c">isNegatedPowerOf2</a>()))</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        DivRemConstPow2 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        DivRemConst = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (!Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>()) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// These FP operations are supported with a dedicated instruction for</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// float, double and fp128 (base implementation assumes float generally</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// costs 2).</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::FAdd || Opcode == Instruction::FSub ||</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        Opcode == Instruction::FMul || Opcode == Instruction::FDiv)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// There is no native support for FRem.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::FRem)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">return</span> LIBCALL_COST;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">// Give discount for some combined logical operations if supported.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size() == 2 &amp;&amp; ST-&gt;hasMiscellaneousExtensions3()) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">if</span> (Opcode == Instruction::Xor) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *A : <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(A))</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasOneUse() &amp;&amp;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::And ||</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                 <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::Or ||</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                 <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::Xor))</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;              <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == Instruction::Or || Opcode == Instruction::And) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *A : <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(A))</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasOneUse() &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::Xor)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;              <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// Or requires one instruction, although it has custom handling for i64.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::Or)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::Xor &amp;&amp; ScalarBits == 1) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">if</span> (ST-&gt;hasLoadStoreOnCond2())</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">return</span> 5; <span class="comment">// 2 * (li 0; loc 1); xor</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">return</span> 7; <span class="comment">// 2 * ipm sequences ; xor ; shift ; compare</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (DivRemConstPow2)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">return</span> (SignedDivRem ? SDivPow2Cost : 1);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (DivRemConst)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">return</span> DivMulSeqCost;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (SignedDivRem || UnsignedDivRem)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">return</span> DivInstrCost;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ST-&gt;hasVector()) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keyword">auto</span> *VTy = cast&lt;FixedVectorType&gt;(Ty);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">unsigned</span> VF = VTy-&gt;getNumElements();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordtype">unsigned</span> NumVectors = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(Ty);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// These vector operations are custom handled, but are still supported</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// with one instruction per vector, regardless of element size.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::Shl || Opcode == Instruction::LShr ||</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        Opcode == Instruction::AShr) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">return</span> NumVectors;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (DivRemConstPow2)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> (NumVectors * (SignedDivRem ? SDivPow2Cost : 1));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (DivRemConst) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *&gt;</a> Tys(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size(), Ty);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">return</span> VF * DivMulSeqCost +</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;             <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(VTy, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Tys, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> ((SignedDivRem || UnsignedDivRem) &amp;&amp; VF &gt; 4)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="comment">// Temporary hack: disable high vectorization factors with integer</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="comment">// division/remainder, which will get scalarized and handled with</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="comment">// GR128 registers. The mischeduler is not clever enough to avoid</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="comment">// spilling yet.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keywordflow">return</span> 1000;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// These FP operations are supported with a single vector instruction for</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// double (base implementation assumes float generally costs 2). For</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// FP128, the scalar cost is 1, and there is no overhead since the values</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// are already in scalar registers.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::FAdd || Opcode == Instruction::FSub ||</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        Opcode == Instruction::FMul || Opcode == Instruction::FDiv) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">switch</span> (ScalarBits) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">case</span> 32: {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="comment">// The vector enhancements facility 1 provides v4f32 instructions.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">if</span> (ST-&gt;hasVectorEnhancements1())</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          <span class="keywordflow">return</span> NumVectors;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">// Return the cost of multiple scalar invocation plus the cost of</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">// inserting and extracting the values.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> ScalarCost =</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a843256aa051cd1c3e6517650f81b3e25">getArithmeticInstrCost</a>(Opcode, Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>(), <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *&gt;</a> Tys(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size(), Ty);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> =</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            (VF * ScalarCost) +</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(VTy, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Tys, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// FIXME: VF 2 for these FP operations are currently just as</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">// expensive as for VF 4.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">if</span> (VF == 2)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> *= 2;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">return</span> NumVectors;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// There is no native support for FRem.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::FRem) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *&gt;</a> Tys(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size(), Ty);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = (VF * LIBCALL_COST) +</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                             <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(VTy, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Tys, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// FIXME: VF 2 for float is currently just as expensive as for VF 4.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">if</span> (VF == 2 &amp;&amp; ScalarBits == 32)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> *= 2;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// Fallback to the default implementation.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a2ad3fccbfc25b87c73ffcc5f352641c5">BaseT::getArithmeticInstrCost</a>(Opcode, Ty, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, Op1Info, Op2Info,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                       <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, CxtI);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a947b366b444548483d231c1f2cebe535">  595</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a947b366b444548483d231c1f2cebe535">SystemZTTIImpl::getShuffleCost</a>(<a class="code" href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ec">TTI::ShuffleKind</a> Kind,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                                               <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *Tp,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                               <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                               <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                               <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *SubTp,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                               <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const Value *&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  Kind = <a class="code" href="classllvm_1_1BasicTTIImplBase.html#abc368419224592396c4ba37d02476246">improveShuffleKindFromMask</a>(Kind, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">if</span> (ST-&gt;hasVector()) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordtype">unsigned</span> NumVectors = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(Tp);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// TODO: Since fp32 is expanded, the shuffle cost should always be 0.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// FP128 values are always in scalar registers, so there is no work</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// involved with a shuffle, except for broadcast. In that case register</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// moves are done with a single instruction per element.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">if</span> (Tp-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f174fc924aa9cccf2abce5ef4b5ec9a">isFP128Ty</a>())</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span> (Kind == <a class="code" href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ecab1ac8982cdb119f39a5fe74610a46796">TargetTransformInfo::SK_Broadcast</a> ? NumVectors - 1 : 0);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">case</span>  <a class="code" href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ecafd6c03f570400fcb24d861aa21ddffe9">TargetTransformInfo::SK_ExtractSubvector</a>:</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="comment">// ExtractSubvector Index indicates start offset.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="comment">// Extracting a subvector from first index is a noop.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> == 0 ? 0 : NumVectors);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ecab1ac8982cdb119f39a5fe74610a46796">TargetTransformInfo::SK_Broadcast</a>:</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="comment">// Loop vectorizer calls here to figure out the extra cost of</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="comment">// broadcasting a loaded value to all elements of a vector. Since vlrep</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="comment">// loads and replicates with a single instruction, adjust the returned</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="comment">// value.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">return</span> NumVectors - 1;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="comment">// SystemZ supports single instruction permutation / replication.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">return</span> NumVectors;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a527f09e757e835b68cd4ba25f4c7c226">BaseT::getShuffleCost</a>(Kind, Tp, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, SubTp);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">// Return the log2 difference of the element sizes of the two vector types.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#a2f0f3c8ae1e70783849672eb85b035fc">  638</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2f0f3c8ae1e70783849672eb85b035fc">getElSizeLog2Diff</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty0, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty1) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordtype">unsigned</span> Bits0 = Ty0-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1M68kBeads.html#adf9efd002f28c007ebb2a45c495eab4caa73293dd48a7407b35e8ae542350af63">Bits1</a> = Ty1-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1M68kBeads.html#adf9efd002f28c007ebb2a45c495eab4caa73293dd48a7407b35e8ae542350af63">Bits1</a> &gt;  Bits0)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(<a class="code" href="namespacellvm_1_1M68kBeads.html#adf9efd002f28c007ebb2a45c495eab4caa73293dd48a7407b35e8ae542350af63">Bits1</a>) - <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(Bits0));</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(Bits0) - <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(<a class="code" href="namespacellvm_1_1M68kBeads.html#adf9efd002f28c007ebb2a45c495eab4caa73293dd48a7407b35e8ae542350af63">Bits1</a>));</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">// Return the number of instructions needed to truncate SrcTy to DstTy.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a694f0a06fb32a28862ef184803eaadd8">SystemZTTIImpl::</a></div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a694f0a06fb32a28862ef184803eaadd8">  650</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#a694f0a06fb32a28862ef184803eaadd8">getVectorTruncCost</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp; DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>());</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>() &gt;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;             DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>() &amp;&amp;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;         <span class="stringliteral">&quot;Packing must reduce size of vector type.&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(cast&lt;FixedVectorType&gt;(SrcTy)-&gt;getNumElements() ==</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;             cast&lt;FixedVectorType&gt;(DstTy)-&gt;getNumElements() &amp;&amp;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         <span class="stringliteral">&quot;Packing should not change number of elements.&quot;</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// TODO: Since fp32 is expanded, the extract cost should always be 0.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">unsigned</span> NumParts = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(SrcTy);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">if</span> (NumParts &lt;= 2)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// Up to 2 vector registers can be truncated efficiently with pack or</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// permute. The latter requires an immediate mask to be loaded, which</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// typically gets hoisted out of a loop.  TODO: return a good value for</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// BB-VECTORIZER that includes the immediate loads, which we do not want</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// to count for the loop vectorizer.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = 0;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordtype">unsigned</span> Log2Diff = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2f0f3c8ae1e70783849672eb85b035fc">getElSizeLog2Diff</a>(SrcTy, DstTy);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">unsigned</span> VF = cast&lt;FixedVectorType&gt;(SrcTy)-&gt;getNumElements();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = 0; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> &lt; Log2Diff; ++<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (NumParts &gt; 1)</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      NumParts /= 2;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> += NumParts;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// Currently, a general mix of permutes and pack instructions is output by</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// isel, which follow the cost computation above except for this case which</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// is one instruction less:</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">if</span> (VF == 8 &amp;&amp; SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() == 64 &amp;&amp;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() == 8)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>--;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">// Return the cost of converting a vector bitmask produced by a compare</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">// (SrcTy), to the type of the select or extend instruction (DstTy).</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#ac9187fccb0fa44ecfef081f99dd17029">SystemZTTIImpl::</a></div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#ac9187fccb0fa44ecfef081f99dd17029">  692</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#ac9187fccb0fa44ecfef081f99dd17029">getVectorBitmaskConversionCost</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp; DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          <span class="stringliteral">&quot;Should only be called with vector types.&quot;</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordtype">unsigned</span> PackCost = 0;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordtype">unsigned</span> SrcScalarBits = SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordtype">unsigned</span> DstScalarBits = DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordtype">unsigned</span> Log2Diff = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2f0f3c8ae1e70783849672eb85b035fc">getElSizeLog2Diff</a>(SrcTy, DstTy);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">if</span> (SrcScalarBits &gt; DstScalarBits)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// The bitmask will be truncated.</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    PackCost = <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a694f0a06fb32a28862ef184803eaadd8">getVectorTruncCost</a>(SrcTy, DstTy);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcScalarBits &lt; DstScalarBits) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordtype">unsigned</span> DstNumParts = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(DstTy);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// Each vector select needs its part of the bitmask unpacked.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    PackCost = Log2Diff * DstNumParts;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// Extra cost for moving part of mask before unpacking.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    PackCost += DstNumParts - 1;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">return</span> PackCost;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">// Return the type of the compared operands. This is needed to compute the</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">// cost for a Select / ZExt or SExt instruction.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#a2d22096c52b508f460744b72ba52704a">  716</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2d22096c52b508f460744b72ba52704a">getCmpOpsType</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">unsigned</span> VF = 1) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *OpTy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI = dyn_cast&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0)))</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    OpTy = CI-&gt;getOperand(0)-&gt;getType();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LogicI = dyn_cast&lt;Instruction&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0)))</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (LogicI-&gt;getNumOperands() == 2)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI0 = dyn_cast&lt;CmpInst&gt;(LogicI-&gt;getOperand(0)))</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">if</span> (isa&lt;CmpInst&gt;(LogicI-&gt;getOperand(1)))</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          OpTy = CI0-&gt;getOperand(0)-&gt;getType();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">if</span> (OpTy != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (VF == 1) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (!OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp; <span class="stringliteral">&quot;Expected scalar type&quot;</span>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">return</span> OpTy;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// Return the potentially vectorized type based on &#39;I&#39; and &#39;VF&#39;.  &#39;I&#39; may</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// be either scalar or already vectorized with a same or lesser VF.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ElTy = OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>();</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">FixedVectorType::get</a>(ElTy, VF);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">// Get the cost of converting a boolean vector to a vector with same width</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">// and element size as Dst, plus the cost of zero extending if needed.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a3b9c7d767cfaf2223fec3170abc7be03">SystemZTTIImpl::</a></div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a3b9c7d767cfaf2223fec3170abc7be03">  743</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#a3b9c7d767cfaf2223fec3170abc7be03">getBoolVecToIntConversionCost</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *Dst,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keyword">auto</span> *DstVTy = cast&lt;FixedVectorType&gt;(Dst);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordtype">unsigned</span> VF = DstVTy-&gt;getNumElements();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = 0;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// If we know what the widths of the compared operands, get any cost of</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// converting it to match Dst. Otherwise assume same widths.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *CmpOpTy = ((<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span>) ? <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2d22096c52b508f460744b72ba52704a">getCmpOpsType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, VF) : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">if</span> (CmpOpTy != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = <a class="code" href="classllvm_1_1SystemZTTIImpl.html#ac9187fccb0fa44ecfef081f99dd17029">getVectorBitmaskConversionCost</a>(CmpOpTy, Dst);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (Opcode == Instruction::ZExt || Opcode == Instruction::UIToFP)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// One &#39;vn&#39; per dst vector with an immediate mask.</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> += <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(Dst);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#ab3f2b8802cc38cd06a851443f6412807">  759</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#ab3f2b8802cc38cd06a851443f6412807">SystemZTTIImpl::getCastInstrCost</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *Dst,</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                                                 <a class="code" href="classllvm_1_1Type.html">Type</a> *Src,</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                                 <a class="code" href="classllvm_1_1TargetTransformInfo.html#af84cce349a77262269fd3f6756f37a64">TTI::CastContextHint</a> CCH,</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                                 <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// FIXME: Can the logic below also be used for these cost kinds?</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a> == <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba737cfc93e5a2ff961677d57186167e7c">TTI::TCK_CodeSize</a> || <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a> == <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba7f80055e1969cb850739546467460ad8">TTI::TCK_SizeAndLatency</a>) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keyword">auto</span> BaseCost = <a class="code" href="classllvm_1_1BasicTTIImplBase.html#ad0c9ac06022884eb218dc8f8c4056e43">BaseT::getCastInstrCost</a>(Opcode, Dst, Src, CCH, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> BaseCost == 0 ? BaseCost : 1;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordtype">unsigned</span> DstScalarBits = Dst-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordtype">unsigned</span> SrcScalarBits = Src-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">if</span> (!Src-&gt;isVectorTy()) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (!Dst-&gt;isVectorTy());</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::SIToFP || Opcode == Instruction::UIToFP) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (SrcScalarBits &gt;= 32 ||</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span> &amp;&amp; isa&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0))))</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">return</span> SrcScalarBits &gt; 1 ? 2 <span class="comment">/*i8/i16 extend*/</span> : 5 <span class="comment">/*branch seq.*/</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> ((Opcode == Instruction::ZExt || Opcode == Instruction::SExt) &amp;&amp;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        Src-&gt;isIntegerTy(1)) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> (ST-&gt;hasLoadStoreOnCond2())</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">return</span> 2; <span class="comment">// li 0; loc 1</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="comment">// This should be extension of a compare i1 result, which is done with</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="comment">// ipm and a varying sequence of instructions.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = 0;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (Opcode == Instruction::SExt)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = (DstScalarBits &lt; 64 ? 3 : 4);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">if</span> (Opcode == Instruction::ZExt)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = 3;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *CmpOpTy = ((<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span>) ? <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2d22096c52b508f460744b72ba52704a">getCmpOpsType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">if</span> (CmpOpTy != <span class="keyword">nullptr</span> &amp;&amp; CmpOpTy-&gt;<a class="code" href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">isFloatingPointTy</a>())</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">// If operands of an fp-type was compared, this costs +1.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>++;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ST-&gt;hasVector()) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// Vector to scalar cast.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keyword">auto</span> *SrcVecTy = cast&lt;FixedVectorType&gt;(Src);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">auto</span> *DstVecTy = dyn_cast&lt;FixedVectorType&gt;(Dst);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span> (!DstVecTy) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="comment">// TODO: tune vector-to-scalar cast.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#ad0c9ac06022884eb218dc8f8c4056e43">BaseT::getCastInstrCost</a>(Opcode, Dst, Src, CCH, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">unsigned</span> VF = SrcVecTy-&gt;getNumElements();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordtype">unsigned</span> NumDstVectors = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(Dst);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcVectors = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(Src);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::Trunc) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">if</span> (Src-&gt;getScalarSizeInBits() == Dst-&gt;getScalarSizeInBits())</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">return</span> 0; <span class="comment">// Check for NOOP conversions.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a694f0a06fb32a28862ef184803eaadd8">getVectorTruncCost</a>(Src, Dst);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::ZExt || Opcode == Instruction::SExt) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordflow">if</span> (SrcScalarBits &gt;= 8) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment">// ZExt will use either a single unpack or a vector permute.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span> (Opcode == Instruction::ZExt)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          <span class="keywordflow">return</span> NumDstVectors;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="comment">// SExt will be handled with one unpack per doubling of width.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordtype">unsigned</span> NumUnpacks = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2f0f3c8ae1e70783849672eb85b035fc">getElSizeLog2Diff</a>(Src, Dst);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="comment">// For types that spans multiple vector registers, some additional</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="comment">// instructions are used to setup the unpacking.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordtype">unsigned</span> NumSrcVectorOps =</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          (NumUnpacks &gt; 1 ? (NumDstVectors - NumSrcVectors)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                          : (NumDstVectors / 2));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">return</span> (NumUnpacks * NumDstVectors) + NumSrcVectorOps;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcScalarBits == 1)</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a3b9c7d767cfaf2223fec3170abc7be03">getBoolVecToIntConversionCost</a>(Opcode, Dst, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::SIToFP || Opcode == Instruction::UIToFP ||</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        Opcode == Instruction::FPToSI || Opcode == Instruction::FPToUI) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="comment">// TODO: Fix base implementation which could simplify things a bit here</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="comment">// (seems to miss on differentiating on scalar/vector types).</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="comment">// Only 64 bit vector conversions are natively supported before z15.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="keywordflow">if</span> (DstScalarBits == 64 || ST-&gt;hasVectorEnhancements2()) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">if</span> (SrcScalarBits == DstScalarBits)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;          <span class="keywordflow">return</span> NumDstVectors;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="keywordflow">if</span> (SrcScalarBits == 1)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a3b9c7d767cfaf2223fec3170abc7be03">getBoolVecToIntConversionCost</a>(Opcode, Dst, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) + NumDstVectors;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">// Return the cost of multiple scalar invocation plus the cost of</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="comment">// inserting and extracting the values. Base implementation does not</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="comment">// realize float-&gt;int gets scalarized.</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> ScalarCost = <a class="code" href="classllvm_1_1SystemZTTIImpl.html#ab3f2b8802cc38cd06a851443f6412807">getCastInstrCost</a>(</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;          Opcode, Dst-&gt;getScalarType(), Src-&gt;getScalarType(), CCH, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> TotCost = VF * ScalarCost;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordtype">bool</span> NeedsInserts = <span class="keyword">true</span>, NeedsExtracts = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="comment">// FP128 registers do not get inserted or extracted.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span> (DstScalarBits == 128 &amp;&amp;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          (Opcode == Instruction::SIToFP || Opcode == Instruction::UIToFP))</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        NeedsInserts = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">if</span> (SrcScalarBits == 128 &amp;&amp;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          (Opcode == Instruction::FPToSI || Opcode == Instruction::FPToUI))</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        NeedsExtracts = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      TotCost += <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(SrcVecTy, <span class="comment">/*Insert*/</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                          NeedsExtracts, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      TotCost += <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(DstVecTy, NeedsInserts,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                          <span class="comment">/*Extract*/</span> <span class="keyword">false</span>, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="comment">// FIXME: VF 2 for float&lt;-&gt;i32 is currently just as expensive as for VF 4.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">if</span> (VF == 2 &amp;&amp; SrcScalarBits == 32 &amp;&amp; DstScalarBits == 32)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        TotCost *= 2;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">return</span> TotCost;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::FPTrunc) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (SrcScalarBits == 128)  <span class="comment">// fp128 -&gt; double/float + inserts of elements.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">return</span> VF <span class="comment">/*ldxbr/lexbr*/</span> +</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;               <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(DstVecTy, <span class="comment">/*Insert*/</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                        <span class="comment">/*Extract*/</span> <span class="keyword">false</span>, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <span class="keywordflow">else</span> <span class="comment">// double -&gt; float</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">return</span> VF / 2 <span class="comment">/*vledb*/</span> + <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(1U, VF / 4 <span class="comment">/*vperm*/</span>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::FPExt) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">if</span> (SrcScalarBits == 32 &amp;&amp; DstScalarBits == 64) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">// float -&gt; double is very rare and currently unoptimized. Instead of</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="comment">// using vldeb, which can do two at a time, all conversions are</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">// scalarized.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">return</span> VF * 2;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="comment">// -&gt; fp128.  VF * lxdb/lxeb + extraction of elements.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">return</span> VF + <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">getScalarizationOverhead</a>(SrcVecTy, <span class="comment">/*Insert*/</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                                           <span class="comment">/*Extract*/</span> <span class="keyword">true</span>, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#ad0c9ac06022884eb218dc8f8c4056e43">BaseT::getCastInstrCost</a>(Opcode, Dst, Src, CCH, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;}</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">// Scalar i8 / i16 operations will typically be made after first extending</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">// the operands to i32.</span></div>
<div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#a3f4649c90b5297a0d5c1608da9f6ac9b">  909</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a3f4649c90b5297a0d5c1608da9f6ac9b">getOperandsExtensionCost</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordtype">unsigned</span> ExtCost = 0;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands())</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">// A load of i8 or i16 sign/zero extends to i32.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;LoadInst&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) &amp;&amp; !isa&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      ExtCost++;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">return</span> ExtCost;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;}</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#aee47733ee679835a30d1d74cbc6280a0">  919</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#aee47733ee679835a30d1d74cbc6280a0">SystemZTTIImpl::getCmpSelInstrCost</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *ValTy,</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                                                   <a class="code" href="classllvm_1_1Type.html">Type</a> *CondTy,</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                                   <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> VecPred,</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                                                   <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a> != <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">TTI::TCK_RecipThroughput</a>)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a0bab5a038da3c431c26f7035a7139dba">BaseT::getCmpSelInstrCost</a>(Opcode, ValTy, CondTy, VecPred, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">if</span> (!ValTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>()) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">case</span> Instruction::ICmp: {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="comment">// A loaded value compared with 0 with multiple users becomes Load and</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="comment">// Test. The load is then not foldable, so return 0 cost for the ICmp.</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordtype">unsigned</span> ScalarBits = ValTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span> &amp;&amp; ScalarBits &gt;= 32)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *Ld = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0)))</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1)))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="keywordflow">if</span> (!Ld-&gt;hasOneUse() &amp;&amp; Ld-&gt;getParent() == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() &amp;&amp;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;              <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = 1;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordflow">if</span> (ValTy-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>() &amp;&amp; ValTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() &lt;= 16)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> += (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span> ? <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a3f4649c90b5297a0d5c1608da9f6ac9b">getOperandsExtensionCost</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) : 2);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>:</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">if</span> (ValTy-&gt;<a class="code" href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">isFloatingPointTy</a>())</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">return</span> 4; <span class="comment">// No load on condition for FP - costs a conditional jump.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">return</span> 1; <span class="comment">// Load On Condition / Select Register.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ST-&gt;hasVector()) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordtype">unsigned</span> VF = cast&lt;FixedVectorType&gt;(ValTy)-&gt;getNumElements();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// Called with a compare instruction.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (Opcode == Instruction::ICmp || Opcode == Instruction::FCmp) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordtype">unsigned</span> PredicateExtraCost = 0;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="comment">// Some predicates cost one or two extra instructions.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">switch</span> (cast&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">getPredicate</a>()) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::ICMP_NE:</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::ICMP_UGE:</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::ICMP_ULE:</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::ICMP_SGE:</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::ICMP_SLE:</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;          PredicateExtraCost = 1;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::FCMP_ONE:</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::FCMP_ORD:</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::FCMP_UEQ:</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">case</span> CmpInst::Predicate::FCMP_UNO:</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          PredicateExtraCost = 2;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="comment">// Float is handled with 2*vmr[lh]f + 2*vldeb + vfchdb for each pair of</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="comment">// floats.  FIXME: &lt;2 x float&gt; generates same code as &lt;4 x float&gt;.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordtype">unsigned</span> CmpCostPerVector = (ValTy-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3ffc75c3a4cb82ba307a3334483eb4ac">isFloatTy</a>() ? 10 : 1);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordtype">unsigned</span> NumVecs_cmp = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(ValTy);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = (NumVecs_cmp * (CmpCostPerVector + PredicateExtraCost));</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// Called with a select instruction.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (Opcode == <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="comment">// We can figure out the extra cost of packing / unpacking if the</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="comment">// instruction was passed and the compare instruction is found.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordtype">unsigned</span> PackCost = 0;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *CmpOpTy = ((<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span>) ? <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a2d22096c52b508f460744b72ba52704a">getCmpOpsType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, VF) : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordflow">if</span> (CmpOpTy != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        PackCost =</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;          <a class="code" href="classllvm_1_1SystemZTTIImpl.html#ac9187fccb0fa44ecfef081f99dd17029">getVectorBitmaskConversionCost</a>(CmpOpTy, ValTy);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(ValTy) <span class="comment">/*vsel*/</span> + PackCost;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a0bab5a038da3c431c26f7035a7139dba">BaseT::getCmpSelInstrCost</a>(Opcode, ValTy, CondTy, VecPred, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;}</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a6c3e2976aaa70cee37a6a3f35fba2a24"> 1004</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a6c3e2976aaa70cee37a6a3f35fba2a24">SystemZTTIImpl::getVectorInstrCost</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *Val,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                                   <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                                   <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="comment">// vlvgp will insert two grs into a vector register, so only count half the</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="comment">// number of instructions.</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">if</span> (Opcode == Instruction::InsertElement &amp;&amp; Val-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>(64))</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">return</span> ((<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> % 2 == 0) ? 1 : 0);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (Opcode == Instruction::ExtractElement) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> = ((<a class="code" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a>(Val) == 1) ? 2 <span class="comment">/*+test-under-mask*/</span> : 1);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// Give a slight penalty for moving out of vector pipeline to FXU unit.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> == 0 &amp;&amp; Val-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>())</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> += 1;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a27bfcb3dd99fa7a7ca8dc24eeac6e8e6">BaseT::getVectorInstrCost</a>(Opcode, Val, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, Op0, Op1);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">// Check if a load may be folded as a memory operand in its user.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a710fc966df72f9cae9f17ec7eb76f5e8">SystemZTTIImpl::</a></div>
<div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a710fc966df72f9cae9f17ec7eb76f5e8"> 1028</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#a710fc966df72f9cae9f17ec7eb76f5e8">isFoldableLoad</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *Ld, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *&amp;FoldedValue) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (!Ld-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>())</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  FoldedValue = Ld;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UserI = cast&lt;Instruction&gt;(*Ld-&gt;<a class="code" href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>());</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordtype">unsigned</span> LoadedBits = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a>(Ld-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordtype">unsigned</span> TruncBits = 0;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordtype">unsigned</span> SExtBits = 0;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordtype">unsigned</span> ZExtBits = 0;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">if</span> (UserI-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>()) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordtype">unsigned</span> UserBits = UserI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span> (isa&lt;TruncInst&gt;(UserI))</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      TruncBits = UserBits;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;SExtInst&gt;(UserI))</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      SExtBits = UserBits;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ZExtInst&gt;(UserI))</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      ZExtBits = UserBits;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">if</span> (TruncBits || SExtBits || ZExtBits) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    FoldedValue = UserI;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    UserI = cast&lt;Instruction&gt;(*UserI-&gt;<a class="code" href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>());</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">// Load (single use) -&gt; trunc/extend (single use) -&gt; UserI</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">if</span> ((UserI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::Sub ||</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;       UserI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::SDiv ||</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;       UserI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::UDiv) &amp;&amp;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      UserI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1) != FoldedValue)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Not commutative, only RHS foldable.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="comment">// LoadOrTruncBits holds the number of effectively loaded bits, but 0 if an</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="comment">// extension was made of the load.</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordtype">unsigned</span> LoadOrTruncBits =</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      ((SExtBits || ZExtBits) ? 0 : (TruncBits ? TruncBits : LoadedBits));</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">switch</span> (UserI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>()) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>: <span class="comment">// SE: 16-&gt;32, 16/32-&gt;64, z14:16-&gt;64. ZE: 32-&gt;64</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">case</span> Instruction::ICmp:</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (LoadedBits == 32 &amp;&amp; ZExtBits == 64)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>: <span class="comment">// SE: 16-&gt;32, 32-&gt;64, z14:16-&gt;64</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (UserI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() != Instruction::ICmp) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">if</span> (LoadedBits == 16 &amp;&amp;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;          (SExtBits == 32 ||</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;           (SExtBits == 64 &amp;&amp; ST-&gt;hasMiscellaneousExtensions2())))</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordflow">if</span> (LoadOrTruncBits == 16)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:<span class="comment">// SE: 32-&gt;64</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> (LoadedBits == 32 &amp;&amp; SExtBits == 64)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// This also makes sense for float operations, but disabled for now due</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// to regressions.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// case Instruction::FCmp:</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="comment">// case Instruction::FAdd:</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// case Instruction::FSub:</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// case Instruction::FMul:</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// case Instruction::FDiv:</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// All possible extensions of memory checked above.</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// Comparison between memory and immediate.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (UserI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::ICmp)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(UserI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)))</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;getValue().isIntN(16))</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">return</span> (LoadOrTruncBits == 32 || LoadOrTruncBits == 64);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#a357c78718ce6fe9ce5716678cb06863d"> 1106</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a357c78718ce6fe9ce5716678cb06863d">isBswapIntrinsicCall</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CI-&gt;getCalledFunction())</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID() == Intrinsic::bswap)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a97ebd00c769b1d7c67f7db4b58137c93"> 1115</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a97ebd00c769b1d7c67f7db4b58137c93">SystemZTTIImpl::getMemoryOpCost</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *Src,</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                                <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> Alignment,</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                                                <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                                <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                                <a class="code" href="structllvm_1_1TargetTransformInfo_1_1OperandValueInfo.html">TTI::OperandValueInfo</a> OpInfo,</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Src-&gt;isVoidTy() &amp;&amp; <span class="stringliteral">&quot;Invalid type&quot;</span>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// TODO: Handle other cost kinds.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a> != <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">TTI::TCK_RecipThroughput</a>)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">if</span> (!Src-&gt;isVectorTy() &amp;&amp; Opcode == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// Store the load or its truncated or extended value in FoldedValue.</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FoldedValue = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SystemZTTIImpl.html#a710fc966df72f9cae9f17ec7eb76f5e8">isFoldableLoad</a>(cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), FoldedValue)) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UserI = cast&lt;Instruction&gt;(*FoldedValue-&gt;<a class="code" href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>());</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (UserI-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 2 &amp;&amp; <span class="stringliteral">&quot;Expected a binop.&quot;</span>);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="comment">// UserI can&#39;t fold two loads, so in that case return 0 cost only</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="comment">// half of the time.</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span> (UserI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == FoldedValue)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OtherOp = dyn_cast&lt;Instruction&gt;(UserI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))){</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;          <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *OtherLoad = dyn_cast&lt;LoadInst&gt;(OtherOp);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;          <span class="keywordflow">if</span> (!OtherLoad &amp;&amp;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;              (isa&lt;TruncInst&gt;(OtherOp) || isa&lt;SExtInst&gt;(OtherOp) ||</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;               isa&lt;ZExtInst&gt;(OtherOp)))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            OtherLoad = dyn_cast&lt;LoadInst&gt;(OtherOp-&gt;getOperand(0));</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;          <span class="keywordflow">if</span> (OtherLoad &amp;&amp; <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a710fc966df72f9cae9f17ec7eb76f5e8">isFoldableLoad</a>(OtherLoad, FoldedValue<span class="comment">/*dummy*/</span>))</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0; <span class="comment">// Both operands foldable.</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">return</span> 0; <span class="comment">// Only I is foldable in user.</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordtype">unsigned</span> NumOps =</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    (Src-&gt;isVectorTy() ? <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(Src) : <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a16a2910025aeadfd52f381a78f92faf0">getNumberOfParts</a>(Src));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// Store/Load reversed saves one instruction.</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">if</span> (((!Src-&gt;isVectorTy() &amp;&amp; NumOps == 1) || ST-&gt;hasVectorEnhancements2()) &amp;&amp;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasOneUse()) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LdUser = cast&lt;Instruction&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;user_begin());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="comment">// In case of load -&gt; bswap -&gt; store, return normal cost for the load.</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SystemZTargetTransformInfo_8cpp.html#a357c78718ce6fe9ce5716678cb06863d">isBswapIntrinsicCall</a>(LdUser) &amp;&amp;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;          (!LdUser-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() || !isa&lt;StoreInst&gt;(*LdUser-&gt;<a class="code" href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>())))</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *StoredVal = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">if</span> (StoredVal-&gt;<a class="code" href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() &amp;&amp; <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a357c78718ce6fe9ce5716678cb06863d">isBswapIntrinsicCall</a>(StoredVal))</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordflow">if</span> (Src-&gt;getScalarSizeInBits() == 128)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">// 128 bit scalars are held in a pair of two 64 bit registers.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    NumOps *= 2;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">return</span>  NumOps;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;}</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">// The generic implementation of getInterleavedMemoryOpCost() is based on</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">// adding costs of the memory operations plus all the extracts and inserts</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">// needed for using / defining the vector operands. The SystemZ version does</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">// roughly the same but bases the computations on vector permutations</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">// instead.</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a1a15e8dd266694612ad050ea8d4b4cbd"> 1187</a></span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="classllvm_1_1SystemZTTIImpl.html#a1a15e8dd266694612ad050ea8d4b4cbd">SystemZTTIImpl::getInterleavedMemoryOpCost</a>(</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Type.html">Type</a> *VecTy, <span class="keywordtype">unsigned</span> Factor, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Indices,</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>, <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordtype">bool</span> UseMaskForCond, <span class="keywordtype">bool</span> UseMaskForGaps) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (UseMaskForCond || UseMaskForGaps)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a09ac3c26a04fdf36e4bcc0e725fca41e">BaseT::getInterleavedMemoryOpCost</a>(Opcode, VecTy, Factor, Indices,</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                             Alignment, <a class="code" href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">AddressSpace</a>, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                             UseMaskForCond, UseMaskForGaps);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;VectorType&gt;(VecTy) &amp;&amp;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         <span class="stringliteral">&quot;Expect a vector type for interleaved memory op&quot;</span>);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(VecTy)-&gt;getNumElements();</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Factor &gt; 1 &amp;&amp; NumElts % Factor == 0 &amp;&amp; <span class="stringliteral">&quot;Invalid interleave factor&quot;</span>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keywordtype">unsigned</span> VF = NumElts / Factor;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordtype">unsigned</span> NumEltsPerVecReg = (128U / <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a>(VecTy));</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordtype">unsigned</span> NumVectorMemOps = <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(VecTy);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordtype">unsigned</span> NumPermutes = 0;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// Loading interleave groups may have gaps, which may mean fewer</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// loads. Find out how many vectors will be loaded in total, and in how</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// many of them each value will be in.</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> UsedInsts(NumVectorMemOps, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    std::vector&lt;BitVector&gt; ValueVecs(Factor, <a class="code" href="classllvm_1_1BitVector.html">BitVector</a>(NumVectorMemOps, <span class="keyword">false</span>));</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> : Indices)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Elt = 0; Elt &lt; VF; ++Elt) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keywordtype">unsigned</span> Vec = (<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> + Elt * Factor) / NumEltsPerVecReg;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        UsedInsts.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(Vec);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        ValueVecs[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(Vec);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    NumVectorMemOps = UsedInsts.<a class="code" href="classllvm_1_1BitVector.html#a568ff706b8c5991bd299c8c00b803897">count</a>();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> : Indices) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="comment">// Estimate that each loaded source vector containing this Index</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="comment">// requires one operation, except that vperm can handle two input</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="comment">// registers first time for each dst vector.</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcVecs = ValueVecs[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].count();</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="keywordtype">unsigned</span> NumDstVecs = <a class="code" href="namespacellvm.html#a1a14592c2ae220a319c7c85ee545c96f">divideCeil</a>(VF * <a class="code" href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a>(VecTy), 128U);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (NumSrcVecs &gt;= NumDstVecs &amp;&amp; <span class="stringliteral">&quot;Expected at least as many sources&quot;</span>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      NumPermutes += <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(1U, NumSrcVecs - NumDstVecs);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// Estimate the permutes for each stored vector as the smaller of the</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// number of elements and the number of source vectors. Subtract one per</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// dst vector for vperm (S.A.).</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordtype">unsigned</span> NumSrcVecs = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(NumEltsPerVecReg, Factor);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordtype">unsigned</span> NumDstVecs = NumVectorMemOps;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (NumSrcVecs &gt; 1 &amp;&amp; <span class="stringliteral">&quot;Expected at least two source vectors.&quot;</span>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    NumPermutes += (NumDstVecs * NumSrcVecs) - NumDstVecs;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// Cost of load/store operations and the permutations needed.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">return</span> NumVectorMemOps + NumPermutes;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="SystemZTargetTransformInfo_8cpp.html#aa332764e08d44a56925f3162b941dc74"> 1242</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#aa332764e08d44a56925f3162b941dc74">getVectorIntrinsicInstrCost</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordflow">if</span> (RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> == Intrinsic::bswap)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a>(RetTy); <span class="comment">// VPERM</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;}</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a></div>
<div class="line"><a name="l01249"></a><span class="lineno"><a class="line" href="classllvm_1_1SystemZTTIImpl.html#a7dafc3bb7b6d26a4ac107d35b3573670"> 1249</a></span>&#160;<a class="code" href="classllvm_1_1SystemZTTIImpl.html#a7dafc3bb7b6d26a4ac107d35b3573670">SystemZTTIImpl::getIntrinsicInstrCost</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicCostAttributes.html">IntrinsicCostAttributes</a> &amp;ICA,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                      <a class="code" href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a> <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> =</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <a class="code" href="SystemZTargetTransformInfo_8cpp.html#aa332764e08d44a56925f3162b941dc74">getVectorIntrinsicInstrCost</a>(ICA.<a class="code" href="classllvm_1_1IntrinsicCostAttributes.html#af12b3fb3cabe9735daed0349fae1887d">getID</a>(), ICA.<a class="code" href="classllvm_1_1IntrinsicCostAttributes.html#a7f301456250d0649918156638ec2f942">getReturnType</a>());</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a> != -1)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">Cost</a>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BasicTTIImplBase.html#a05184f6230f850d3f972f6d904bd2ef5">BaseT::getIntrinsicInstrCost</a>(ICA, <a class="code" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstructionCost_html"><div class="ttname"><a href="classllvm_1_1InstructionCost.html">llvm::InstructionCost</a></div><div class="ttdef"><b>Definition:</b> <a href="InstructionCost_8h_source.html#l00029">InstructionCost.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_aa4c17e89b1ef061ed69f42b7cee93dbeac71465fd61f1ba8aa2c7c397722b5e05"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#aa4c17e89b1ef061ed69f42b7cee93dbeac71465fd61f1ba8aa2c7c397722b5e05">llvm::TargetTransformInfo::PSK_FastHardware</a></div><div class="ttdeci">@ PSK_FastHardware</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00603">TargetTransformInfo.h:603</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_1_1M68kBeads_html_adf9efd002f28c007ebb2a45c495eab4caa73293dd48a7407b35e8ae542350af63"><div class="ttname"><a href="namespacellvm_1_1M68kBeads.html#adf9efd002f28c007ebb2a45c495eab4caa73293dd48a7407b35e8ae542350af63">llvm::M68kBeads::Bits1</a></div><div class="ttdeci">@ Bits1</div><div class="ttdef"><b>Definition:</b> <a href="M68kBaseInfo_8h_source.html#l00073">M68kBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_aec0b8db50138e2a68aca36959b6692a5"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#aec0b8db50138e2a68aca36959b6692a5">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::DL</a></div><div class="ttdeci">const DataLayout &amp; DL</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfoImpl_8h_source.html#l00038">TargetTransformInfoImpl.h:38</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_ae31307b4efc5ce5311752041e7ff7cdc"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ae31307b4efc5ce5311752041e7ff7cdc">llvm::TargetTransformInfo::UnrollingPreferences::Runtime</a></div><div class="ttdeci">bool Runtime</div><div class="ttdoc">Allow runtime unrolling (unrolling of loops to expand the size of the loop body even when the number ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00497">TargetTransformInfo.h:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a706f223f760b55668fbae74202b816bb"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bb">llvm::TargetTransformInfo::TargetCostKind</a></div><div class="ttdeci">TargetCostKind</div><div class="ttdoc">The kind of cost model.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00241">TargetTransformInfo.h:241</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_acc4efcc7eb81341eb7b94387d7519fd7"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#acc4efcc7eb81341eb7b94387d7519fd7">llvm::TargetTransformInfo::LSRCost::NumRegs</a></div><div class="ttdeci">unsigned NumRegs</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00430">TargetTransformInfo.h:430</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_ae28e05c1aac288aa7e4a49d858b35c46"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ae28e05c1aac288aa7e4a49d858b35c46">llvm::TargetTransformInfo::UnrollingPreferences::PartialThreshold</a></div><div class="ttdeci">unsigned PartialThreshold</div><div class="ttdoc">The cost threshold for the unrolled loop, like Threshold, but used for partial/runtime unrolling (set...</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00465">TargetTransformInfo.h:465</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a3b9c7d767cfaf2223fec3170abc7be03"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a3b9c7d767cfaf2223fec3170abc7be03">llvm::SystemZTTIImpl::getBoolVecToIntConversionCost</a></div><div class="ttdeci">unsigned getBoolVecToIntConversionCost(unsigned Opcode, Type *Dst, const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00743">SystemZTargetTransformInfo.cpp:743</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a97ebd00c769b1d7c67f7db4b58137c93"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a97ebd00c769b1d7c67f7db4b58137c93">llvm::SystemZTTIImpl::getMemoryOpCost</a></div><div class="ttdeci">InstructionCost getMemoryOpCost(unsigned Opcode, Type *Src, MaybeAlign Alignment, unsigned AddressSpace, TTI::TargetCostKind CostKind, TTI::OperandValueInfo OpInfo={TTI::OK_AnyValue, TTI::OP_None}, const Instruction *I=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01115">SystemZTargetTransformInfo.cpp:1115</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ad958859a7af278dd5ea2b593c2b25050"><div class="ttname"><a href="structllvm_1_1EVT.html#ad958859a7af278dd5ea2b593c2b25050">llvm::EVT::isScalarInteger</a></div><div class="ttdeci">bool isScalarInteger() const</div><div class="ttdoc">Return true if this is an integer, but not a vector.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00149">ValueTypes.h:149</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_aa332764e08d44a56925f3162b941dc74"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#aa332764e08d44a56925f3162b941dc74">getVectorIntrinsicInstrCost</a></div><div class="ttdeci">static int getVectorIntrinsicInstrCost(Intrinsic::ID ID, Type *RetTy)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01242">SystemZTargetTransformInfo.cpp:1242</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3a402430a1bbe70a9282dcb0e0b6a2cd"><div class="ttname"><a href="classllvm_1_1Value.html#a3a402430a1bbe70a9282dcb0e0b6a2cd">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one use of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00434">Value.h:434</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a0e3eba5cd35140f30d54eb8ef1fb0215"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a0e3eba5cd35140f30d54eb8ef1fb0215">llvm::TargetTransformInfo::UnrollingPreferences::MaxCount</a></div><div class="ttdeci">unsigned MaxCount</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00481">TargetTransformInfo.h:481</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a6c3e2976aaa70cee37a6a3f35fba2a24"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a6c3e2976aaa70cee37a6a3f35fba2a24">llvm::SystemZTTIImpl::getVectorInstrCost</a></div><div class="ttdeci">InstructionCost getVectorInstrCost(unsigned Opcode, Type *Val, TTI::TargetCostKind CostKind, unsigned Index, Value *Op0, Value *Op1)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01004">SystemZTargetTransformInfo.cpp:1004</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a1964207fae81f04966b2a9dcfc21cf7b"><div class="ttname"><a href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">llvm::BitVector::set</a></div><div class="ttdeci">BitVector &amp; set()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00344">BitVector.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_aa4c17e89b1ef061ed69f42b7cee93dbe"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#aa4c17e89b1ef061ed69f42b7cee93dbe">llvm::TargetTransformInfo::PopcntSupportKind</a></div><div class="ttdeci">PopcntSupportKind</div><div class="ttdoc">Flags indicating the kind of support for population count.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00603">TargetTransformInfo.h:603</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ad1b0513de876d1c85cf6268ca21b2c86"><div class="ttname"><a href="classllvm_1_1APInt.html#ad1b0513de876d1c85cf6268ca21b2c86">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const</div><div class="ttdoc">Check if this APInt's value is a power of two greater than zero.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00432">APInt.h:432</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a4abb39a66573f61fda80469faa5d861d"><div class="ttname"><a href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">llvm::Type::getScalarType</a></div><div class="ttdeci">Type * getScalarType() const</div><div class="ttdoc">If this is a vector type, return the element type, otherwise return 'this'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00341">Type.h:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a4b001d9b458035fbbfc154d52d354ee9"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const</div><div class="ttdoc">Return the constant as an APInt value reference.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00132">Constants.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a527f09e757e835b68cd4ba25f4c7c226"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a527f09e757e835b68cd4ba25f4c7c226">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getShuffleCost</a></div><div class="ttdeci">InstructionCost getShuffleCost(TTI::ShuffleKind Kind, VectorType *Tp, ArrayRef&lt; int &gt; Mask, TTI::TargetCostKind CostKind, int Index, VectorType *SubTp, ArrayRef&lt; const Value * &gt; Args=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l00963">BasicTTIImpl.h:963</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicCostAttributes_html_a7f301456250d0649918156638ec2f942"><div class="ttname"><a href="classllvm_1_1IntrinsicCostAttributes.html#a7f301456250d0649918156638ec2f942">llvm::IntrinsicCostAttributes::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00152">TargetTransformInfo.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdoc">The main scalar evolution driver.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00452">ScalarEvolution.h:452</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a8bb3b1ccf19b8c85429b777dfa4a0166ad8f233645107107ed48d2e4a915152cc"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166ad8f233645107107ed48d2e4a915152cc">llvm::TargetTransformInfo::RGK_Scalar</a></div><div class="ttdeci">@ RGK_Scalar</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00988">TargetTransformInfo.h:988</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a706f223f760b55668fbae74202b816bba737cfc93e5a2ff961677d57186167e7c"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba737cfc93e5a2ff961677d57186167e7c">llvm::TargetTransformInfo::TCK_CodeSize</a></div><div class="ttdeci">@ TCK_CodeSize</div><div class="ttdoc">Instruction code size.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00244">TargetTransformInfo.h:244</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_a1cc611760ab739d87bf545a55dcea72b"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a1cc611760ab739d87bf545a55dcea72b">llvm::TargetTransformInfo::LSRCost::NumIVMuls</a></div><div class="ttdeci">unsigned NumIVMuls</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00432">TargetTransformInfo.h:432</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_af01349dac5ea8d7fc1d5bedcc82a17b8"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#af01349dac5ea8d7fc1d5bedcc82a17b8">llvm::TargetTransformInfo::UnrollingPreferences::Partial</a></div><div class="ttdeci">bool Partial</div><div class="ttdoc">Allow partial unrolling (unrolling of loops to expand the size of the loop body, not only to eliminat...</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00493">TargetTransformInfo.h:493</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1PeelingPreferences_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1PeelingPreferences.html">llvm::TargetTransformInfo::PeelingPreferences</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00547">TargetTransformInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_abc368419224592396c4ba37d02476246"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#abc368419224592396c4ba37d02476246">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::improveShuffleKindFromMask</a></div><div class="ttdeci">TTI::ShuffleKind improveShuffleKindFromMask(TTI::ShuffleKind Kind, ArrayRef&lt; int &gt; Mask) const</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l00927">BasicTTIImpl.h:927</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_ac9d35cceaeac03c999997e0b4d3ebcb6"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ac9d35cceaeac03c999997e0b4d3ebcb6">llvm::TargetTransformInfo::UnrollingPreferences::FullUnrollMaxCount</a></div><div class="ttdeci">unsigned FullUnrollMaxCount</div><div class="ttdoc">Set the maximum unrolling factor for full unrolling.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00485">TargetTransformInfo.h:485</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_ae6881514a39f1bcf75ad62e5188700a4"><div class="ttname"><a href="README__P9_8txt.html#ae6881514a39f1bcf75ad62e5188700a4">Vector</a></div><div class="ttdeci">So we should use XX3Form_Rcr to implement intrinsic Convert DP outs ins xscvdpsp No builtin are required Round &amp;Convert QP DP(dword[1] is set to zero) No builtin are required Round to Quad Precision because you need to assign rounding mode in instruction Provide builtin(set f128:$vT,(int_ppc_vsx_xsrqpi f128:$vB))(set f128 yields&lt; n x&lt; ty &gt; &gt;&lt; result &gt; yields&lt; ty &gt;&lt; result &gt; No builtin are required Load Store Vector</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00497">README_P9.txt:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a158da2b6d3d938aaa15b6acd00150e2c"><div class="ttname"><a href="classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">llvm::Value::user_begin</a></div><div class="ttdeci">user_iterator user_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00397">Value.h:397</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZInstrInfo_html"><div class="ttname"><a href="classllvm_1_1SystemZInstrInfo.html">llvm::SystemZInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZInstrInfo_8h_source.html#l00174">SystemZInstrInfo.h:174</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00292">MathExtras.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aac5759c83abd6a4af236401a7cfe7a0f"><div class="ttname"><a href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">llvm::Type::isFloatingPointTy</a></div><div class="ttdeci">bool isFloatingPointTy() const</div><div class="ttdoc">Return true if this is one of the floating-point types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00185">Type.h:185</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1OperandValueInfo_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1OperandValueInfo.html">llvm::TargetTransformInfo::OperandValueInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00947">TargetTransformInfo.h:947</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_afaa4eb31d0f39aa8c7ac8d081a39fec5"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#afaa4eb31d0f39aa8c7ac8d081a39fec5">llvm::TargetTransformInfo::UnrollingPreferences::AllowExpensiveTripCount</a></div><div class="ttdeci">bool AllowExpensiveTripCount</div><div class="ttdoc">Allow emitting expensive instructions (such as divisions) when computing the trip count of a loop for...</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00502">TargetTransformInfo.h:502</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a2c3592225ac76b22e45e2a24dc159be8"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a2c3592225ac76b22e45e2a24dc159be8">llvm::SystemZTTIImpl::getNumberOfRegisters</a></div><div class="ttdeci">unsigned getNumberOfRegisters(unsigned ClassID) const</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00354">SystemZTargetTransformInfo.cpp:354</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_a5b3b10333e5dcfbc64652b383025b77c"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a5b3b10333e5dcfbc64652b383025b77c">llvm::TargetTransformInfo::LSRCost::Insns</a></div><div class="ttdeci">unsigned Insns</div><div class="ttdoc">TODO: Some of these could be merged.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00429">TargetTransformInfo.h:429</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_af46433d0e36d3f80afc3a8c67b5c53ecab1ac8982cdb119f39a5fe74610a46796"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ecab1ac8982cdb119f39a5fe74610a46796">llvm::TargetTransformInfo::SK_Broadcast</a></div><div class="ttdeci">@ SK_Broadcast</div><div class="ttdoc">Broadcast element 0 to all other elements.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00911">TargetTransformInfo.h:911</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a27bfcb3dd99fa7a7ca8dc24eeac6e8e6"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a27bfcb3dd99fa7a7ca8dc24eeac6e8e6">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getVectorInstrCost</a></div><div class="ttdeci">InstructionCost getVectorInstrCost(unsigned Opcode, Type *Val, TTI::TargetCostKind CostKind, unsigned Index, Value *Op0, Value *Op1)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l01219">BasicTTIImpl.h:1219</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_a95eb887e84c6d2b102a6b0114276f8da"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a95eb887e84c6d2b102a6b0114276f8da">llvm::TargetTransformInfo::LSRCost::AddRecCost</a></div><div class="ttdeci">unsigned AddRecCost</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00431">TargetTransformInfo.h:431</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_a2d22096c52b508f460744b72ba52704a"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#a2d22096c52b508f460744b72ba52704a">getCmpOpsType</a></div><div class="ttdeci">static Type * getCmpOpsType(const Instruction *I, unsigned VF=1)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00716">SystemZTargetTransformInfo.cpp:716</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_afa00c85b17f12a25f99f238eaf86ece7"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#afa00c85b17f12a25f99f238eaf86ece7">llvm::TargetTransformInfo::LSRCost::SetupCost</a></div><div class="ttdeci">unsigned SetupCost</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00435">TargetTransformInfo.h:435</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aTargetLowering_8h_html"><div class="ttname"><a href="TargetLowering_8h.html">TargetLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4e05d690df389b8b1477c90387b575f"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns a member of one of the enums like Instruction::Add.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00168">Instruction.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a947b366b444548483d231c1f2cebe535"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a947b366b444548483d231c1f2cebe535">llvm::SystemZTTIImpl::getShuffleCost</a></div><div class="ttdeci">InstructionCost getShuffleCost(TTI::ShuffleKind Kind, VectorType *Tp, ArrayRef&lt; int &gt; Mask, TTI::TargetCostKind CostKind, int Index, VectorType *SubTp, ArrayRef&lt; const Value * &gt; Args=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00595">SystemZTargetTransformInfo.cpp:595</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_a69eeffbc38c079195008fbfb5aaad0b9"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#a69eeffbc38c079195008fbfb5aaad0b9">getScalarSizeInBits</a></div><div class="ttdeci">static unsigned getScalarSizeInBits(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00403">SystemZTargetTransformInfo.cpp:403</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_ab3f2b8802cc38cd06a851443f6412807"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#ab3f2b8802cc38cd06a851443f6412807">llvm::SystemZTTIImpl::getCastInstrCost</a></div><div class="ttdeci">InstructionCost getCastInstrCost(unsigned Opcode, Type *Dst, Type *Src, TTI::CastContextHint CCH, TTI::TargetCostKind CostKind, const Instruction *I=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00759">SystemZTargetTransformInfo.cpp:759</a></div></div>
<div class="ttc" id="aInlineOrder_8cpp_html_a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6"><div class="ttname"><a href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a20b4f77bd00b4f63a49ec8e08f3bf6a6">InlinePriorityMode::Cost</a></div><div class="ttdeci">@ Cost</div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_af46433d0e36d3f80afc3a8c67b5c53ec"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ec">llvm::TargetTransformInfo::ShuffleKind</a></div><div class="ttdeci">ShuffleKind</div><div class="ttdoc">The various kinds of shuffle patterns for vector queries.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00910">TargetTransformInfo.h:910</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_af84cce349a77262269fd3f6756f37a64"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#af84cce349a77262269fd3f6756f37a64">llvm::TargetTransformInfo::CastContextHint</a></div><div class="ttdeci">CastContextHint</div><div class="ttdoc">Represents a hint about the context in which a cast is used.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l01163">TargetTransformInfo.h:1163</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdoc">Extended Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00034">ValueTypes.h:34</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a4217ba2e3d1295f8e9e6b49cef2a8b76"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a4217ba2e3d1295f8e9e6b49cef2a8b76">llvm::TargetTransformInfo::UnrollingPreferences::Force</a></div><div class="ttdeci">bool Force</div><div class="ttdoc">Apply loop unroll on any kind of loop (mainly to loops that fail runtime unrolling).</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00505">TargetTransformInfo.h:505</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a568ff706b8c5991bd299c8c00b803897"><div class="ttname"><a href="classllvm_1_1BitVector.html#a568ff706b8c5991bd299c8c00b803897">llvm::BitVector::count</a></div><div class="ttdeci">size_type count() const</div><div class="ttdoc">count - Returns the number of bits which are set.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00155">BitVector.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a40f34cc77d2b3bc73384f535c8101858"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">llvm::LoopBase::blocks</a></div><div class="ttdeci">iterator_range&lt; block_iterator &gt; blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00195">LoopInfo.h:195</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a1bc022868b23918efa44df511f4d5b61"><div class="ttname"><a href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const</div><div class="ttdoc">True if this is an instance of VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00258">Type.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html">llvm::MaybeAlign</a></div><div class="ttdoc">This struct is a compact representation of a valid (power of two) or undefined (0) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00117">Alignment.h:117</a></div></div>
<div class="ttc" id="anamespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdoc">Return the floor log base 2 of the specified value, -1 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00382">MathExtras.h:382</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a2ad3fccbfc25b87c73ffcc5f352641c5"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a2ad3fccbfc25b87c73ffcc5f352641c5">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getArithmeticInstrCost</a></div><div class="ttdeci">InstructionCost getArithmeticInstrCost(unsigned Opcode, Type *Ty, TTI::TargetCostKind CostKind, TTI::OperandValueInfo Opd1Info={TTI::OK_AnyValue, TTI::OP_None}, TTI::OperandValueInfo Opd2Info={TTI::OK_AnyValue, TTI::OP_None}, ArrayRef&lt; const Value * &gt; Args=ArrayRef&lt; const Value * &gt;(), const Instruction *CxtI=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l00849">BasicTTIImpl.h:849</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a7dafc3bb7b6d26a4ac107d35b3573670"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a7dafc3bb7b6d26a4ac107d35b3573670">llvm::SystemZTTIImpl::getIntrinsicInstrCost</a></div><div class="ttdeci">InstructionCost getIntrinsicInstrCost(const IntrinsicCostAttributes &amp;ICA, TTI::TargetCostKind CostKind)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01249">SystemZTargetTransformInfo.cpp:1249</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_af47b2b88cf087903cd678c12700be7b4"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#af47b2b88cf087903cd678c12700be7b4">isUsedAsMemCpySource</a></div><div class="ttdeci">static bool isUsedAsMemCpySource(const Value *V, bool &amp;OtherUse)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00033">SystemZTargetTransformInfo.cpp:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a8bb3b1ccf19b8c85429b777dfa4a0166a183020fbea95c99db23f6d3594f4c4af"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166a183020fbea95c99db23f6d3594f4c4af">llvm::TargetTransformInfo::RGK_FixedWidthVector</a></div><div class="ttdeci">@ RGK_FixedWidthVector</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00988">TargetTransformInfo.h:988</a></div></div>
<div class="ttc" id="aclassllvm_1_1FixedVectorType_html_af9a870d5df50fe0133a410b7c9114c80"><div class="ttname"><a href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">llvm::FixedVectorType::get</a></div><div class="ttdeci">static FixedVectorType * get(Type *ElementType, unsigned NumElts)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00686">Type.cpp:686</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2c3c18bffdc25d969233c5448bdfe7eb"><div class="ttname"><a href="namespacellvm.html#a2c3c18bffdc25d969233c5448bdfe7eb">llvm::AddressSpace</a></div><div class="ttdeci">AddressSpace</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXBaseInfo_8h_source.html#l00021">NVPTXBaseInfo.h:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a0bab5a038da3c431c26f7035a7139dba"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a0bab5a038da3c431c26f7035a7139dba">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getCmpSelInstrCost</a></div><div class="ttdeci">InstructionCost getCmpSelInstrCost(unsigned Opcode, Type *ValTy, Type *CondTy, CmpInst::Predicate VecPred, TTI::TargetCostKind CostKind, const Instruction *I=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l01167">BasicTTIImpl.h:1167</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a6396da6d0b65cef8693b0aedd06f31e3"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a6396da6d0b65cef8693b0aedd06f31e3">llvm::SystemZTTIImpl::adjustInliningThreshold</a></div><div class="ttdeci">unsigned adjustInliningThreshold(const CallBase *CB) const</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00052">SystemZTargetTransformInfo.cpp:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_aee47733ee679835a30d1d74cbc6280a0"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#aee47733ee679835a30d1d74cbc6280a0">llvm::SystemZTTIImpl::getCmpSelInstrCost</a></div><div class="ttdeci">InstructionCost getCmpSelInstrCost(unsigned Opcode, Type *ValTy, Type *CondTy, CmpInst::Predicate VecPred, TTI::TargetCostKind CostKind, const Instruction *I=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00919">SystemZTargetTransformInfo.cpp:919</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_af4be533423e3315d09f9d6ff82049e3b"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#af4be533423e3315d09f9d6ff82049e3b">getNumVectorRegs</a></div><div class="ttdeci">static unsigned getNumVectorRegs(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00413">SystemZTargetTransformInfo.cpp:413</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_ad0c9ac06022884eb218dc8f8c4056e43"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#ad0c9ac06022884eb218dc8f8c4056e43">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getCastInstrCost</a></div><div class="ttdeci">InstructionCost getCastInstrCost(unsigned Opcode, Type *Dst, Type *Src, TTI::CastContextHint CCH, TTI::TargetCostKind CostKind, const Instruction *I=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l00993">BasicTTIImpl.h:993</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicCostAttributes_html"><div class="ttname"><a href="classllvm_1_1IntrinsicCostAttributes.html">llvm::IntrinsicCostAttributes</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00119">TargetTransformInfo.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_aa4c17e89b1ef061ed69f42b7cee93dbea0ce99a3a4fe2b7f2771a7b288a99ed2c"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#aa4c17e89b1ef061ed69f42b7cee93dbea0ce99a3a4fe2b7f2771a7b288a99ed2c">llvm::TargetTransformInfo::PSK_Software</a></div><div class="ttdeci">@ PSK_Software</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00603">TargetTransformInfo.h:603</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html_ac9a353e0993122f60d42ef06a92fd408"><div class="ttname"><a href="classllvm_1_1TypeSize.html#ac9a353e0993122f60d42ef06a92fd408">llvm::TypeSize::getScalable</a></div><div class="ttdeci">static constexpr TypeSize getScalable(ScalarTy MinimunSize)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00325">TypeSize.h:325</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">This class is the base class for the comparison instructions.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00708">InstrTypes.h:708</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_ad57ed85603b397523b651a6fc8feff16"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#ad57ed85603b397523b651a6fc8feff16">llvm::SystemZTTIImpl::getRegisterBitWidth</a></div><div class="ttdeci">TypeSize getRegisterBitWidth(TargetTransformInfo::RegisterKind K) const</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00366">SystemZTargetTransformInfo.cpp:366</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdoc">Base class of all SIMD vector types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00389">DerivedTypes.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a14592c2ae220a319c7c85ee545c96f"><div class="ttname"><a href="namespacellvm.html#a1a14592c2ae220a319c7c85ee545c96f">llvm::divideCeil</a></div><div class="ttdeci">uint64_t divideCeil(uint64_t Numerator, uint64_t Denominator)</div><div class="ttdoc">Returns the integer ceil(Numerator / Denominator).</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00522">MathExtras.h:522</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a04bb162707335d2cfac99b1fcd9a387a"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a04bb162707335d2cfac99b1fcd9a387a">llvm::SystemZTTIImpl::getPeelingPreferences</a></div><div class="ttdeci">void getPeelingPreferences(Loop *L, ScalarEvolution &amp;SE, TTI::PeelingPreferences &amp;PP)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00337">SystemZTargetTransformInfo.cpp:337</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_a3f4649c90b5297a0d5c1608da9f6ac9b"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#a3f4649c90b5297a0d5c1608da9f6ac9b">getOperandsExtensionCost</a></div><div class="ttdeci">static unsigned getOperandsExtensionCost(const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00909">SystemZTargetTransformInfo.cpp:909</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html">llvm::TargetTransformInfo::LSRCost</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00426">TargetTransformInfo.h:426</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a80b305b278aa0e04f80312e15b2b6d54"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a80b305b278aa0e04f80312e15b2b6d54">llvm::TargetLoweringBase::isTypeLegal</a></div><div class="ttdeci">bool isTypeLegal(EVT VT) const</div><div class="ttdoc">Return true if the target has native support for the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00942">TargetLowering.h:942</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a710fc966df72f9cae9f17ec7eb76f5e8"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a710fc966df72f9cae9f17ec7eb76f5e8">llvm::SystemZTTIImpl::isFoldableLoad</a></div><div class="ttdeci">bool isFoldableLoad(const LoadInst *Ld, const Instruction *&amp;FoldedValue)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01028">SystemZTargetTransformInfo.cpp:1028</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html_a003b4369b4130e669dc9139798e0193c"><div class="ttname"><a href="classllvm_1_1TypeSize.html#a003b4369b4130e669dc9139798e0193c">llvm::TypeSize::getFixed</a></div><div class="ttdeci">static constexpr TypeSize getFixed(ScalarTy ExactSize)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00322">TypeSize.h:322</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_ac9187fccb0fa44ecfef081f99dd17029"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#ac9187fccb0fa44ecfef081f99dd17029">llvm::SystemZTTIImpl::getVectorBitmaskConversionCost</a></div><div class="ttdeci">unsigned getVectorBitmaskConversionCost(Type *SrcTy, Type *DstTy)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00692">SystemZTargetTransformInfo.cpp:692</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html">llvm::TargetTransformInfo::UnrollingPreferences</a></div><div class="ttdoc">Parameters that control the generic loop unrolling transformation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00440">TargetTransformInfo.h:440</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8cpp_html_ae688f6339b1f6caae4e543a83feed2de"><div class="ttname"><a href="MemoryBuiltins_8cpp.html#ae688f6339b1f6caae4e543a83feed2de">getCalledFunction</a></div><div class="ttdeci">static const Function * getCalledFunction(const Value *V, bool &amp;IsNoBuiltin)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00145">MemoryBuiltins.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a694f0a06fb32a28862ef184803eaadd8"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a694f0a06fb32a28862ef184803eaadd8">llvm::SystemZTTIImpl::getVectorTruncCost</a></div><div class="ttdeci">unsigned getVectorTruncCost(Type *SrcTy, Type *DstTy)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00650">SystemZTargetTransformInfo.cpp:650</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_aa07ee4a285d3e3e144b27bdd1cb7529b"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#aa07ee4a285d3e3e144b27bdd1cb7529b">llvm::SystemZTTIImpl::isLSRCostLess</a></div><div class="ttdeci">bool isLSRCostLess(const TargetTransformInfo::LSRCost &amp;C1, const TargetTransformInfo::LSRCost &amp;C2)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00342">SystemZTargetTransformInfo.cpp:342</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a33880aaca0ad05e5f1557f079305bde5"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">llvm::details::FixedOrScalableQuantity::getFixedValue</a></div><div class="ttdeci">constexpr ScalarTy getFixedValue() const</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00182">TypeSize.h:182</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8h_html"><div class="ttname"><a href="SystemZTargetTransformInfo_8h.html">SystemZTargetTransformInfo.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_a357c78718ce6fe9ce5716678cb06863d"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#a357c78718ce6fe9ce5716678cb06863d">isBswapIntrinsicCall</a></div><div class="ttdeci">static bool isBswapIntrinsicCall(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01106">SystemZTargetTransformInfo.cpp:1106</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfoImplBase_html_abe34766b63068ff9df2cabd924c83cbc"><div class="ttname"><a href="classllvm_1_1TargetTransformInfoImplBase.html#abe34766b63068ff9df2cabd924c83cbc">llvm::TargetTransformInfoImplBase::isLoweredToCall</a></div><div class="ttdeci">bool isLoweredToCall(const Function *F) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfoImpl_8h_source.html#l00124">TargetTransformInfoImpl.h:124</a></div></div>
<div class="ttc" id="aSystemZTargetTransformInfo_8cpp_html_a2f0f3c8ae1e70783849672eb85b035fc"><div class="ttname"><a href="SystemZTargetTransformInfo_8cpp.html#a2f0f3c8ae1e70783849672eb85b035fc">getElSizeLog2Diff</a></div><div class="ttdeci">static unsigned getElSizeLog2Diff(Type *Ty0, Type *Ty1)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00638">SystemZTargetTransformInfo.cpp:638</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_a56c87ad7c1654d83b3f4d7984fc66d75"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#a56c87ad7c1654d83b3f4d7984fc66d75">llvm::TargetTransformInfo::LSRCost::ScaleCost</a></div><div class="ttdeci">unsigned ScaleCost</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00436">TargetTransformInfo.h:436</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a09ac3c26a04fdf36e4bcc0e725fca41e"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a09ac3c26a04fdf36e4bcc0e725fca41e">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getInterleavedMemoryOpCost</a></div><div class="ttdeci">InstructionCost getInterleavedMemoryOpCost(unsigned Opcode, Type *VecTy, unsigned Factor, ArrayRef&lt; unsigned &gt; Indices, Align Alignment, unsigned AddressSpace, TTI::TargetCostKind CostKind, bool UseMaskForCond=false, bool UseMaskForGaps=false)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l01332">BasicTTIImpl.h:1332</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstructionCost_html_aefaba3912f52186ea896035ea0f5b00c"><div class="ttname"><a href="classllvm_1_1InstructionCost.html#aefaba3912f52186ea896035ea0f5b00c">llvm::InstructionCost::getValue</a></div><div class="ttdeci">std::optional&lt; CostType &gt; getValue() const</div><div class="ttdoc">This function is intended to be used as sparingly as possible, since the class provides the full rang...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionCost_8h_source.html#l00087">InstructionCost.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">llvm::TargetTransformInfo::TCC_Free</a></div><div class="ttdeci">@ TCC_Free</div><div class="ttdoc">Expected to fold away in lowering.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00267">TargetTransformInfo.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a16e32182d059b74f0c3af9ccbd5ec57a"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a16e32182d059b74f0c3af9ccbd5ec57a">llvm::SystemZTTIImpl::getIntImmCost</a></div><div class="ttdeci">InstructionCost getIntImmCost(const APInt &amp;Imm, Type *Ty, TTI::TargetCostKind CostKind)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00069">SystemZTargetTransformInfo.cpp:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_ae6ef5f0ba206c999c821489993e46edb"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#ae6ef5f0ba206c999c821489993e46edb">llvm::SystemZTTIImpl::getIntImmCostIntrin</a></div><div class="ttdeci">InstructionCost getIntImmCostIntrin(Intrinsic::ID IID, unsigned Idx, const APInt &amp;Imm, Type *Ty, TTI::TargetCostKind CostKind)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00223">SystemZTargetTransformInfo.cpp:223</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a706f223f760b55668fbae74202b816bba7f80055e1969cb850739546467460ad8"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba7f80055e1969cb850739546467460ad8">llvm::TargetTransformInfo::TCK_SizeAndLatency</a></div><div class="ttdeci">@ TCK_SizeAndLatency</div><div class="ttdoc">The weighted sum of size and latency.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00245">TargetTransformInfo.h:245</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aCostModel_8cpp_html_a263d4048026a7c0a91393b998181f16e"><div class="ttname"><a href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a></div><div class="ttdeci">static cl::opt&lt; TargetTransformInfo::TargetCostKind &gt; CostKind(&quot;cost-kind&quot;, cl::desc(&quot;Target cost kind&quot;), cl::init(TargetTransformInfo::TCK_RecipThroughput), cl::values(clEnumValN(TargetTransformInfo::TCK_RecipThroughput, &quot;throughput&quot;, &quot;Reciprocal throughput&quot;), clEnumValN(TargetTransformInfo::TCK_Latency, &quot;latency&quot;, &quot;Instruction latency&quot;), clEnumValN(TargetTransformInfo::TCK_CodeSize, &quot;code-size&quot;, &quot;Code size&quot;), clEnumValN(TargetTransformInfo::TCK_SizeAndLatency, &quot;size-latency&quot;, &quot;Code size and latency&quot;)))</div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a5ebdb0ee911db5f4304bc6b92b0fed98"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a5ebdb0ee911db5f4304bc6b92b0fed98">llvm::TargetTransformInfo::UnrollingPreferences::DefaultUnrollRuntimeCount</a></div><div class="ttdeci">unsigned DefaultUnrollRuntimeCount</div><div class="ttdoc">Default unroll count for loops with run-time trip count.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00476">TargetTransformInfo.h:476</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ab03652069eab17006c51f00c261a6a44"><div class="ttname"><a href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">llvm::Type::isPtrOrPtrVectorTy</a></div><div class="ttdeci">bool isPtrOrPtrVectorTy() const</div><div class="ttdoc">Return true if this is a pointer type or a vector of pointer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00255">Type.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a9d093749d001a714592c88df0e81b3fe"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a9d093749d001a714592c88df0e81b3fe">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getPeelingPreferences</a></div><div class="ttdeci">void getPeelingPreferences(Loop *L, ScalarEvolution &amp;SE, TTI::PeelingPreferences &amp;PP)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l00610">BasicTTIImpl.h:610</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a843256aa051cd1c3e6517650f81b3e25"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a843256aa051cd1c3e6517650f81b3e25">llvm::SystemZTTIImpl::getArithmeticInstrCost</a></div><div class="ttdeci">InstructionCost getArithmeticInstrCost(unsigned Opcode, Type *Ty, TTI::TargetCostKind CostKind, TTI::OperandValueInfo Op1Info={TTI::OK_AnyValue, TTI::OP_None}, TTI::OperandValueInfo Op2Info={TTI::OK_AnyValue, TTI::OP_None}, ArrayRef&lt; const Value * &gt; Args=ArrayRef&lt; const Value * &gt;(), const Instruction *CxtI=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00420">SystemZTargetTransformInfo.cpp:420</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a6e132a14fd40c1fb20fbe8152e543902"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a6e132a14fd40c1fb20fbe8152e543902">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getScalarizationOverhead</a></div><div class="ttdeci">InstructionCost getScalarizationOverhead(VectorType *InTy, const APInt &amp;DemandedElts, bool Insert, bool Extract, TTI::TargetCostKind CostKind)</div><div class="ttdoc">Estimate the overhead of scalarizing an instruction.</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l00720">BasicTTIImpl.h:720</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a40c2294c9ecba721df7f29aaf05157d8"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">llvm::PPC::getPredicate</a></div><div class="ttdeci">Predicate getPredicate(unsigned Condition, unsigned Hint)</div><div class="ttdoc">Return predicate consisting of specified condition and hint bits.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00087">PPCPredicates.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a1a15e8dd266694612ad050ea8d4b4cbd"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a1a15e8dd266694612ad050ea8d4b4cbd">llvm::SystemZTTIImpl::getInterleavedMemoryOpCost</a></div><div class="ttdeci">InstructionCost getInterleavedMemoryOpCost(unsigned Opcode, Type *VecTy, unsigned Factor, ArrayRef&lt; unsigned &gt; Indices, Align Alignment, unsigned AddressSpace, TTI::TargetCostKind CostKind, bool UseMaskForCond=false, bool UseMaskForGaps=false)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l01187">SystemZTargetTransformInfo.cpp:1187</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1LSRCost_html_ad56d6a45ed26384d00b88e431e6e9181"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1LSRCost.html#ad56d6a45ed26384d00b88e431e6e9181">llvm::TargetTransformInfo::LSRCost::NumBaseAdds</a></div><div class="ttdeci">unsigned NumBaseAdds</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00433">TargetTransformInfo.h:433</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3ffc75c3a4cb82ba307a3334483eb4ac"><div class="ttname"><a href="classllvm_1_1Type.html#a3ffc75c3a4cb82ba307a3334483eb4ac">llvm::Type::isFloatTy</a></div><div class="ttdeci">bool isFloatTy() const</div><div class="ttdoc">Return true if this is 'float', a 32-bit IEEE fp type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00154">Type.h:154</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a5c9480a0457113135f239eea6aa9bbf2"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a5c9480a0457113135f239eea6aa9bbf2">llvm::SystemZTTIImpl::getMinPrefetchStride</a></div><div class="ttdeci">unsigned getMinPrefetchStride(unsigned NumMemAccesses, unsigned NumStridedMemAccesses, unsigned NumPrefetches, bool HasCall) const override</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00379">SystemZTargetTransformInfo.cpp:379</a></div></div>
<div class="ttc" id="aCostTable_8h_html"><div class="ttname"><a href="CostTable_8h.html">CostTable.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a34ee40bb2f4f5ece47ef19e5f1f57e3c"><div class="ttname"><a href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">llvm::Type::isIntOrIntVectorTy</a></div><div class="ttdeci">bool isIntOrIntVectorTy() const</div><div class="ttdoc">Return true if this is an integer type or a vector of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00228">Type.h:228</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a1b6b4785fa27be394cf040e543d9fe7c"><div class="ttname"><a href="classllvm_1_1APInt.html#a1b6b4785fa27be394cf040e543d9fe7c">llvm::APInt::isNegatedPowerOf2</a></div><div class="ttdeci">bool isNegatedPowerOf2() const</div><div class="ttdoc">Check if this APInt's negated value is a power of two greater than zero.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00441">APInt.h:441</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html"><div class="ttname"><a href="classllvm_1_1TypeSize.html">llvm::TypeSize</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00314">TypeSize.h:314</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZSubtarget_html_a0c936cf277092fe2c46de8584edffc26"><div class="ttname"><a href="classllvm_1_1SystemZSubtarget.html#a0c936cf277092fe2c46de8584edffc26">llvm::SystemZSubtarget::getInstrInfo</a></div><div class="ttdeci">const SystemZInstrInfo * getInstrInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="SystemZSubtarget_8h_source.html#l00076">SystemZSubtarget.h:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a8bb3b1ccf19b8c85429b777dfa4a0166a331413d3887a08546d0973091f6a4993"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166a331413d3887a08546d0973091f6a4993">llvm::TargetTransformInfo::RGK_ScalableVector</a></div><div class="ttdeci">@ RGK_ScalableVector</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00988">TargetTransformInfo.h:988</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemCpyInst_html"><div class="ttname"><a href="classllvm_1_1MemCpyInst.html">llvm::MemCpyInst</a></div><div class="ttdoc">This class wraps the llvm.memcpy intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01132">IntrinsicInst.h:1132</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_addec638786f763d967811b45cb662f1f"><div class="ttname"><a href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00191">User.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicCostAttributes_html_af12b3fb3cabe9735daed0349fae1887d"><div class="ttname"><a href="classllvm_1_1IntrinsicCostAttributes.html#af12b3fb3cabe9735daed0349fae1887d">llvm::IntrinsicCostAttributes::getID</a></div><div class="ttdeci">Intrinsic::ID getID() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00150">TargetTransformInfo.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a8bb3b1ccf19b8c85429b777dfa4a0166"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a8bb3b1ccf19b8c85429b777dfa4a0166">llvm::TargetTransformInfo::RegisterKind</a></div><div class="ttdeci">RegisterKind</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00988">TargetTransformInfo.h:988</a></div></div>
<div class="ttc" id="aclassDataType_html"><div class="ttname"><a href="classDataType.html">DataType</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a05184f6230f850d3f972f6d904bd2ef5"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a05184f6230f850d3f972f6d904bd2ef5">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getIntrinsicInstrCost</a></div><div class="ttdeci">InstructionCost getIntrinsicInstrCost(const IntrinsicCostAttributes &amp;ICA, TTI::TargetCostKind CostKind)</div><div class="ttdoc">Get intrinsic cost based on arguments.</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l01476">BasicTTIImpl.h:1476</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicTTIImplBase_html_a16a2910025aeadfd52f381a78f92faf0"><div class="ttname"><a href="classllvm_1_1BasicTTIImplBase.html#a16a2910025aeadfd52f381a78f92faf0">llvm::BasicTTIImplBase&lt; SystemZTTIImpl &gt;::getNumberOfParts</a></div><div class="ttdeci">unsigned getNumberOfParts(Type *Tp)</div><div class="ttdef"><b>Definition:</b> <a href="BasicTTIImpl_8h_source.html#l02208">BasicTTIImpl.h:2208</a></div></div>
<div class="ttc" id="aTargetTransformInfo_8h_html"><div class="ttname"><a href="TargetTransformInfo_8h.html">TargetTransformInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a2c79f9c396826f7d6442ad29d9c8561a"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a2c79f9c396826f7d6442ad29d9c8561a">llvm::SystemZTTIImpl::getPopcntSupport</a></div><div class="ttdeci">TTI::PopcntSupportKind getPopcntSupport(unsigned TyWidth)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00274">SystemZTargetTransformInfo.cpp:274</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_ac930342d40facdf25b725f3b07c968e6"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#ac930342d40facdf25b725f3b07c968e6">llvm::SystemZTTIImpl::getIntImmCostInst</a></div><div class="ttdeci">InstructionCost getIntImmCostInst(unsigned Opcode, unsigned Idx, const APInt &amp;Imm, Type *Ty, TTI::TargetCostKind CostKind, Instruction *Inst=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00102">SystemZTargetTransformInfo.cpp:102</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272cae46c9eecc49bd2dc253c607e78a0fb86">llvm::TargetTransformInfo::TCC_Basic</a></div><div class="ttdeci">@ TCC_Basic</div><div class="ttdoc">The cost of a typical 'add' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00268">TargetTransformInfo.h:268</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="aBasicTTIImpl_8h_html"><div class="ttname"><a href="BasicTTIImpl_8h.html">BasicTTIImpl.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a126c61d55fb4d2e509537ce68e8b6400"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a126c61d55fb4d2e509537ce68e8b6400">llvm::TargetLoweringBase::getValueType</a></div><div class="ttdeci">EVT getValueType(const DataLayout &amp;DL, Type *Ty, bool AllowUnknown=false) const</div><div class="ttdoc">Return the EVT corresponding to this LLVM type.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01500">TargetLowering.h:1500</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_af06956f4bacf1c2d150c176648e0b244"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#af06956f4bacf1c2d150c176648e0b244">llvm::SystemZTTIImpl::hasDivRemOp</a></div><div class="ttdeci">bool hasDivRemOp(Type *DataType, bool IsSigned)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00396">SystemZTargetTransformInfo.cpp:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1SystemZTTIImpl_html_a99733e87982c752be1218b2d87e592b9"><div class="ttname"><a href="classllvm_1_1SystemZTTIImpl.html#a99733e87982c752be1218b2d87e592b9">llvm::SystemZTTIImpl::getUnrollingPreferences</a></div><div class="ttdeci">void getUnrollingPreferences(Loop *L, ScalarEvolution &amp;SE, TTI::UnrollingPreferences &amp;UP, OptimizationRemarkEmitter *ORE)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetTransformInfo_8cpp_source.html#l00281">SystemZTargetTransformInfo.cpp:281</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">llvm::TargetTransformInfo::TCK_RecipThroughput</a></div><div class="ttdeci">@ TCK_RecipThroughput</div><div class="ttdoc">Reciprocal throughput.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00242">TargetTransformInfo.h:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6f174fc924aa9cccf2abce5ef4b5ec9a"><div class="ttname"><a href="classllvm_1_1Type.html#a6f174fc924aa9cccf2abce5ef4b5ec9a">llvm::Type::isFP128Ty</a></div><div class="ttdeci">bool isFP128Ty() const</div><div class="ttdoc">Return true if this is 'fp128'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00163">Type.h:163</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_af46433d0e36d3f80afc3a8c67b5c53ecafd6c03f570400fcb24d861aa21ddffe9"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ecafd6c03f570400fcb24d861aa21ddffe9">llvm::TargetTransformInfo::SK_ExtractSubvector</a></div><div class="ttdeci">@ SK_ExtractSubvector</div><div class="ttdoc">ExtractSubvector Index indicates start offset.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00918">TargetTransformInfo.h:918</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a833daf718a49c5cd637d8c9ddeaebe07"><div class="ttname"><a href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">TypeSize getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdoc">Return the basic size of this type if it is a primitive type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00163">Type.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:18:19 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
