<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ExecutionEngine/Orc/CompileUtils.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ff4c6dc1720636682ab045c894e9bc5.html">ExecutionEngine</a></li><li class="navelem"><a class="el" href="dir_5e11c450ca4c873ca81149e572d5ac9a.html">Orc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">CompileUtils.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="CompileUtils_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------ CompileUtils.cpp - Utilities for compiling IR in the JIT ------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CompileUtils_8h.html">llvm/ExecutionEngine/Orc/CompileUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectCache_8h.html">llvm/ExecutionEngine/ObjectCache.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LegacyPassManager_8h.html">llvm/IR/LegacyPassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectFile_8h.html">llvm/Object/ObjectFile.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuffer_8h.html">llvm/Support/MemoryBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVectorMemoryBuffer_8h.html">llvm/Support/SmallVectorMemoryBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">namespace </span>orc {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;IRSymbolMapper::ManglingOptions</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="namespacellvm_1_1orc.html#a0aa9eba1ffba47fd9e5ef90d81a30653">   29</a></span>&#160;<a class="code" href="namespacellvm_1_1orc.html#a0aa9eba1ffba47fd9e5ef90d81a30653">irManglingOptionsFromTargetOptions</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetOptions.html">TargetOptions</a> &amp;Opts) {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="structllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions.html">IRSymbolMapper::ManglingOptions</a> MO;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  MO.<a class="code" href="structllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions.html#a4d4da595dfbf867a4cab51af1b4c6255">EmulatedTLS</a> = Opts.<a class="code" href="classllvm_1_1TargetOptions.html#ae5ba34490ccea87c934d079ca6a8d09b">EmulatedTLS</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">return</span> MO;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// Compile a Module to an ObjectFile.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1SimpleCompiler.html#a603ecdc5d1b7bfa7d9408896489ca31d">   38</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Expected.html">Expected&lt;SimpleCompiler::CompileResult&gt;</a> <a class="code" href="classllvm_1_1orc_1_1SimpleCompiler.html#a603ecdc5d1b7bfa7d9408896489ca31d">SimpleCompiler::operator()</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1SimpleCompiler.html#a5c4e5e7b14ba24d8d4044b800b8d93b7">CompileResult</a> CachedObject = tryToLoadFromObjectCache(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">if</span> (CachedObject)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(CachedObject);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;char, 0&gt;</a> ObjBufferSV;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classllvm_1_1raw__svector__ostream.html">raw_svector_ostream</a> ObjStream(ObjBufferSV);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="classllvm_1_1legacy_1_1PassManager.html">legacy::PassManager</a> PM;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classllvm_1_1MCContext.html">MCContext</a> *Ctx;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a8b157b36b2fc00d830a8b7d1546d746c">addPassesToEmitMC</a>(PM, Ctx, ObjStream))</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Target does not support MC emission&quot;</span>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                     <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    PM.<a class="code" href="classllvm_1_1legacy_1_1PassManager.html#a2bdbe49f025814f15cd9c82aa08a389b">run</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">auto</span> ObjBuffer = std::make_unique&lt;SmallVectorMemoryBuffer&gt;(</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ObjBufferSV), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleIdentifier() + <span class="stringliteral">&quot;-jitted-objectbuffer&quot;</span>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="comment">/*RequiresNullTerminator=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keyword">auto</span> Obj = <a class="code" href="classllvm_1_1object_1_1ObjectFile.html#a926af6aca697fdbacb3e3ea1000f0ec4">object::ObjectFile::createObjectFile</a>(ObjBuffer-&gt;getMemBufferRef());</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (!Obj)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> Obj.takeError();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  notifyObjectCompiled(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, *ObjBuffer);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ObjBuffer);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<a class="code" href="classllvm_1_1orc_1_1SimpleCompiler.html#a5c4e5e7b14ba24d8d4044b800b8d93b7">SimpleCompiler::CompileResult</a></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;SimpleCompiler::tryToLoadFromObjectCache(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">if</span> (!ObjCache)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1orc_1_1SimpleCompiler.html#a5c4e5e7b14ba24d8d4044b800b8d93b7">CompileResult</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> ObjCache-&gt;<a class="code" href="classllvm_1_1ObjectCache.html#ae4bb4502e7c91573f6308dd781557742">getObject</a>(&amp;M);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keywordtype">void</span> SimpleCompiler::notifyObjectCompiled(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> &amp;ObjBuffer) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">if</span> (ObjCache)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    ObjCache-&gt;<a class="code" href="classllvm_1_1ObjectCache.html#a680b6deb0dd910145b640a947e18be2d">notifyObjectCompiled</a>(&amp;M, ObjBuffer.<a class="code" href="classllvm_1_1MemoryBuffer.html#a8f9181a190ad7bd1e7bfb67f90c3e4d4">getMemBufferRef</a>());</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1ConcurrentIRCompiler.html#ae7d8fdffc446a620062561c1378c47ff">   83</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1ConcurrentIRCompiler.html#ae7d8fdffc446a620062561c1378c47ff">ConcurrentIRCompiler::ConcurrentIRCompiler</a>(<a class="code" href="classllvm_1_1orc_1_1JITTargetMachineBuilder.html">JITTargetMachineBuilder</a> JTMB,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                           <a class="code" href="classllvm_1_1ObjectCache.html">ObjectCache</a> *ObjCache)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    : IRCompiler(<a class="code" href="namespacellvm_1_1orc.html#a0aa9eba1ffba47fd9e5ef90d81a30653">irManglingOptionsFromTargetOptions</a>(JTMB.getOptions())),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      JTMB(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(JTMB)), ObjCache(ObjCache) {}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;MemoryBuffer&gt;</a>&gt;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1ConcurrentIRCompiler.html#af352e108f2af8389cd54b2f1d6b761f3">   89</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1ConcurrentIRCompiler.html#af352e108f2af8389cd54b2f1d6b761f3">ConcurrentIRCompiler::operator()</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">auto</span> <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = <a class="code" href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">cantFail</a>(JTMB.<a class="code" href="classllvm_1_1orc_1_1JITTargetMachineBuilder.html#ad851482024748222bc5538345ec2bd12">createTargetMachine</a>());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1SimpleCompiler.html">SimpleCompiler</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>(*<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, ObjCache);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;} <span class="comment">// end namespace orc</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;} <span class="comment">// end namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aMemoryBuffer_8h_html"><div class="ttname"><a href="MemoryBuffer_8h.html">MemoryBuffer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ConcurrentIRCompiler_html_af352e108f2af8389cd54b2f1d6b761f3"><div class="ttname"><a href="classllvm_1_1orc_1_1ConcurrentIRCompiler.html#af352e108f2af8389cd54b2f1d6b761f3">llvm::orc::ConcurrentIRCompiler::operator()</a></div><div class="ttdeci">Expected&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; operator()(Module &amp;M) override</div><div class="ttdef"><b>Definition:</b> <a href="CompileUtils_8cpp_source.html#l00089">CompileUtils.cpp:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITTargetMachineBuilder_html"><div class="ttname"><a href="classllvm_1_1orc_1_1JITTargetMachineBuilder.html">llvm::orc::JITTargetMachineBuilder</a></div><div class="ttdoc">A utility class for building TargetMachines for JITs.</div><div class="ttdef"><b>Definition:</b> <a href="JITTargetMachineBuilder_8h_source.html#l00034">JITTargetMachineBuilder.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITTargetMachineBuilder_html_ad851482024748222bc5538345ec2bd12"><div class="ttname"><a href="classllvm_1_1orc_1_1JITTargetMachineBuilder.html#ad851482024748222bc5538345ec2bd12">llvm::orc::JITTargetMachineBuilder::createTargetMachine</a></div><div class="ttdeci">Expected&lt; std::unique_ptr&lt; TargetMachine &gt; &gt; createTargetMachine()</div><div class="ttdoc">Create a TargetMachine.</div><div class="ttdef"><b>Definition:</b> <a href="JITTargetMachineBuilder_8cpp_source.html#l00044">JITTargetMachineBuilder.cpp:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetOptions_html"><div class="ttname"><a href="classllvm_1_1TargetOptions.html">llvm::TargetOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00124">TargetOptions.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ConcurrentIRCompiler_html_ae7d8fdffc446a620062561c1378c47ff"><div class="ttname"><a href="classllvm_1_1orc_1_1ConcurrentIRCompiler.html#ae7d8fdffc446a620062561c1378c47ff">llvm::orc::ConcurrentIRCompiler::ConcurrentIRCompiler</a></div><div class="ttdeci">ConcurrentIRCompiler(JITTargetMachineBuilder JTMB, ObjectCache *ObjCache=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="CompileUtils_8cpp_source.html#l00083">CompileUtils.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCContext_html"><div class="ttname"><a href="classllvm_1_1MCContext.html">llvm::MCContext</a></div><div class="ttdoc">Context object for machine code objects.</div><div class="ttdef"><b>Definition:</b> <a href="MCContext_8h_source.html#l00076">MCContext.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ObjectCache_html_a680b6deb0dd910145b640a947e18be2d"><div class="ttname"><a href="classllvm_1_1ObjectCache.html#a680b6deb0dd910145b640a947e18be2d">llvm::ObjectCache::notifyObjectCompiled</a></div><div class="ttdeci">virtual void notifyObjectCompiled(const Module *M, MemoryBufferRef Obj)=0</div><div class="ttdoc">notifyObjectCompiled - Provides a pointer to compiled code for Module M.</div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; char, 0 &gt;</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aSmallVectorMemoryBuffer_8h_html"><div class="ttname"><a href="SmallVectorMemoryBuffer_8h.html">SmallVectorMemoryBuffer.h</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ObjectCache_html"><div class="ttname"><a href="classllvm_1_1ObjectCache.html">llvm::ObjectCache</a></div><div class="ttdoc">This is the base ObjectCache type which can be provided to an ExecutionEngine for the purpose of avoi...</div><div class="ttdef"><b>Definition:</b> <a href="ObjectCache_8h_source.html#l00023">ObjectCache.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleCompiler_html_a5c4e5e7b14ba24d8d4044b800b8d93b7"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleCompiler.html#a5c4e5e7b14ba24d8d4044b800b8d93b7">llvm::orc::SimpleCompiler::CompileResult</a></div><div class="ttdeci">std::unique_ptr&lt; MemoryBuffer &gt; CompileResult</div><div class="ttdef"><b>Definition:</b> <a href="CompileUtils_8h_source.html#l00038">CompileUtils.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aLegacyPassManager_8h_html"><div class="ttname"><a href="LegacyPassManager_8h.html">LegacyPassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html">llvm::MemoryBuffer</a></div><div class="ttdoc">This interface provides simple read-only access to a block of memory, and provides simple methods for...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00051">MemoryBuffer.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleCompiler_html"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleCompiler.html">llvm::orc::SimpleCompiler</a></div><div class="ttdoc">Simple compile functor: Takes a single IR module and returns an ObjectFile.</div><div class="ttdef"><b>Definition:</b> <a href="CompileUtils_8h_source.html#l00036">CompileUtils.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1ObjectCache_html_ae4bb4502e7c91573f6308dd781557742"><div class="ttname"><a href="classllvm_1_1ObjectCache.html#ae4bb4502e7c91573f6308dd781557742">llvm::ObjectCache::getObject</a></div><div class="ttdeci">virtual std::unique_ptr&lt; MemoryBuffer &gt; getObject(const Module *M)=0</div><div class="ttdoc">Returns a pointer to a newly allocated MemoryBuffer that contains the object which corresponds with M...</div></div>
<div class="ttc" id="aObjectCache_8h_html"><div class="ttname"><a href="ObjectCache_8h.html">ObjectCache.h</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aMCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetOptions_html_ae5ba34490ccea87c934d079ca6a8d09b"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#ae5ba34490ccea87c934d079ca6a8d09b">llvm::TargetOptions::EmulatedTLS</a></div><div class="ttdeci">unsigned EmulatedTLS</div><div class="ttdoc">EmulatedTLS - This flag enables emulated TLS model, using emutls function in the runtime library.</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00291">TargetOptions.h:291</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a8b157b36b2fc00d830a8b7d1546d746c"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a8b157b36b2fc00d830a8b7d1546d746c">llvm::TargetMachine::addPassesToEmitMC</a></div><div class="ttdeci">virtual bool addPassesToEmitMC(PassManagerBase &amp;, MCContext *&amp;, raw_pwrite_stream &amp;, bool=true)</div><div class="ttdoc">Add passes to the specified pass manager to get machine code emitted with the MCJIT.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00384">TargetMachine.h:384</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a0aa9eba1ffba47fd9e5ef90d81a30653"><div class="ttname"><a href="namespacellvm_1_1orc.html#a0aa9eba1ffba47fd9e5ef90d81a30653">llvm::orc::irManglingOptionsFromTargetOptions</a></div><div class="ttdeci">IRSymbolMapper::ManglingOptions irManglingOptionsFromTargetOptions(const TargetOptions &amp;Opts)</div><div class="ttdef"><b>Definition:</b> <a href="CompileUtils_8cpp_source.html#l00029">CompileUtils.cpp:29</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_a8f9181a190ad7bd1e7bfb67f90c3e4d4"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#a8f9181a190ad7bd1e7bfb67f90c3e4d4">llvm::MemoryBuffer::getMemBufferRef</a></div><div class="ttdeci">MemoryBufferRef getMemBufferRef() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8cpp_source.html#l00558">MemoryBuffer.cpp:558</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1ObjectFile_html_a926af6aca697fdbacb3e3ea1000f0ec4"><div class="ttname"><a href="classllvm_1_1object_1_1ObjectFile.html#a926af6aca697fdbacb3e3ea1000f0ec4">llvm::object::ObjectFile::createObjectFile</a></div><div class="ttdeci">static Expected&lt; OwningBinary&lt; ObjectFile &gt; &gt; createObjectFile(StringRef ObjectPath)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectFile_8cpp_source.html#l00194">ObjectFile.cpp:194</a></div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="aObjectFile_8h_html"><div class="ttname"><a href="ObjectFile_8h.html">ObjectFile.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions_html_a4d4da595dfbf867a4cab51af1b4c6255"><div class="ttname"><a href="structllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions.html#a4d4da595dfbf867a4cab51af1b4c6255">llvm::orc::IRSymbolMapper::ManglingOptions::EmulatedTLS</a></div><div class="ttdeci">bool EmulatedTLS</div><div class="ttdef"><b>Definition:</b> <a href="Mangling_8h_source.html#l00042">Mangling.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1e1474f15df639f0d874b21f15666f7"><div class="ttname"><a href="namespacellvm.html#aa1e1474f15df639f0d874b21f15666f7">llvm::cantFail</a></div><div class="ttdeci">void cantFail(Error Err, const char *Msg=nullptr)</div><div class="ttdoc">Report a fatal error if Err is a failure value.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00745">Error.h:745</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions_html"><div class="ttname"><a href="structllvm_1_1orc_1_1IRSymbolMapper_1_1ManglingOptions.html">llvm::orc::IRSymbolMapper::ManglingOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="Mangling_8h_source.html#l00041">Mangling.h:41</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b43c21951d0948b34bcf7019949032d"><div class="ttname"><a href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">llvm::inconvertibleErrorCode</a></div><div class="ttdeci">std::error_code inconvertibleErrorCode()</div><div class="ttdoc">The value returned by this function can be returned from convertToErrorCode for Error values where no...</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00079">Error.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SimpleCompiler_html_a603ecdc5d1b7bfa7d9408896489ca31d"><div class="ttname"><a href="classllvm_1_1orc_1_1SimpleCompiler.html#a603ecdc5d1b7bfa7d9408896489ca31d">llvm::orc::SimpleCompiler::operator()</a></div><div class="ttdeci">Expected&lt; CompileResult &gt; operator()(Module &amp;M) override</div><div class="ttdoc">Compile a Module to an ObjectFile.</div><div class="ttdef"><b>Definition:</b> <a href="CompileUtils_8cpp_source.html#l00038">CompileUtils.cpp:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1legacy_1_1PassManager_html"><div class="ttname"><a href="classllvm_1_1legacy_1_1PassManager.html">llvm::legacy::PassManager</a></div><div class="ttdoc">PassManager manages ModulePassManagers.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyPassManager_8h_source.html#l00052">LegacyPassManager.h:52</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__svector__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__svector__ostream.html">llvm::raw_svector_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an SmallVector or SmallString.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00672">raw_ostream.h:672</a></div></div>
<div class="ttc" id="aCompileUtils_8h_html"><div class="ttname"><a href="CompileUtils_8h.html">CompileUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1legacy_1_1PassManager_html_a2bdbe49f025814f15cd9c82aa08a389b"><div class="ttname"><a href="classllvm_1_1legacy_1_1PassManager.html#a2bdbe49f025814f15cd9c82aa08a389b">llvm::legacy::PassManager::run</a></div><div class="ttdeci">bool run(Module &amp;M)</div><div class="ttdoc">run - Execute all of the passes scheduled for execution.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyPassManager_8cpp_source.html#l01671">LegacyPassManager.cpp:1671</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:15 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
