<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/LoopUnrollAndJamPass.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LoopUnrollAndJamPass.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LoopUnrollAndJamPass_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- LoopUnrollAndJam.cpp - Loop unroll and jam pass --------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This pass implements an unroll and jam pass. Most of the work is done by</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// Utils/UnrollLoopAndJam.cpp.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopUnrollAndJamPass_8h.html">llvm/Transforms/Scalar/LoopUnrollAndJamPass.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PriorityWorklist_8h.html">llvm/ADT/PriorityWorklist.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeMetrics_8h.html">llvm/Analysis/CodeMetrics.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DependenceAnalysis_8h.html">llvm/Analysis/DependenceAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopAnalysisManager_8h.html">llvm/Analysis/LoopAnalysisManager.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopNestAnalysis_8h.html">llvm/Analysis/LoopNestAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopPass_8h.html">llvm/Analysis/LoopPass.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolution_8h.html">llvm/Analysis/ScalarEvolution.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetTransformInfo_8h.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassRegistry_8h.html">llvm/PassRegistry.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Scalar_8h.html">llvm/Transforms/Scalar.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopPassManager_8h.html">llvm/Transforms/Scalar/LoopPassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopPeel_8h.html">llvm/Transforms/Utils/LoopPeel.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopUtils_8h.html">llvm/Transforms/Utils/LoopUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="UnrollLoop_8h.html">llvm/Transforms/Utils/UnrollLoop.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1Value.html">Value</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   58</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;loop-unroll-and-jam&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/// @{</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/// Metadata attribute names</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">   62</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">LLVMLoopUnrollAndJamFollowupAll</a> =</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.followup_all&quot;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a061da973ca16e3e3f882b60545d8b535">   64</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a061da973ca16e3e3f882b60545d8b535">LLVMLoopUnrollAndJamFollowupInner</a> =</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.followup_inner&quot;</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a2d1c960785118c886423d33b6488d452">   66</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a2d1c960785118c886423d33b6488d452">LLVMLoopUnrollAndJamFollowupOuter</a> =</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.followup_outer&quot;</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a0ef63cf31b624021769be70754669c33">   68</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a0ef63cf31b624021769be70754669c33">LLVMLoopUnrollAndJamFollowupRemainderInner</a> =</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.followup_remainder_inner&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a16a3a2f3b98ed6aae1f30ca378df2e30">   70</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a16a3a2f3b98ed6aae1f30ca378df2e30">LLVMLoopUnrollAndJamFollowupRemainderOuter</a> =</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.followup_remainder_outer&quot;</span>;<span class="comment"></span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/// @}</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a76a53aa912b3cce98812663e74796e3f">AllowUnrollAndJam</a>(<span class="stringliteral">&quot;allow-unroll-and-jam&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Allows loops to be unroll-and-jammed.&quot;</span>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#aa1cac9eb0975dea13cf825e5e7b244c7">UnrollAndJamCount</a>(</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="stringliteral">&quot;unroll-and-jam-count&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use this unroll count for all loops including those with &quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;             <span class="stringliteral">&quot;unroll_and_jam_count pragma values, for testing purposes&quot;</span>));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a9966bb6ac49d327591ccb8100daa3b01">UnrollAndJamThreshold</a>(</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="stringliteral">&quot;unroll-and-jam-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(60), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Threshold to use for inner loop when doing unroll and jam.&quot;</span>));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a252f8eda3379ce3a4402d1d26aa51ddd">PragmaUnrollAndJamThreshold</a>(</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="stringliteral">&quot;pragma-unroll-and-jam-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(1024), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Unrolled size limit for loops with an unroll_and_jam(full) or &quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;             <span class="stringliteral">&quot;unroll_count pragma.&quot;</span>));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// Returns the loop hint metadata node with the given name (for example,</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">// &quot;llvm.loop.unroll.count&quot;).  If no such metadata node exists, then nullptr is</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">// returned.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a088d219b77b18a231ee48de6b15d1f9a">   95</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a088d219b77b18a231ee48de6b15d1f9a">getUnrollMetadataForLoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopID = L-&gt;<a class="code" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>())</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af455c80b53029287f35a7e3441eed512">GetUnrollMetadata</a>(LoopID, <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">// Returns true if the loop has any metadata starting with Prefix. For example a</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">// Prefix of &quot;llvm.loop.unroll.&quot; returns true if we have any unroll metadata.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a9919c2ab68b72db8776ce21a276a6ba6">  103</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a9919c2ab68b72db8776ce21a276a6ba6">hasAnyUnrollPragma</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">Prefix</a>) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopID = L-&gt;<a class="code" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>()) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// First operand should refer to the loop id itself.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopID-&gt;getNumOperands() &gt; 0 &amp;&amp; <span class="stringliteral">&quot;requires at least one operand&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopID-&gt;getOperand(0) == LoopID &amp;&amp; <span class="stringliteral">&quot;invalid loop id&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = LoopID-&gt;getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = dyn_cast&lt;MDNode&gt;(LoopID-&gt;getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">if</span> (!MD)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;MDString&gt;(MD-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0));</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getString().startswith(<a class="code" href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">Prefix</a>))</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">// Returns true if the loop has an unroll_and_jam(enable) pragma.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#ac8d5b5da30c6c42adfd25e777e5c8c8b">  126</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#ac8d5b5da30c6c42adfd25e777e5c8c8b">hasUnrollAndJamEnablePragma</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a088d219b77b18a231ee48de6b15d1f9a">getUnrollMetadataForLoop</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.enable&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">// If loop has an unroll_and_jam_count pragma return the (necessarily</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">// positive) value from the pragma.  Otherwise return 0.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#aba61ac3543c189773a7afba5d9a6b333">  132</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#aba61ac3543c189773a7afba5d9a6b333">unrollAndJamCountPragmaValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a088d219b77b18a231ee48de6b15d1f9a">getUnrollMetadataForLoop</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.count&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (MD) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MD-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;           <span class="stringliteral">&quot;Unroll count hint metadata should have two operands.&quot;</span>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">unsigned</span> Count =</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        mdconst::extract&lt;ConstantInt&gt;(MD-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Count &gt;= 1 &amp;&amp; <span class="stringliteral">&quot;Unroll count must be positive.&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> Count;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// Returns loop size estimation for unrolled loop.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">  147</a></span>&#160;<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(<span class="keywordtype">unsigned</span> LoopSize,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                           <a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html">TargetTransformInfo::UnrollingPreferences</a> &amp;UP) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopSize &gt;= UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#acc2a7ecc1c0355035c91448ed850390f">BEInsns</a> &amp;&amp; <span class="stringliteral">&quot;LoopSize should not be less than BEInsns!&quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a><span class="keyword">&gt;</span>(LoopSize - UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#acc2a7ecc1c0355035c91448ed850390f">BEInsns</a>) * UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> + UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#acc2a7ecc1c0355035c91448ed850390f">BEInsns</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// Calculates unroll and jam count and writes it to UP.Count. Returns true if</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// unroll count was set explicitly.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a595b305d73ca2d665c680e4535bacf13">  155</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a595b305d73ca2d665c680e4535bacf13">computeUnrollAndJamCount</a>(</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1Loop.html">Loop</a> *SubLoop, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI, <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC, <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const Value *&gt;</a> &amp;EphValues,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> *ORE, <span class="keywordtype">unsigned</span> OuterTripCount,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordtype">unsigned</span> OuterTripMultiple, <span class="keywordtype">unsigned</span> OuterLoopSize, <span class="keywordtype">unsigned</span> InnerTripCount,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">unsigned</span> InnerLoopSize, <a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html">TargetTransformInfo::UnrollingPreferences</a> &amp;UP,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="structllvm_1_1TargetTransformInfo_1_1PeelingPreferences.html">TargetTransformInfo::PeelingPreferences</a> &amp;PP) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// First up use computeUnrollCount from the loop unroller to get a count</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// for unrolling the outer loop, plus any loops requiring explicit</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// unrolling we leave to the unroller. This uses UP.Threshold /</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// UP.PartialThreshold / UP.MaxCount to come up with sensible loop values.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// We have already checked that the loop has no unroll.* pragmas.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">unsigned</span> MaxTripCount = 0;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">bool</span> UseUpperBound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">bool</span> ExplicitUnroll = <a class="code" href="namespacellvm.html#aaf3f6dd34ce3968d323a20d3a22e4545">computeUnrollCount</a>(</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    L, <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, DT, LI, AC, SE, EphValues, ORE, OuterTripCount, MaxTripCount,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="comment">/*MaxOrZero*/</span> <span class="keyword">false</span>, OuterTripMultiple, OuterLoopSize, UP, PP,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      UseUpperBound);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">if</span> (ExplicitUnroll || UseUpperBound) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// If the user explicitly set the loop as unrolled, dont UnJ it. Leave it</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// for the unroller instead.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Won&#39;t unroll-and-jam; explicit count set by &quot;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                         <span class="stringliteral">&quot;computeUnrollCount\n&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = 0;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// Override with any explicit Count from the &quot;unroll-and-jam-count&quot; option.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">bool</span> UserUnrollCount = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#aa1cac9eb0975dea13cf825e5e7b244c7">UnrollAndJamCount</a>.getNumOccurrences() &gt; 0;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (UserUnrollCount) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#aa1cac9eb0975dea13cf825e5e7b244c7">UnrollAndJamCount</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a4217ba2e3d1295f8e9e6b49cef2a8b76">Force</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abb51de50739e767745339e9bb2aa31a4">AllowRemainder</a> &amp;&amp;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(OuterLoopSize, UP) &lt; UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a21e7febf468c370793f606da5cd0e6fe">Threshold</a> &amp;&amp;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(InnerLoopSize, UP) &lt;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// Check for unroll_and_jam pragmas</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordtype">unsigned</span> PragmaCount = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#aba61ac3543c189773a7afba5d9a6b333">unrollAndJamCountPragmaValue</a>(L);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">if</span> (PragmaCount &gt; 0) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = PragmaCount;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ae31307b4efc5ce5311752041e7ff7cdc">Runtime</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a4217ba2e3d1295f8e9e6b49cef2a8b76">Force</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> ((UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abb51de50739e767745339e9bb2aa31a4">AllowRemainder</a> || (OuterTripMultiple % PragmaCount == 0)) &amp;&amp;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(OuterLoopSize, UP) &lt; UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a21e7febf468c370793f606da5cd0e6fe">Threshold</a> &amp;&amp;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(InnerLoopSize, UP) &lt;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordtype">bool</span> PragmaEnableUnroll = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#ac8d5b5da30c6c42adfd25e777e5c8c8b">hasUnrollAndJamEnablePragma</a>(L);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordtype">bool</span> ExplicitUnrollAndJamCount = PragmaCount &gt; 0 || UserUnrollCount;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordtype">bool</span> ExplicitUnrollAndJam = PragmaEnableUnroll || ExplicitUnrollAndJamCount;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// If the loop has an unrolling pragma, we want to be more aggressive with</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">// unrolling limits.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (ExplicitUnrollAndJam)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a> = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a252f8eda3379ce3a4402d1d26aa51ddd">PragmaUnrollAndJamThreshold</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (!UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abb51de50739e767745339e9bb2aa31a4">AllowRemainder</a> &amp;&amp; <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(InnerLoopSize, UP) &gt;=</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a>) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Won&#39;t unroll-and-jam; can&#39;t create remainder and &quot;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                         <span class="stringliteral">&quot;inner loop too large\n&quot;</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = 0;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// We have a sensible limit for the outer loop, now adjust it for the inner</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// loop and UP.UnrollAndJamInnerLoopThreshold. If the outer limit was set</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// explicitly, we want to stick to it.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (!ExplicitUnrollAndJamCount &amp;&amp; UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abb51de50739e767745339e9bb2aa31a4">AllowRemainder</a>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">while</span> (UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> != 0 &amp;&amp; <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a>(InnerLoopSize, UP) &gt;=</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a>)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a>--;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// If we are explicitly unroll and jamming, we are done. Otherwise there are a</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// number of extra performance heuristics to check.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">if</span> (ExplicitUnrollAndJam)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// If the inner loop count is known and small, leave the entire loop nest to</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// be the unroller</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span> (InnerTripCount &amp;&amp; InnerLoopSize * InnerTripCount &lt; UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a21e7febf468c370793f606da5cd0e6fe">Threshold</a>) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Won&#39;t unroll-and-jam; small inner loop count is &quot;</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                         <span class="stringliteral">&quot;being left for the unroller\n&quot;</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = 0;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Check for situations where UnJ is likely to be unprofitable. Including</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// subloops with more than 1 block.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (SubLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">getBlocks</a>().size() != 1) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Won&#39;t unroll-and-jam; More than one inner loop block\n&quot;</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Limit to loops where there is something to gain from unrolling and</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// jamming the loop. In this case, look for loads that are invariant in the</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// outer loop and can become shared.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordtype">unsigned</span> NumInvariant = 0;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : SubLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">getBlocks</a>()) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Ld = dyn_cast&lt;LoadInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *V = Ld-&gt;getPointerOperand();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LSCEV = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(V, L);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(LSCEV, L))</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          NumInvariant++;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">if</span> (NumInvariant == 0) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Won&#39;t unroll-and-jam; No loop invariant loads\n&quot;</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1">LoopUnrollResult</a></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a671b52d0f3cddc29dcd1f5acfcd1e664">  281</a></span>&#160;<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a671b52d0f3cddc29dcd1f5acfcd1e664">tryToUnrollAndJamLoop</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                      <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                      <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="code" href="classllvm_1_1DependenceInfo.html">DependenceInfo</a> &amp;DI,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                      <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;ORE, <span class="keywordtype">int</span> OptLevel) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html">TargetTransformInfo::UnrollingPreferences</a> UP = <a class="code" href="namespacellvm.html#abd642fa74effc122158e6fb11da78600">gatherUnrollingPreferences</a>(</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      L, SE, <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, ORE, OptLevel, std::nullopt, std::nullopt,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      std::nullopt, std::nullopt, std::nullopt, std::nullopt);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="structllvm_1_1TargetTransformInfo_1_1PeelingPreferences.html">TargetTransformInfo::PeelingPreferences</a> PP =</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="namespacellvm.html#a6e86d0ac2e968adc60290ca52da02e42">gatherPeelingPreferences</a>(L, SE, <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, std::nullopt, std::nullopt);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">TransformationMode</a> EnableMode = <a class="code" href="namespacellvm.html#a7386405e9217844550433e1debb58ef7">hasUnrollAndJamTransformation</a>(L);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (EnableMode &amp; <a class="code" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (EnableMode &amp; <a class="code" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abbdf27d466fda1df8f9ce6f256026cce">UnrollAndJam</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a76a53aa912b3cce98812663e74796e3f">AllowUnrollAndJam</a>.<a class="code" href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">getNumOccurrences</a>() &gt; 0)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abbdf27d466fda1df8f9ce6f256026cce">UnrollAndJam</a> = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a76a53aa912b3cce98812663e74796e3f">AllowUnrollAndJam</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a9966bb6ac49d327591ccb8100daa3b01">UnrollAndJamThreshold</a>.getNumOccurrences() &gt; 0)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a> = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a9966bb6ac49d327591ccb8100daa3b01">UnrollAndJamThreshold</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// Exit early if unrolling is disabled.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (!UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abbdf27d466fda1df8f9ce6f256026cce">UnrollAndJam</a> || UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">UnrollAndJamInnerLoopThreshold</a> == 0)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Loop Unroll and Jam: F[&quot;</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    &lt;&lt; L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;] Loop %&quot;</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    &lt;&lt; L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// A loop with any unroll pragma (enabling/disabling/count/etc) is left for</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// the unroller, so long as it does not explicitly have unroll_and_jam</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// metadata. This means #pragma nounroll will disable unroll and jam as well</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// as unrolling</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a9919c2ab68b72db8776ce21a276a6ba6">hasAnyUnrollPragma</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll.&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      !<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a9919c2ab68b72db8776ce21a276a6ba6">hasAnyUnrollPragma</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.&quot;</span>)) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Disabled due to pragma.\n&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a02e1ff75cab81386059f88d395054b1c">isSafeToUnrollAndJam</a>(L, SE, DT, DI, *LI)) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Disabled due to not being safe.\n&quot;</span>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// Approximate the loop size and collect useful info</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordtype">unsigned</span> NumInlineCandidates;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordtype">bool</span> NotDuplicatable;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">Convergent</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Value *, 32&gt;</a> EphValues;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <a class="code" href="structllvm_1_1CodeMetrics.html#a7e174506b52ad46ea1f746a7f727d999">CodeMetrics::collectEphemeralValues</a>(L, &amp;AC, EphValues);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a> *SubLoop = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a47bb4b8ffdd881717123e9b244a10b12">getSubLoops</a>()[0];</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> InnerLoopSizeIC =</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="namespacellvm.html#acb4e0bba417ccd05efb694c13e0ae2b0">ApproximateLoopSize</a>(SubLoop, NumInlineCandidates, NotDuplicatable,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                          <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">Convergent</a>, <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, EphValues, UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#acc2a7ecc1c0355035c91448ed850390f">BEInsns</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> OuterLoopSizeIC =</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="namespacellvm.html#acb4e0bba417ccd05efb694c13e0ae2b0">ApproximateLoopSize</a>(L, NumInlineCandidates, NotDuplicatable, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">Convergent</a>,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                          <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, EphValues, UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#acc2a7ecc1c0355035c91448ed850390f">BEInsns</a>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Outer Loop Size: &quot;</span> &lt;&lt; OuterLoopSizeIC &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Inner Loop Size: &quot;</span> &lt;&lt; InnerLoopSizeIC &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (!InnerLoopSizeIC.<a class="code" href="classllvm_1_1InstructionCost.html#ae01c5ced9fe2fe50f421ae121483ef04">isValid</a>() || !OuterLoopSizeIC.<a class="code" href="classllvm_1_1InstructionCost.html#ae01c5ced9fe2fe50f421ae121483ef04">isValid</a>()) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Not unrolling loop which contains instructions&quot;</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; with invalid cost.\n&quot;</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordtype">unsigned</span> InnerLoopSize = *InnerLoopSizeIC.<a class="code" href="classllvm_1_1InstructionCost.html#aefaba3912f52186ea896035ea0f5b00c">getValue</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordtype">unsigned</span> OuterLoopSize = *OuterLoopSizeIC.<a class="code" href="classllvm_1_1InstructionCost.html#aefaba3912f52186ea896035ea0f5b00c">getValue</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span> (NotDuplicatable) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Not unrolling loop which contains non-duplicatable &quot;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                         <span class="stringliteral">&quot;instructions.\n&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (NumInlineCandidates != 0) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Not unrolling loop with inlinable calls.\n&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">Convergent</a>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Not unrolling loop with convergent instructions.\n&quot;</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// Save original loop IDs for after the transformation.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *OrigOuterLoopID = L-&gt;<a class="code" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *OrigSubLoopID = SubLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// To assign the loop id of the epilogue, assign it before unrolling it so it</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// is applied to every inner loop of the epilogue. We later apply the loop ID</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// for the jammed inner loop.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  std::optional&lt;MDNode *&gt; NewInnerEpilogueLoopID = <a class="code" href="namespacellvm.html#a368216c9c116e3f30d8dd352ce1370fc">makeFollowupLoopID</a>(</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      OrigOuterLoopID, {<a class="code" href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">LLVMLoopUnrollAndJamFollowupAll</a>,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a0ef63cf31b624021769be70754669c33">LLVMLoopUnrollAndJamFollowupRemainderInner</a>});</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (NewInnerEpilogueLoopID)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    SubLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(*NewInnerEpilogueLoopID);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Find trip count and trip multiple</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SubLoopLatch = SubLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordtype">unsigned</span> OuterTripCount = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd">getSmallConstantTripCount</a>(L, Latch);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">unsigned</span> OuterTripMultiple = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">getSmallConstantTripMultiple</a>(L, Latch);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordtype">unsigned</span> InnerTripCount = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd">getSmallConstantTripCount</a>(SubLoop, SubLoopLatch);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// Decide if, and by how much, to unroll</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordtype">bool</span> IsCountSetExplicitly = <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a595b305d73ca2d665c680e4535bacf13">computeUnrollAndJamCount</a>(</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    L, SubLoop, <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, DT, LI, &amp;AC, SE, EphValues, &amp;ORE, OuterTripCount,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      OuterTripMultiple, OuterLoopSize, InnerTripCount, InnerLoopSize, UP, PP);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">if</span> (UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> &lt;= 1)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// Unroll factor (Count) must be less or equal to TripCount.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (OuterTripCount &amp;&amp; UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> &gt; OuterTripCount)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a> = OuterTripCount;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a> *EpilogueOuterLoop = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1">LoopUnrollResult</a> UnrollResult = <a class="code" href="namespacellvm.html#ae45123597a5abb30853572614c1b2d4b">UnrollAndJamLoop</a>(</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      L, UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">Count</a>, OuterTripCount, OuterTripMultiple, UP.<a class="code" href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ac0713be3d080bf7e023ddb524f6eabe7">UnrollRemainder</a>, LI,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      &amp;SE, &amp;DT, &amp;AC, &amp;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, &amp;ORE, &amp;EpilogueOuterLoop);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Assign new loop attributes.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span> (EpilogueOuterLoop) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    std::optional&lt;MDNode *&gt; NewOuterEpilogueLoopID = <a class="code" href="namespacellvm.html#a368216c9c116e3f30d8dd352ce1370fc">makeFollowupLoopID</a>(</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        OrigOuterLoopID, {<a class="code" href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">LLVMLoopUnrollAndJamFollowupAll</a>,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                          <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a16a3a2f3b98ed6aae1f30ca378df2e30">LLVMLoopUnrollAndJamFollowupRemainderOuter</a>});</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (NewOuterEpilogueLoopID)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      EpilogueOuterLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(*NewOuterEpilogueLoopID);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  std::optional&lt;MDNode *&gt; NewInnerLoopID =</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="namespacellvm.html#a368216c9c116e3f30d8dd352ce1370fc">makeFollowupLoopID</a>(OrigOuterLoopID, {<a class="code" href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">LLVMLoopUnrollAndJamFollowupAll</a>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                           <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a061da973ca16e3e3f882b60545d8b535">LLVMLoopUnrollAndJamFollowupInner</a>});</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">if</span> (NewInnerLoopID)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    SubLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(*NewInnerLoopID);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    SubLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(OrigSubLoopID);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (UnrollResult == <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1a17f29ed218b7407dfd14e9a3ec8bd011">LoopUnrollResult::PartiallyUnrolled</a>) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    std::optional&lt;MDNode *&gt; NewOuterLoopID = <a class="code" href="namespacellvm.html#a368216c9c116e3f30d8dd352ce1370fc">makeFollowupLoopID</a>(</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        OrigOuterLoopID,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        {<a class="code" href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">LLVMLoopUnrollAndJamFollowupAll</a>, <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a2d1c960785118c886423d33b6488d452">LLVMLoopUnrollAndJamFollowupOuter</a>});</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (NewOuterLoopID) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      L-&gt;<a class="code" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(*NewOuterLoopID);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">// Do not setLoopAlreadyUnrolled if a followup was given.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">return</span> UnrollResult;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// If loop has an unroll count pragma or unrolled by explicitly set count</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// mark loop as unrolled to prevent unrolling beyond that requested.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (UnrollResult != <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1add722bdf19fff3e686f559790c6124d8">LoopUnrollResult::FullyUnrolled</a> &amp;&amp; IsCountSetExplicitly)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1Loop.html#ae27590daf21d575c9bb75c966fe256f2">setLoopAlreadyUnrolled</a>();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">return</span> UnrollResult;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="LoopUnrollAndJamPass_8cpp.html#a0da6529029f6f71768e36765c25d54d5">  435</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a671b52d0f3cddc29dcd1f5acfcd1e664">tryToUnrollAndJamLoop</a>(<a class="code" href="classllvm_1_1LoopNest.html">LoopNest</a> &amp;LN, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                  <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                  <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="code" href="classllvm_1_1DependenceInfo.html">DependenceInfo</a> &amp;DI,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                  <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;ORE, <span class="keywordtype">int</span> OptLevel,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                  <a class="code" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;U) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordtype">bool</span> DidSomething = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Loop *&gt;</a> <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a> = LN.<a class="code" href="classllvm_1_1LoopNest.html#a76910b27c22c1ec00680bc5362806678">getLoops</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a> *OutmostLoop = &amp;LN.<a class="code" href="classllvm_1_1LoopNest.html#ac9a27bb5250b3aadddc4696c07678dd0">getOutermostLoop</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">// Add the loop nests in the reverse order of LN. See method</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// declaration.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="classllvm_1_1SmallPriorityWorklist.html">SmallPriorityWorklist&lt;Loop *, 4&gt;</a> Worklist;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="namespacellvm.html#ab7a106c600cf32852298d9041e8c8044">appendLoopsToWorklist</a>(<a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>, Worklist);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1PriorityWorklist.html#adc2ef5f0964becc28dfa58a7abc2f1e7">empty</a>()) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = Worklist.<a class="code" href="classllvm_1_1PriorityWorklist.html#ab89ceb7695256590499de818b5360c54">pop_back_val</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    std::string LoopName = std::string(L-&gt;<a class="code" href="classllvm_1_1Loop.html#a917a64b00c1745fd0c78c2b2320cd4ad">getName</a>());</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1">LoopUnrollResult</a> Result =</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="LoopUnrollAndJamPass_8cpp.html#a671b52d0f3cddc29dcd1f5acfcd1e664">tryToUnrollAndJamLoop</a>(L, DT, &amp;LI, SE, <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, AC, DI, ORE, OptLevel);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (Result != <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">LoopUnrollResult::Unmodified</a>)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      DidSomething = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (L == OutmostLoop &amp;&amp; Result == <a class="code" href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1add722bdf19fff3e686f559790c6124d8">LoopUnrollResult::FullyUnrolled</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      U.<a class="code" href="classllvm_1_1LPMUpdater.html#ad898592a9fdc638d33b6b5cf0eba2bbe">markLoopAsDeleted</a>(*L, LoopName);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">return</span> DidSomething;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopUnrollAndJamPass.html#aceae0aba9cc69bf89d3241d61190b9ec">  463</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1LoopUnrollAndJamPass.html#aceae0aba9cc69bf89d3241d61190b9ec">LoopUnrollAndJamPass::run</a>(<a class="code" href="classllvm_1_1LoopNest.html">LoopNest</a> &amp;LN,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                            <a class="code" href="classllvm_1_1AnalysisManager.html">LoopAnalysisManager</a> &amp;AM,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                            <a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html">LoopStandardAnalysisResults</a> &amp;AR,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                                            <a class="code" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;U) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = *LN.<a class="code" href="classllvm_1_1LoopNest.html#ac047689641fc4a651c1fc58b85dc555b">getParent</a>();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1DependenceInfo.html">DependenceInfo</a> DI(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, &amp;AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#abd7da877be8576011299f4fcaaf299be">AA</a>, &amp;AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#a124376878e24aef4252795ba9fea420f">SE</a>, &amp;AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#aa09379aa4435be95eb717dd9b5d8b4c5">LI</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> ORE(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="LoopUnrollAndJamPass_8cpp.html#a671b52d0f3cddc29dcd1f5acfcd1e664">tryToUnrollAndJamLoop</a>(LN, AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#aaa96df870a1b3d7ffc56bec3eb0b0cff">DT</a>, AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#aa09379aa4435be95eb717dd9b5d8b4c5">LI</a>, AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#a124376878e24aef4252795ba9fea420f">SE</a>, AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#a3444a9359f5f17f1694f82c41d5fd574">TTI</a>, AR.<a class="code" href="structllvm_1_1LoopStandardAnalysisResults.html#a902b4712394a3b3450893634b3302893">AC</a>, DI, ORE,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                             OptLevel, U))</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keyword">auto</span> PA = <a class="code" href="namespacellvm.html#ac7294ba4e105807674fe3a394437fcc1">getLoopPassPreservedAnalyses</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  PA.preserve&lt;<a class="code" href="classllvm_1_1LoopNestAnalysis.html">LoopNestAnalysis</a>&gt;();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1InstructionCost_html"><div class="ttname"><a href="classllvm_1_1InstructionCost.html">llvm::InstructionCost</a></div><div class="ttdef"><b>Definition:</b> <a href="InstructionCost_8h_source.html#l00029">InstructionCost.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_acc2a7ecc1c0355035c91448ed850390f"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#acc2a7ecc1c0355035c91448ed850390f">llvm::TargetTransformInfo::UnrollingPreferences::BEInsns</a></div><div class="ttdeci">unsigned BEInsns</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00490">TargetTransformInfo.h:490</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_ae31307b4efc5ce5311752041e7ff7cdc"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ae31307b4efc5ce5311752041e7ff7cdc">llvm::TargetTransformInfo::UnrollingPreferences::Runtime</a></div><div class="ttdeci">bool Runtime</div><div class="ttdoc">Allow runtime unrolling (unrolling of loops to expand the size of the loop body even when the number ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00497">TargetTransformInfo.h:497</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_a902b4712394a3b3450893634b3302893"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#a902b4712394a3b3450893634b3302893">llvm::LoopStandardAnalysisResults::AC</a></div><div class="ttdeci">AssumptionCache &amp; AC</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00053">LoopAnalysisManager.h:53</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_ac8d5b5da30c6c42adfd25e777e5c8c8b"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#ac8d5b5da30c6c42adfd25e777e5c8c8b">hasUnrollAndJamEnablePragma</a></div><div class="ttdeci">static bool hasUnrollAndJamEnablePragma(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00126">LoopUnrollAndJamPass.cpp:126</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_aa1cac9eb0975dea13cf825e5e7b244c7"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#aa1cac9eb0975dea13cf825e5e7b244c7">UnrollAndJamCount</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; UnrollAndJamCount(&quot;unroll-and-jam-count&quot;, cl::Hidden, cl::desc(&quot;Use this unroll count for all loops including those with &quot; &quot;unroll_and_jam_count pragma values, for testing purposes&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5"><div class="ttname"><a href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">llvm::cl::Prefix</a></div><div class="ttdeci">@ Prefix</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00159">CommandLine.h:159</a></div></div>
<div class="ttc" id="aTransforms_2Scalar_8h_html"><div class="ttname"><a href="Transforms_2Scalar_8h.html">Scalar.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a29ee697fe94374eae9689321e811f5e9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a29ee697fe94374eae9689321e811f5e9">llvm::ScalarEvolution::getSmallConstantTripMultiple</a></div><div class="ttdeci">unsigned getSmallConstantTripMultiple(const Loop *L, const SCEV *ExitCount)</div><div class="ttdoc">Returns the largest constant divisor of the trip count as a normal unsigned value,...</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08261">ScalarEvolution.cpp:8261</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aHexagonHardwareLoops_8cpp_html_ada7c1594a393ede3ce32602d64d7ddb2"><div class="ttname"><a href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a></div><div class="ttdeci">Hexagon Hardware Loops</div><div class="ttdef"><b>Definition:</b> <a href="HexagonHardwareLoops_8cpp_source.html#l00374">HexagonHardwareLoops.cpp:374</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae45123597a5abb30853572614c1b2d4b"><div class="ttname"><a href="namespacellvm.html#ae45123597a5abb30853572614c1b2d4b">llvm::UnrollAndJamLoop</a></div><div class="ttdeci">LoopUnrollResult UnrollAndJamLoop(Loop *L, unsigned Count, unsigned TripCount, unsigned TripMultiple, bool UnrollRemainder, LoopInfo *LI, ScalarEvolution *SE, DominatorTree *DT, AssumptionCache *AC, const TargetTransformInfo *TTI, OptimizationRemarkEmitter *ORE, Loop **EpilogueLoop=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJam_8cpp_source.html#l00217">LoopUnrollAndJam.cpp:217</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a0ef63cf31b624021769be70754669c33"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a0ef63cf31b624021769be70754669c33">LLVMLoopUnrollAndJamFollowupRemainderInner</a></div><div class="ttdeci">static const char *const LLVMLoopUnrollAndJamFollowupRemainderInner</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00068">LoopUnrollAndJamPass.cpp:68</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a2d1c960785118c886423d33b6488d452"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a2d1c960785118c886423d33b6488d452">LLVMLoopUnrollAndJamFollowupOuter</a></div><div class="ttdeci">static const char *const LLVMLoopUnrollAndJamFollowupOuter</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00066">LoopUnrollAndJamPass.cpp:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html">llvm::TargetTransformInfo</a></div><div class="ttdoc">This pass provides access to the codegen interfaces that are needed for IR-level transformations.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00196">TargetTransformInfo.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdoc">The main scalar evolution driver.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00452">ScalarEvolution.h:452</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a83395d28f9c1d9063aa6d9eb40dd2e7a"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a83395d28f9c1d9063aa6d9eb40dd2e7a">llvm::TargetTransformInfo::UnrollingPreferences::UnrollAndJamInnerLoopThreshold</a></div><div class="ttdeci">unsigned UnrollAndJamInnerLoopThreshold</div><div class="ttdoc">Threshold for unroll and jam, for inner loop size.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00516">TargetTransformInfo.h:516</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_ac0713be3d080bf7e023ddb524f6eabe7"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#ac0713be3d080bf7e023ddb524f6eabe7">llvm::TargetTransformInfo::UnrollingPreferences::UnrollRemainder</a></div><div class="ttdeci">bool UnrollRemainder</div><div class="ttdoc">Allow unrolling of all the iterations of the runtime loop remainder.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00509">TargetTransformInfo.h:509</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a19cc5df79c699ab1e137118b8c472a9e"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a19cc5df79c699ab1e137118b8c472a9e">llvm::TargetTransformInfo::UnrollingPreferences::Count</a></div><div class="ttdeci">unsigned Count</div><div class="ttdoc">A forced unrolling factor (the number of concatenated bodies of the original loop in the unrolled loo...</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00474">TargetTransformInfo.h:474</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aScalarEvolution_8h_html"><div class="ttname"><a href="ScalarEvolution_8h.html">ScalarEvolution.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1PeelingPreferences_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1PeelingPreferences.html">llvm::TargetTransformInfo::PeelingPreferences</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00547">TargetTransformInfo.h:547</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html">llvm::LoopStandardAnalysisResults</a></div><div class="ttdoc">The adaptor from a function pass to a loop pass computes these analyses and makes them available to t...</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00051">LoopAnalysisManager.h:51</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8h_html"><div class="ttname"><a href="LoopUnrollAndJamPass_8h.html">LoopUnrollAndJamPass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">llvm::MCID::Convergent</a></div><div class="ttdeci">@ Convergent</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00185">MCInstrDesc.h:185</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a76a53aa912b3cce98812663e74796e3f"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a76a53aa912b3cce98812663e74796e3f">AllowUnrollAndJam</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; AllowUnrollAndJam(&quot;allow-unroll-and-jam&quot;, cl::Hidden, cl::desc(&quot;Allows loops to be unroll-and-jammed.&quot;))</div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_aaa96df870a1b3d7ffc56bec3eb0b0cff"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#aaa96df870a1b3d7ffc56bec3eb0b0cff">llvm::LoopStandardAnalysisResults::DT</a></div><div class="ttdeci">DominatorTree &amp; DT</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00054">LoopAnalysisManager.h:54</a></div></div>
<div class="ttc" id="aPassRegistry_8h_html"><div class="ttname"><a href="PassRegistry_8h.html">PassRegistry.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a088d219b77b18a231ee48de6b15d1f9a"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a088d219b77b18a231ee48de6b15d1f9a">getUnrollMetadataForLoop</a></div><div class="ttdeci">static MDNode * getUnrollMetadataForLoop(const Loop *L, StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00095">LoopUnrollAndJamPass.cpp:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="aLoopAnalysisManager_8h_html"><div class="ttname"><a href="LoopAnalysisManager_8h.html">LoopAnalysisManager.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aPriorityWorklist_8h_html"><div class="ttname"><a href="PriorityWorklist_8h.html">PriorityWorklist.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aCodeMetrics_8h_html"><div class="ttname"><a href="CodeMetrics_8h.html">CodeMetrics.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a47bb4b8ffdd881717123e9b244a10b12"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a47bb4b8ffdd881717123e9b244a10b12">llvm::LoopBase::getSubLoops</a></div><div class="ttdeci">const std::vector&lt; LoopT * &gt; &amp; getSubLoops() const</div><div class="ttdoc">Return the loops contained entirely within this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00160">LoopInfo.h:160</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb4e0bba417ccd05efb694c13e0ae2b0"><div class="ttname"><a href="namespacellvm.html#acb4e0bba417ccd05efb694c13e0ae2b0">llvm::ApproximateLoopSize</a></div><div class="ttdeci">InstructionCost ApproximateLoopSize(const Loop *L, unsigned &amp;NumCalls, bool &amp;NotDuplicatable, bool &amp;Convergent, const TargetTransformInfo &amp;TTI, const SmallPtrSetImpl&lt; const Value * &gt; &amp;EphValues, unsigned BEInsns)</div><div class="ttdoc">ApproximateLoopSize - Approximate the size of the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollPass_8cpp_source.html#l00666">LoopUnrollPass.cpp:666</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_ae27590daf21d575c9bb75c966fe256f2"><div class="ttname"><a href="classllvm_1_1Loop.html#ae27590daf21d575c9bb75c966fe256f2">llvm::Loop::setLoopAlreadyUnrolled</a></div><div class="ttdeci">void setLoopAlreadyUnrolled()</div><div class="ttdoc">Add llvm.loop.unroll.disable to this loop's loop id metadata.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00537">LoopInfo.cpp:537</a></div></div>
<div class="ttc" id="anamespacellvm_html_af455c80b53029287f35a7e3441eed512"><div class="ttname"><a href="namespacellvm.html#af455c80b53029287f35a7e3441eed512">llvm::GetUnrollMetadata</a></div><div class="ttdeci">MDNode * GetUnrollMetadata(MDNode *LoopID, StringRef Name)</div><div class="ttdoc">Given an llvm.loop loop id metadata node, returns the loop hint metadata node with the given name (fo...</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnroll_8cpp_source.html#l00901">LoopUnroll.cpp:901</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a061da973ca16e3e3f882b60545d8b535"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a061da973ca16e3e3f882b60545d8b535">LLVMLoopUnrollAndJamFollowupInner</a></div><div class="ttdeci">static const char *const LLVMLoopUnrollAndJamFollowupInner</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00064">LoopUnrollAndJamPass.cpp:64</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a4217ba2e3d1295f8e9e6b49cef2a8b76"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a4217ba2e3d1295f8e9e6b49cef2a8b76">llvm::TargetTransformInfo::UnrollingPreferences::Force</a></div><div class="ttdeci">bool Force</div><div class="ttdoc">Apply loop unroll on any kind of loop (mainly to loops that fail runtime unrolling).</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00505">TargetTransformInfo.h:505</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a595b305d73ca2d665c680e4535bacf13"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a595b305d73ca2d665c680e4535bacf13">computeUnrollAndJamCount</a></div><div class="ttdeci">static bool computeUnrollAndJamCount(Loop *L, Loop *SubLoop, const TargetTransformInfo &amp;TTI, DominatorTree &amp;DT, LoopInfo *LI, AssumptionCache *AC, ScalarEvolution &amp;SE, const SmallPtrSetImpl&lt; const Value * &gt; &amp;EphValues, OptimizationRemarkEmitter *ORE, unsigned OuterTripCount, unsigned OuterTripMultiple, unsigned OuterLoopSize, unsigned InnerTripCount, unsigned InnerLoopSize, TargetTransformInfo::UnrollingPreferences &amp;UP, TargetTransformInfo::PeelingPreferences &amp;PP)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00155">LoopUnrollAndJamPass.cpp:155</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_abbdf27d466fda1df8f9ce6f256026cce"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abbdf27d466fda1df8f9ce6f256026cce">llvm::TargetTransformInfo::UnrollingPreferences::UnrollAndJam</a></div><div class="ttdeci">bool UnrollAndJam</div><div class="ttdoc">Allow unroll and jam. Used to enable unroll and jam for the target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00511">TargetTransformInfo.h:511</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a5cc113cb783ab6e5ca7b69241431c19c"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a5cc113cb783ab6e5ca7b69241431c19c">llvm::LoopBase::getBlocks</a></div><div class="ttdeci">ArrayRef&lt; BlockT * &gt; getBlocks() const</div><div class="ttdoc">Get a list of the basic blocks which make up this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00188">LoopInfo.h:188</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a671b52d0f3cddc29dcd1f5acfcd1e664"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a671b52d0f3cddc29dcd1f5acfcd1e664">tryToUnrollAndJamLoop</a></div><div class="ttdeci">static LoopUnrollResult tryToUnrollAndJamLoop(Loop *L, DominatorTree &amp;DT, LoopInfo *LI, ScalarEvolution &amp;SE, const TargetTransformInfo &amp;TTI, AssumptionCache &amp;AC, DependenceInfo &amp;DI, OptimizationRemarkEmitter &amp;ORE, int OptLevel)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00281">LoopUnrollAndJamPass.cpp:281</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1Option_html_a2dc75fafb68e7669e776e19da7857cdf"><div class="ttname"><a href="classllvm_1_1cl_1_1Option.html#a2dc75fafb68e7669e776e19da7857cdf">llvm::cl::Option::getNumOccurrences</a></div><div class="ttdeci">int getNumOccurrences() const</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00401">CommandLine.h:401</a></div></div>
<div class="ttc" id="aLoopUtils_8h_html"><div class="ttname"><a href="LoopUtils_8h.html">LoopUtils.h</a></div></div>
<div class="ttc" id="astructllvm_1_1CodeMetrics_html_a7e174506b52ad46ea1f746a7f727d999"><div class="ttname"><a href="structllvm_1_1CodeMetrics.html#a7e174506b52ad46ea1f746a7f727d999">llvm::CodeMetrics::collectEphemeralValues</a></div><div class="ttdeci">static void collectEphemeralValues(const Loop *L, AssumptionCache *AC, SmallPtrSetImpl&lt; const Value * &gt; &amp;EphValues)</div><div class="ttdoc">Collect a loop's ephemeral values (those used only by an assume or similar intrinsics in the loop).</div><div class="ttdef"><b>Definition:</b> <a href="CodeMetrics_8cpp_source.html#l00070">CodeMetrics.cpp:70</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a917a64b00c1745fd0c78c2b2320cd4ad"><div class="ttname"><a href="classllvm_1_1Loop.html#a917a64b00c1745fd0c78c2b2320cd4ad">llvm::Loop::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00891">LoopInfo.h:891</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopNestAnalysis_html"><div class="ttname"><a href="classllvm_1_1LoopNestAnalysis.html">llvm::LoopNestAnalysis</a></div><div class="ttdoc">This analysis provides information for a loop nest.</div><div class="ttdef"><b>Definition:</b> <a href="LoopNestAnalysis_8h_source.html#l00202">LoopNestAnalysis.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8c861ddf753ab3690437dceaadf5c7e1add722bdf19fff3e686f559790c6124d8"><div class="ttname"><a href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1add722bdf19fff3e686f559790c6124d8">llvm::LoopUnrollResult::FullyUnrolled</a></div><div class="ttdeci">@ FullyUnrolled</div><div class="ttdoc">The loop was fully unrolled into straight-line code.</div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_abec0c616087c002528fcf80c6583eadd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abec0c616087c002528fcf80c6583eadd">llvm::ScalarEvolution::getSmallConstantTripCount</a></div><div class="ttdeci">unsigned getSmallConstantTripCount(const Loop *L)</div><div class="ttdoc">Returns the exact trip count of the loop if we can compute it, and the result is a small constant.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l08105">ScalarEvolution.cpp:8105</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac7294ba4e105807674fe3a394437fcc1"><div class="ttname"><a href="namespacellvm.html#ac7294ba4e105807674fe3a394437fcc1">llvm::getLoopPassPreservedAnalyses</a></div><div class="ttdeci">PreservedAnalyses getLoopPassPreservedAnalyses()</div><div class="ttdoc">Returns the minimum set of Analyses that all loop passes must preserve.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8cpp_source.html#l00138">LoopAnalysisManager.cpp:138</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html"><div class="ttname"><a href="classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdoc">This class represents an analyzed expression in the program.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00075">ScalarEvolution.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1DependenceInfo_html"><div class="ttname"><a href="classllvm_1_1DependenceInfo.html">llvm::DependenceInfo</a></div><div class="ttdoc">DependenceInfo - This class is the main dependence-analysis driver.</div><div class="ttdef"><b>Definition:</b> <a href="DependenceAnalysis_8h_source.html#l00293">DependenceAnalysis.h:293</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7386405e9217844550433e1debb58ef7"><div class="ttname"><a href="namespacellvm.html#a7386405e9217844550433e1debb58ef7">llvm::hasUnrollAndJamTransformation</a></div><div class="ttdeci">TransformationMode hasUnrollAndJamTransformation(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUtils_8cpp_source.html#l00373">LoopUtils.cpp:373</a></div></div>
<div class="ttc" id="aclassllvm_1_1LPMUpdater_html"><div class="ttname"><a href="classllvm_1_1LPMUpdater.html">llvm::LPMUpdater</a></div><div class="ttdoc">This class provides an interface for updating the loop pass manager based on mutations to the loop ne...</div><div class="ttdef"><b>Definition:</b> <a href="LoopPassManager_8h_source.html#l00262">LoopPassManager.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPriorityWorklist_html"><div class="ttname"><a href="classllvm_1_1SmallPriorityWorklist.html">llvm::SmallPriorityWorklist</a></div><div class="ttdoc">A version of PriorityWorklist that selects small size optimized data structures for the vector and ma...</div><div class="ttdef"><b>Definition:</b> <a href="PriorityWorklist_8h_source.html#l00255">PriorityWorklist.h:255</a></div></div>
<div class="ttc" id="anamespacellvm_html_a368216c9c116e3f30d8dd352ce1370fc"><div class="ttname"><a href="namespacellvm.html#a368216c9c116e3f30d8dd352ce1370fc">llvm::makeFollowupLoopID</a></div><div class="ttdeci">std::optional&lt; MDNode * &gt; makeFollowupLoopID(MDNode *OrigLoopID, ArrayRef&lt; StringRef &gt; FollowupAttrs, const char *InheritOptionsAttrsPrefix=&quot;&quot;, bool AlwaysNew=false)</div><div class="ttdoc">Create a new loop identifier for a loop created from a loop transformation.</div><div class="ttdef"><b>Definition:</b> <a href="LoopUtils_8cpp_source.html#l00263">LoopUtils.cpp:263</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html">llvm::TargetTransformInfo::UnrollingPreferences</a></div><div class="ttdoc">Parameters that control the generic loop unrolling transformation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00440">TargetTransformInfo.h:440</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8c861ddf753ab3690437dceaadf5c7e1a17f29ed218b7407dfd14e9a3ec8bd011"><div class="ttname"><a href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1a17f29ed218b7407dfd14e9a3ec8bd011">llvm::LoopUnrollResult::PartiallyUnrolled</a></div><div class="ttdeci">@ PartiallyUnrolled</div><div class="ttdoc">The loop was partially unrolled  we still have a loop, but with a smaller trip count.</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_aaf3f6dd34ce3968d323a20d3a22e4545"><div class="ttname"><a href="namespacellvm.html#aaf3f6dd34ce3968d323a20d3a22e4545">llvm::computeUnrollCount</a></div><div class="ttdeci">bool computeUnrollCount(Loop *L, const TargetTransformInfo &amp;TTI, DominatorTree &amp;DT, LoopInfo *LI, AssumptionCache *AC, ScalarEvolution &amp;SE, const SmallPtrSetImpl&lt; const Value * &gt; &amp;EphValues, OptimizationRemarkEmitter *ORE, unsigned TripCount, unsigned MaxTripCount, bool MaxOrZero, unsigned TripMultiple, unsigned LoopSize, TargetTransformInfo::UnrollingPreferences &amp;UP, TargetTransformInfo::PeelingPreferences &amp;PP, bool &amp;UseUpperBound)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollPass_8cpp_source.html#l00889">LoopUnrollPass.cpp:889</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8c861ddf753ab3690437dceaadf5c7e1"><div class="ttname"><a href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1">llvm::LoopUnrollResult</a></div><div class="ttdeci">LoopUnrollResult</div><div class="ttdoc">Represents the result of a UnrollLoop invocation.</div><div class="ttdef"><b>Definition:</b> <a href="UnrollLoop_8h_source.html#l00054">UnrollLoop.h:54</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityWorklist_html_adc2ef5f0964becc28dfa58a7abc2f1e7"><div class="ttname"><a href="classllvm_1_1PriorityWorklist.html#adc2ef5f0964becc28dfa58a7abc2f1e7">llvm::PriorityWorklist&lt; T, SmallVector&lt; T, N &gt;, SmallDenseMap&lt; T, ptrdiff_t &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Determine if the PriorityWorklist is empty or not.</div><div class="ttdef"><b>Definition:</b> <a href="PriorityWorklist_8h_source.html#l00067">PriorityWorklist.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a1230fd674d2609b96527fe65eaf40b1b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const</div><div class="ttdoc">If there is a single latch block for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00232">LoopInfoImpl.h:232</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a4c7ad5d6975830f45286fdee3adf7bd5"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a4c7ad5d6975830f45286fdee3adf7bd5">getUnrollAndJammedLoopSize</a></div><div class="ttdeci">static uint64_t getUnrollAndJammedLoopSize(unsigned LoopSize, TargetTransformInfo::UnrollingPreferences &amp;UP)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00147">LoopUnrollAndJamPass.cpp:147</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">llvm::TM_Disable</a></div><div class="ttdeci">@ TM_Disable</div><div class="ttdoc">The transformation should not be applied.</div><div class="ttdef"><b>Definition:</b> <a href="LoopUtils_8h_source.html#l00276">LoopUtils.h:276</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aLoopNestAnalysis_8h_html"><div class="ttname"><a href="LoopNestAnalysis_8h.html">LoopNestAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstructionCost_html_aefaba3912f52186ea896035ea0f5b00c"><div class="ttname"><a href="classllvm_1_1InstructionCost.html#aefaba3912f52186ea896035ea0f5b00c">llvm::InstructionCost::getValue</a></div><div class="ttdeci">std::optional&lt; CostType &gt; getValue() const</div><div class="ttdoc">This function is intended to be used as sparingly as possible, since the class provides the full rang...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionCost_8h_source.html#l00087">InstructionCost.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1LPMUpdater_html_ad898592a9fdc638d33b6b5cf0eba2bbe"><div class="ttname"><a href="classllvm_1_1LPMUpdater.html#ad898592a9fdc638d33b6b5cf0eba2bbe">llvm::LPMUpdater::markLoopAsDeleted</a></div><div class="ttdeci">void markLoopAsDeleted(Loop &amp;L, llvm::StringRef Name)</div><div class="ttdoc">Loop passes should use this method to indicate they have deleted a loop from the nest.</div><div class="ttdef"><b>Definition:</b> <a href="LoopPassManager_8h_source.html#l00282">LoopPassManager.h:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aLoopPassManager_8h_html"><div class="ttname"><a href="LoopPassManager_8h.html">LoopPassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopNest_html_ac9a27bb5250b3aadddc4696c07678dd0"><div class="ttname"><a href="classllvm_1_1LoopNest.html#ac9a27bb5250b3aadddc4696c07678dd0">llvm::LoopNest::getOutermostLoop</a></div><div class="ttdeci">Loop &amp; getOutermostLoop() const</div><div class="ttdoc">Return the outermost loop in the loop nest.</div><div class="ttdef"><b>Definition:</b> <a href="LoopNestAnalysis_8h_source.html#l00080">LoopNestAnalysis.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">llvm::TM_ForcedByUser</a></div><div class="ttdeci">@ TM_ForcedByUser</div><div class="ttdoc">The transformation was directed by the user, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="LoopUtils_8h_source.html#l00284">LoopUtils.h:284</a></div></div>
<div class="ttc" id="aLoopPass_8h_html"><div class="ttname"><a href="LoopPass_8h.html">LoopPass.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7a106c600cf32852298d9041e8c8044"><div class="ttname"><a href="namespacellvm.html#ab7a106c600cf32852298d9041e8c8044">llvm::appendLoopsToWorklist</a></div><div class="ttdeci">void appendLoopsToWorklist(RangeT &amp;&amp;, SmallPriorityWorklist&lt; Loop *, 4 &gt; &amp;)</div><div class="ttdoc">Utility that implements appending of loops onto a worklist given a range.</div><div class="ttdef"><b>Definition:</b> <a href="LoopUtils_8cpp_source.html#l01524">LoopUtils.cpp:1524</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a9966bb6ac49d327591ccb8100daa3b01"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a9966bb6ac49d327591ccb8100daa3b01">UnrollAndJamThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; UnrollAndJamThreshold(&quot;unroll-and-jam-threshold&quot;, cl::init(60), cl::Hidden, cl::desc(&quot;Threshold to use for inner loop when doing unroll and jam.&quot;))</div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6e86d0ac2e968adc60290ca52da02e42"><div class="ttname"><a href="namespacellvm.html#a6e86d0ac2e968adc60290ca52da02e42">llvm::gatherPeelingPreferences</a></div><div class="ttdeci">TargetTransformInfo::PeelingPreferences gatherPeelingPreferences(Loop *L, ScalarEvolution &amp;SE, const TargetTransformInfo &amp;TTI, std::optional&lt; bool &gt; UserAllowPeeling, std::optional&lt; bool &gt; UserAllowProfileBasedPeeling, bool UnrollingSpecficValues=false)</div><div class="ttdef"><b>Definition:</b> <a href="LoopPeel_8cpp_source.html#l00811">LoopPeel.cpp:811</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_aa09379aa4435be95eb717dd9b5d8b4c5"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#aa09379aa4435be95eb717dd9b5d8b4c5">llvm::LoopStandardAnalysisResults::LI</a></div><div class="ttdeci">LoopInfo &amp; LI</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00055">LoopAnalysisManager.h:55</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstructionCost_html_ae01c5ced9fe2fe50f421ae121483ef04"><div class="ttname"><a href="classllvm_1_1InstructionCost.html#ae01c5ced9fe2fe50f421ae121483ef04">llvm::InstructionCost::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="InstructionCost_8h_source.html#l00079">InstructionCost.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopNest_html_ac047689641fc4a651c1fc58b85dc555b"><div class="ttname"><a href="classllvm_1_1LoopNest.html#ac047689641fc4a651c1fc58b85dc555b">llvm::LoopNest::getParent</a></div><div class="ttdeci">Function * getParent() const</div><div class="ttdoc">Return the function to which the loop-nest belongs.</div><div class="ttdef"><b>Definition:</b> <a href="LoopNestAnalysis_8h_source.html#l00176">LoopNestAnalysis.h:176</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a16a3a2f3b98ed6aae1f30ca378df2e30"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a16a3a2f3b98ed6aae1f30ca378df2e30">LLVMLoopUnrollAndJamFollowupRemainderOuter</a></div><div class="ttdeci">static const char *const LLVMLoopUnrollAndJamFollowupRemainderOuter</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00070">LoopUnrollAndJamPass.cpp:70</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a9919c2ab68b72db8776ce21a276a6ba6"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a9919c2ab68b72db8776ce21a276a6ba6">hasAnyUnrollPragma</a></div><div class="ttdeci">static bool hasAnyUnrollPragma(const Loop *L, StringRef Prefix)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00103">LoopUnrollAndJamPass.cpp:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02e1ff75cab81386059f88d395054b1c"><div class="ttname"><a href="namespacellvm.html#a02e1ff75cab81386059f88d395054b1c">llvm::isSafeToUnrollAndJam</a></div><div class="ttdeci">bool isSafeToUnrollAndJam(Loop *L, ScalarEvolution &amp;SE, DominatorTree &amp;DT, DependenceInfo &amp;DI, LoopInfo &amp;LI)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJam_8cpp_source.html#l00860">LoopUnrollAndJam.cpp:860</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5a19768af81df7e5fe571bc08dcd48b3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">llvm::ScalarEvolution::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return true if the value of the given SCEV is unchanging in the specified loop.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l13775">ScalarEvolution.cpp:13775</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_adf4be757fa30ca7fe3e8b119438100f0"><div class="ttname"><a href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">llvm::Loop::setLoopID</a></div><div class="ttdeci">void setLoopID(MDNode *LoopID) const</div><div class="ttdoc">Set the llvm.loop loop id metadata for this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00525">LoopInfo.cpp:525</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_a3444a9359f5f17f1694f82c41d5fd574"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#a3444a9359f5f17f1694f82c41d5fd574">llvm::LoopStandardAnalysisResults::TTI</a></div><div class="ttdeci">TargetTransformInfo &amp; TTI</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00058">LoopAnalysisManager.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_afbcd78588d5235f99698b5c30f591382"><div class="ttname"><a href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">llvm::Loop::getLoopID</a></div><div class="ttdeci">MDNode * getLoopID() const</div><div class="ttdoc">Return the llvm.loop loop id metadata node for this loop if it is present.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00501">LoopInfo.cpp:501</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_abb51de50739e767745339e9bb2aa31a4"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#abb51de50739e767745339e9bb2aa31a4">llvm::TargetTransformInfo::UnrollingPreferences::AllowRemainder</a></div><div class="ttdeci">bool AllowRemainder</div><div class="ttdoc">Allow generation of a loop remainder (extra iterations after unroll).</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00499">TargetTransformInfo.h:499</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_afb4f1be6fbfffefe83da0d845258d454"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#afb4f1be6fbfffefe83da0d845258d454">LLVMLoopUnrollAndJamFollowupAll</a></div><div class="ttdeci">static const char *const LLVMLoopUnrollAndJamFollowupAll</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00062">LoopUnrollAndJamPass.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopUnrollAndJamPass_html_aceae0aba9cc69bf89d3241d61190b9ec"><div class="ttname"><a href="classllvm_1_1LoopUnrollAndJamPass.html#aceae0aba9cc69bf89d3241d61190b9ec">llvm::LoopUnrollAndJamPass::run</a></div><div class="ttdeci">PreservedAnalyses run(LoopNest &amp;L, LoopAnalysisManager &amp;AM, LoopStandardAnalysisResults &amp;AR, LPMUpdater &amp;U)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00463">LoopUnrollAndJamPass.cpp:463</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_a252f8eda3379ce3a4402d1d26aa51ddd"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#a252f8eda3379ce3a4402d1d26aa51ddd">PragmaUnrollAndJamThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; PragmaUnrollAndJamThreshold(&quot;pragma-unroll-and-jam-threshold&quot;, cl::init(1024), cl::Hidden, cl::desc(&quot;Unrolled size limit for loops with an unroll_and_jam(full) or &quot; &quot;unroll_count pragma.&quot;))</div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_a124376878e24aef4252795ba9fea420f"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#a124376878e24aef4252795ba9fea420f">llvm::LoopStandardAnalysisResults::SE</a></div><div class="ttdeci">ScalarEvolution &amp; SE</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00056">LoopAnalysisManager.h:56</a></div></div>
<div class="ttc" id="astructllvm_1_1LoopStandardAnalysisResults_html_abd7da877be8576011299f4fcaaf299be"><div class="ttname"><a href="structllvm_1_1LoopStandardAnalysisResults.html#abd7da877be8576011299f4fcaaf299be">llvm::LoopStandardAnalysisResults::AA</a></div><div class="ttdeci">AAResults &amp; AA</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8h_source.html#l00052">LoopAnalysisManager.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityWorklist_html_ab89ceb7695256590499de818b5360c54"><div class="ttname"><a href="classllvm_1_1PriorityWorklist.html#ab89ceb7695256590499de818b5360c54">llvm::PriorityWorklist&lt; T, SmallVector&lt; T, N &gt;, SmallDenseMap&lt; T, ptrdiff_t &gt; &gt;::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="PriorityWorklist_8h_source.html#l00153">PriorityWorklist.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopNest_html_a76910b27c22c1ec00680bc5362806678"><div class="ttname"><a href="classllvm_1_1LoopNest.html#a76910b27c22c1ec00680bc5362806678">llvm::LoopNest::getLoops</a></div><div class="ttdeci">ArrayRef&lt; Loop * &gt; getLoops() const</div><div class="ttdoc">Get the loops in the nest.</div><div class="ttdef"><b>Definition:</b> <a href="LoopNestAnalysis_8h_source.html#l00117">LoopNestAnalysis.h:117</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1UnrollingPreferences_html_a21e7febf468c370793f606da5cd0e6fe"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1UnrollingPreferences.html#a21e7febf468c370793f606da5cd0e6fe">llvm::TargetTransformInfo::UnrollingPreferences::Threshold</a></div><div class="ttdeci">unsigned Threshold</div><div class="ttdoc">The cost threshold for the unrolled loop.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00448">TargetTransformInfo.h:448</a></div></div>
<div class="ttc" id="aUnrollLoop_8h_html"><div class="ttname"><a href="UnrollLoop_8h.html">UnrollLoop.h</a></div></div>
<div class="ttc" id="aTargetTransformInfo_8h_html"><div class="ttname"><a href="TargetTransformInfo_8h.html">TargetTransformInfo.h</a></div></div>
<div class="ttc" id="aLoopUnrollAndJamPass_8cpp_html_aba61ac3543c189773a7afba5d9a6b333"><div class="ttname"><a href="LoopUnrollAndJamPass_8cpp.html#aba61ac3543c189773a7afba5d9a6b333">unrollAndJamCountPragmaValue</a></div><div class="ttdeci">static unsigned unrollAndJamCountPragmaValue(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollAndJamPass_8cpp_source.html#l00132">LoopUnrollAndJamPass.cpp:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl&lt; const Value * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_abd642fa74effc122158e6fb11da78600"><div class="ttname"><a href="namespacellvm.html#abd642fa74effc122158e6fb11da78600">llvm::gatherUnrollingPreferences</a></div><div class="ttdeci">TargetTransformInfo::UnrollingPreferences gatherUnrollingPreferences(Loop *L, ScalarEvolution &amp;SE, const TargetTransformInfo &amp;TTI, BlockFrequencyInfo *BFI, ProfileSummaryInfo *PSI, llvm::OptimizationRemarkEmitter &amp;ORE, int OptLevel, std::optional&lt; unsigned &gt; UserThreshold, std::optional&lt; unsigned &gt; UserCount, std::optional&lt; bool &gt; UserAllowPartial, std::optional&lt; bool &gt; UserRuntime, std::optional&lt; bool &gt; UserUpperBound, std::optional&lt; unsigned &gt; UserFullUnrollMaxCount)</div><div class="ttdoc">Gather the various unrolling parameters based on the defaults, compiler flags, TTI overrides and user...</div><div class="ttdef"><b>Definition:</b> <a href="LoopUnrollPass_8cpp_source.html#l00183">LoopUnrollPass.cpp:183</a></div></div>
<div class="ttc" id="aDependenceAnalysis_8h_html"><div class="ttname"><a href="DependenceAnalysis_8h.html">DependenceAnalysis.h</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84"><div class="ttname"><a href="namespacellvm.html#a8c861ddf753ab3690437dceaadf5c7e1aac5e6ff0bb9cd22f9f55570e7b318c84">llvm::LoopUnrollResult::Unmodified</a></div><div class="ttdeci">@ Unmodified</div><div class="ttdoc">The loop was not modified.</div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aLoopPeel_8h_html"><div class="ttname"><a href="LoopPeel_8h.html">LoopPeel.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a21d6ee82eed29080d911dbb548a8bb68"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">llvm::ScalarEvolution::getSCEVAtScope</a></div><div class="ttdeci">const SCEV * getSCEVAtScope(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return a SCEV expression for the specified value at the specified scope in the program.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l09735">ScalarEvolution.cpp:9735</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopNest_html"><div class="ttname"><a href="classllvm_1_1LoopNest.html">llvm::LoopNest</a></div><div class="ttdoc">This class represents a loop nest and can be used to query its properties.</div><div class="ttdef"><b>Definition:</b> <a href="LoopNestAnalysis_8h_source.html#l00028">LoopNestAnalysis.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcb"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">llvm::TransformationMode</a></div><div class="ttdeci">TransformationMode</div><div class="ttdoc">The mode sets how eager a transformation should be applied.</div><div class="ttdef"><b>Definition:</b> <a href="LoopUtils_8h_source.html#l00267">LoopUtils.h:267</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:33:40 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
