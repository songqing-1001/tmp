<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/Inliner.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Inliner.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Inliner_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Inliner.cpp - Code common to all inliners --------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the mechanics required to implement inlining without</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// missing any calls and updating the call graph.  The decisions of which calls</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// are profitable to inline are implemented elsewhere.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Inliner_8h.html">llvm/Transforms/IPO/Inliner.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PriorityWorklist_8h.html">llvm/ADT/PriorityWorklist.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScopeExit_8h.html">llvm/ADT/ScopeExit.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicAliasAnalysis_8h.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockFrequencyInfo_8h.html">llvm/Analysis/BlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CGSCCPassManager_8h.html">llvm/Analysis/CGSCCPassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAdvisor_8h.html">llvm/Analysis/InlineAdvisor.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineCost_8h.html">llvm/Analysis/InlineCost.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LazyCallGraph_8h.html">llvm/Analysis/LazyCallGraph.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfileSummaryInfo_8h.html">llvm/Analysis/ProfileSummaryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ReplayInlineAdvisor_8h.html">llvm/Analysis/ReplayInlineAdvisor.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ImportedFunctionsInliningStatistics_8h.html">llvm/Analysis/Utils/ImportedFunctionsInliningStatistics.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DiagnosticInfo_8h.html">llvm/IR/DiagnosticInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallPromotionUtils_8h.html">llvm/Transforms/Utils/CallPromotionUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleUtils_8h.html">llvm/Transforms/Utils/ModuleUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   71</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;inline&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumInlined, <span class="stringliteral">&quot;Number of functions inlined&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumCallsDeleted, <span class="stringliteral">&quot;Number of call sites deleted, not inlined&quot;</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumDeleted, <span class="stringliteral">&quot;Number of functions deleted because all callers found&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumMergedAllocas, <span class="stringliteral">&quot;Number of allocas merged together&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/// Flag to disable manual alloca merging.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/// Merging of allocas was originally done as a stack-size saving technique</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/// prior to LLVM&#39;s code generator having support for stack coloring based on</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/// lifetime markers. It is now in the process of being removed. To experiment</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/// with disabling it and relying fully on lifetime marker based stack</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/// coloring, you can pass this flag to LLVM.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="Inliner_8cpp.html#ae4e0895513cfff8061b90ea3b2315be3">DisableInlinedAllocaMerging</a>(<span class="stringliteral">&quot;disable-inlined-alloca-merging&quot;</span>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="Inliner_8cpp.html#a8c581c6c12cf14ab0a9a13588ff80c5a">IntraSCCCostMultiplier</a>(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="stringliteral">&quot;intra-scc-cost-multiplier&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(2), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="stringliteral">&quot;Cost multiplier to multiply onto inlined call sites where the &quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="stringliteral">&quot;new call was previously an intra-SCC call (not relevant when the &quot;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="stringliteral">&quot;original call was already intra-SCC). This can accumulate over &quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="stringliteral">&quot;multiple inlinings (e.g. if a call site already had a cost &quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="stringliteral">&quot;multiplier and one of its inlined calls was also subject to &quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="stringliteral">&quot;this, the inlined call would have the original multiplier &quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="stringliteral">&quot;multiplied by intra-scc-cost-multiplier). This is to prevent tons of &quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="stringliteral">&quot;inlining through a child SCC which can cause terrible compile times&quot;</span>));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/// A flag for test, so we can print the content of the advisor when running it</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">/// as part of the default (e.g. -O3) pipeline.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="Inliner_8cpp.html#a33626143f63f8ff6718975dda747e343">KeepAdvisorForPrinting</a>(<span class="stringliteral">&quot;keep-inline-advisor-for-printing&quot;</span>,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                            <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/// Allows printing the contents of the advisor after each SCC inliner pass.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="Inliner_8cpp.html#ae592dfe1eda680adc39ebcb2d7745695">EnablePostSCCAdvisorPrinting</a>(<span class="stringliteral">&quot;enable-scc-inline-advisor-printing&quot;</span>,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                 <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;InlinerFunctionImportStatsOpts&gt;</a> <a class="code" href="namespacellvm.html#aadbd3f8e31479a825eb9f2e0dcdd4bbf">InlinerFunctionImportStats</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="Inliner_8cpp.html#a91bc852d822edde0684bf2b0bac9e4aa">CGSCCInlineReplayFile</a>(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="stringliteral">&quot;cgscc-inline-replay&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="stringliteral">&quot;&quot;</span>), <a class="code" href="structllvm_1_1cl_1_1value__desc.html">cl::value_desc</a>(<span class="stringliteral">&quot;filename&quot;</span>),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="stringliteral">&quot;Optimization remarks file containing inline remarks to be replayed &quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="stringliteral">&quot;by cgscc inlining.&quot;</span>),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;ReplayInlinerSettings::Scope&gt;</a> <a class="code" href="Inliner_8cpp.html#afbab91c3f27a5e91b389c7da979cf8b7">CGSCCInlineReplayScope</a>(</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="stringliteral">&quot;cgscc-inline-replay-scope&quot;</span>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a692270e0daa8cc3ffb3d83238afcd4b5a86408593c34af77fdd90df932f8b5261">ReplayInlinerSettings::Scope::Function</a>),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(<a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a692270e0daa8cc3ffb3d83238afcd4b5a86408593c34af77fdd90df932f8b5261">ReplayInlinerSettings::Scope::Function</a>, <span class="stringliteral">&quot;Function&quot;</span>,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                          <span class="stringliteral">&quot;Replay on functions that have remarks associated &quot;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                          <span class="stringliteral">&quot;with them (default)&quot;</span>),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a692270e0daa8cc3ffb3d83238afcd4b5ae55f75a29310d7b60f7ac1d390c8ae42">ReplayInlinerSettings::Scope::Module</a>, <span class="stringliteral">&quot;Module&quot;</span>,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                          <span class="stringliteral">&quot;Replay on the entire module&quot;</span>)),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Whether inline replay should be applied to the entire &quot;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;             <span class="stringliteral">&quot;Module or just the Functions (default) that are present as &quot;</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;             <span class="stringliteral">&quot;callers in remarks during cgscc inlining.&quot;</span>),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;ReplayInlinerSettings::Fallback&gt;</a> <a class="code" href="Inliner_8cpp.html#a8ca23b4464210f9abda43765bb4c6bb1">CGSCCInlineReplayFallback</a>(</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="stringliteral">&quot;cgscc-inline-replay-fallback&quot;</span>,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0da0a52da7a03a6de3beefe54f8c03ad80d">ReplayInlinerSettings::Fallback::Original</a>),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0da0a52da7a03a6de3beefe54f8c03ad80d">ReplayInlinerSettings::Fallback::Original</a>, <span class="stringliteral">&quot;Original&quot;</span>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="stringliteral">&quot;All decisions not in replay send to original advisor (default)&quot;</span>),</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0dabfb0ca5162a37ff39298b24afdb84ff7">ReplayInlinerSettings::Fallback::AlwaysInline</a>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                   <span class="stringliteral">&quot;AlwaysInline&quot;</span>, <span class="stringliteral">&quot;All decisions not in replay are inlined&quot;</span>),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0dae1c27e5eeb260d139f3605de9cf1d84d">ReplayInlinerSettings::Fallback::NeverInline</a>, <span class="stringliteral">&quot;NeverInline&quot;</span>,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                   <span class="stringliteral">&quot;All decisions not in replay are not inlined&quot;</span>)),</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="stringliteral">&quot;How cgscc inline replay treats sites that don&#39;t come from the replay. &quot;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="stringliteral">&quot;Original: defers to original advisor, AlwaysInline: inline all sites &quot;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="stringliteral">&quot;not in replay, NeverInline: inline no sites not in replay&quot;</span>),</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;CallSiteFormat::Format&gt;</a> <a class="code" href="Inliner_8cpp.html#a5c89c6e33abaa9e8679f96ff82ce72b8">CGSCCInlineReplayFormat</a>(</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="stringliteral">&quot;cgscc-inline-replay-format&quot;</span>,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689ad9438ba6b9d7bd9d83b71b3e2f0d2491">CallSiteFormat::Format::LineColumnDiscriminator</a>),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689a4803e6b9e63dabf04de980788d6a13c4">CallSiteFormat::Format::Line</a>, <span class="stringliteral">&quot;Line&quot;</span>, <span class="stringliteral">&quot;&lt;Line Number&gt;&quot;</span>),</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689a7e296479ac3c227db3d56e629408409b">CallSiteFormat::Format::LineColumn</a>, <span class="stringliteral">&quot;LineColumn&quot;</span>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                   <span class="stringliteral">&quot;&lt;Line Number&gt;:&lt;Column Number&gt;&quot;</span>),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689aec257ab201ab2c5c1a5239c58ebaaed7">CallSiteFormat::Format::LineDiscriminator</a>,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                   <span class="stringliteral">&quot;LineDiscriminator&quot;</span>, <span class="stringliteral">&quot;&lt;Line Number&gt;.&lt;Discriminator&gt;&quot;</span>),</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689ad9438ba6b9d7bd9d83b71b3e2f0d2491">CallSiteFormat::Format::LineColumnDiscriminator</a>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                   <span class="stringliteral">&quot;LineColumnDiscriminator&quot;</span>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                   <span class="stringliteral">&quot;&lt;Line Number&gt;:&lt;Column Number&gt;.&lt;Discriminator&gt; (default)&quot;</span>)),</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;How cgscc inline replay file is formatted&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">  166</a></span>&#160;<a class="code" href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">LegacyInlinerBase::LegacyInlinerBase</a>(<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) : <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#a4069d4811605a187af9a81dc512eeea8">  168</a></span>&#160;<a class="code" href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">LegacyInlinerBase::LegacyInlinerBase</a>(<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <span class="keywordtype">bool</span> InsertLifetime)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    : <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), InsertLifetime(InsertLifetime) {}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/// For this class, we declare that we require and preserve the call graph.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">/// If the derived class implements this method, it should</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/// always explicitly call the implementation here.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ad902305635f915a580455ba5fbe6fa78">  174</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#ad902305635f915a580455ba5fbe6fa78">LegacyInlinerBase::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1ProfileSummaryInfoWrapperPass.html">ProfileSummaryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="namespacellvm.html#ac08ed1ec3e6d465de23a2a6100d5df38">getAAResultsAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classllvm_1_1CallGraphSCCPass.html#a6cc67c5a27b53bc940d292c0aeb6aba3">CallGraphSCCPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a2344bb83a34e904d562fa46aa9a3d5ce">  182</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">InlinedArrayAllocasTy</a> = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ArrayType *, std::vector&lt;AllocaInst *&gt;</a>&gt;;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/// Look at all of the allocas that we inlined through this call site.  If we</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/// have already inlined other allocas through other calls into this function,</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">/// then we know that they have disjoint lifetimes and that we can merge them.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/// There are many heuristics possible for merging these allocas, and the</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/// different options have different tradeoffs.  One thing that we *really*</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/// don&#39;t want to hurt is SRoA: once inlining happens, often allocas are no</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">/// longer address taken and so they can be promoted.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">/// Our &quot;solution&quot; for that is to only merge allocas whose outermost type is an</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">/// array type.  These are usually not promoted because someone is using a</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/// variable index into them.  These are also often the most important ones to</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/// merge.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/// A better solution would be to have real memory lifetime markers in the IR</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// and not have the inliner do any merging of allocas at all.  This would</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// allow the backend to do proper stack slot coloring of all allocas that</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// *actually make it to the backend*, which is really what we want.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// Because we don&#39;t have this information, we do this simple and useful hack.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">  204</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">mergeInlinedArrayAllocas</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *Caller, <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                     <a class="code" href="classllvm_1_1DenseMap.html">InlinedArrayAllocasTy</a> &amp;InlinedArrayAllocas,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                     <span class="keywordtype">int</span> InlineHistory) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;AllocaInst *, 16&gt;</a> UsedAllocas;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// When processing our SCC, check to see if the call site was inlined from</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// some other call site.  For example, if we&#39;re processing &quot;A&quot; in this code:</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">//   A() { B() }</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">//   B() { x = alloca ... C() }</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">//   C() { y = alloca ... }</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// Assume that C was not inlined into B initially, and so we&#39;re processing A</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">// and decide to inline B into A.  Doing this makes an alloca available for</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// reuse and makes a callsite (C) available for inlining.  When we process</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// the C call site we don&#39;t want to do any alloca merging between X and Y</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// because their scopes are not disjoint.  We could make this smarter by</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// keeping track of the inline history for each alloca in the</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// InlinedArrayAllocas but this isn&#39;t likely to be a significant win.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (InlineHistory != -1) <span class="comment">// Only do merging for top-level call sites in SCC.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Loop over all the allocas we have so far and see if they can be merged with</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// a previously inlined alloca.  If not, remember that we had it.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AllocaNo = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a9c259c76065eb3b4ce3697ce346008ce">StaticAllocas</a>.size(); AllocaNo != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;       ++AllocaNo) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a9c259c76065eb3b4ce3697ce346008ce">StaticAllocas</a>[AllocaNo];</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">// Don&#39;t bother trying to merge array allocations (they will usually be</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// canonicalized to be an allocation *of* an array), or allocations whose</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// type is not itself an array (because we&#39;re afraid of pessimizing SRoA).</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *ATy = dyn_cast&lt;ArrayType&gt;(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">getAllocatedType</a>());</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (!ATy || AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#aea74164514e7164813ab30bcc4b7c557">isArrayAllocation</a>())</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Get the list of all available allocas for this array type.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    std::vector&lt;AllocaInst *&gt; &amp;AllocasForType = InlinedArrayAllocas[ATy];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// Loop over the allocas in AllocasForType to see if we can reuse one.  Note</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// that we have to be careful not to reuse the same &quot;available&quot; alloca for</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// multiple different allocas that we just inlined, we use the &#39;UsedAllocas&#39;</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// set to keep track of which &quot;available&quot; allocas are being used by this</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// function.  Also, AllocasForType can be empty of course!</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">bool</span> MergedAwayAlloca = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AvailableAlloca : AllocasForType) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="structllvm_1_1Align.html">Align</a> Align1 = AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a42438d0a43720a6571c9138224481754">getAlign</a>();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="structllvm_1_1Align.html">Align</a> Align2 = AvailableAlloca-&gt;getAlign();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">// The available alloca has to be in the right function, not in some other</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="comment">// function in this SCC.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">if</span> (AvailableAlloca-&gt;getParent() != AI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>())</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="comment">// If the inlined function already uses this alloca then we can&#39;t reuse</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="comment">// it.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">if</span> (!UsedAllocas.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(AvailableAlloca).second)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// Otherwise, we *can* reuse it, RAUW AI into AvailableAlloca and declare</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// success!</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ***MERGED ALLOCA: &quot;</span> &lt;&lt; *AI</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n\t\tINTO: &quot;</span> &lt;&lt; *AvailableAlloca &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// Move affected dbg.declare calls immediately after the new alloca to</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="comment">// avoid the situation when a dbg.declare precedes its alloca.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *L = <a class="code" href="classllvm_1_1LocalAsMetadata.html#a5247094880dd4ac01a770bdf836b97c9">LocalAsMetadata::getIfExists</a>(AI))</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MDV = <a class="code" href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">MetadataAsValue::getIfExists</a>(AI-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), L))</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : MDV-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DbgDeclareInst.html">DbgDeclareInst</a> *DDI = dyn_cast&lt;DbgDeclareInst&gt;(U))</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;              DDI-&gt;moveBefore(AvailableAlloca-&gt;getNextNode());</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      AI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(AvailableAlloca);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">if</span> (Align1 &gt; Align2)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        AvailableAlloca-&gt;setAlignment(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a42438d0a43720a6571c9138224481754">getAlign</a>());</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      AI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      MergedAwayAlloca = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      ++NumMergedAllocas;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a9c259c76065eb3b4ce3697ce346008ce">StaticAllocas</a>[AllocaNo] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// If we already nuked the alloca, we&#39;re done with it.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (MergedAwayAlloca)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// If we were unable to merge away the alloca either because there are no</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// allocas of the right type available or because we reused them all</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// already, remember that this alloca came from an inlined function and mark</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// it used so we don&#39;t reuse it for other allocas from this inline</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// operation.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    AllocasForType.push_back(AI);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    UsedAllocas.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(AI);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">/// If it is possible to inline the specified call site,</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">/// do so and update the CallGraph for this operation.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/// This function also does some basic book-keeping to update the IR.  The</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">/// InlinedArrayAllocas map keeps track of any allocas that are already</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">/// available from other functions inlined into the caller.  If we are able to</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">/// inline this call site we attempt to reuse already available allocas or add</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">/// any new allocas to the set if not possible.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">  307</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code" href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">inlineCallIfPossible</a>(</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB, <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">InlinedArrayAllocasTy</a> &amp;InlinedArrayAllocas, <span class="keywordtype">int</span> InlineHistory,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">bool</span> InsertLifetime, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; &amp;AARGetter,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="classllvm_1_1ImportedFunctionsInliningStatistics.html">ImportedFunctionsInliningStatistics</a> &amp;ImportedFunctionsStats) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CB.<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AAR = AARGetter(*<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// Try to inline the function.  Get the list of static allocas that were</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// inlined.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a> =</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="namespacellvm.html#ab5a3ac0a249da0743dac1bd816d8e5d5">InlineFunction</a>(CB, IFI,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                     <span class="comment">/*MergeAttributes=*/</span><span class="keyword">true</span>, &amp;AAR, InsertLifetime);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.isSuccess())</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aadbd3f8e31479a825eb9f2e0dcdd4bbf">InlinerFunctionImportStats</a> != <a class="code" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">InlinerFunctionImportStatsOpts::No</a>)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    ImportedFunctionsStats.<a class="code" href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a869c36ec45c584dfa6f3d914d230b15f">recordInline</a>(*Caller, *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Inliner_8cpp.html#ae4e0895513cfff8061b90ea3b2315be3">DisableInlinedAllocaMerging</a>)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">mergeInlinedArrayAllocas</a>(Caller, IFI, InlinedArrayAllocas, InlineHistory);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>; <span class="comment">// success</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/// Return true if the specified inline history ID</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">/// indicates an inline history that includes the specified function.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#aa50d9479d33af430ddc4725552d7efdf">  336</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Inliner_8cpp.html#aa50d9479d33af430ddc4725552d7efdf">inlineHistoryIncludes</a>(</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">int</span> InlineHistoryID,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;Function *, int&gt;&gt; &amp;InlineHistory) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">while</span> (InlineHistoryID != -1) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<span class="keywordtype">unsigned</span>(InlineHistoryID) &lt; InlineHistory.size() &amp;&amp;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;           <span class="stringliteral">&quot;Invalid inline history ID&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (InlineHistory[InlineHistoryID].first == <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    InlineHistoryID = InlineHistory[InlineHistoryID].second;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ac9c9490e1fd3ad1ff4252a273751e000">  349</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#ac9c9490e1fd3ad1ff4252a273751e000">LegacyInlinerBase::doInitialization</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aadbd3f8e31479a825eb9f2e0dcdd4bbf">InlinerFunctionImportStats</a> != <a class="code" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">InlinerFunctionImportStatsOpts::No</a>)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">ImportedFunctionsStats</a>.<a class="code" href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a00fe0b2043a8218ede17ada91d286272">setModuleInfo</a>(CG.<a class="code" href="classllvm_1_1CallGraph.html#acef04d640c133e4265a715f883dd745b">getModule</a>());</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// No changes to CallGraph.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ae8c56810a4e199c830acc88b08dce370">  355</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#ae8c56810a4e199c830acc88b08dce370">LegacyInlinerBase::runOnSCC</a>(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallGraphSCCPass.html#a978ee5e9b5b33e10cea60aea38f80788">skipSCC</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>))</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">inlineCalls</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">  362</a></span>&#160;<a class="code" href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">inlineCallsImpl</a>(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>, <a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG,</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GetAssumptionCache,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GetTLI,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordtype">bool</span> InsertLifetime,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1InlineCost.html">InlineCost</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB)&gt; GetInlineCost,</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <a class="code" href="classllvm_1_1ImportedFunctionsInliningStatistics.html">ImportedFunctionsInliningStatistics</a> &amp;ImportedFunctionsStats) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Function *, 8&gt;</a> SCCFunctions;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inliner visiting SCC:&quot;</span>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *Node : <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Node-&gt;getFunction();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      SCCFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> ? <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() : <span class="stringliteral">&quot;INDIRECTNODE&quot;</span>));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// Scan through and identify all call sites ahead of time so that we only</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// inline call sites in the original functions, not call sites that result</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// from inlining other functions.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;CallBase *, int&gt;</a>, 16&gt; CallSites;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// When inlining a callee produces new call sites, we want to keep track of</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// the fact that they were inlined from the callee.  This allows us to avoid</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// infinite inlining in some obscure cases.  To represent this, we use an</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// index into the InlineHistory vector.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Function *, int&gt;</a>, 8&gt; InlineHistory;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *Node : <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Node-&gt;getFunction();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration())</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> ORE(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">// If this isn&#39;t a call, or it is a call to an intrinsic, it can</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">// never be inlined.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">if</span> (!CB || isa&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="comment">// If this is a direct call to an external function, we can never inline</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="comment">// it.  If it is an indirect call, inlining may resolve it to be a</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">// direct call, so we keep it.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>())</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration()) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;unavailable definition&quot;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            ORE.<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code" href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NoDefinition&quot;</span>, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                     &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Callee&quot;</span>, <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &lt;&lt; <span class="stringliteral">&quot; will not be inlined into &quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                     &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Caller&quot;</span>, CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>())</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot; because its definition is unavailable&quot;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                     &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#ab5adf3028c08b7debe191e012cb91ad1">setIsVerbose</a>();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            });</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        CallSites.push_back(std::make_pair(CB, -1));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; CallSites.size() &lt;&lt; <span class="stringliteral">&quot; call sites.\n&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// If there are no calls in this function, exit early.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (CallSites.empty())</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// Now that we have all of the call sites, move the ones to functions in the</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// current SCC to the end of the list.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordtype">unsigned</span> FirstCallInSCC = CallSites.size();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; FirstCallInSCC; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CallSites[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].first-&gt;getCalledFunction())</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">if</span> (SCCFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CallSites[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>--], CallSites[--FirstCallInSCC]);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">InlinedArrayAllocasTy</a> InlinedArrayAllocas;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> <a class="code" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>(&amp;CG, GetAssumptionCache, PSI);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// Now that we have all of the call sites, loop over them and inline them if</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// it looks profitable to do so.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordtype">bool</span> LocalChange;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    LocalChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// Iterate over the outer loop because inlining functions can cause indirect</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// calls to become direct calls.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// CallSites may be modified inside so ranged for loop can not be used.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> CSi = 0; CSi != CallSites.size(); ++CSi) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = CallSites[CSi];</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB = *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> InlineHistoryID = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CB.<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="comment">// We can only inline direct calls to non-declarations.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> || <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration())</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordtype">bool</span> IsTriviallyDead = <a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(&amp;CB, &amp;GetTLI(*Caller));</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">if</span> (!IsTriviallyDead) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="comment">// If this call site was obtained by inlining another function, verify</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// that the include path for the function did not include the callee</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// itself.  If so, we&#39;d be recursively inlining the same function,</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="comment">// which would provide the same callsites, which would cause us to</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="comment">// infinitely inline.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span> (InlineHistoryID != -1 &amp;&amp;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <a class="code" href="Inliner_8cpp.html#aa50d9479d33af430ddc4725552d7efdf">inlineHistoryIncludes</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, InlineHistoryID, InlineHistory)) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(CB, <span class="stringliteral">&quot;recursive&quot;</span>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">// FIXME for new PM: because of the old PM we currently generate ORE and</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="comment">// in turn BFI on demand.  With the new PM, the ORE dependency should</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">// just become a regular analysis dependency.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> ORE(Caller);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keyword">auto</span> OIC = <a class="code" href="namespacellvm.html#ab0a4c9149b6ab7ed8c1bd84f128ab516">shouldInline</a>(CB, GetInlineCost, ORE);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="comment">// If the policy determines that we should inline this function,</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="comment">// delete the call instead.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keywordflow">if</span> (!OIC)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="comment">// If this call site is dead and it is to a readonly function, we should</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="comment">// just delete the call instead of trying to inline it, regardless of</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="comment">// size.  This happens because IPSCCP propagates the result out of the</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="comment">// call and then we&#39;re left with the dead call.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">if</span> (IsTriviallyDead) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    -&gt; Deleting dead call: &quot;</span> &lt;&lt; CB &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="comment">// Update the call graph by deleting the edge from Callee to Caller.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(CB, <span class="stringliteral">&quot;trivially dead&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        CG[Caller]-&gt;removeCallEdgeFor(CB);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        CB.<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        ++NumCallsDeleted;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// Get DebugLoc to report. CB will be invalid after Inliner.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DLoc = CB.<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Block = CB.<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="comment">// Attempt to inline the function.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a> = <a class="code" href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">inlineCallIfPossible</a>(</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            CB, <a class="code" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>, InlinedArrayAllocas, InlineHistoryID,</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            InsertLifetime, AARGetter, ImportedFunctionsStats);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.isSuccess()) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(CB, std::string(<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.getFailureReason()) + <span class="stringliteral">&quot;; &quot;</span> +</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                  <a class="code" href="namespacellvm.html#a20cfa993dffa4fbef8ce57257098a786">inlineCostStr</a>(*OIC));</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          ORE.<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code" href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NotInlined&quot;</span>, DLoc,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                            Block)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                   &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Callee&quot;</span>, <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &lt;&lt; <span class="stringliteral">&quot; will not be inlined into &quot;</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                   &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Caller&quot;</span>, Caller) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                   &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Reason&quot;</span>, <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.getFailureReason());</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          });</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        ++NumInlined;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="namespacellvm.html#a83035d5c2bb6a64f3c35b716a994b586">emitInlinedIntoBasedOnCost</a>(ORE, DLoc, Block, *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, *Caller, *OIC);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">// If inlining this function gave us any new call sites, throw them</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">// onto our worklist to process.  They are useful inline candidates.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>.InlinedCalls.empty()) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          <span class="comment">// Create a new inline history entry for this, so that we remember</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          <span class="comment">// that these new callsites came about due to inlining Callee.</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          <span class="keywordtype">int</span> NewHistoryID = InlineHistory.size();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          InlineHistory.push_back(std::make_pair(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, InlineHistoryID));</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          <span class="comment">// Make sure no dupplicates in the inline candidates. This could</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          <span class="comment">// happen when a callsite is simpilfied to reusing the return value</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          <span class="comment">// of another callsite during function cloning, thus the other</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          <span class="comment">// callsite will be reconsidered here.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;CallBase *&gt;</a> DbgCallSites;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;II : CallSites)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            DbgCallSites.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(II.first);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> : <a class="code" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>.InlinedCalls) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DbgCallSites.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(dyn_cast&lt;CallBase&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) == 0);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            CallSites.push_back(</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                std::make_pair(dyn_cast&lt;CallBase&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>), NewHistoryID));</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">// If we inlined or deleted the last possible call site to the function,</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="comment">// delete the function body now.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> &amp;&amp; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;use_empty() &amp;&amp; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;hasLocalLinkage() &amp;&amp;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;          <span class="comment">// TODO: Can remove if in SCC now.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          !SCCFunctions.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &amp;&amp;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          <span class="comment">// The function may be apparently dead, but if there are indirect</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          <span class="comment">// callgraph references to the node, we cannot delete it yet, this</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          <span class="comment">// could invalidate the CGSCC iterator.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;          CG[<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>]-&gt;getNumReferences() == 0) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    -&gt; Deleting dead function: &quot;</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                          &lt;&lt; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CalleeNode = CG[<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>];</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">// Remove any call graph edges from the callee to its callees.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        CalleeNode-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#ab61fa6ccb9c51f78735fc7efc62d9671">removeAllCalledFunctions</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="comment">// Removing the node for callee from the call graph and delete it.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keyword">delete</span> CG.<a class="code" href="classllvm_1_1CallGraph.html#a10ae28b08e292f846fb954e805e533ce">removeFunctionFromModule</a>(CalleeNode);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        ++NumDeleted;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="comment">// Remove this call site from the list.  If possible, use</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="comment">// swap/pop_back for efficiency, but do not use it if doing so would</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="comment">// move a call site to a function in this SCC before the</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="comment">// &#39;FirstCallInSCC&#39; barrier.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>.isSingular()) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        CallSites[CSi] = CallSites.back();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        CallSites.pop_back();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        CallSites.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(CallSites.begin() + CSi);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      --CSi;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      LocalChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  } <span class="keywordflow">while</span> (LocalChange);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">  597</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">LegacyInlinerBase::inlineCalls</a>(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG = getAnalysis&lt;CallGraphWrapperPass&gt;().getCallGraph();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a261a6e97f9fb889152e31269ee07ac20">ACT</a> = &amp;getAnalysis&lt;AssumptionCacheTracker&gt;();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a0ba622185349ede8d8a137d7a7367840">PSI</a> = &amp;getAnalysis&lt;ProfileSummaryInfoWrapperPass&gt;().getPSI();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a13df8a77f64fc43be8afe715118fdc91">GetTLI</a> = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp; {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> getAnalysis&lt;TargetLibraryInfoWrapperPass&gt;().getTLI(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  };</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keyword">auto</span> GetAssumptionCache = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp; {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a261a6e97f9fb889152e31269ee07ac20">ACT</a>-&gt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html#af0c9a679eca493aa32aa7002bf4a50a3">getAssumptionCache</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  };</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">inlineCallsImpl</a>(</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>, CG, GetAssumptionCache, <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a0ba622185349ede8d8a137d7a7367840">PSI</a>, <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a13df8a77f64fc43be8afe715118fdc91">GetTLI</a>, InsertLifetime,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      [&amp;](<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) { <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a6fbb9f30a9224cbd7cb15dd5cb0ac688">getInlineCost</a>(CB); }, <a class="code" href="classllvm_1_1LegacyAARGetter.html">LegacyAARGetter</a>(*<span class="keyword">this</span>),</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">ImportedFunctionsStats</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/// Remove now-dead linkonce functions at the end of</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">/// processing to avoid breaking the SCC traversal.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#aa989a9a80b5b2a6a11876cc8ee61c064">  615</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#aa989a9a80b5b2a6a11876cc8ee61c064">LegacyInlinerBase::doFinalization</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aadbd3f8e31479a825eb9f2e0dcdd4bbf">InlinerFunctionImportStats</a> != <a class="code" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">InlinerFunctionImportStatsOpts::No</a>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">ImportedFunctionsStats</a>.<a class="code" href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a776e5ef304e07acc5bbbf585443459a4">dump</a>(<a class="code" href="namespacellvm.html#aadbd3f8e31479a825eb9f2e0dcdd4bbf">InlinerFunctionImportStats</a> ==</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                <a class="code" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fad4a9fa383ab700c5bdd6f31cf7df0faf">InlinerFunctionImportStatsOpts::Verbose</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">removeDeadFunctions</a>(CG);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">/// Remove dead functions that are not included in DNR (Do Not Remove) list.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">  623</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">LegacyInlinerBase::removeDeadFunctions</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                            <span class="keywordtype">bool</span> AlwaysInlineOnly) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallGraphNode *, 16&gt;</a> FunctionsToRemove;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 16&gt;</a> DeadFunctionsInComdats;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">auto</span> RemoveCGN = [&amp;](<a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CGN) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// Remove any call graph edges from the function to its callees.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    CGN-&gt;removeAllCalledFunctions();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// Remove any edges from the external node to the function&#39;s call graph</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// node.  These edges might have been made irrelegant due to</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// optimization of the program.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    CG.<a class="code" href="classllvm_1_1CallGraph.html#ad465a8cadbe012420c658efdcb900705">getExternalCallingNode</a>()-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#ad2a5c5546a1d16403d77d2a437ab7dd6">removeAnyCallEdgeTo</a>(CGN);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">// Removing the node for callee from the call graph and delete it.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    FunctionsToRemove.push_back(CGN);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  };</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// Scan for all of the functions, looking for ones that should now be removed</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// from the program.  Insert the dead ones in the FunctionsToRemove set.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : CG) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CGN = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.get();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CGN-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#a72e7d072f1d49fde19de2329c05efe5b">getFunction</a>();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration())</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// Handle the case when this function is called and we only want to care</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// about always-inline functions. This is a bit of a hack to share code</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// between here and the InlineAlways pass.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (AlwaysInlineOnly &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasFnAttribute(Attribute::AlwaysInline))</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// If the only remaining users of the function are dead constants, remove</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// them.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;removeDeadConstantUsers();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDefTriviallyDead())</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// It is unsafe to drop a function with discardable linkage from a COMDAT</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// without also dropping the other members of the COMDAT.</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// The inliner doesn&#39;t visit non-function entities which are in COMDAT</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// groups so it is unsafe to do so *unless* the linkage is local.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage()) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasComdat()) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        DeadFunctionsInComdats.push_back(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    RemoveCGN(CGN);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span> (!DeadFunctionsInComdats.empty()) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// Filter out the functions whose comdats remain alive.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="namespacellvm.html#ad1d412633e05b10c6b4be309b010a13f">filterDeadComdatFunctions</a>(DeadFunctionsInComdats);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// Remove the rest.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : DeadFunctionsInComdats)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      RemoveCGN(CG[<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>]);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">if</span> (FunctionsToRemove.empty())</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// Now that we know which functions to delete, do so.  We didn&#39;t want to do</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// this inline, because that would invalidate our CallGraph::iterator</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">// objects. :(</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// Note that it doesn&#39;t matter that we are iterating over a non-stable order</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// here to do this, it doesn&#39;t matter which order the functions are deleted</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// in.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">array_pod_sort</a>(FunctionsToRemove.begin(), FunctionsToRemove.end());</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <a class="code" href="namespacellvm.html#a92be87f8a371f277f7260fb99592d5f4">std::unique</a>(FunctionsToRemove.begin(), FunctionsToRemove.end()),</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      FunctionsToRemove.end());</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CGN : FunctionsToRemove) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keyword">delete</span> CG.removeFunctionFromModule(CGN);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    ++NumDeleted;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<a class="code" href="classllvm_1_1InlineAdvisor.html">InlineAdvisor</a> &amp;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;InlinerPass::getAdvisor(<span class="keyword">const</span> <a class="code" href="classllvm_1_1OuterAnalysisManagerProxy_1_1Result.html">ModuleAnalysisManagerCGSCCProxy::Result</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>,</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">if</span> (OwnedAdvisor)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">return</span> *OwnedAdvisor;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keyword">auto</span> *IAA = <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">getCachedResult</a>&lt;<a class="code" href="classllvm_1_1InlineAdvisorAnalysis.html">InlineAdvisorAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (!IAA) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">// It should still be possible to run the inliner as a stand-alone SCC pass,</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// for test scenarios. In that case, we default to the</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// DefaultInlineAdvisor, which doesn&#39;t need to keep state between SCC pass</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// runs. It also uses just the default InlineParams.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// In this case, we need to use the provided FAM, which is valid for the</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// duration of the inliner pass, and thus the lifetime of the owned advisor.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// The one we would get from the MAM can be invalidated as a result of the</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// inliner&#39;s activity.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    OwnedAdvisor = std::make_unique&lt;DefaultInlineAdvisor&gt;(</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        M, <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>, <a class="code" href="namespacellvm.html#aba7063dea024346c7b70099c63703f50">getInlineParams</a>(),</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="structllvm_1_1InlineContext.html">InlineContext</a>{LTOPhase, <a class="code" href="namespacellvm.html#a051cd0cc5f9d159ee0960b13051e5939a183b8bf4eb650f78f82c0aad756b6d96">InlinePass::CGSCCInliner</a>});</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="Inliner_8cpp.html#a91bc852d822edde0684bf2b0bac9e4aa">CGSCCInlineReplayFile</a>.empty())</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      OwnedAdvisor = <a class="code" href="namespacellvm.html#a903adbd42316e51df3cda640d664aa65">getReplayInlineAdvisor</a>(</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          M, <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OwnedAdvisor),</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          <a class="code" href="structllvm_1_1ReplayInlinerSettings.html">ReplayInlinerSettings</a>{CGSCCInlineReplayFile,</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                                CGSCCInlineReplayScope,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                                CGSCCInlineReplayFallback,</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                {CGSCCInlineReplayFormat}},</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          <span class="comment">/*EmitRemarks=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          <a class="code" href="structllvm_1_1InlineContext.html">InlineContext</a>{LTOPhase,</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                              <a class="code" href="namespacellvm.html#a051cd0cc5f9d159ee0960b13051e5939ae0eb168d86226a345698d75f2fb852bb">InlinePass::ReplayCGSCCInliner</a>});</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">return</span> *OwnedAdvisor;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IAA-&gt;getAdvisor() &amp;&amp;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         <span class="stringliteral">&quot;Expected a present InlineAdvisorAnalysis also have an &quot;</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         <span class="stringliteral">&quot;InlineAdvisor initialized&quot;</span>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">return</span> *IAA-&gt;getAdvisor();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="classllvm_1_1InlinerPass.html#a78e09cea341cfdf58869920175c52d82">  743</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1InlinerPass.html#a78e09cea341cfdf58869920175c52d82">InlinerPass::run</a>(<a class="code" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> &amp;InitialC,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                                   <a class="code" href="classllvm_1_1AnalysisManager.html">CGSCCAnalysisManager</a> &amp;AM, <a class="code" href="classllvm_1_1LazyCallGraph.html">LazyCallGraph</a> &amp;CG,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                                   <a class="code" href="structllvm_1_1CGSCCUpdateResult.html">CGSCCUpdateResult</a> &amp;UR) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;MAMProxy =</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1OuterAnalysisManagerProxy.html">ModuleAnalysisManagerCGSCCProxy</a>&gt;(InitialC, CG);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InitialC.size() &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Cannot handle an empty SCC!&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *InitialC.begin()-&gt;getFunction().getParent();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI = MAMProxy.getCachedResult&lt;<a class="code" href="classllvm_1_1ProfileSummaryAnalysis.html">ProfileSummaryAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a> =</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">FunctionAnalysisManagerCGSCCProxy</a>&gt;(InitialC, CG)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;          .getManager();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="classllvm_1_1InlineAdvisor.html">InlineAdvisor</a> &amp;Advisor = getAdvisor(MAMProxy, <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  Advisor.<a class="code" href="classllvm_1_1InlineAdvisor.html#ab2cc3a8b2ee3d65fd980f63923fa2880">onPassEntry</a>(&amp;InitialC);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keyword">auto</span> AdvisorOnExit = <a class="code" href="namespacellvm.html#ab2e3dbebd68e69d77c227682fc8e3ba2">make_scope_exit</a>([&amp;] { Advisor.<a class="code" href="classllvm_1_1InlineAdvisor.html#adb8650aeef845449ba752a76a4237559">onPassExit</a>(&amp;InitialC); });</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// We use a single common worklist for calls across the entire SCC. We</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// process these in-order and append new calls introduced during inlining to</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// the end. The PriorityInlineOrder is optional here, in which the smaller</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="comment">// callee would have a higher priority to inline.</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// Note that this particular order of processing is actually critical to</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// avoid very bad behaviors. Consider *highly connected* call graphs where</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// each function contains a small amount of code and a couple of calls to</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// other functions. Because the LLVM inliner is fundamentally a bottom-up</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">// inliner, it can handle gracefully the fact that these all appear to be</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// reasonable inlining candidates as it will flatten things until they become</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// too big to inline, and then move on and flatten another batch.</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// However, when processing call edges *within* an SCC we cannot rely on this</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// bottom-up behavior. As a consequence, with heavily connected *SCCs* of</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">// functions we can end up incrementally inlining N calls into each of</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">// N functions because each incremental inlining decision looks good and we</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// don&#39;t have a topological ordering to prevent explosions.</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// To compensate for this, we don&#39;t process transitive edges made immediate</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// by inlining until we&#39;ve done one pass of inlining across the entire SCC.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// Large, highly connected SCCs still lead to some amount of code bloat in</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// this model, but it is uniformly spread across all the functions in the SCC</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// and eventually they all become too large to inline, rather than</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// incrementally maknig a single function grow in a super linear fashion.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;CallBase *, int&gt;</a>, 16&gt; Calls;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">// Populate the initial list of calls in this SCC.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : InitialC) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keyword">auto</span> &amp;ORE =</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">OptimizationRemarkEmitterAnalysis</a>&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getFunction());</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// We want to generally process call sites top-down in order for</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// simplifications stemming from replacing the call with the returned value</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// after inlining to be visible to subsequent inlining decisions.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// FIXME: Using instructions sequence is a really bad way to do this.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// Instead we should do an actual RPO walk of the function body.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getFunction()))</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration())</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            Calls.push_back({CB, -1});</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isa&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;unavailable definition&quot;</span>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            ORE.emit([&amp;]() {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code" href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NoDefinition&quot;</span>, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                     &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Callee&quot;</span>, <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &lt;&lt; <span class="stringliteral">&quot; will not be inlined into &quot;</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                     &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Caller&quot;</span>, CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>())</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot; because its definition is unavailable&quot;</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                     &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#ab5adf3028c08b7debe191e012cb91ad1">setIsVerbose</a>();</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            });</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;          }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">if</span> (Calls.empty())</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">// Capture updatable variable for the current SCC.</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = &amp;InitialC;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// When inlining a callee produces new call sites, we want to keep track of</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// the fact that they were inlined from the callee.  This allows us to avoid</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// infinite inlining in some obscure cases.  To represent this, we use an</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">// index into the InlineHistory vector.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Function *, int&gt;</a>, 16&gt; InlineHistory;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// Track a set vector of inlined callees so that we can augment the caller</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// with all of their edges in the call graph before pruning out the ones that</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// got simplified away.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Function *, 4&gt;</a> InlinedCallees;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">// Track the dead functions to delete once finished with inlining calls. We</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// defer deleting these to make it easier to handle the call graph updates.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 4&gt;</a> DeadFunctions;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// Track potentially dead non-local functions with comdats to see if they can</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// be deleted as a batch after inlining.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 4&gt;</a> DeadFunctionsInComdats;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// Loop forward over all of the calls. Note that we cannot cache the size as</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// inlining can introduce new calls that need to be processed.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)Calls.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// We expect the calls to typically be batched with sequences of calls that</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">// have the same caller, so we first set up some shared infrastructure for</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="comment">// this caller. We also do any pruning we can at this layer on the caller</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// alone.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = *Calls[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].first-&gt;getCaller();</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="classllvm_1_1LazyCallGraph_1_1Node.html">LazyCallGraph::Node</a> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = *CG.lookup(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (CG.lookupSCC(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) != <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inlining calls in: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;    Function size: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getInstructionCount()</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keyword">auto</span> GetAssumptionCache = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp; {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    };</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">// Now process as many calls as we have within this caller in the sequence.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">// We bail out as soon as the caller has to change so we can update the</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// call graph and prepare the context of that new caller.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordtype">bool</span> DidInline = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)Calls.size() &amp;&amp; Calls[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].first-&gt;getCaller() == &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Calls[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> InlineHistoryID = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = *CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keywordflow">if</span> (InlineHistoryID != -1 &amp;&amp;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;          <a class="code" href="Inliner_8cpp.html#aa50d9479d33af430ddc4725552d7efdf">inlineHistoryIncludes</a>(&amp;Callee, InlineHistoryID, InlineHistory)) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Skipping inlining due to history: &quot;</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                          &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;recursive&quot;</span>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="comment">// Check if this inlining may repeat breaking an SCC apart that has</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="comment">// already been split once before. In that case, inlining here may</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="comment">// trigger infinite inlining, much like is prevented within the inliner</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="comment">// itself by the InlineHistory above, but spread across CGSCC iterations</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="comment">// and thus hidden from the full inline history.</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <a class="code" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> *CalleeSCC = CG.lookupSCC(*CG.lookup(Callee));</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (CalleeSCC == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; UR.InlinedInternalEdges.count({&amp;N, C})) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Skipping inlining internal SCC edge from a node &quot;</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                             <span class="stringliteral">&quot;previously split out of this SCC by inlining: &quot;</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                          &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;recursive SCC split&quot;</span>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      std::unique_ptr&lt;InlineAdvice&gt; Advice =</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          Advisor.getAdvice(*CB, OnlyMandatory);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="comment">// Check whether we want to inline this callsite.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span> (!Advice)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">if</span> (!Advice-&gt;isInliningRecommended()) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        Advice-&gt;recordUnattemptedInlining();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordtype">int</span> CBCostMult =</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          <a class="code" href="namespacellvm.html#a24380444e7b6b5af3e742282c87d4219">getStringFnAttrAsInt</a>(</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;              *CB, <a class="code" href="namespacellvm_1_1InlineConstants.html#a3291338e19fa837f7b98305025a7d6c5">InlineConstants::FunctionInlineCostMultiplierAttributeName</a>)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;              .value_or(1);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="comment">// Setup the data structure used to plumb customization into the</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">// `InlineFunction` routine.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> IFI(</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;          <span class="comment">/*cg=*/</span><span class="keyword">nullptr</span>, GetAssumptionCache, PSI,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;          &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1BlockFrequencyAnalysis.html">BlockFrequencyAnalysis</a>&gt;(*(CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>())),</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1BlockFrequencyAnalysis.html">BlockFrequencyAnalysis</a>&gt;(Callee));</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <a class="code" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a> =</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;          <a class="code" href="namespacellvm.html#ab5a3ac0a249da0743dac1bd816d8e5d5">InlineFunction</a>(*CB, IFI, <span class="comment">/*MergeAttributes=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                         &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(*CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>()));</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.isSuccess()) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        Advice-&gt;recordUnsuccessfulInlining(<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      DidInline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      InlinedCallees.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(&amp;Callee);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      ++NumInlined;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    Size after inlining: &quot;</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getInstructionCount() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="comment">// Add any new callsites to defined functions to the worklist.</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="keywordflow">if</span> (!IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#afee77c39305987451e9495b749863d07">InlinedCallSites</a>.empty()) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordtype">int</span> NewHistoryID = InlineHistory.size();</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        InlineHistory.push_back({&amp;<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, InlineHistoryID});</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *ICB : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#afee77c39305987451e9495b749863d07">InlinedCallSites</a>)) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;          <a class="code" href="classllvm_1_1Function.html">Function</a> *NewCallee = ICB-&gt;getCalledFunction();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(NewCallee &amp;&amp; NewCallee-&gt;<a class="code" href="classllvm_1_1Function.html#a900a32da3983469187b1848189681705">isIntrinsic</a>()) &amp;&amp;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                 <span class="stringliteral">&quot;Intrinsic calls should not be tracked.&quot;</span>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;          <span class="keywordflow">if</span> (!NewCallee) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="comment">// Try to promote an indirect (virtual) call without waiting for</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="comment">// the post-inline cleanup and the next DevirtSCCRepeatedPass</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <span class="comment">// iteration because the next iteration may not happen and we may</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="comment">// miss inlining it.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad3219f7b717320ae52f53ccb09ad5a84">tryPromoteCall</a>(*ICB))</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;              NewCallee = ICB-&gt;getCalledFunction();</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;          }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;          <span class="keywordflow">if</span> (NewCallee) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">if</span> (!NewCallee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">isDeclaration</a>()) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;              Calls.push_back({ICB, NewHistoryID});</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;              <span class="comment">// Continually inlining through an SCC can result in huge compile</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;              <span class="comment">// times and bloated code since we arbitrarily stop at some point</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;              <span class="comment">// when the inliner decides it&#39;s not profitable to inline anymore.</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;              <span class="comment">// We attempt to mitigate this by making these calls exponentially</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;              <span class="comment">// more expensive.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;              <span class="comment">// This doesn&#39;t apply to calls in the same SCC since if we do</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;              <span class="comment">// inline through the SCC the function will end up being</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;              <span class="comment">// self-recursive which the inliner bails out on, and inlining</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;              <span class="comment">// within an SCC is necessary for performance.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;              <span class="keywordflow">if</span> (CalleeSCC != <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                  CalleeSCC == CG.lookupSCC(CG.get(*NewCallee))) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <a class="code" href="classllvm_1_1Attribute.html">Attribute</a> NewCBCostMult = <a class="code" href="classllvm_1_1Attribute.html#a43708098bd7085788a680fd02f47c750">Attribute::get</a>(</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(),</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <a class="code" href="namespacellvm_1_1InlineConstants.html#a3291338e19fa837f7b98305025a7d6c5">InlineConstants::FunctionInlineCostMultiplierAttributeName</a>,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    itostr(CBCostMult * <a class="code" href="Inliner_8cpp.html#a8c581c6c12cf14ab0a9a13588ff80c5a">IntraSCCCostMultiplier</a>));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                ICB-&gt;addFnAttr(NewCBCostMult);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;              }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="comment">// For local functions or discardable functions without comdats, check</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="comment">// whether this makes the callee trivially dead. In that case, we can drop</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="comment">// the body of the function eagerly which may reduce the number of callers</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="comment">// of other functions to one, changing inline cost thresholds. Non-local</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="comment">// discardable functions with comdats are checked later on.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordtype">bool</span> CalleeWasDeleted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.isDiscardableIfUnused() &amp;&amp; <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.hasZeroLiveUses() &amp;&amp;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          !CG.isLibFunction(Callee)) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.hasLocalLinkage() || !<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.hasComdat()) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          Calls.erase(</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;              <a class="code" href="namespacellvm.html#a9ec2517b6489e71067be03afebb4d350">std::remove_if</a>(Calls.begin() + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1, Calls.end(),</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                             [&amp;](<span class="keyword">const</span> std::pair&lt;CallBase *, int&gt; &amp;Call) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                               return Call.first-&gt;getCaller() == &amp;Callee;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                             }),</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;              Calls.end());</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          <span class="comment">// Clear the body and queue the function itself for deletion when we</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;          <span class="comment">// finish inlining and call graph updates.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          <span class="comment">// Note that after this point, it is an error to do anything other</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          <span class="comment">// than use the callee&#39;s address or delete it.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;          <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.dropAllReferences();</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(DeadFunctions, &amp;Callee) &amp;&amp;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                 <span class="stringliteral">&quot;Cannot put cause a function to become dead twice!&quot;</span>);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          DeadFunctions.push_back(&amp;Callee);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;          CalleeWasDeleted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          DeadFunctionsInComdats.push_back(&amp;Callee);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">if</span> (CalleeWasDeleted)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        Advice-&gt;recordInliningWithCalleeDeleted();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        Advice-&gt;recordInlining();</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// Back the call index up by one to put us in a good position to go around</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// the outer loop.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (!DidInline)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// At this point, since we have made changes we have at least removed</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="comment">// a call instruction. However, in the process we do some incremental</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// simplification of the surrounding code. This simplification can</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="comment">// essentially do all of the same things as a function pass and we can</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">// re-use the exact same logic for updating the call graph to reflect the</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="comment">// change.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">// Inside the update, we also update the FunctionAnalysisManager in the</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="comment">// proxy for this particular SCC. We do this as the SCC may have changed and</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="comment">// as we&#39;re going to mutate this particular function we want to make sure</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">// the proxy is in place to forward any invalidation events.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> *OldC = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = &amp;<a class="code" href="namespacellvm.html#a2e739fb4907159062aacbbafea669592">updateCGAndAnalysisManagerForCGSCCPass</a>(CG, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AM, UR, <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Updated inlining SCC: &quot;</span> &lt;&lt; *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">// If this causes an SCC to split apart into multiple smaller SCCs, there</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// is a subtle risk we need to prepare for. Other transformations may</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">// expose an &quot;infinite inlining&quot; opportunity later, and because of the SCC</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="comment">// mutation, we will revisit this function and potentially re-inline. If we</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">// do, and that re-inlining also has the potentially to mutate the SCC</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// structure, the infinite inlining problem can manifest through infinite</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="comment">// SCC splits and merges. To avoid this, we capture the originating caller</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="comment">// node and the SCC containing the call edge. This is a slight over</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">// approximation of the possible inlining decisions that must be avoided,</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// but is relatively efficient to store. We use C != OldC to know when</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">// a new SCC is generated and the original SCC may be generated via merge</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">// in later iterations.</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// It is also possible that even if no new SCC is generated</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// (i.e., C == OldC), the original SCC could be split and then merged</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">// into the same one as itself. and the original SCC will be added into</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">// UR.CWorklist again, we want to catch such cases too.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="comment">// FIXME: This seems like a very heavyweight way of retaining the inline</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="comment">// history, we should look for a more efficient way of tracking it.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> != OldC || UR.CWorklist.count(OldC)) &amp;&amp;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(InlinedCallees, [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;          return CG.lookupSCC(*CG.lookup(*Callee)) == OldC;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        })) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inlined an internal call edge and split an SCC, &quot;</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                           <span class="stringliteral">&quot;retaining this to avoid infinite inlining.\n&quot;</span>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      UR.InlinedInternalEdges.insert({&amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, OldC});</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    InlinedCallees.<a class="code" href="classllvm_1_1SetVector.html#a96bda22e654a59fec0620767b56dd53f">clear</a>();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="comment">// Invalidate analyses for this function now so that we don&#39;t have to</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="comment">// invalidate analyses for all functions in this SCC later.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#a64b2a209a16bcd41375b5cae12690eaa">invalidate</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>());</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">// We must ensure that we only delete functions with comdats if every function</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="comment">// in the comdat is going to be deleted.</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">if</span> (!DeadFunctionsInComdats.empty()) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <a class="code" href="namespacellvm.html#ad1d412633e05b10c6b4be309b010a13f">filterDeadComdatFunctions</a>(DeadFunctionsInComdats);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Callee : DeadFunctionsInComdats)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;dropAllReferences();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    DeadFunctions.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(DeadFunctionsInComdats);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// Now that we&#39;ve finished inlining all of the calls across this SCC, delete</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// all of the trivially dead functions, updating the call graph and the CGSCC</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// pass manager in the process.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="comment">// Note that this walks a pointer set which has non-deterministic order but</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">// that is OK as all we do is delete things and add pointers to unordered</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// sets.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *DeadF : DeadFunctions) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// Get the necessary information out of the call graph and nuke the</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// function there. Also, clear out any cached analyses.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keyword">auto</span> &amp;DeadC = *CG.lookupSCC(*CG.lookup(*DeadF));</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#a4926331431f03253ee3ec8e6e3bb9d1c">clear</a>(*DeadF, DeadF-&gt;getName());</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    AM.clear(DeadC, DeadC.getName());</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keyword">auto</span> &amp;DeadRC = DeadC.getOuterRefSCC();</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    CG.removeDeadFunction(*DeadF);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// Mark the relevant parts of the call graph as invalid so we don&#39;t visit</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">// them.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    UR.InvalidatedSCCs.insert(&amp;DeadC);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    UR.InvalidatedRefSCCs.insert(&amp;DeadRC);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">// If the updated SCC was the one containing the deleted function, clear it.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> (&amp;DeadC == UR.UpdatedC)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      UR.UpdatedC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// And delete the actual function from the module.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunctionList().erase(DeadF);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    ++NumDeleted;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keywordflow">if</span> (!Changed)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="comment">// Even if we change the IR, we update the core CGSCC data structures and so</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// can preserve the proxy to the function analysis manager.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">FunctionAnalysisManagerCGSCCProxy</a>&gt;();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">// We have already invalidated all analyses on modified functions.</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">preserveSet</a>&lt;<a class="code" href="classllvm_1_1AllAnalysesOn.html">AllAnalysesOn&lt;Function&gt;</a>&gt;();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="classllvm_1_1ModuleInlinerWrapperPass.html#aff89291a71c595f474b9fc7c99860170"> 1120</a></span>&#160;<a class="code" href="classllvm_1_1ModuleInlinerWrapperPass.html#aff89291a71c595f474b9fc7c99860170">ModuleInlinerWrapperPass::ModuleInlinerWrapperPass</a>(<a class="code" href="structllvm_1_1InlineParams.html">InlineParams</a> Params,</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                                   <span class="keywordtype">bool</span> MandatoryFirst,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                                   <a class="code" href="structllvm_1_1InlineContext.html">InlineContext</a> IC,</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                                                   <a class="code" href="namespacellvm.html#a239c4ac35d6028bfacaed4018d0488fa">InliningAdvisorMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>,</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                                                   <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">MaxDevirtIterations</a>)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    : Params(Params), IC(IC), <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>),</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <a class="code" href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">MaxDevirtIterations</a>(<a class="code" href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">MaxDevirtIterations</a>) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// Run the inliner first. The theory is that we are walking bottom-up and so</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// the callees have already been fully optimized, and we want to inline them</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">// into the callers so that our optimizations can reflect that.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// For PreLinkThinLTO pass, we disable hot-caller heuristic for sample PGO</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// because it makes profile annotation in the backend inaccurate.</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">if</span> (MandatoryFirst) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    PM.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="classllvm_1_1InlinerPass.html">InlinerPass</a>(<span class="comment">/*OnlyMandatory*/</span> <span class="keyword">true</span>));</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Inliner_8cpp.html#ae592dfe1eda680adc39ebcb2d7745695">EnablePostSCCAdvisorPrinting</a>)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      PM.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="classllvm_1_1InlineAdvisorAnalysisPrinterPass.html">InlineAdvisorAnalysisPrinterPass</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  PM.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="classllvm_1_1InlinerPass.html">InlinerPass</a>());</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Inliner_8cpp.html#ae592dfe1eda680adc39ebcb2d7745695">EnablePostSCCAdvisorPrinting</a>)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    PM.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="classllvm_1_1InlineAdvisorAnalysisPrinterPass.html">InlineAdvisorAnalysisPrinterPass</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;}</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="classllvm_1_1ModuleInlinerWrapperPass.html#a302bbe2963bced6cb8460b94f89dd0be"> 1142</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1ModuleInlinerWrapperPass.html#a302bbe2963bced6cb8460b94f89dd0be">ModuleInlinerWrapperPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                                                <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keyword">auto</span> &amp;IAA = <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1InlineAdvisorAnalysis.html">InlineAdvisorAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">if</span> (!IAA.tryCreate(Params, Mode,</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                     {CGSCCInlineReplayFile,</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                      CGSCCInlineReplayScope,</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                      CGSCCInlineReplayFallback,</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                      {CGSCCInlineReplayFormat}},</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                     IC)) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext().emitError(</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="stringliteral">&quot;Could not setup Inlining Advisor for the requested &quot;</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="stringliteral">&quot;mode and/or options&quot;</span>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">// We wrap the CGSCC pipeline in a devirtualization repeater. This will try</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// to detect when we devirtualize indirect calls and iterate the SCC passes</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// in that case to try and catch knock-on inlining or function attrs</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// opportunities. Then we add it to the module pipeline by walking the SCCs</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">// in postorder (or bottom-up).</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// If MaxDevirtIterations is 0, we just don&#39;t use the devirtualization</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// wrapper.</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">MaxDevirtIterations</a> == 0)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="PassBuilderBindings_8cpp.html#a5885fb8238965a2e7e7aba7b6f66f7ba">MPM</a>.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="namespacellvm.html#a6383dc1a150ac7cd92979a80681a71af">createModuleToPostOrderCGSCCPassAdaptor</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(PM)));</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="PassBuilderBindings_8cpp.html#a5885fb8238965a2e7e7aba7b6f66f7ba">MPM</a>.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="namespacellvm.html#a6383dc1a150ac7cd92979a80681a71af">createModuleToPostOrderCGSCCPassAdaptor</a>(</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <a class="code" href="namespacellvm.html#a25b137b7a84a86c1b251aad9b8310525">createDevirtSCCRepeatedPass</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(PM), <a class="code" href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">MaxDevirtIterations</a>)));</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="PassBuilderBindings_8cpp.html#a5885fb8238965a2e7e7aba7b6f66f7ba">MPM</a>.<a class="code" href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">addPass</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(AfterCGMPM));</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="PassBuilderBindings_8cpp.html#a5885fb8238965a2e7e7aba7b6f66f7ba">MPM</a>.<a class="code" href="classllvm_1_1PassManager.html#aef5d9142acafceffd14c76b8ddd0fd4e">run</a>(M, <a class="code" href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// Discard the InlineAdvisor, a subsequent inlining session should construct</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// its own.</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keyword">auto</span> PA = <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Inliner_8cpp.html#a33626143f63f8ff6718975dda747e343">KeepAdvisorForPrinting</a>)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    PA.abandon&lt;<a class="code" href="classllvm_1_1InlineAdvisorAnalysis.html">InlineAdvisorAnalysis</a>&gt;();</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="classllvm_1_1InlinerPass.html#a22a5236247032aa0edf86322b77a7fbd"> 1181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1InlinerPass.html#a22a5236247032aa0edf86322b77a7fbd">InlinerPass::printPipeline</a>(</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; MapClassName2PassName) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="structllvm_1_1PassInfoMixin.html">PassInfoMixin&lt;InlinerPass&gt;</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1InlinerPass.html#a22a5236247032aa0edf86322b77a7fbd">printPipeline</a>(</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, MapClassName2PassName);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">if</span> (OnlyMandatory)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;&lt;only-mandatory&gt;&quot;</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="classllvm_1_1ModuleInlinerWrapperPass.html#ab518c48fbbea8ebc75e5d48c3291b6d5"> 1189</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ModuleInlinerWrapperPass.html#ab518c48fbbea8ebc75e5d48c3291b6d5">ModuleInlinerWrapperPass::printPipeline</a>(</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; MapClassName2PassName) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">// Print some info about passes added to the wrapper. This is however</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="comment">// incomplete as InlineAdvisorAnalysis part isn&#39;t included (which also depends</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="comment">// on Params and Mode).</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (!MPM.<a class="code" href="classllvm_1_1PassManager.html#afdd422a60efda415b943a1c35dcd7de2">isEmpty</a>()) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    MPM.<a class="code" href="classllvm_1_1PassManager.html#a155889188eb0c299a1b2c69930bc9e2b">printPipeline</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, MapClassName2PassName);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;cgscc(&quot;</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">if</span> (MaxDevirtIterations != 0)</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;devirt&lt;&quot;</span> &lt;&lt; MaxDevirtIterations &lt;&lt; <span class="stringliteral">&quot;&gt;(&quot;</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  PM.<a class="code" href="classllvm_1_1PassManager.html#a155889188eb0c299a1b2c69930bc9e2b">printPipeline</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, MapClassName2PassName);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">MaxDevirtIterations</a> != 0)</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1CallGraphNode_html_ad2a5c5546a1d16403d77d2a437ab7dd6"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#ad2a5c5546a1d16403d77d2a437ab7dd6">llvm::CallGraphNode::removeAnyCallEdgeTo</a></div><div class="ttdeci">void removeAnyCallEdgeTo(CallGraphNode *Callee)</div><div class="ttdoc">Removes all call edges from this node to the specified callee function.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8cpp_source.html#l00229">CallGraph.cpp:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisor_html_ab2cc3a8b2ee3d65fd980f63923fa2880"><div class="ttname"><a href="classllvm_1_1InlineAdvisor.html#ab2cc3a8b2ee3d65fd980f63923fa2880">llvm::InlineAdvisor::onPassEntry</a></div><div class="ttdeci">virtual void onPassEntry(LazyCallGraph::SCC *SCC=nullptr)</div><div class="ttdoc">This must be called when the Inliner pass is entered, to allow the InlineAdvisor update internal stat...</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00186">InlineAdvisor.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1OuterAnalysisManagerProxy_html"><div class="ttname"><a href="classllvm_1_1OuterAnalysisManagerProxy.html">llvm::OuterAnalysisManagerProxy</a></div><div class="ttdoc">An analysis over an &quot;inner&quot; IR unit that provides access to an analysis manager over a &quot;outer&quot; IR uni...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l01056">PassManager.h:1056</a></div></div>
<div class="ttc" id="anamespacellvm_html_add1eb5637dd671428b6f138ed3db6428"><div class="ttname"><a href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">llvm::array_pod_sort</a></div><div class="ttdeci">void array_pod_sort(IteratorTy Start, IteratorTy End)</div><div class="ttdoc">array_pod_sort - This sorts an array with the specified start and end extent.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01643">STLExtras.h:1643</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkMissed_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkMissed.html">llvm::OptimizationRemarkMissed</a></div><div class="ttdoc">Diagnostic information for missed-optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00734">DiagnosticInfo.h:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a900a32da3983469187b1848189681705"><div class="ttname"><a href="classllvm_1_1Function.html#a900a32da3983469187b1848189681705">llvm::Function::isIntrinsic</a></div><div class="ttdeci">bool isIntrinsic() const</div><div class="ttdoc">isIntrinsic - Returns true if the function's name starts with &quot;llvm.&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00209">Function.h:209</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a563ffc2ff61c499b3be2e00100cb72fa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(const_iterator CI)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00741">SmallVector.h:741</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraph_html_ad465a8cadbe012420c658efdcb900705"><div class="ttname"><a href="classllvm_1_1CallGraph.html#ad465a8cadbe012420c658efdcb900705">llvm::CallGraph::getExternalCallingNode</a></div><div class="ttdeci">CallGraphNode * getExternalCallingNode() const</div><div class="ttdoc">Returns the CallGraphNode which is used to represent undetermined calls into the callgraph.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00127">CallGraph.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html_afdd422a60efda415b943a1c35dcd7de2"><div class="ttname"><a href="classllvm_1_1PassManager.html#afdd422a60efda415b943a1c35dcd7de2">llvm::PassManager::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns if the pass manager contains any passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00568">PassManager.h:568</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a6fbb9f30a9224cbd7cb15dd5cb0ac688"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a6fbb9f30a9224cbd7cb15dd5cb0ac688">llvm::LegacyInlinerBase::getInlineCost</a></div><div class="ttdeci">virtual InlineCost getInlineCost(CallBase &amp;CB)=0</div><div class="ttdoc">This method must be implemented by the subclass to determine the cost of inlining the specified call ...</div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_a42438d0a43720a6571c9138224481754"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a42438d0a43720a6571c9138224481754">llvm::AllocaInst::getAlign</a></div><div class="ttdeci">Align getAlign() const</div><div class="ttdoc">Return the alignment of the memory that is being allocated by the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00125">Instructions.h:125</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aInliner_8h_html"><div class="ttname"><a href="Inliner_8h.html">Inliner.h</a></div></div>
<div class="ttc" id="astructllvm_1_1PassInfoMixin_html"><div class="ttname"><a href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin&lt; InlinerPass &gt;</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html"><div class="ttname"><a href="classllvm_1_1Attribute.html">llvm::Attribute</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00067">Attributes.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a64b2a209a16bcd41375b5cae12690eaa"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a64b2a209a16bcd41375b5cae12690eaa">llvm::AnalysisManager::invalidate</a></div><div class="ttdeci">void invalidate(IRUnitT &amp;IR, const PreservedAnalyses &amp;PA)</div><div class="ttdoc">Invalidate cached analyses for an IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManagerImpl_8h_source.html#l00089">PassManagerImpl.h:89</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html_a9cdc38f1f445362d468e64891e5a9b95"><div class="ttname"><a href="classllvm_1_1PassManager.html#a9cdc38f1f445362d468e64891e5a9b95">llvm::PassManager::addPass</a></div><div class="ttdeci">LLVM_ATTRIBUTE_MINSIZE std::enable_if_t&lt;!std::is_same&lt; PassT, PassManager &gt;::value &gt; addPass(PassT &amp;&amp;Pass)</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00544">PassManager.h:544</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_ae4e0895513cfff8061b90ea3b2315be3"><div class="ttname"><a href="Inliner_8cpp.html#ae4e0895513cfff8061b90ea3b2315be3">DisableInlinedAllocaMerging</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableInlinedAllocaMerging(&quot;disable-inlined-alloca-merging&quot;, cl::init(false), cl::Hidden)</div><div class="ttdoc">Flag to disable manual alloca merging.</div></div>
<div class="ttc" id="anamespacellvm_html_adacba4cb06d1dd9232ee3d2d49a44d8fad4a9fa383ab700c5bdd6f31cf7df0faf"><div class="ttname"><a href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fad4a9fa383ab700c5bdd6f31cf7df0faf">llvm::InlinerFunctionImportStatsOpts::Verbose</a></div><div class="ttdeci">@ Verbose</div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a43708098bd7085788a680fd02f47c750"><div class="ttname"><a href="classllvm_1_1Attribute.html#a43708098bd7085788a680fd02f47c750">llvm::Attribute::get</a></div><div class="ttdeci">static Attribute get(LLVMContext &amp;Context, AttrKind Kind, uint64_t Val=0)</div><div class="ttdoc">Return a uniquified Attribute object.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00091">Attributes.cpp:91</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab5a3ac0a249da0743dac1bd816d8e5d5"><div class="ttname"><a href="namespacellvm.html#ab5a3ac0a249da0743dac1bd816d8e5d5">llvm::InlineFunction</a></div><div class="ttdeci">InlineResult InlineFunction(CallBase &amp;CB, InlineFunctionInfo &amp;IFI, bool MergeAttributes=false, AAResults *CalleeAAR=nullptr, bool InsertLifetime=true, Function *ForwardVarArgsTo=nullptr)</div><div class="ttdoc">This function inlines the called function into the basic block of the caller.</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l02008">InlineFunction.cpp:2008</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ab3786fe5854f2e264beecacc4abac4ea"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">llvm::LegacyInlinerBase::inlineCalls</a></div><div class="ttdeci">bool inlineCalls(CallGraphSCC &amp;SCC)</div><div class="ttdoc">This function performs the main work of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00597">Inliner.cpp:597</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a9e4999207cf9e82c0ccc74d2a6040c15"><div class="ttname"><a href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">mergeInlinedArrayAllocas</a></div><div class="ttdeci">static void mergeInlinedArrayAllocas(Function *Caller, InlineFunctionInfo &amp;IFI, InlinedArrayAllocasTy &amp;InlinedArrayAllocas, int InlineHistory)</div><div class="ttdoc">Look at all of the allocas that we inlined through this call site.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00204">Inliner.cpp:204</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab0a4c9149b6ab7ed8c1bd84f128ab516"><div class="ttname"><a href="namespacellvm.html#ab0a4c9149b6ab7ed8c1bd84f128ab516">llvm::shouldInline</a></div><div class="ttdeci">std::optional&lt; InlineCost &gt; shouldInline(CallBase &amp;CB, function_ref&lt; InlineCost(CallBase &amp;CB)&gt; GetInlineCost, OptimizationRemarkEmitter &amp;ORE, bool EnableDeferral=true)</div><div class="ttdoc">Return the cost only if the inliner should attempt to inline at the given CallSite.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8cpp_source.html#l00375">InlineAdvisor.cpp:375</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a13df8a77f64fc43be8afe715118fdc91"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a13df8a77f64fc43be8afe715118fdc91">llvm::LegacyInlinerBase::GetTLI</a></div><div class="ttdeci">std::function&lt; const TargetLibraryInfo &amp;(Function &amp;)&gt; GetTLI</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8h_source.html#l00078">Inliner.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html">llvm::ImportedFunctionsInliningStatistics</a></div><div class="ttdoc">Calculate and dump ThinLTO specific inliner stats.</div><div class="ttdef"><b>Definition:</b> <a href="ImportedFunctionsInliningStatistics_8h_source.html#l00044">ImportedFunctionsInliningStatistics.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllAnalysesOn_html"><div class="ttname"><a href="classllvm_1_1AllAnalysesOn.html">llvm::AllAnalysesOn</a></div><div class="ttdoc">This templated class represents &quot;all analyses that operate over &lt;a particular IR unit&gt;&quot; (e....</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00090">PassManager.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html_a00fe0b2043a8218ede17ada91d286272"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a00fe0b2043a8218ede17ada91d286272">llvm::ImportedFunctionsInliningStatistics::setModuleInfo</a></div><div class="ttdeci">void setModuleInfo(const Module &amp;M)</div><div class="ttdoc">Set information like AllFunctions, ImportedFunctions, ModuleName.</div><div class="ttdef"><b>Definition:</b> <a href="ImportedFunctionsInliningStatistics_8cpp_source.html#l00075">ImportedFunctionsInliningStatistics.cpp:75</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraph_html"><div class="ttname"><a href="classllvm_1_1CallGraph.html">llvm::CallGraph</a></div><div class="ttdoc">The basic data container for the call graph of a Module of IR.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00072">CallGraph.h:72</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a8c581c6c12cf14ab0a9a13588ff80c5a"><div class="ttname"><a href="Inliner_8cpp.html#a8c581c6c12cf14ab0a9a13588ff80c5a">IntraSCCCostMultiplier</a></div><div class="ttdeci">static cl::opt&lt; int &gt; IntraSCCCostMultiplier(&quot;intra-scc-cost-multiplier&quot;, cl::init(2), cl::Hidden, cl::desc(&quot;Cost multiplier to multiply onto inlined call sites where the &quot; &quot;new call was previously an intra-SCC call (not relevant when the &quot; &quot;original call was already intra-SCC). This can accumulate over &quot; &quot;multiple inlinings (e.g. if a call site already had a cost &quot; &quot;multiplier and one of its inlined calls was also subject to &quot; &quot;this, the inlined call would have the original multiplier &quot; &quot;multiplied by intra-scc-cost-multiplier). This is to prevent tons of &quot; &quot;inlining through a child SCC which can cause terrible compile times&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a83035d5c2bb6a64f3c35b716a994b586"><div class="ttname"><a href="namespacellvm.html#a83035d5c2bb6a64f3c35b716a994b586">llvm::emitInlinedIntoBasedOnCost</a></div><div class="ttdeci">void emitInlinedIntoBasedOnCost(OptimizationRemarkEmitter &amp;ORE, DebugLoc DLoc, const BasicBlock *Block, const Function &amp;Callee, const Function &amp;Caller, const InlineCost &amp;IC, bool ForProfileContext=false, const char *PassName=nullptr)</div><div class="ttdoc">Emit ORE message based in cost (default heuristic).</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8cpp_source.html#l00507">InlineAdvisor.cpp:507</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_ae592dfe1eda680adc39ebcb2d7745695"><div class="ttname"><a href="Inliner_8cpp.html#ae592dfe1eda680adc39ebcb2d7745695">EnablePostSCCAdvisorPrinting</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnablePostSCCAdvisorPrinting(&quot;enable-scc-inline-advisor-printing&quot;, cl::init(false), cl::Hidden)</div><div class="ttdoc">Allows printing the contents of the advisor after each SCC inliner pass.</div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html_a155889188eb0c299a1b2c69930bc9e2b"><div class="ttname"><a href="classllvm_1_1PassManager.html#a155889188eb0c299a1b2c69930bc9e2b">llvm::PassManager::printPipeline</a></div><div class="ttdeci">void printPipeline(raw_ostream &amp;OS, function_ref&lt; StringRef(StringRef)&gt; MapClassName2PassName)</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00486">PassManager.h:486</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineParams_html"><div class="ttname"><a href="structllvm_1_1InlineParams.html">llvm::InlineParams</a></div><div class="ttdoc">Thresholds to tune inline cost analysis.</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00205">InlineCost.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1InlineConstants_html_a3291338e19fa837f7b98305025a7d6c5"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#a3291338e19fa837f7b98305025a7d6c5">llvm::InlineConstants::FunctionInlineCostMultiplierAttributeName</a></div><div class="ttdeci">const char FunctionInlineCostMultiplierAttributeName[]</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00059">InlineCost.h:59</a></div></div>
<div class="ttc" id="astructllvm_1_1CallSiteFormat_html_afd04e6f91cb72fa5dd456253fd595689aec257ab201ab2c5c1a5239c58ebaaed7"><div class="ttname"><a href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689aec257ab201ab2c5c1a5239c58ebaaed7">llvm::CallSiteFormat::Format::LineDiscriminator</a></div><div class="ttdeci">@ LineDiscriminator</div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdoc">Class to represent array types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00357">DerivedTypes.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8h_html"><div class="ttname"><a href="BasicAliasAnalysis_8h.html">BasicAliasAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="astructllvm_1_1ReplayInlinerSettings_html_a49a0d94e62049ec7cf29edc327856d0da0a52da7a03a6de3beefe54f8c03ad80d"><div class="ttname"><a href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0da0a52da7a03a6de3beefe54f8c03ad80d">llvm::ReplayInlinerSettings::Fallback::Original</a></div><div class="ttdeci">@ Original</div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac08ed1ec3e6d465de23a2a6100d5df38"><div class="ttname"><a href="namespacellvm.html#ac08ed1ec3e6d465de23a2a6100d5df38">llvm::getAAResultsAnalysisUsage</a></div><div class="ttdeci">void getAAResultsAnalysisUsage(AnalysisUsage &amp;AU)</div><div class="ttdoc">A helper for the legacy pass manager to populate AU to add uses to make sure the analyses required by...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00939">AliasAnalysis.cpp:939</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a6fa5720081fc61d2458e38f05aaad4b7"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">llvm::LegacyInlinerBase::LegacyInlinerBase</a></div><div class="ttdeci">LegacyInlinerBase(char &amp;ID)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00166">Inliner.cpp:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisorAnalysisPrinterPass_html"><div class="ttname"><a href="classllvm_1_1InlineAdvisorAnalysisPrinterPass.html">llvm::InlineAdvisorAnalysisPrinterPass</a></div><div class="ttdoc">Printer pass for the FunctionPropertiesAnalysis results.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00346">InlineAdvisor.h:346</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aPriorityWorklist_8h_html"><div class="ttname"><a href="PriorityWorklist_8h.html">PriorityWorklist.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9ec2517b6489e71067be03afebb4d350"><div class="ttname"><a href="namespacellvm.html#a9ec2517b6489e71067be03afebb4d350">llvm::remove_if</a></div><div class="ttdeci">auto remove_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::remove_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01774">STLExtras.h:1774</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aImportedFunctionsInliningStatistics_8h_html"><div class="ttname"><a href="ImportedFunctionsInliningStatistics_8h.html">ImportedFunctionsInliningStatistics.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b"><div class="ttname"><a href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">llvm::InlinerFunctionImportStatsOpts::No</a></div><div class="ttdeci">@ No</div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCC_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html">llvm::CallGraphSCC</a></div><div class="ttdoc">CallGraphSCC - This is a single SCC that a CallGraphSCCPass is run on.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00087">CallGraphSCCPass.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1SCC_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1SCC.html">llvm::LazyCallGraph::SCC</a></div><div class="ttdoc">An SCC of the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00419">LazyCallGraph.h:419</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a32e606ac4c88f71f14212e42b808e7f4"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const</div><div class="ttdoc">Return true if the primary definition of this global value is outside of the current translation unit...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00275">Globals.cpp:275</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisor_html_adb8650aeef845449ba752a76a4237559"><div class="ttname"><a href="classllvm_1_1InlineAdvisor.html#adb8650aeef845449ba752a76a4237559">llvm::InlineAdvisor::onPassExit</a></div><div class="ttdeci">virtual void onPassExit(LazyCallGraph::SCC *SCC=nullptr)</div><div class="ttdoc">This must be called when the Inliner pass is exited, as function passes may be run subsequently.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00191">InlineAdvisor.h:191</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a05a1189b53c3a073702cb69dd07d326d"><div class="ttname"><a href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">inlineCallsImpl</a></div><div class="ttdeci">static bool inlineCallsImpl(CallGraphSCC &amp;SCC, CallGraph &amp;CG, std::function&lt; AssumptionCache &amp;(Function &amp;)&gt; GetAssumptionCache, ProfileSummaryInfo *PSI, std::function&lt; const TargetLibraryInfo &amp;(Function &amp;)&gt; GetTLI, bool InsertLifetime, function_ref&lt; InlineCost(CallBase &amp;CB)&gt; GetInlineCost, function_ref&lt; AAResults &amp;(Function &amp;)&gt; AARGetter, ImportedFunctionsInliningStatistics &amp;ImportedFunctionsStats)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00362">Inliner.cpp:362</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_a074617b3e2f9f98ee3a2ac208e8e7210"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const</div><div class="ttdoc">Return the type that is being allocated by the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00118">Instructions.h:118</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a5c89c6e33abaa9e8679f96ff82ce72b8"><div class="ttname"><a href="Inliner_8cpp.html#a5c89c6e33abaa9e8679f96ff82ce72b8">CGSCCInlineReplayFormat</a></div><div class="ttdeci">static cl::opt&lt; CallSiteFormat::Format &gt; CGSCCInlineReplayFormat(&quot;cgscc-inline-replay-format&quot;, cl::init(CallSiteFormat::Format::LineColumnDiscriminator), cl::values(clEnumValN(CallSiteFormat::Format::Line, &quot;Line&quot;, &quot;&lt;Line Number&gt;&quot;), clEnumValN(CallSiteFormat::Format::LineColumn, &quot;LineColumn&quot;, &quot;&lt;Line Number&gt;:&lt;Column Number&gt;&quot;), clEnumValN(CallSiteFormat::Format::LineDiscriminator, &quot;LineDiscriminator&quot;, &quot;&lt;Line Number&gt;.&lt;Discriminator&gt;&quot;), clEnumValN(CallSiteFormat::Format::LineColumnDiscriminator, &quot;LineColumnDiscriminator&quot;, &quot;&lt;Line Number&gt;:&lt;Column Number&gt;.&lt;Discriminator&gt; (default)&quot;)), cl::desc(&quot;How cgscc inline replay file is formatted&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleInlinerWrapperPass_html_ab518c48fbbea8ebc75e5d48c3291b6d5"><div class="ttname"><a href="classllvm_1_1ModuleInlinerWrapperPass.html#ab518c48fbbea8ebc75e5d48c3291b6d5">llvm::ModuleInlinerWrapperPass::printPipeline</a></div><div class="ttdeci">void printPipeline(raw_ostream &amp;OS, function_ref&lt; StringRef(StringRef)&gt; MapClassName2PassName)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l01189">Inliner.cpp:1189</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a85bddafa659a93a7a67c9094648259be"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a85bddafa659a93a7a67c9094648259be">MAM</a></div><div class="ttdeci">ModuleAnalysisManager MAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00061">PassBuilderBindings.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a4926331431f03253ee3ec8e6e3bb9d1c"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a4926331431f03253ee3ec8e6e3bb9d1c">llvm::AnalysisManager::clear</a></div><div class="ttdeci">void clear(IRUnitT &amp;IR, llvm::StringRef Name)</div><div class="ttdoc">Clear any cached analysis results for a single unit of IR.</div><div class="ttdef"><b>Definition:</b> <a href="PassManagerImpl_8h_source.html#l00036">PassManagerImpl.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineCost_html"><div class="ttname"><a href="classllvm_1_1InlineCost.html">llvm::InlineCost</a></div><div class="ttdoc">Represents the cost of inlining a function.</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00089">InlineCost.h:89</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aInlineAdvisor_8h_html"><div class="ttname"><a href="InlineAdvisor_8h.html">InlineAdvisor.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html_a978ee5e9b5b33e10cea60aea38f80788"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#a978ee5e9b5b33e10cea60aea38f80788">llvm::CallGraphSCCPass::skipSCC</a></div><div class="ttdeci">bool skipSCC(CallGraphSCC &amp;SCC) const</div><div class="ttdoc">Optional passes call this function to check whether the pass should be skipped.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8cpp_source.html#l00743">CallGraphSCCPass.cpp:743</a></div></div>
<div class="ttc" id="astructllvm_1_1CallSiteFormat_html_afd04e6f91cb72fa5dd456253fd595689ad9438ba6b9d7bd9d83b71b3e2f0d2491"><div class="ttname"><a href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689ad9438ba6b9d7bd9d83b71b3e2f0d2491">llvm::CallSiteFormat::Format::LineColumnDiscriminator</a></div><div class="ttdeci">@ LineColumnDiscriminator</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1OuterAnalysisManagerProxy_1_1Result_html"><div class="ttname"><a href="classllvm_1_1OuterAnalysisManagerProxy_1_1Result.html">llvm::OuterAnalysisManagerProxy::Result</a></div><div class="ttdoc">Result proxy object for OuterAnalysisManagerProxy.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l01061">PassManager.h:1061</a></div></div>
<div class="ttc" id="aFunctionInfo_8cpp_html_a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc"><div class="ttname"><a href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a></div><div class="ttdeci">@ InlineInfo</div><div class="ttdef"><b>Definition:</b> <a href="FunctionInfo_8cpp_source.html#l00025">FunctionInfo.cpp:25</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1ReplayInlinerSettings_html_a49a0d94e62049ec7cf29edc327856d0dae1c27e5eeb260d139f3605de9cf1d84d"><div class="ttname"><a href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0dae1c27e5eeb260d139f3605de9cf1d84d">llvm::ReplayInlinerSettings::Fallback::NeverInline</a></div><div class="ttdeci">@ NeverInline</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_html_a25b137b7a84a86c1b251aad9b8310525"><div class="ttname"><a href="namespacellvm.html#a25b137b7a84a86c1b251aad9b8310525">llvm::createDevirtSCCRepeatedPass</a></div><div class="ttdeci">DevirtSCCRepeatedPass createDevirtSCCRepeatedPass(CGSCCPassT &amp;&amp;Pass, int MaxIterations)</div><div class="ttdoc">A function to deduce a function pass type and wrap it in the templated adaptor.</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8h_source.html#l00581">CGSCCPassManager.h:581</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a7fb3c9caadeb0f7fe4828d380158d0f9"><div class="ttname"><a href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a></div><div class="ttdeci">Statically lint checks LLVM IR</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00746">Lint.cpp:746</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphNode_html"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html">llvm::CallGraphNode</a></div><div class="ttdoc">A node in the call graph for a module.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00166">CallGraph.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_html_aba7063dea024346c7b70099c63703f50"><div class="ttname"><a href="namespacellvm.html#aba7063dea024346c7b70099c63703f50">llvm::getInlineParams</a></div><div class="ttdeci">InlineParams getInlineParams()</div><div class="ttdoc">Generate the parameters to tune the inline cost analysis based only on the commandline options.</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l03117">InlineCost.cpp:3117</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="aLazyCallGraph_8h_html"><div class="ttname"><a href="LazyCallGraph_8h.html">LazyCallGraph.h</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="astructllvm_1_1CallSiteFormat_html_afd04e6f91cb72fa5dd456253fd595689a7e296479ac3c227db3d56e629408409b"><div class="ttname"><a href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689a7e296479ac3c227db3d56e629408409b">llvm::CallSiteFormat::Format::LineColumn</a></div><div class="ttdeci">@ LineColumn</div></div>
<div class="ttc" id="astructllvm_1_1InlineContext_html"><div class="ttname"><a href="structllvm_1_1InlineContext.html">llvm::InlineContext</a></div><div class="ttdoc">Provides context on when an inline advisor is constructed in the pipeline (e.g., link phase,...</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00060">InlineAdvisor.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyAnalysis_html"><div class="ttname"><a href="classllvm_1_1BlockFrequencyAnalysis.html">llvm::BlockFrequencyAnalysis</a></div><div class="ttdoc">Analysis pass which computes BlockFrequencyInfo.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfo_8h_source.html#l00112">BlockFrequencyInfo.h:112</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_afac5b39bcbb90d660f83d9b4bd8c6d95"><div class="ttname"><a href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">llvm::CallBase::getCaller</a></div><div class="ttdeci">Function * getCaller()</div><div class="ttdoc">Helper to get the caller (the parent function).</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00293">Instructions.cpp:293</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a261a6e97f9fb889152e31269ee07ac20"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a261a6e97f9fb889152e31269ee07ac20">llvm::LegacyInlinerBase::ACT</a></div><div class="ttdeci">AssumptionCacheTracker * ACT</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8h_source.html#l00076">Inliner.h:76</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a017ac48c1ce23159cf7704fd43999c8a"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">llvm::LegacyInlinerBase::removeDeadFunctions</a></div><div class="ttdeci">bool removeDeadFunctions(CallGraph &amp;CG, bool AlwaysInlineOnly=false)</div><div class="ttdoc">Remove dead functions.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00623">Inliner.cpp:623</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfo_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfo.html">llvm::ProfileSummaryInfo</a></div><div class="ttdoc">Analysis providing profile information.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00040">ProfileSummaryInfo.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocalAsMetadata_html_a5247094880dd4ac01a770bdf836b97c9"><div class="ttname"><a href="classllvm_1_1LocalAsMetadata.html#a5247094880dd4ac01a770bdf836b97c9">llvm::LocalAsMetadata::getIfExists</a></div><div class="ttdeci">static LocalAsMetadata * getIfExists(Value *Local)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00449">Metadata.h:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:268</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_aa50d9479d33af430ddc4725552d7efdf"><div class="ttname"><a href="Inliner_8cpp.html#aa50d9479d33af430ddc4725552d7efdf">inlineHistoryIncludes</a></div><div class="ttdeci">static bool inlineHistoryIncludes(Function *F, int InlineHistoryID, const SmallVectorImpl&lt; std::pair&lt; Function *, int &gt;&gt; &amp;InlineHistory)</div><div class="ttdoc">Return true if the specified inline history ID indicates an inline history that includes the specifie...</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00336">Inliner.cpp:336</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aReplayInlineAdvisor_8h_html"><div class="ttname"><a href="ReplayInlineAdvisor_8h.html">ReplayInlineAdvisor.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a239c4ac35d6028bfacaed4018d0488fa"><div class="ttname"><a href="namespacellvm.html#a239c4ac35d6028bfacaed4018d0488fa">llvm::InliningAdvisorMode</a></div><div class="ttdeci">InliningAdvisorMode</div><div class="ttdoc">There are 4 scenarios we can use the InlineAdvisor:</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00044">InlineAdvisor.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a91bc852d822edde0684bf2b0bac9e4aa"><div class="ttname"><a href="Inliner_8cpp.html#a91bc852d822edde0684bf2b0bac9e4aa">CGSCCInlineReplayFile</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; CGSCCInlineReplayFile(&quot;cgscc-inline-replay&quot;, cl::init(&quot;&quot;), cl::value_desc(&quot;filename&quot;), cl::desc(&quot;Optimization remarks file containing inline remarks to be replayed &quot; &quot;by cgscc inlining.&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aInliner_8cpp_html_a8ca23b4464210f9abda43765bb4c6bb1"><div class="ttname"><a href="Inliner_8cpp.html#a8ca23b4464210f9abda43765bb4c6bb1">CGSCCInlineReplayFallback</a></div><div class="ttdeci">static cl::opt&lt; ReplayInlinerSettings::Fallback &gt; CGSCCInlineReplayFallback(&quot;cgscc-inline-replay-fallback&quot;, cl::init(ReplayInlinerSettings::Fallback::Original), cl::values(clEnumValN(ReplayInlinerSettings::Fallback::Original, &quot;Original&quot;, &quot;All decisions not in replay send to original advisor (default)&quot;), clEnumValN(ReplayInlinerSettings::Fallback::AlwaysInline, &quot;AlwaysInline&quot;, &quot;All decisions not in replay are inlined&quot;), clEnumValN(ReplayInlinerSettings::Fallback::NeverInline, &quot;NeverInline&quot;, &quot;All decisions not in replay are not inlined&quot;)), cl::desc(&quot;How cgscc inline replay treats sites that don't come from the replay. &quot; &quot;Original: defers to original advisor, AlwaysInline: inline all sites &quot; &quot;not in replay, NeverInline: inline no sites not in replay&quot;), cl::Hidden)</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a8fa743aa76b6902028f8a643dfb87171"><div class="ttname"><a href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">llvm::cl::values</a></div><div class="ttdeci">ValuesClass values(OptsTy... Options)</div><div class="ttdoc">Helper to build a ValuesClass by forwarding a variable number of arguments as an initializer list to ...</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00703">CommandLine.h:703</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html_a6cc67c5a27b53bc940d292c0aeb6aba3"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#a6cc67c5a27b53bc940d292c0aeb6aba3">llvm::CallGraphSCCPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;Info) const override</div><div class="ttdoc">getAnalysisUsage - For this class, we declare that we require and preserve the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8cpp_source.html#l00650">CallGraphSCCPass.cpp:650</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ae8c56810a4e199c830acc88b08dce370"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ae8c56810a4e199c830acc88b08dce370">llvm::LegacyInlinerBase::runOnSCC</a></div><div class="ttdeci">bool runOnSCC(CallGraphSCC &amp;SCC) override</div><div class="ttdoc">Main run interface method, this implements the interface required by the Pass class.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00355">Inliner.cpp:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="aProfileSummaryInfo_8h_html"><div class="ttname"><a href="ProfileSummaryInfo_8h.html">ProfileSummaryInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphNode_html_ab61fa6ccb9c51f78735fc7efc62d9671"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#ab61fa6ccb9c51f78735fc7efc62d9671">llvm::CallGraphNode::removeAllCalledFunctions</a></div><div class="ttdeci">void removeAllCalledFunctions()</div><div class="ttdoc">Removes all edges from this CallGraphNode to any functions it calls.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00227">CallGraph.h:227</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgDeclareInst_html"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html">llvm::DbgDeclareInst</a></div><div class="ttdoc">This represents the llvm.dbg.declare instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00349">IntrinsicInst.h:349</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionAnalysis_html"><div class="ttname"><a href="classllvm_1_1AssumptionAnalysis.html">llvm::AssumptionAnalysis</a></div><div class="ttdoc">A function analysis which provides an AssumptionCache.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00173">AssumptionCache.h:173</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1d412633e05b10c6b4be309b010a13f"><div class="ttname"><a href="namespacellvm.html#ad1d412633e05b10c6b4be309b010a13f">llvm::filterDeadComdatFunctions</a></div><div class="ttdeci">void filterDeadComdatFunctions(SmallVectorImpl&lt; Function * &gt; &amp;DeadComdatFunctions)</div><div class="ttdoc">Filter out potentially dead comdat functions where other entries keep the entire comdat group alive.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00268">ModuleUtils.cpp:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ad966bea18aa62ffb9e040509adc7c99f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">llvm::PreservedAnalyses::preserve</a></div><div class="ttdeci">void preserve()</div><div class="ttdoc">Mark an analysis as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00173">PassManager.h:173</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="anamespacellvm_html_aadbd3f8e31479a825eb9f2e0dcdd4bbf"><div class="ttname"><a href="namespacellvm.html#aadbd3f8e31479a825eb9f2e0dcdd4bbf">llvm::InlinerFunctionImportStats</a></div><div class="ttdeci">cl::opt&lt; InlinerFunctionImportStatsOpts &gt; InlinerFunctionImportStats(&quot;inliner-function-import-stats&quot;, cl::init(InlinerFunctionImportStatsOpts::No), cl::values(clEnumValN(InlinerFunctionImportStatsOpts::Basic, &quot;basic&quot;, &quot;basic statistics&quot;), clEnumValN(InlinerFunctionImportStatsOpts::Verbose, &quot;verbose&quot;, &quot;printing of statistics for each inlined function&quot;)), cl::Hidden, cl::desc(&quot;Enable inliner stats for imported functions&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8cpp_source.html#l00065">InlineAdvisor.cpp:65</a></div></div>
<div class="ttc" id="aCGSCCPassManager_8h_html"><div class="ttname"><a href="CGSCCPassManager_8h.html">CGSCCPassManager.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aCloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="aStringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfoWrapperPass.html">llvm::ProfileSummaryInfoWrapperPass</a></div><div class="ttdoc">An analysis pass based on legacy pass manager to deliver ProfileSummaryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00194">ProfileSummaryInfo.h:194</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="astructllvm_1_1ReplayInlinerSettings_html_a692270e0daa8cc3ffb3d83238afcd4b5ae55f75a29310d7b60f7ac1d390c8ae42"><div class="ttname"><a href="structllvm_1_1ReplayInlinerSettings.html#a692270e0daa8cc3ffb3d83238afcd4b5ae55f75a29310d7b60f7ac1d390c8ae42">llvm::ReplayInlinerSettings::Scope::Module</a></div><div class="ttdeci">@ Module</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aInliner_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00071">Inliner.cpp:71</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_html_a444e3e622a00db2be6dcaf46cef996f5"><div class="ttname"><a href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">llvm::setInlineRemark</a></div><div class="ttdeci">void setInlineRemark(CallBase &amp;CB, StringRef Message)</div><div class="ttdoc">Set the inline-remark attribute.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8cpp_source.html#l00362">InlineAdvisor.cpp:362</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraph_html_a10ae28b08e292f846fb954e805e533ce"><div class="ttname"><a href="classllvm_1_1CallGraph.html#a10ae28b08e292f846fb954e805e533ce">llvm::CallGraph::removeFunctionFromModule</a></div><div class="ttdeci">Function * removeFunctionFromModule(CallGraphNode *CGN)</div><div class="ttdoc">Unlink the function from this module, returning it.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8cpp_source.html#l00157">CallGraph.cpp:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html_aae6a98aea85aa3af87357cc5448db499"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">llvm::OptimizationRemarkEmitter::emit</a></div><div class="ttdeci">void emit(DiagnosticInfoOptimizationBase &amp;OptDiag)</div><div class="ttdoc">Output the remark via the diagnostic handler and to the optimization record file.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8cpp_source.html#l00079">OptimizationRemarkEmitter.cpp:79</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a0ba622185349ede8d8a137d7a7367840"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a0ba622185349ede8d8a137d7a7367840">llvm::LegacyInlinerBase::PSI</a></div><div class="ttdeci">ProfileSummaryInfo * PSI</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8h_source.html#l00077">Inliner.h:77</a></div></div>
<div class="ttc" id="aInlineCost_8h_html"><div class="ttname"><a href="InlineCost_8h.html">InlineCost.h</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="anamespacellvm_html_a051cd0cc5f9d159ee0960b13051e5939a183b8bf4eb650f78f82c0aad756b6d96"><div class="ttname"><a href="namespacellvm.html#a051cd0cc5f9d159ee0960b13051e5939a183b8bf4eb650f78f82c0aad756b6d96">llvm::InlinePass::CGSCCInliner</a></div><div class="ttdeci">@ CGSCCInliner</div></div>
<div class="ttc" id="aInliner_8cpp_html_a4019f8ca0130f36f347225ac8f36d3d5"><div class="ttname"><a href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">inlineCallIfPossible</a></div><div class="ttdeci">static InlineResult inlineCallIfPossible(CallBase &amp;CB, InlineFunctionInfo &amp;IFI, InlinedArrayAllocasTy &amp;InlinedArrayAllocas, int InlineHistory, bool InsertLifetime, function_ref&lt; AAResults &amp;(Function &amp;)&gt; &amp;AARGetter, ImportedFunctionsInliningStatistics &amp;ImportedFunctionsStats)</div><div class="ttdoc">If it is possible to inline the specified call site, do so and update the CallGraph for this operatio...</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00307">Inliner.cpp:307</a></div></div>
<div class="ttc" id="aSIWholeQuadMode_8cpp_html_a0c198437833c48138f49e3589bd08773"><div class="ttname"><a href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a></div><div class="ttdeci">SI Whole Quad Mode</div><div class="ttdef"><b>Definition:</b> <a href="SIWholeQuadMode_8cpp_source.html#l00262">SIWholeQuadMode.cpp:262</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1Node_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1Node.html">llvm::LazyCallGraph::Node</a></div><div class="ttdoc">A node in the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00315">LazyCallGraph.h:315</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">llvm::AMDGPU::CPol::SCC</a></div><div class="ttdeci">@ SCC</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00316">SIDefines.h:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryAnalysis_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryAnalysis.html">llvm::ProfileSummaryAnalysis</a></div><div class="ttdoc">An analysis pass based on the new PM to deliver ProfileSummaryInfo.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00212">ProfileSummaryInfo.h:212</a></div></div>
<div class="ttc" id="astructllvm_1_1CallSiteFormat_html_afd04e6f91cb72fa5dd456253fd595689a4803e6b9e63dabf04de980788d6a13c4"><div class="ttname"><a href="structllvm_1_1CallSiteFormat.html#afd04e6f91cb72fa5dd456253fd595689a4803e6b9e63dabf04de980788d6a13c4">llvm::CallSiteFormat::Format::Line</a></div><div class="ttdeci">@ Line</div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_html_a627b2f86ac433d829482d5a5a0f50668"><div class="ttname"><a href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction is not used, and the instruction will return.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00398">Local.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisor_html"><div class="ttname"><a href="classllvm_1_1InlineAdvisor.html">llvm::InlineAdvisor</a></div><div class="ttdoc">Interface for deciding whether to inline a call site or not.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00165">InlineAdvisor.h:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_aea74164514e7164813ab30bcc4b7c557"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#aea74164514e7164813ab30bcc4b7c557">llvm::AllocaInst::isArrayAllocation</a></div><div class="ttdeci">bool isArrayAllocation() const</div><div class="ttdoc">Return true if there is an allocation size parameter to the allocation instruction that is not 1.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01508">Instructions.cpp:1508</a></div></div>
<div class="ttc" id="anamespacellvm_html_a24380444e7b6b5af3e742282c87d4219"><div class="ttname"><a href="namespacellvm.html#a24380444e7b6b5af3e742282c87d4219">llvm::getStringFnAttrAsInt</a></div><div class="ttdeci">std::optional&lt; int &gt; getStringFnAttrAsInt(CallBase &amp;CB, StringRef AttrKind)</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l00175">InlineCost.cpp:175</a></div></div>
<div class="ttc" id="aCommandLine_8h_html_a187fd767976b311c09dff5e05ac0c1bc"><div class="ttname"><a href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a></div><div class="ttdeci">#define clEnumValN(ENUMVAL, FLAGNAME, DESC)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00678">CommandLine.h:678</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinerPass_html_a22a5236247032aa0edf86322b77a7fbd"><div class="ttname"><a href="classllvm_1_1InlinerPass.html#a22a5236247032aa0edf86322b77a7fbd">llvm::InlinerPass::printPipeline</a></div><div class="ttdeci">void printPipeline(raw_ostream &amp;OS, function_ref&lt; StringRef(StringRef)&gt; MapClassName2PassName)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l01181">Inliner.cpp:1181</a></div></div>
<div class="ttc" id="aCallPromotionUtils_8h_html"><div class="ttname"><a href="CallPromotionUtils_8h.html">CallPromotionUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a92be87f8a371f277f7260fb99592d5f4"><div class="ttname"><a href="namespacellvm.html#a92be87f8a371f277f7260fb99592d5f4">llvm::unique</a></div><div class="ttdeci">auto unique(Range &amp;&amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="GenericUniformityImpl_8h_source.html#l00056">GenericUniformityImpl.h:56</a></div></div>
<div class="ttc" id="aBlockFrequencyInfo_8h_html"><div class="ttname"><a href="BlockFrequencyInfo_8h.html">BlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab2e3dbebd68e69d77c227682fc8e3ba2"><div class="ttname"><a href="namespacellvm.html#ab2e3dbebd68e69d77c227682fc8e3ba2">llvm::make_scope_exit</a></div><div class="ttdeci">detail::scope_exit&lt; std::decay_t&lt; Callable &gt; &gt; make_scope_exit(Callable &amp;&amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="ScopeExit_8h_source.html#l00059">ScopeExit.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineFunctionInfo_html_afee77c39305987451e9495b749863d07"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#afee77c39305987451e9495b749863d07">llvm::InlineFunctionInfo::InlinedCallSites</a></div><div class="ttdeci">SmallVector&lt; CallBase *, 8 &gt; InlinedCallSites</div><div class="ttdoc">All of the new call sites inlined into the caller.</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00235">Cloning.h:235</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a96bda22e654a59fec0620767b56dd53f"><div class="ttname"><a href="classllvm_1_1SetVector.html#a96bda22e654a59fec0620767b56dd53f">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Completely clear the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00213">SetVector.h:213</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphNode_html_a72e7d072f1d49fde19de2329c05efe5b"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#a72e7d072f1d49fde19de2329c05efe5b">llvm::CallGraphNode::getFunction</a></div><div class="ttdeci">Function * getFunction() const</div><div class="ttdoc">Returns the function that this call graph node represents.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00197">CallGraph.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html_a869c36ec45c584dfa6f3d914d230b15f"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a869c36ec45c584dfa6f3d914d230b15f">llvm::ImportedFunctionsInliningStatistics::recordInline</a></div><div class="ttdeci">void recordInline(const Function &amp;Caller, const Function &amp;Callee)</div><div class="ttdoc">Record inline of.</div><div class="ttdef"><b>Definition:</b> <a href="ImportedFunctionsInliningStatistics_8cpp_source.html#l00048">ImportedFunctionsInliningStatistics.cpp:48</a></div></div>
<div class="ttc" id="astructllvm_1_1CGSCCUpdateResult_html"><div class="ttname"><a href="structllvm_1_1CGSCCUpdateResult.html">llvm::CGSCCUpdateResult</a></div><div class="ttdoc">Support structure for SCC passes to communicate updates the call graph back to the CGSCC pass manager...</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8h_source.html#l00232">CGSCCPassManager.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html_af0c9a679eca493aa32aa7002bf4a50a3"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html#af0c9a679eca493aa32aa7002bf4a50a3">llvm::AssumptionCacheTracker::getAssumptionCache</a></div><div class="ttdeci">AssumptionCache &amp; getAssumptionCache(Function &amp;F)</div><div class="ttdoc">Get the cached assumptions for a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8cpp_source.html#l00292">AssumptionCache.cpp:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a90a202de107720c5c6af3a5bc275d8f5"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a90a202de107720c5c6af3a5bc275d8f5">llvm::AnalysisManager::getCachedResult</a></div><div class="ttdeci">PassT::Result * getCachedResult(IRUnitT &amp;IR) const</div><div class="ttdoc">Get the cached result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00793">PassManager.h:793</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleInlinerWrapperPass_html_aff89291a71c595f474b9fc7c99860170"><div class="ttname"><a href="classllvm_1_1ModuleInlinerWrapperPass.html#aff89291a71c595f474b9fc7c99860170">llvm::ModuleInlinerWrapperPass::ModuleInlinerWrapperPass</a></div><div class="ttdeci">ModuleInlinerWrapperPass(InlineParams Params=getInlineParams(), bool MandatoryFirst=true, InlineContext IC={}, InliningAdvisorMode Mode=InliningAdvisorMode::Default, unsigned MaxDevirtIterations=0)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l01120">Inliner.cpp:1120</a></div></div>
<div class="ttc" id="aDiagnosticInfo_8h_html"><div class="ttname"><a href="DiagnosticInfo_8h.html">DiagnosticInfo.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html">llvm::CallGraphSCCPass</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00034">CallGraphSCCPass.h:34</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html">llvm::InlineFunctionInfo</a></div><div class="ttdoc">This class captures the data input to the InlineFunction call, and records the auxiliary results prod...</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00203">Cloning.h:203</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a33626143f63f8ff6718975dda747e343"><div class="ttname"><a href="Inliner_8cpp.html#a33626143f63f8ff6718975dda747e343">KeepAdvisorForPrinting</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; KeepAdvisorForPrinting(&quot;keep-inline-advisor-for-printing&quot;, cl::init(false), cl::Hidden)</div><div class="ttdoc">A flag for test, so we can print the content of the advisor when running it as part of the default (e...</div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1value__desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1value__desc.html">llvm::cl::value_desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00420">CommandLine.h:420</a></div></div>
<div class="ttc" id="anamespacellvm_html_a20cfa993dffa4fbef8ce57257098a786"><div class="ttname"><a href="namespacellvm.html#a20cfa993dffa4fbef8ce57257098a786">llvm::inlineCostStr</a></div><div class="ttdeci">std::string inlineCostStr(const InlineCost &amp;IC)</div><div class="ttdoc">Utility for extracting the inline cost message to a string.</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8cpp_source.html#l00355">InlineAdvisor.cpp:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html_aef5d9142acafceffd14c76b8ddd0fd4e"><div class="ttname"><a href="classllvm_1_1PassManager.html#aef5d9142acafceffd14c76b8ddd0fd4e">llvm::PassManager::run</a></div><div class="ttdeci">PreservedAnalyses run(IRUnitT &amp;IR, AnalysisManagerT &amp;AM, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Run all of the passes in this manager over the given unit of IR.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00498">PassManager.h:498</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraph_html_acef04d640c133e4265a715f883dd745b"><div class="ttname"><a href="classllvm_1_1CallGraph.html#acef04d640c133e4265a715f883dd745b">llvm::CallGraph::getModule</a></div><div class="ttdeci">Module &amp; getModule() const</div><div class="ttdoc">Returns the module the call graph corresponds to.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00101">CallGraph.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2e739fb4907159062aacbbafea669592"><div class="ttname"><a href="namespacellvm.html#a2e739fb4907159062aacbbafea669592">llvm::updateCGAndAnalysisManagerForCGSCCPass</a></div><div class="ttdeci">LazyCallGraph::SCC &amp; updateCGAndAnalysisManagerForCGSCCPass(LazyCallGraph &amp;G, LazyCallGraph::SCC &amp;C, LazyCallGraph::Node &amp;N, CGSCCAnalysisManager &amp;AM, CGSCCUpdateResult &amp;UR, FunctionAnalysisManager &amp;FAM)</div><div class="ttdoc">Helper to update the call graph after running a CGSCC pass.</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8cpp_source.html#l01215">CGSCCPassManager.cpp:1215</a></div></div>
<div class="ttc" id="aCallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleInlinerWrapperPass_html_a302bbe2963bced6cb8460b94f89dd0be"><div class="ttname"><a href="classllvm_1_1ModuleInlinerWrapperPass.html#a302bbe2963bced6cb8460b94f89dd0be">llvm::ModuleInlinerWrapperPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;, ModuleAnalysisManager &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l01142">Inliner.cpp:1142</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineFunctionInfo_html_a9c259c76065eb3b4ce3697ce346008ce"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#a9c259c76065eb3b4ce3697ce346008ce">llvm::InlineFunctionInfo::StaticAllocas</a></div><div class="ttdeci">SmallVector&lt; AllocaInst *, 4 &gt; StaticAllocas</div><div class="ttdoc">InlineFunction fills this in with all static allocas that get copied into the caller.</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00224">Cloning.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a43da96a342731ffba21f83523a9c787a"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">llvm::MetadataAsValue::getIfExists</a></div><div class="ttdeci">static MetadataAsValue * getIfExists(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00110">Metadata.cpp:110</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a937c42f77e161349ce0f999e448c7027"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">llvm::PreservedAnalyses::preserveSet</a></div><div class="ttdeci">void preserveSet()</div><div class="ttdoc">Mark an analysis set as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00188">PassManager.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisorAnalysis_html"><div class="ttname"><a href="classllvm_1_1InlineAdvisorAnalysis.html">llvm::InlineAdvisorAnalysis</a></div><div class="ttdoc">The InlineAdvisorAnalysis is a module pass because the InlineAdvisor needs to capture state right bef...</div><div class="ttdef"><b>Definition:</b> <a href="InlineAdvisor_8h_source.html#l00318">InlineAdvisor.h:318</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4f3bf98b5054831b608852e33427814"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00358">Instruction.h:358</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aModuleUtils_8h_html"><div class="ttname"><a href="ModuleUtils_8h.html">ModuleUtils.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinerPass_html"><div class="ttname"><a href="classllvm_1_1InlinerPass.html">llvm::InlinerPass</a></div><div class="ttdoc">The inliner pass for the new pass manager.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8h_source.html#l00096">Inliner.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinerPass_html_a78e09cea341cfdf58869920175c52d82"><div class="ttname"><a href="classllvm_1_1InlinerPass.html#a78e09cea341cfdf58869920175c52d82">llvm::InlinerPass::run</a></div><div class="ttdeci">PreservedAnalyses run(LazyCallGraph::SCC &amp;C, CGSCCAnalysisManager &amp;AM, LazyCallGraph &amp;CG, CGSCCUpdateResult &amp;UR)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00743">Inliner.cpp:743</a></div></div>
<div class="ttc" id="astructllvm_1_1ReplayInlinerSettings_html_a692270e0daa8cc3ffb3d83238afcd4b5a86408593c34af77fdd90df932f8b5261"><div class="ttname"><a href="structllvm_1_1ReplayInlinerSettings.html#a692270e0daa8cc3ffb3d83238afcd4b5a86408593c34af77fdd90df932f8b5261">llvm::ReplayInlinerSettings::Scope::Function</a></div><div class="ttdeci">@ Function</div></div>
<div class="ttc" id="aScopeExit_8h_html"><div class="ttname"><a href="ScopeExit_8h.html">ScopeExit.h</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_aa989a9a80b5b2a6a11876cc8ee61c064"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#aa989a9a80b5b2a6a11876cc8ee61c064">llvm::LegacyInlinerBase::doFinalization</a></div><div class="ttdeci">bool doFinalization(CallGraph &amp;CG) override</div><div class="ttdoc">Remove now-dead linkonce functions at the end of processing to avoid breaking the SCC traversal.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00615">Inliner.cpp:615</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ad902305635f915a580455ba5fbe6fa78"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ad902305635f915a580455ba5fbe6fa78">llvm::LegacyInlinerBase::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;Info) const override</div><div class="ttdoc">For this class, we declare that we require and preserve the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00174">Inliner.cpp:174</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1ReplayInlinerSettings_html_a49a0d94e62049ec7cf29edc327856d0dabfb0ca5162a37ff39298b24afdb84ff7"><div class="ttname"><a href="structllvm_1_1ReplayInlinerSettings.html#a49a0d94e62049ec7cf29edc327856d0dabfb0ca5162a37ff39298b24afdb84ff7">llvm::ReplayInlinerSettings::Fallback::AlwaysInline</a></div><div class="ttdeci">@ AlwaysInline</div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph.html">llvm::LazyCallGraph</a></div><div class="ttdoc">A lazily constructed view of the call graph of a module.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00110">LazyCallGraph.h:110</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec6409a70645bde7c81ab78a13ddbf62"><div class="ttname"><a href="namespacellvm.html#aec6409a70645bde7c81ab78a13ddbf62">llvm::MaxDevirtIterations</a></div><div class="ttdeci">cl::opt&lt; unsigned &gt; MaxDevirtIterations(&quot;max-devirt-iterations&quot;, cl::ReallyHidden, cl::init(4))</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderPipelines_8cpp_source.html#l00293">PassBuilderPipelines.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionAnalysisManagerCGSCCProxy_html"><div class="ttname"><a href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">llvm::FunctionAnalysisManagerCGSCCProxy</a></div><div class="ttdoc">A proxy from a FunctionAnalysisManager to an SCC.</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8h_source.html#l00392">CGSCCPassManager.h:392</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyAARGetter_html"><div class="ttname"><a href="classllvm_1_1LegacyAARGetter.html">llvm::LegacyAARGetter</a></div><div class="ttdoc">This class is a functor to be used in legacy module or SCC passes for computing AA results for a func...</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8h_source.html#l00187">BasicAliasAnalysis.h:187</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a5885fb8238965a2e7e7aba7b6f66f7ba"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a5885fb8238965a2e7e7aba7b6f66f7ba">MPM</a></div><div class="ttdeci">ModulePassManager MPM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00070">PassBuilderBindings.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6383dc1a150ac7cd92979a80681a71af"><div class="ttname"><a href="namespacellvm.html#a6383dc1a150ac7cd92979a80681a71af">llvm::createModuleToPostOrderCGSCCPassAdaptor</a></div><div class="ttdeci">ModuleToPostOrderCGSCCPassAdaptor createModuleToPostOrderCGSCCPassAdaptor(CGSCCPassT &amp;&amp;Pass)</div><div class="ttdoc">A function to deduce a function pass type and wrap it in the templated adaptor.</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8h_source.html#l00373">CGSCCPassManager.h:373</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitterAnalysis_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">llvm::OptimizationRemarkEmitterAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00164">OptimizationRemarkEmitter.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineResult_html"><div class="ttname"><a href="classllvm_1_1InlineResult.html">llvm::InlineResult</a></div><div class="ttdoc">InlineResult is basically true or false.</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00179">InlineCost.h:179</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="astructllvm_1_1ReplayInlinerSettings_html"><div class="ttname"><a href="structllvm_1_1ReplayInlinerSettings.html">llvm::ReplayInlinerSettings</a></div><div class="ttdoc">Replay Inliner Setup.</div><div class="ttdef"><b>Definition:</b> <a href="ReplayInlineAdvisor_8h_source.html#l00043">ReplayInlineAdvisor.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_html_a051cd0cc5f9d159ee0960b13051e5939ae0eb168d86226a345698d75f2fb852bb"><div class="ttname"><a href="namespacellvm.html#a051cd0cc5f9d159ee0960b13051e5939ae0eb168d86226a345698d75f2fb852bb">llvm::InlinePass::ReplayCGSCCInliner</a></div><div class="ttdeci">@ ReplayCGSCCInliner</div></div>
<div class="ttc" id="anamespacellvm_html_ad3219f7b717320ae52f53ccb09ad5a84"><div class="ttname"><a href="namespacellvm.html#ad3219f7b717320ae52f53ccb09ad5a84">llvm::tryPromoteCall</a></div><div class="ttdeci">bool tryPromoteCall(CallBase &amp;CB)</div><div class="ttdoc">Try to promote (devirtualize) a virtual call on an Alloca.</div><div class="ttdef"><b>Definition:</b> <a href="CallPromotionUtils_8cpp_source.html#l00561">CallPromotionUtils.cpp:561</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_afbab91c3f27a5e91b389c7da979cf8b7"><div class="ttname"><a href="Inliner_8cpp.html#afbab91c3f27a5e91b389c7da979cf8b7">CGSCCInlineReplayScope</a></div><div class="ttdeci">static cl::opt&lt; ReplayInlinerSettings::Scope &gt; CGSCCInlineReplayScope(&quot;cgscc-inline-replay-scope&quot;, cl::init(ReplayInlinerSettings::Scope::Function), cl::values(clEnumValN(ReplayInlinerSettings::Scope::Function, &quot;Function&quot;, &quot;Replay on functions that have remarks associated &quot; &quot;with them (default)&quot;), clEnumValN(ReplayInlinerSettings::Scope::Module, &quot;Module&quot;, &quot;Replay on the entire module&quot;)), cl::desc(&quot;Whether inline replay should be applied to the entire &quot; &quot;Module or just the Functions (default) that are present as &quot; &quot;callers in remarks during cgscc inlining.&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a903adbd42316e51df3cda640d664aa65"><div class="ttname"><a href="namespacellvm.html#a903adbd42316e51df3cda640d664aa65">llvm::getReplayInlineAdvisor</a></div><div class="ttdeci">std::unique_ptr&lt; InlineAdvisor &gt; getReplayInlineAdvisor(Module &amp;M, FunctionAnalysisManager &amp;FAM, LLVMContext &amp;Context, std::unique_ptr&lt; InlineAdvisor &gt; OriginalAdvisor, const ReplayInlinerSettings &amp;ReplaySettings, bool EmitRemarks, InlineContext IC)</div><div class="ttdef"><b>Definition:</b> <a href="ReplayInlineAdvisor_8cpp_source.html#l00080">ReplayInlineAdvisor.cpp:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html_a776e5ef304e07acc5bbbf585443459a4"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a776e5ef304e07acc5bbbf585443459a4">llvm::ImportedFunctionsInliningStatistics::dump</a></div><div class="ttdeci">void dump(bool Verbose)</div><div class="ttdoc">Dump stats computed with InlinerStatistics class.</div><div class="ttdef"><b>Definition:</b> <a href="ImportedFunctionsInliningStatistics_8cpp_source.html#l00099">ImportedFunctionsInliningStatistics.cpp:99</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ac9c9490e1fd3ad1ff4252a273751e000"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ac9c9490e1fd3ad1ff4252a273751e000">llvm::LegacyInlinerBase::doInitialization</a></div><div class="ttdeci">bool doInitialization(CallGraph &amp;CG) override</div><div class="ttdoc">doInitialization - This method is called before the SCC's of the program has been processed,...</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00349">Inliner.cpp:349</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_ab5adf3028c08b7debe191e012cb91ad1"><div class="ttname"><a href="namespacellvm_1_1ore.html#ab5adf3028c08b7debe191e012cb91ad1">llvm::ore::setIsVerbose</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::setIsVerbose setIsVerbose</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00137">OptimizationRemarkEmitter.h:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a10a2aafd78d3c0454aee31053cfcf56b"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">llvm::LegacyInlinerBase::ImportedFunctionsStats</a></div><div class="ttdeci">ImportedFunctionsInliningStatistics ImportedFunctionsStats</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8h_source.html#l00079">Inliner.h:79</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:26:08 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
