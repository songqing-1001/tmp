<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Coroutines/Coroutines.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_41b0844b37bf482660c9a400b410eb70.html">Coroutines</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Coroutines.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Coroutines_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Coroutines.cpp -----------------------------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the common infrastructure for Coroutine Passes.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CoroInstr_8h.html">CoroInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CoroInternal_8h.html">CoroInternal.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Construct the lowerer base class and initialize its members.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structllvm_1_1coro_1_1LowererBase.html#a2febb7f3cf36434914eef0bbc61818f0">   38</a></span>&#160;<a class="code" href="structllvm_1_1coro_1_1LowererBase.html#a2febb7f3cf36434914eef0bbc61818f0">coro::LowererBase::LowererBase</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    : TheModule(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      Int8Ptr(<a class="code" href="classllvm_1_1Type.html">Type</a>::getInt8PtrTy(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>)),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      ResumeFnType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a>::<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>::getVoidTy(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>), Int8Ptr,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                     <span class="comment">/*isVarArg=*/</span><a class="code" href="namespacefalse.html">false</a>)),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      NullPtr(<a class="code" href="classllvm_1_1ConstantPointerNull.html">ConstantPointerNull</a>::<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Int8Ptr)) {}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Creates a sequence of instructions to obtain a resume function address using</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// llvm.coro.subfn.addr. It generates the following sequence:</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//    call i8* @llvm.coro.subfn.addr(i8* %Arg, i8 %index)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//    bitcast i8* %2 to void(i8*)*</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structllvm_1_1coro_1_1LowererBase.html#a55deefb03edc6423560dd17b89221192">   51</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1coro_1_1LowererBase.html#a55deefb03edc6423560dd17b89221192">coro::LowererBase::makeSubFnCall</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertPt) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">auto</span> *IndexVal = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>), <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">auto</span> *Fn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(&amp;TheModule, Intrinsic::coro_subfn_addr);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &gt;= <a class="code" href="classllvm_1_1CoroSubFnInst.html#abb112419696544e53611285949f18783a7f071cefc72afebf79d307be94d25881">CoroSubFnInst::IndexFirst</a> &amp;&amp;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;         <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; <a class="code" href="classllvm_1_1CoroSubFnInst.html#abb112419696544e53611285949f18783a58b9f8fca63b134dd0064f54736c7acd">CoroSubFnInst::IndexLast</a> &amp;&amp;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;         <span class="stringliteral">&quot;makeSubFnCall: Index value out of range&quot;</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">auto</span> *Call = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(Fn, {<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, IndexVal}, <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a031174d0f974cf1041a9cadb84f0dcbf">Bitcast</a> =</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a>(Call, ResumeFnType-&gt;getPointerTo(), <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a031174d0f974cf1041a9cadb84f0dcbf">Bitcast</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// NOTE: Must be sorted!</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#ad4028404ed3e36c37bdf99be6b1e1567">   67</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="Coroutines_8cpp.html#ad4028404ed3e36c37bdf99be6b1e1567">CoroIntrinsics</a>[] = {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="stringliteral">&quot;llvm.coro.align&quot;</span>,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="stringliteral">&quot;llvm.coro.alloc&quot;</span>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="stringliteral">&quot;llvm.coro.async.context.alloc&quot;</span>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="stringliteral">&quot;llvm.coro.async.context.dealloc&quot;</span>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="stringliteral">&quot;llvm.coro.async.resume&quot;</span>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="stringliteral">&quot;llvm.coro.async.size.replace&quot;</span>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="stringliteral">&quot;llvm.coro.async.store_resume&quot;</span>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="stringliteral">&quot;llvm.coro.begin&quot;</span>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="stringliteral">&quot;llvm.coro.destroy&quot;</span>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="stringliteral">&quot;llvm.coro.done&quot;</span>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="stringliteral">&quot;llvm.coro.end&quot;</span>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="stringliteral">&quot;llvm.coro.end.async&quot;</span>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="stringliteral">&quot;llvm.coro.frame&quot;</span>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="stringliteral">&quot;llvm.coro.free&quot;</span>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="stringliteral">&quot;llvm.coro.id&quot;</span>,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="stringliteral">&quot;llvm.coro.id.async&quot;</span>,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="stringliteral">&quot;llvm.coro.id.retcon&quot;</span>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="stringliteral">&quot;llvm.coro.id.retcon.once&quot;</span>,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="stringliteral">&quot;llvm.coro.noop&quot;</span>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="stringliteral">&quot;llvm.coro.prepare.async&quot;</span>,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="stringliteral">&quot;llvm.coro.prepare.retcon&quot;</span>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="stringliteral">&quot;llvm.coro.promise&quot;</span>,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="stringliteral">&quot;llvm.coro.resume&quot;</span>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="stringliteral">&quot;llvm.coro.save&quot;</span>,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="stringliteral">&quot;llvm.coro.size&quot;</span>,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="stringliteral">&quot;llvm.coro.subfn.addr&quot;</span>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="stringliteral">&quot;llvm.coro.suspend&quot;</span>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="stringliteral">&quot;llvm.coro.suspend.async&quot;</span>,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="stringliteral">&quot;llvm.coro.suspend.retcon&quot;</span>,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;};</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a0a443a03b6dcdb9171ffb81ed2ad4429">  100</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Coroutines_8cpp.html#a0a443a03b6dcdb9171ffb81ed2ad4429">isCoroutineIntrinsicName</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a286962b7a05ffddde6e4a118fdee12c1">Intrinsic::lookupLLVMIntrinsicByName</a>(<a class="code" href="Coroutines_8cpp.html#ad4028404ed3e36c37bdf99be6b1e1567">CoroIntrinsics</a>, Name) != -1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="namespacellvm_1_1coro.html#a54712266347f5cc2d33ad2c375426e45">  105</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1coro.html#a54712266347f5cc2d33ad2c375426e45">coro::declaresAnyIntrinsic</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name : <a class="code" href="Coroutines_8cpp.html#ad4028404ed3e36c37bdf99be6b1e1567">CoroIntrinsics</a>) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="Coroutines_8cpp.html#a0a443a03b6dcdb9171ffb81ed2ad4429">isCoroutineIntrinsicName</a>(Name) &amp;&amp; <span class="stringliteral">&quot;not a coroutine intrinsic&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedValue(Name))</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// Verifies if a module has named values listed. Also, in debug mode verifies</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">// that names are intrinsic names.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="namespacellvm_1_1coro.html#a6e95f844cc43fa4786df11ea5a1a3f10">  117</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1coro.html#a6e95f844cc43fa4786df11ea5a1a3f10">coro::declaresIntrinsics</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                              <span class="keyword">const</span> std::initializer_list&lt;StringRef&gt; List) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name : <a class="code" href="RDFGraph_8cpp.html#a361dad1df3e6d9b5610d40dcf49204c5">List</a>) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="Coroutines_8cpp.html#a0a443a03b6dcdb9171ffb81ed2ad4429">isCoroutineIntrinsicName</a>(Name) &amp;&amp; <span class="stringliteral">&quot;not a coroutine intrinsic&quot;</span>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedValue(Name))</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// Replace all coro.frees associated with the provided CoroId either with &#39;null&#39;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">// if Elide is true and with its frame parameter otherwise.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="namespacellvm_1_1coro.html#abf799de7147065c0e7f525e1b6009dde">  130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1coro.html#abf799de7147065c0e7f525e1b6009dde">coro::replaceCoroFree</a>(<a class="code" href="classllvm_1_1CoroIdInst.html">CoroIdInst</a> *CoroId, <span class="keywordtype">bool</span> Elide) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CoroFreeInst *, 4&gt;</a> CoroFrees;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : CoroId-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> CF = dyn_cast&lt;CoroFreeInst&gt;(U))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      CoroFrees.push_back(CF);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span> (CoroFrees.empty())</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Replacement =</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      Elide ? <a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(<a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(CoroId-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>()))</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            : CoroFrees.front()-&gt;getFrame();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CoroFreeInst.html">CoroFreeInst</a> *CF : CoroFrees) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    CF-&gt;replaceAllUsesWith(Replacement);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    CF-&gt;eraseFromParent();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#ac781ce96aa25ba7f6fd38f72de665450">  149</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#ac781ce96aa25ba7f6fd38f72de665450">clear</a>(<a class="code" href="structllvm_1_1coro_1_1Shape.html">coro::Shape</a> &amp;Shape) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#abfb56acef5d60fefb2edc417f0bfbda0">CoroBegin</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#adc470e92d3cd5fb8d54d7b9179841463">CoroEnds</a>.clear();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#a48b7ab2f26b9e2bc67de02229a1cdd1f">CoroSizes</a>.clear();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#a5fd0aa934908c837c6d78097a2fd667b">CoroSuspends</a>.clear();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#a24c5fed9b14aed8a3b4f3828472fbab5">FrameTy</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#a5eac2988672b484645dcbcd706430967">FramePtr</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  Shape.<a class="code" href="structllvm_1_1coro_1_1Shape.html#ae3a9a76ce45cff6c0385091993bccdcc">AllocaSpillBlock</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#af87e25c71bc27228ee06facac0576a0c">  160</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1CoroSaveInst.html">CoroSaveInst</a> *<a class="code" href="Coroutines_8cpp.html#af87e25c71bc27228ee06facac0576a0c">createCoroSave</a>(<a class="code" href="classllvm_1_1CoroBeginInst.html">CoroBeginInst</a> *CoroBegin,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                    <a class="code" href="classllvm_1_1CoroSuspendInst.html">CoroSuspendInst</a> *SuspendInst) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = SuspendInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keyword">auto</span> *Fn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, Intrinsic::coro_save);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keyword">auto</span> *SaveInst =</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      cast&lt;CoroSaveInst&gt;(<a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(Fn, CoroBegin, <span class="stringliteral">&quot;&quot;</span>, SuspendInst));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!SuspendInst-&gt;<a class="code" href="classllvm_1_1CoroSuspendInst.html#a931c649e87e9b4229a7876755ac0b337">getCoroSave</a>());</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  SuspendInst-&gt;<a class="code" href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">setArgOperand</a>(0, SaveInst);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> SaveInst;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">// Collect &quot;interesting&quot; coroutine intrinsics.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structllvm_1_1coro_1_1Shape.html#a96d1559121b2fc3842bf133330c82e7b">  172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1coro_1_1Shape.html#a96d1559121b2fc3842bf133330c82e7b">coro::Shape::buildFrom</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">bool</span> HasFinalSuspend = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordtype">bool</span> HasUnwindCoroEnd = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordtype">size_t</span> FinalSuspendIndex = 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="Coroutines_8cpp.html#ac781ce96aa25ba7f6fd38f72de665450">clear</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CoroFrameInst *, 8&gt;</a> CoroFrames;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CoroSaveInst *, 2&gt;</a> UnusedCoroSaves;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> II = dyn_cast&lt;IntrinsicInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_size:</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        CoroSizes.push_back(cast&lt;CoroSizeInst&gt;(II));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_align:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        CoroAligns.push_back(cast&lt;CoroAlignInst&gt;(II));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_frame:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        CoroFrames.push_back(cast&lt;CoroFrameInst&gt;(II));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_save:</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="comment">// After optimizations, coro_suspends using this coro_save might have</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="comment">// been removed, remember orphaned coro_saves to remove them later.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (II-&gt;use_empty())</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          UnusedCoroSaves.push_back(cast&lt;CoroSaveInst&gt;(II));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_suspend_async: {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keyword">auto</span> *Suspend = cast&lt;CoroSuspendAsyncInst&gt;(II);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        Suspend-&gt;checkWellFormed();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        CoroSuspends.push_back(Suspend);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_suspend_retcon: {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keyword">auto</span> Suspend = cast&lt;CoroSuspendRetconInst&gt;(II);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        CoroSuspends.push_back(Suspend);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_suspend: {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keyword">auto</span> Suspend = cast&lt;CoroSuspendInst&gt;(II);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        CoroSuspends.push_back(Suspend);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (Suspend-&gt;isFinal()) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <span class="keywordflow">if</span> (HasFinalSuspend)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;              <span class="stringliteral">&quot;Only one suspend point can be marked as final&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          HasFinalSuspend = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          FinalSuspendIndex = CoroSuspends.size() - 1;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_begin: {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keyword">auto</span> CB = cast&lt;CoroBeginInst&gt;(II);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="comment">// Ignore coro id&#39;s that aren&#39;t pre-split.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a> = dyn_cast&lt;CoroIdInst&gt;(CB-&gt;getId());</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a> &amp;&amp; !<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>-&gt;getInfo().isPreSplit())</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (CoroBegin)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="stringliteral">&quot;coroutine should have exactly one defining @llvm.coro.begin&quot;</span>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        CB-&gt;addRetAttr(Attribute::NonNull);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        CB-&gt;addRetAttr(Attribute::NoAlias);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        CB-&gt;removeFnAttr(Attribute::NoDuplicate);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        CoroBegin = CB;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_end_async:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">case</span> Intrinsic::coro_end:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        CoroEnds.push_back(cast&lt;AnyCoroEndInst&gt;(II));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AsyncEnd = dyn_cast&lt;CoroAsyncEndInst&gt;(II)) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          AsyncEnd-&gt;checkWellFormed();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (CoroEnds.back()-&gt;isUnwind())</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          HasUnwindCoroEnd = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">if</span> (CoroEnds.back()-&gt;isFallthrough() &amp;&amp; isa&lt;CoroEndInst&gt;(II)) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          <span class="comment">// Make sure that the fallthrough coro.end is the first element in the</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <span class="comment">// CoroEnds vector.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          <span class="comment">// Note: I don&#39;t think this is neccessary anymore.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="keywordflow">if</span> (CoroEnds.size() &gt; 1) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">if</span> (CoroEnds.front()-&gt;isFallthrough())</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;              <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                  <span class="stringliteral">&quot;Only one coro.end can be marked as fallthrough&quot;</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CoroEnds.front(), CoroEnds.back());</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// If for some reason, we were not able to find coro.begin, bailout.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">if</span> (!CoroBegin) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// Replace coro.frame which are supposed to be lowered to the result of</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// coro.begin with undef.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a> = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getContext()));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CoroFrameInst.html">CoroFrameInst</a> *CF : CoroFrames) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      CF-&gt;replaceAllUsesWith(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      CF-&gt;eraseFromParent();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Replace all coro.suspend with undef and remove related coro.saves if</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// present.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1AnyCoroSuspendInst.html">AnyCoroSuspendInst</a> *CS : CoroSuspends) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      CS-&gt;replaceAllUsesWith(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(CS-&gt;getType()));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      CS-&gt;eraseFromParent();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CoroSave = CS-&gt;getCoroSave())</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        CoroSave-&gt;eraseFromParent();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Replace all coro.ends with unreachable instruction.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1AnyCoroEndInst.html">AnyCoroEndInst</a> *CE : CoroEnds)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(CE);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a> = CoroBegin-&gt;getId();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">switch</span> (<span class="keyword">auto</span> IdIntrinsic = <a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">case</span> Intrinsic::coro_id: {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">auto</span> SwitchId = cast&lt;CoroIdInst&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    this-&gt;<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">ABI</a> = <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">coro::ABI::Switch</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    this-&gt;SwitchLowering.HasFinalSuspend = HasFinalSuspend;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    this-&gt;SwitchLowering.HasUnwindCoroEnd = HasUnwindCoroEnd;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    this-&gt;SwitchLowering.ResumeSwitch = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    this-&gt;SwitchLowering.PromiseAlloca = SwitchId-&gt;getPromise();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    this-&gt;SwitchLowering.ResumeEntryBlock = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *AnySuspend : CoroSuspends) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keyword">auto</span> Suspend = dyn_cast&lt;CoroSuspendInst&gt;(AnySuspend);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (!Suspend) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        AnySuspend-&gt;dump();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;coro.id must be paired with coro.suspend&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (!Suspend-&gt;getCoroSave())</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="Coroutines_8cpp.html#af87e25c71bc27228ee06facac0576a0c">createCoroSave</a>(CoroBegin, Suspend);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">case</span> Intrinsic::coro_id_async: {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">auto</span> *AsyncId = cast&lt;CoroIdAsyncInst&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    AsyncId-&gt;checkWellFormed();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    this-&gt;<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">ABI</a> = <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a24aa4117da86c41684ad25742832dfa6">coro::ABI::Async</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    this-&gt;AsyncLowering.Context = AsyncId-&gt;getStorage();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    this-&gt;AsyncLowering.ContextArgNo = AsyncId-&gt;getStorageArgumentIndex();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    this-&gt;AsyncLowering.ContextHeaderSize = AsyncId-&gt;getStorageSize();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    this-&gt;AsyncLowering.ContextAlignment =</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        AsyncId-&gt;getStorageAlignment().value();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    this-&gt;AsyncLowering.AsyncFuncPointer = AsyncId-&gt;getAsyncFunctionPointer();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    this-&gt;AsyncLowering.AsyncCC = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  };</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">case</span> Intrinsic::coro_id_retcon:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">case</span> Intrinsic::coro_id_retcon_once: {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">auto</span> ContinuationId = cast&lt;AnyCoroIdRetconInst&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    ContinuationId-&gt;checkWellFormed();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    this-&gt;<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">ABI</a> = (IdIntrinsic == Intrinsic::coro_id_retcon</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                  ? <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380aad9d7f07127e321d1358b695c8720166">coro::ABI::Retcon</a></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                  : <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a6ec6c15fe79ec2274d2c3e79ae4bcc41">coro::ABI::RetconOnce</a>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">Prototype</a> = ContinuationId-&gt;getPrototype();</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    this-&gt;RetconLowering.ResumePrototype = <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">Prototype</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    this-&gt;RetconLowering.Alloc = ContinuationId-&gt;getAllocFunction();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    this-&gt;RetconLowering.Dealloc = ContinuationId-&gt;getDeallocFunction();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    this-&gt;RetconLowering.ReturnBlock = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    this-&gt;RetconLowering.IsFrameInlineInStorage = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">// Determine the result value types, and make sure they match up with</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// the values passed to the suspends.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">auto</span> ResultTys = getRetconResultTypes();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keyword">auto</span> ResumeTys = getRetconResumeTypes();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *AnySuspend : CoroSuspends) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keyword">auto</span> Suspend = dyn_cast&lt;CoroSuspendRetconInst&gt;(AnySuspend);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (!Suspend) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        AnySuspend-&gt;dump();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;coro.id.retcon.* must be paired with &quot;</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                           <span class="stringliteral">&quot;coro.suspend.retcon&quot;</span>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// Check that the argument types of the suspend match the results.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = Suspend-&gt;value_begin(), SE = Suspend-&gt;value_end();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keyword">auto</span> RI = ResultTys.begin(), RE = ResultTys.end();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">for</span> (; <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != SE &amp;&amp; RI != RE; ++<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, ++RI) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keyword">auto</span> SrcTy = (*SI)-&gt;getType();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> (SrcTy != *RI) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          <span class="comment">// The optimizer likes to eliminate bitcasts leading into variadic</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          <span class="comment">// calls, but that messes with our invariants.  Re-insert the</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          <span class="comment">// bitcast and ignore this type mismatch.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CastInst.html#aa2915714199e899f7766d49f87ec2ad6">CastInst::isBitCastable</a>(SrcTy, *RI)) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keyword">auto</span> BCI = <span class="keyword">new</span> <a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a>(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, *RI, <span class="stringliteral">&quot;&quot;</span>, Suspend);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;set(BCI);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          Suspend-&gt;dump();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">Prototype</a>-&gt;getFunctionType()-&gt;dump();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;argument to coro.suspend.retcon does not &quot;</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                             <span class="stringliteral">&quot;match corresponding prototype function result&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != SE || RI != RE) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        Suspend-&gt;dump();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">Prototype</a>-&gt;getFunctionType()-&gt;dump();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;wrong number of arguments to coro.suspend.retcon&quot;</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">// Check that the result type of the suspend matches the resume types.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *SResultTy = Suspend-&gt;getType();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Type*&gt;</a> SuspendResultTys;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">if</span> (SResultTy-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>()) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// leave as empty array</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> SResultStructTy = dyn_cast&lt;StructType&gt;(SResultTy)) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        SuspendResultTys = SResultStructTy-&gt;elements();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="comment">// forms an ArrayRef using SResultTy, be careful</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        SuspendResultTys = SResultTy;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (SuspendResultTys.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() != ResumeTys.size()) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        Suspend-&gt;<a class="code" href="classllvm_1_1Type.html#a90c89709fd5e5e1d96455aec8b0c3916">dump</a>();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">Prototype</a>-&gt;getFunctionType()-&gt;dump();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;wrong number of results from coro.suspend.retcon&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = ResumeTys.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">if</span> (SuspendResultTys[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] != ResumeTys[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          Suspend-&gt;dump();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">Prototype</a>-&gt;getFunctionType()-&gt;dump();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;result from coro.suspend.retcon does not &quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                             <span class="stringliteral">&quot;match corresponding prototype function param&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;coro.begin is not dependent on a coro.id call&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// The coro.free intrinsic is always lowered to the result of coro.begin.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CoroFrameInst.html">CoroFrameInst</a> *CF : CoroFrames) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    CF-&gt;replaceAllUsesWith(CoroBegin);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    CF-&gt;eraseFromParent();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// Move final suspend to be the last element in the CoroSuspends vector.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">ABI</a> == <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">coro::ABI::Switch</a> &amp;&amp;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      SwitchLowering.HasFinalSuspend &amp;&amp;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      FinalSuspendIndex != CoroSuspends.size() - 1)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CoroSuspends[FinalSuspendIndex], CoroSuspends.back());</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// Remove orphaned coro.saves.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CoroSaveInst.html">CoroSaveInst</a> *CoroSave : UnusedCoroSaves)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    CoroSave-&gt;eraseFromParent();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a4541bd6496be4d9b8be992774e81c71e">  443</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#a4541bd6496be4d9b8be992774e81c71e">propagateCallAttrsFromCallee</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  Call-&gt;setCallingConv(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getCallingConv());</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">// TODO: attributes?</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#ae67da287e739d52afd1dad7fd1dd577f">  448</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#ae67da287e739d52afd1dad7fd1dd577f">addCallToCallGraph</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> *CG, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee){</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (CG)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    (*CG)[Call-&gt;getFunction()]-&gt;addCalledFunction(Call, (*CG)[<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>]);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="structllvm_1_1coro_1_1Shape.html#a78fa8f84df72aa178f82c9421b0cf387">  453</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1coro_1_1Shape.html#a78fa8f84df72aa178f82c9421b0cf387">coro::Shape::emitAlloc</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Size,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                              <a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> *CG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">ABI</a>) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">coro::ABI::Switch</a>:</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;can&#39;t allocate memory in coro switch-lowering&quot;</span>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380aad9d7f07127e321d1358b695c8720166">coro::ABI::Retcon</a>:</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a6ec6c15fe79ec2274d2c3e79ae4bcc41">coro::ABI::RetconOnce</a>: {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keyword">auto</span> Alloc = RetconLowering.Alloc;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    Size = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIntCast(Size,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                 Alloc-&gt;getFunctionType()-&gt;getParamType(0),</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                 <span class="comment">/*is signed*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keyword">auto</span> *Call = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Alloc, Size);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a4541bd6496be4d9b8be992774e81c71e">propagateCallAttrsFromCallee</a>(Call, Alloc);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="Coroutines_8cpp.html#ae67da287e739d52afd1dad7fd1dd577f">addCallToCallGraph</a>(CG, Call, Alloc);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> Call;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a24aa4117da86c41684ad25742832dfa6">coro::ABI::Async</a>:</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;can&#39;t allocate memory in coro async-lowering&quot;</span>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown coro::ABI enum&quot;</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="structllvm_1_1coro_1_1Shape.html#acad2aaa7f484c978bb790533eec90ac4">  476</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1coro_1_1Shape.html#acad2aaa7f484c978bb790533eec90ac4">coro::Shape::emitDealloc</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                              <a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> *CG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">ABI</a>) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">coro::ABI::Switch</a>:</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;can&#39;t allocate memory in coro switch-lowering&quot;</span>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380aad9d7f07127e321d1358b695c8720166">coro::ABI::Retcon</a>:</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a6ec6c15fe79ec2274d2c3e79ae4bcc41">coro::ABI::RetconOnce</a>: {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keyword">auto</span> Dealloc = RetconLowering.Dealloc;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                Dealloc-&gt;getFunctionType()-&gt;getParamType(0));</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keyword">auto</span> *Call = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Dealloc, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a4541bd6496be4d9b8be992774e81c71e">propagateCallAttrsFromCallee</a>(Call, Dealloc);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <a class="code" href="Coroutines_8cpp.html#ae67da287e739d52afd1dad7fd1dd577f">addCallToCallGraph</a>(CG, Call, Dealloc);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a24aa4117da86c41684ad25742832dfa6">coro::ABI::Async</a>:</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;can&#39;t allocate memory in coro async-lowering&quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown coro::ABI enum&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">  498</a></span>&#160;[[noreturn]] <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *Reason,</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                              <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;dump();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span> (V) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;  Value: &quot;</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    V-&gt;<a class="code" href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">printAsOperand</a>(<a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a>());</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(Reason);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">/// Check that the given value is a well-formed prototype for the</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/// llvm.coro.id.retcon.* intrinsics.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a407e09d1f99eca22657b7525cb7f2f51">  513</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#a407e09d1f99eca22657b7525cb7f2f51">checkWFRetconPrototype</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1AnyCoroIdRetconInst.html">AnyCoroIdRetconInst</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(V-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.id.retcon.* prototype not a Function&quot;</span>, V);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keyword">auto</span> FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CoroIdRetconInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">bool</span> ResultOkay;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;getReturnType()-&gt;isPointerTy()) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      ResultOkay = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> SRetTy = dyn_cast&lt;StructType&gt;(FT-&gt;getReturnType())) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      ResultOkay = (!SRetTy-&gt;isOpaque() &amp;&amp;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    SRetTy-&gt;getNumElements() &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    SRetTy-&gt;getElementType(0)-&gt;isPointerTy());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      ResultOkay = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (!ResultOkay)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.id.retcon prototype must return pointer as first &quot;</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;              <span class="stringliteral">&quot;result&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;getReturnType() !=</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFunction()-&gt;getFunctionType()-&gt;getReturnType())</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.id.retcon prototype return type must be same as&quot;</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;              <span class="stringliteral">&quot;current function return type&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">// No meaningful validation to do here for llvm.coro.id.unique.once.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;getNumParams() == 0 || !FT-&gt;getParamType(0)-&gt;isPointerTy())</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.id.retcon.* prototype must take pointer as &quot;</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="stringliteral">&quot;its first parameter&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/// Check that the given value is a well-formed allocator.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#ad78e68905571b17d6714adb8b239fbec">  549</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#ad78e68905571b17d6714adb8b239fbec">checkWFAlloc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(V-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.* allocator not a Function&quot;</span>, V);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keyword">auto</span> FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">if</span> (!FT-&gt;getReturnType()-&gt;isPointerTy())</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.* allocator must return a pointer&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;getNumParams() != 1 ||</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      !FT-&gt;getParamType(0)-&gt;isIntegerTy())</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.* allocator must take integer as only param&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/// Check that the given value is a well-formed deallocator.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a08034766073114cf648d6755a8c6fff9">  564</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#a08034766073114cf648d6755a8c6fff9">checkWFDealloc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(V-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.* deallocator not a Function&quot;</span>, V);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keyword">auto</span> FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (!FT-&gt;getReturnType()-&gt;isVoidTy())</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.* deallocator must return void&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;getNumParams() != 1 ||</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      !FT-&gt;getParamType(0)-&gt;isPointerTy())</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.* deallocator must take pointer as only param&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">  578</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span> *Reason) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ConstantInt&gt;(V)) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Reason, V);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="classllvm_1_1AnyCoroIdRetconInst.html#a5af505d92ab7180dda5a7fa14fa24dfd">  585</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AnyCoroIdRetconInst.html#a5af505d92ab7180dda5a7fa14fa24dfd">AnyCoroIdRetconInst::checkWellFormed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a>(<span class="keyword">this</span>, getArgOperand(SizeArg),</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                   <span class="stringliteral">&quot;size argument to coro.id.retcon.* must be constant&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a>(<span class="keyword">this</span>, getArgOperand(AlignArg),</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                   <span class="stringliteral">&quot;alignment argument to coro.id.retcon.* must be constant&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a407e09d1f99eca22657b7525cb7f2f51">checkWFRetconPrototype</a>(<span class="keyword">this</span>, getArgOperand(PrototypeArg));</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="Coroutines_8cpp.html#ad78e68905571b17d6714adb8b239fbec">checkWFAlloc</a>(<span class="keyword">this</span>, getArgOperand(AllocArg));</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a08034766073114cf648d6755a8c6fff9">checkWFDealloc</a>(<span class="keyword">this</span>, getArgOperand(DeallocArg));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#afab9b41ee90b1a38be566c582f290272">  595</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#afab9b41ee90b1a38be566c582f290272">checkAsyncFuncPointer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keyword">auto</span> *AsyncFuncPtrAddr = dyn_cast&lt;GlobalVariable&gt;(V-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>());</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">if</span> (!AsyncFuncPtrAddr)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="stringliteral">&quot;llvm.coro.id.async async function pointer not a global&quot;</span>, V);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (AsyncFuncPtrAddr-&gt;getType()-&gt;isOpaquePointerTy())</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keyword">auto</span> *StructTy = cast&lt;StructType&gt;(</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      AsyncFuncPtrAddr-&gt;getType()-&gt;getNonOpaquePointerElementType());</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">if</span> (StructTy-&gt;isOpaque() || !StructTy-&gt;isPacked() ||</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      StructTy-&gt;getNumElements() != 2 ||</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      !StructTy-&gt;getElementType(0)-&gt;isIntegerTy(32) ||</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      !StructTy-&gt;getElementType(1)-&gt;isIntegerTy(32))</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;         <span class="stringliteral">&quot;llvm.coro.id.async async function pointer argument&#39;s type is not &quot;</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;         <span class="stringliteral">&quot;&lt;{i32, i32}&gt;&quot;</span>,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;         V);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classllvm_1_1CoroIdAsyncInst.html#aa384a27e0cb9e2e608147d53aa927cdd">  615</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1CoroIdAsyncInst.html#aa384a27e0cb9e2e608147d53aa927cdd">CoroIdAsyncInst::checkWellFormed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a>(<span class="keyword">this</span>, getArgOperand(SizeArg),</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                   <span class="stringliteral">&quot;size argument to coro.id.async must be constant&quot;</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a>(<span class="keyword">this</span>, getArgOperand(AlignArg),</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                   <span class="stringliteral">&quot;alignment argument to coro.id.async must be constant&quot;</span>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a>(<span class="keyword">this</span>, getArgOperand(StorageArg),</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                   <span class="stringliteral">&quot;storage argument offset to coro.id.async must be constant&quot;</span>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <a class="code" href="Coroutines_8cpp.html#afab9b41ee90b1a38be566c582f290272">checkAsyncFuncPointer</a>(<span class="keyword">this</span>, getArgOperand(AsyncFuncPtrArg));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="Coroutines_8cpp.html#a7c623da681f3f332044b8dc9c02f0005">  625</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#a7c623da681f3f332044b8dc9c02f0005">checkAsyncContextProjectFunction</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                                             <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keyword">auto</span> *FunTy = cast&lt;FunctionType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getValueType());</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Ty = <a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getContext());</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keyword">auto</span> *RetPtrTy = dyn_cast&lt;PointerType&gt;(FunTy-&gt;getReturnType());</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (!RetPtrTy || !RetPtrTy-&gt;isOpaqueOrPointeeTypeMatches(Int8Ty))</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         <span class="stringliteral">&quot;llvm.coro.suspend.async resume function projection function must &quot;</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;         <span class="stringliteral">&quot;return an i8* type&quot;</span>,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;         <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">if</span> (FunTy-&gt;getNumParams() != 1 || !FunTy-&gt;getParamType(0)-&gt;isPointerTy() ||</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      !cast&lt;PointerType&gt;(FunTy-&gt;getParamType(0))</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;           -&gt;isOpaqueOrPointeeTypeMatches(Int8Ty))</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;         <span class="stringliteral">&quot;llvm.coro.suspend.async resume function projection function must &quot;</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;         <span class="stringliteral">&quot;take one i8* type as parameter&quot;</span>,</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;         <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="classllvm_1_1CoroSuspendAsyncInst.html#abeae68040091a1014e6f3c5c4bf58187">  644</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1CoroSuspendAsyncInst.html#abeae68040091a1014e6f3c5c4bf58187">CoroSuspendAsyncInst::checkWellFormed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <a class="code" href="Coroutines_8cpp.html#a7c623da681f3f332044b8dc9c02f0005">checkAsyncContextProjectFunction</a>(<span class="keyword">this</span>, getAsyncContextProjectionFunction());</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="classllvm_1_1CoroAsyncEndInst.html#a38f76f44c524e7bbe9443b7d83c1e6ea">  648</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1CoroAsyncEndInst.html#a38f76f44c524e7bbe9443b7d83c1e6ea">CoroAsyncEndInst::checkWellFormed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keyword">auto</span> *MustTailCallFunc = getMustTailCallFunction();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">if</span> (!MustTailCallFunc)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keyword">auto</span> *FnTy = MustTailCallFunc-&gt;getFunctionType();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">if</span> (FnTy-&gt;getNumParams() != (arg_size() - 3))</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a>(<span class="keyword">this</span>,</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;         <span class="stringliteral">&quot;llvm.coro.end.async must tail call function argument type must &quot;</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;         <span class="stringliteral">&quot;match the tail arguments&quot;</span>,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         MustTailCallFunc);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_a48b7ab2f26b9e2bc67de02229a1cdd1f"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#a48b7ab2f26b9e2bc67de02229a1cdd1f">llvm::coro::Shape::CoroSizes</a></div><div class="ttdeci">SmallVector&lt; CoroSizeInst *, 2 &gt; CoroSizes</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00076">CoroInternal.h:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">llvm::RegState::Undef</a></div><div class="ttdeci">@ Undef</div><div class="ttdoc">Value of the register doesn't matter.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00052">MachineInstrBuilder.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroIdAsyncInst_html_aa384a27e0cb9e2e608147d53aa927cdd"><div class="ttname"><a href="classllvm_1_1CoroIdAsyncInst.html#aa384a27e0cb9e2e608147d53aa927cdd">llvm::CoroIdAsyncInst::checkWellFormed</a></div><div class="ttdeci">void checkWellFormed() const</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00615">Coroutines.cpp:615</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ba3a5be6c0e9b9e8a525de055836733"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">llvm::Instruction::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this instruction belongs to or nullptr it the function does not...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00070">Instruction.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnyCoroSuspendInst_html"><div class="ttname"><a href="classllvm_1_1AnyCoroSuspendInst.html">llvm::AnyCoroSuspendInst</a></div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00477">CoroInstr.h:477</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_a24c5fed9b14aed8a3b4f3828472fbab5"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#a24c5fed9b14aed8a3b4f3828472fbab5">llvm::coro::Shape::FrameTy</a></div><div class="ttdeci">StructType * FrameTy</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00098">CoroInternal.h:98</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnyCoroIdRetconInst_html_a5af505d92ab7180dda5a7fa14fa24dfd"><div class="ttname"><a href="classllvm_1_1AnyCoroIdRetconInst.html#a5af505d92ab7180dda5a7fa14fa24dfd">llvm::AnyCoroIdRetconInst::checkWellFormed</a></div><div class="ttdeci">void checkWellFormed() const</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00585">Coroutines.cpp:585</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_af87e25c71bc27228ee06facac0576a0c"><div class="ttname"><a href="Coroutines_8cpp.html#af87e25c71bc27228ee06facac0576a0c">createCoroSave</a></div><div class="ttdeci">static CoroSaveInst * createCoroSave(CoroBeginInst *CoroBegin, CoroSuspendInst *SuspendInst)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00160">Coroutines.cpp:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05258">Instructions.h:5258</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_ad78e68905571b17d6714adb8b239fbec"><div class="ttname"><a href="Coroutines_8cpp.html#ad78e68905571b17d6714adb8b239fbec">checkWFAlloc</a></div><div class="ttdeci">static void checkWFAlloc(const Instruction *I, Value *V)</div><div class="ttdoc">Check that the given value is a well-formed allocator.</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00549">Coroutines.cpp:549</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroSubFnInst_html_abb112419696544e53611285949f18783a7f071cefc72afebf79d307be94d25881"><div class="ttname"><a href="classllvm_1_1CoroSubFnInst.html#abb112419696544e53611285949f18783a7f071cefc72afebf79d307be94d25881">llvm::CoroSubFnInst::IndexFirst</a></div><div class="ttdeci">@ IndexFirst</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00045">CoroInstr.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegacyLegalizeActions_html_ad25716c86372dafbf624b34891685078a031174d0f974cf1041a9cadb84f0dcbf"><div class="ttname"><a href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a031174d0f974cf1041a9cadb84f0dcbf">llvm::LegacyLegalizeActions::Bitcast</a></div><div class="ttdeci">@ Bitcast</div><div class="ttdoc">Perform the operation on a different, but equivalently sized type.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00054">LegacyLegalizerInfo.h:54</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a36a5e731a6e92a83c26e5fee63d12380aad9d7f07127e321d1358b695c8720166"><div class="ttname"><a href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380aad9d7f07127e321d1358b695c8720166">llvm::coro::ABI::Retcon</a></div><div class="ttdeci">@ Retcon</div><div class="ttdoc">The &quot;returned-continuation&quot; lowering, where each suspend point creates a single continuation function...</div></div>
<div class="ttc" id="aclassllvm_1_1CoroSaveInst_html"><div class="ttname"><a href="classllvm_1_1CoroSaveInst.html">llvm::CoroSaveInst</a></div><div class="ttdoc">This represents the llvm.coro.save instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00440">CoroInstr.h:440</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraph_html"><div class="ttname"><a href="classllvm_1_1CallGraph.html">llvm::CallGraph</a></div><div class="ttdoc">The basic data container for the call graph of a Module of IR.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00072">CallGraph.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b"><div class="ttname"><a href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380abbc155fb2b111bf61c4f5ff892915e6b">llvm::coro::ABI::Switch</a></div><div class="ttdeci">@ Switch</div><div class="ttdoc">The &quot;resume-switch&quot; lowering, where there are separate resume and destroy functions that are shared b...</div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1LowererBase_html_a55deefb03edc6423560dd17b89221192"><div class="ttname"><a href="structllvm_1_1coro_1_1LowererBase.html#a55deefb03edc6423560dd17b89221192">llvm::coro::LowererBase::makeSubFnCall</a></div><div class="ttdeci">Value * makeSubFnCall(Value *Arg, int Index, Instruction *InsertPt)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00051">Coroutines.cpp:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a286962b7a05ffddde6e4a118fdee12c1"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a286962b7a05ffddde6e4a118fdee12c1">llvm::Intrinsic::lookupLLVMIntrinsicByName</a></div><div class="ttdeci">int lookupLLVMIntrinsicByName(ArrayRef&lt; const char * &gt; NameTable, StringRef Name)</div><div class="ttdoc">Looks up Name in NameTable via binary search.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00231">IntrinsicInst.cpp:231</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a6e95f844cc43fa4786df11ea5a1a3f10"><div class="ttname"><a href="namespacellvm_1_1coro.html#a6e95f844cc43fa4786df11ea5a1a3f10">llvm::coro::declaresIntrinsics</a></div><div class="ttdeci">bool declaresIntrinsics(const Module &amp;M, const std::initializer_list&lt; StringRef &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00117">Coroutines.cpp:117</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a7c623da681f3f332044b8dc9c02f0005"><div class="ttname"><a href="Coroutines_8cpp.html#a7c623da681f3f332044b8dc9c02f0005">checkAsyncContextProjectFunction</a></div><div class="ttdeci">static void checkAsyncContextProjectFunction(const Instruction *I, Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00625">Coroutines.cpp:625</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroFreeInst_html"><div class="ttname"><a href="classllvm_1_1CoroFreeInst.html">llvm::CoroFreeInst</a></div><div class="ttdoc">This represents the llvm.coro.free instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00404">CoroInstr.h:404</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a3082ae4a8ca81817f635fe2c8b1a5c06"><div class="ttname"><a href="Coroutines_8cpp.html#a3082ae4a8ca81817f635fe2c8b1a5c06">fail</a></div><div class="ttdeci">static void fail(const Instruction *I, const char *Reason, Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00498">Coroutines.cpp:498</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroSubFnInst_html_abb112419696544e53611285949f18783a58b9f8fca63b134dd0064f54736c7acd"><div class="ttname"><a href="classllvm_1_1CoroSubFnInst.html#abb112419696544e53611285949f18783a58b9f8fca63b134dd0064f54736c7acd">llvm::CoroSubFnInst::IndexLast</a></div><div class="ttdeci">@ IndexLast</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00044">CoroInstr.h:44</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_acad2aaa7f484c978bb790533eec90ac4"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#acad2aaa7f484c978bb790533eec90ac4">llvm::coro::Shape::emitDealloc</a></div><div class="ttdeci">void emitDealloc(IRBuilder&lt;&gt; &amp;Builder, Value *Ptr, CallGraph *CG) const</div><div class="ttdoc">Deallocate memory according to the rules of the active lowering.</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00476">Coroutines.cpp:476</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_afab9b41ee90b1a38be566c582f290272"><div class="ttname"><a href="Coroutines_8cpp.html#afab9b41ee90b1a38be566c582f290272">checkAsyncFuncPointer</a></div><div class="ttdeci">static void checkAsyncFuncPointer(const Instruction *I, Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00595">Coroutines.cpp:595</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_ac781ce96aa25ba7f6fd38f72de665450"><div class="ttname"><a href="Coroutines_8cpp.html#ac781ce96aa25ba7f6fd38f72de665450">clear</a></div><div class="ttdeci">static void clear(coro::Shape &amp;Shape)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00149">Coroutines.cpp:149</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73257f51950d9ea50955e3fb9c724a25"><div class="ttname"><a href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">llvm::get</a></div><div class="ttdeci">decltype(auto) get(const PointerIntPair&lt; PointerTy, IntBits, IntType, PtrTraits, Info &gt; &amp;Pair)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00234">PointerIntPair.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantPointerNull_html"><div class="ttname"><a href="classllvm_1_1ConstantPointerNull.html">llvm::ConstantPointerNull</a></div><div class="ttdoc">A constant pointer value that points to null.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00534">Constants.h:534</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_ae3a9a76ce45cff6c0385091993bccdcc"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#ae3a9a76ce45cff6c0385091993bccdcc">llvm::coro::Shape::AllocaSpillBlock</a></div><div class="ttdeci">BasicBlock * AllocaSpillBlock</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00102">CoroInternal.h:102</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_ad4028404ed3e36c37bdf99be6b1e1567"><div class="ttname"><a href="Coroutines_8cpp.html#ad4028404ed3e36c37bdf99be6b1e1567">CoroIntrinsics</a></div><div class="ttdeci">static const char *const CoroIntrinsics[]</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00067">Coroutines.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a850d8262cd900958b3153c4aa080b2bb"><div class="ttname"><a href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(FunctionType *Ty, Value *F, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01528">Instructions.h:1528</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a54712266347f5cc2d33ad2c375426e45"><div class="ttname"><a href="namespacellvm_1_1coro.html#a54712266347f5cc2d33ad2c375426e45">llvm::coro::declaresAnyIntrinsic</a></div><div class="ttdeci">bool declaresAnyIntrinsic(const Module &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00105">Coroutines.cpp:105</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroSuspendInst_html"><div class="ttname"><a href="classllvm_1_1CoroSuspendInst.html">llvm::CoroSuspendInst</a></div><div class="ttdoc">This represents the llvm.coro.suspend instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00493">CoroInstr.h:493</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_a5fd0aa934908c837c6d78097a2fd667b"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#a5fd0aa934908c837c6d78097a2fd667b">llvm::coro::Shape::CoroSuspends</a></div><div class="ttdeci">SmallVector&lt; AnyCoroSuspendInst *, 4 &gt; CoroSuspends</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00078">CoroInternal.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_adc470e92d3cd5fb8d54d7b9179841463"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#adc470e92d3cd5fb8d54d7b9179841463">llvm::coro::Shape::CoroEnds</a></div><div class="ttdeci">SmallVector&lt; AnyCoroEndInst *, 4 &gt; CoroEnds</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00075">CoroInternal.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_abf799de7147065c0e7f525e1b6009dde"><div class="ttname"><a href="namespacellvm_1_1coro.html#abf799de7147065c0e7f525e1b6009dde">llvm::coro::replaceCoroFree</a></div><div class="ttdeci">void replaceCoroFree(CoroIdInst *CoroId, bool Elide)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00130">Coroutines.cpp:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroSuspendAsyncInst_html_abeae68040091a1014e6f3c5c4bf58187"><div class="ttname"><a href="classllvm_1_1CoroSuspendAsyncInst.html#abeae68040091a1014e6f3c5c4bf58187">llvm::CoroSuspendAsyncInst::checkWellFormed</a></div><div class="ttdeci">void checkWellFormed() const</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00644">Coroutines.cpp:644</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1LowererBase_html_a2febb7f3cf36434914eef0bbc61818f0"><div class="ttname"><a href="structllvm_1_1coro_1_1LowererBase.html#a2febb7f3cf36434914eef0bbc61818f0">llvm::coro::LowererBase::LowererBase</a></div><div class="ttdeci">LowererBase(Module &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00038">Coroutines.cpp:38</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html">llvm::coro::Shape</a></div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00073">CoroInternal.h:73</a></div></div>
<div class="ttc" id="aCoroInternal_8h_html"><div class="ttname"><a href="CoroInternal_8h.html">CoroInternal.h</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a407e09d1f99eca22657b7525cb7f2f51"><div class="ttname"><a href="Coroutines_8cpp.html#a407e09d1f99eca22657b7525cb7f2f51">checkWFRetconPrototype</a></div><div class="ttdeci">static void checkWFRetconPrototype(const AnyCoroIdRetconInst *I, Value *V)</div><div class="ttdoc">Check that the given value is a well-formed prototype for the llvm.coro.id.retcon.</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00513">Coroutines.cpp:513</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantPointerNull_html_a96f5c85e4022e369266541b2db3fda69"><div class="ttname"><a href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">llvm::ConstantPointerNull::get</a></div><div class="ttdeci">static ConstantPointerNull * get(PointerType *T)</div><div class="ttdoc">Static factory methods - Return objects of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01707">Constants.cpp:1707</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a4541bd6496be4d9b8be992774e81c71e"><div class="ttname"><a href="Coroutines_8cpp.html#a4541bd6496be4d9b8be992774e81c71e">propagateCallAttrsFromCallee</a></div><div class="ttdeci">static void propagateCallAttrsFromCallee(CallInst *Call, Function *Callee)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00443">Coroutines.cpp:443</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a36a5e731a6e92a83c26e5fee63d12380a24aa4117da86c41684ad25742832dfa6"><div class="ttname"><a href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a24aa4117da86c41684ad25742832dfa6">llvm::coro::ABI::Async</a></div><div class="ttdeci">@ Async</div><div class="ttdoc">The &quot;async continuation&quot; lowering, where each suspend point creates a single continuation function.</div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ae8eaa0b4eeac52a2b2282cb1bfd981ae"><div class="ttname"><a href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const</div><div class="ttdoc">Return true if this is 'void'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroFrameInst_html"><div class="ttname"><a href="classllvm_1_1CoroFrameInst.html">llvm::CoroFrameInst</a></div><div class="ttdoc">This represents the llvm.coro.frame instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00392">CoroInstr.h:392</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a62213d5211c9d944e5ede1f0059a6ae2"><div class="ttname"><a href="classllvm_1_1Value.html#a62213d5211c9d944e5ede1f0059a6ae2">llvm::Value::printAsOperand</a></div><div class="ttdeci">void printAsOperand(raw_ostream &amp;O, bool PrintType=true, const Module *M=nullptr) const</div><div class="ttdoc">Print the name of this Value out to the specified raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l04782">AsmWriter.cpp:4782</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTXISD_html_ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba05ea3ee8cad517f3e45adae1b4f1d402">llvm::NVPTXISD::Prototype</a></div><div class="ttdeci">@ Prototype</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00046">NVPTXISelLowering.h:46</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroIdInst_html"><div class="ttname"><a href="classllvm_1_1CoroIdInst.html">llvm::CoroIdInst</a></div><div class="ttdoc">This represents the llvm.coro.id instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00113">CoroInstr.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a36a5e731a6e92a83c26e5fee63d12380"><div class="ttname"><a href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380">llvm::coro::ABI</a></div><div class="ttdeci">ABI</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00046">CoroInternal.h:46</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_abfb56acef5d60fefb2edc417f0bfbda0"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#abfb56acef5d60fefb2edc417f0bfbda0">llvm::coro::Shape::CoroBegin</a></div><div class="ttdeci">CoroBeginInst * CoroBegin</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00074">CoroInternal.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnyCoroEndInst_html"><div class="ttname"><a href="classllvm_1_1AnyCoroEndInst.html">llvm::AnyCoroEndInst</a></div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00614">CoroInstr.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_abc10b887caad109288ffceb230493a85"><div class="ttname"><a href="classllvm_1_1CallBase.html#abc10b887caad109288ffceb230493a85">llvm::CallBase::setArgOperand</a></div><div class="ttdeci">void setArgOperand(unsigned i, Value *v)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01356">InstrTypes.h:1356</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1coro_html_a36a5e731a6e92a83c26e5fee63d12380a6ec6c15fe79ec2274d2c3e79ae4bcc41"><div class="ttname"><a href="namespacellvm_1_1coro.html#a36a5e731a6e92a83c26e5fee63d12380a6ec6c15fe79ec2274d2c3e79ae4bcc41">llvm::coro::ABI::RetconOnce</a></div><div class="ttdeci">@ RetconOnce</div><div class="ttdoc">The &quot;unique returned-continuation&quot; lowering, where each suspend point creates a single continuation f...</div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_a96d1559121b2fc3842bf133330c82e7b"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#a96d1559121b2fc3842bf133330c82e7b">llvm::coro::Shape::buildFrom</a></div><div class="ttdeci">void buildFrom(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00172">Coroutines.cpp:172</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a0a443a03b6dcdb9171ffb81ed2ad4429"><div class="ttname"><a href="Coroutines_8cpp.html#a0a443a03b6dcdb9171ffb81ed2ad4429">isCoroutineIntrinsicName</a></div><div class="ttdeci">static bool isCoroutineIntrinsicName(StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00100">Coroutines.cpp:100</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_a78fa8f84df72aa178f82c9421b0cf387"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#a78fa8f84df72aa178f82c9421b0cf387">llvm::coro::Shape::emitAlloc</a></div><div class="ttdeci">Value * emitAlloc(IRBuilder&lt;&gt; &amp;Builder, Value *Size, CallGraph *CG) const</div><div class="ttdoc">Allocate memory according to the rules of the active lowering.</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00453">Coroutines.cpp:453</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroAsyncEndInst_html_a38f76f44c524e7bbe9443b7d83c1e6ea"><div class="ttname"><a href="classllvm_1_1CoroAsyncEndInst.html#a38f76f44c524e7bbe9443b7d83c1e6ea">llvm::CoroAsyncEndInst::checkWellFormed</a></div><div class="ttdeci">void checkWellFormed() const</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00648">Coroutines.cpp:648</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a90c89709fd5e5e1d96455aec8b0c3916"><div class="ttname"><a href="classllvm_1_1Type.html#a90c89709fd5e5e1d96455aec8b0c3916">llvm::Type::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l04946">AsmWriter.cpp:4946</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a394e27f50c3da62b86bfa0dbac5cf847"><div class="ttname"><a href="Coroutines_8cpp.html#a394e27f50c3da62b86bfa0dbac5cf847">checkConstantInt</a></div><div class="ttdeci">static void checkConstantInt(const Instruction *I, Value *V, const char *Reason)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00578">Coroutines.cpp:578</a></div></div>
<div class="ttc" id="aCallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnyCoroIdRetconInst_html"><div class="ttname"><a href="classllvm_1_1AnyCoroIdRetconInst.html">llvm::AnyCoroIdRetconInst</a></div><div class="ttdoc">This represents either the llvm.coro.id.retcon or llvm.coro.id.retcon.once instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00204">CoroInstr.h:204</a></div></div>
<div class="ttc" id="anamespacellvm_html_a97370114df349e0996f133e3402c1595"><div class="ttname"><a href="namespacellvm.html#a97370114df349e0996f133e3402c1595">llvm::changeToUnreachable</a></div><div class="ttdeci">unsigned changeToUnreachable(Instruction *I, bool PreserveLCSSA=false, DomTreeUpdater *DTU=nullptr, MemorySSAUpdater *MSSAU=nullptr)</div><div class="ttdoc">Insert an unreachable instruction before the specified instruction, making it and the rest of the cod...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02250">Local.cpp:2250</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroSuspendInst_html_a931c649e87e9b4229a7876755ac0b337"><div class="ttname"><a href="classllvm_1_1CoroSuspendInst.html#a931c649e87e9b4229a7876755ac0b337">llvm::CoroSuspendInst::getCoroSave</a></div><div class="ttdeci">CoroSaveInst * getCoroSave() const</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00497">CoroInstr.h:497</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_a361dad1df3e6d9b5610d40dcf49204c5"><div class="ttname"><a href="RDFGraph_8cpp.html#a361dad1df3e6d9b5610d40dcf49204c5">List</a></div><div class="ttdeci">const NodeList &amp; List</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00199">RDFGraph.cpp:199</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_a08034766073114cf648d6755a8c6fff9"><div class="ttname"><a href="Coroutines_8cpp.html#a08034766073114cf648d6755a8c6fff9">checkWFDealloc</a></div><div class="ttdeci">static void checkWFDealloc(const Instruction *I, Value *V)</div><div class="ttdoc">Check that the given value is a well-formed deallocator.</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00564">Coroutines.cpp:564</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoroBeginInst_html"><div class="ttname"><a href="classllvm_1_1CoroBeginInst.html">llvm::CoroBeginInst</a></div><div class="ttdoc">This class represents the llvm.coro.begin instruction.</div><div class="ttdef"><b>Definition:</b> <a href="CoroInstr_8h_source.html#l00420">CoroInstr.h:420</a></div></div>
<div class="ttc" id="aCoroInstr_8h_html"><div class="ttname"><a href="CoroInstr_8h.html">CoroInstr.h</a></div></div>
<div class="ttc" id="astructllvm_1_1coro_1_1Shape_html_a5eac2988672b484645dcbcd706430967"><div class="ttname"><a href="structllvm_1_1coro_1_1Shape.html#a5eac2988672b484645dcbcd706430967">llvm::coro::Shape::FramePtr</a></div><div class="ttdeci">Value * FramePtr</div><div class="ttdef"><b>Definition:</b> <a href="CoroInternal_8h_source.html#l00101">CoroInternal.h:101</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_aa2915714199e899f7766d49f87ec2ad6"><div class="ttname"><a href="classllvm_1_1CastInst.html#aa2915714199e899f7766d49f87ec2ad6">llvm::CastInst::isBitCastable</a></div><div class="ttdeci">static bool isBitCastable(Type *SrcTy, Type *DestTy)</div><div class="ttdoc">Check whether a bitcast between these types is valid.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03574">Instructions.cpp:3574</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VGPRIndexMode_html_a9afd95476c40096a5898ba0f06370b3a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">llvm::AMDGPU::VGPRIndexMode::Id</a></div><div class="ttdeci">Id</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00250">SIDefines.h:250</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_ae67da287e739d52afd1dad7fd1dd577f"><div class="ttname"><a href="Coroutines_8cpp.html#ae67da287e739d52afd1dad7fd1dd577f">addCallToCallGraph</a></div><div class="ttdeci">static void addCallToCallGraph(CallGraph *CG, CallInst *Call, Function *Callee)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00448">Coroutines.cpp:448</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:23:40 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
