<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Support/BLAKE3/blake3_sse41.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_f0dc79bace318df7ec0fa0bdb179ed95.html">Support</a></li><li class="navelem"><a class="el" href="dir_f3f0a8af2a732984d43cfee43ea2024a.html">BLAKE3</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">blake3_sse41.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="blake3__sse41_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="blake3__impl_8h.html">blake3_impl.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;immintrin.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">    5</a></span>&#160;<span class="preprocessor">#define DEGREE 4</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">    7</a></span>&#160;<span class="preprocessor">#define _mm_shuffle_ps2(a, b, c)                                               \</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">  (_mm_castps_si128(                                                           \</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">      _mm_shuffle_ps(_mm_castsi128_ps(a), _mm_castsi128_ps(b), (c))))</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">   11</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(<span class="keyword">const</span> uint8_t src[16]) {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <span class="keywordflow">return</span> _mm_loadu_si128((<span class="keyword">const</span> __m128i *)src);</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">   15</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(__m128i src, uint8_t dest[16]) {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  _mm_storeu_si128((__m128i *)dest, src);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">   19</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(__m128i <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, __m128i <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) { <span class="keywordflow">return</span> _mm_add_epi32(<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>); }</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// Note that clang-format doesn&#39;t like the name &quot;xor&quot; for some reason.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">   22</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(__m128i <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, __m128i <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) { <span class="keywordflow">return</span> _mm_xor_si128(<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>); }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">   24</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>) { <span class="keywordflow">return</span> _mm_set1_epi32((int32_t)<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>); }</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a0dca48047d04d92458c4517e41d8696e">   26</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#a0dca48047d04d92458c4517e41d8696e">set4</a>(<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a>, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>) {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">return</span> _mm_setr_epi32((int32_t)<a class="code" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a>, (int32_t)<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, (int32_t)<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a>, (int32_t)<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">   30</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(__m128i <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>) {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">return</span> _mm_shuffle_epi8(</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;      <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, _mm_set_epi8(13, 12, 15, 14, 9, 8, 11, 10, 5, 4, 7, 6, 1, 0, 3, 2));</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">   35</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(__m128i <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(_mm_srli_epi32(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, 12), _mm_slli_epi32(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, 32 - 12));</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">   39</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(__m128i <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> _mm_shuffle_epi8(</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, _mm_set_epi8(12, 15, 14, 13, 8, 11, 10, 9, 4, 7, 6, 5, 0, 3, 2, 1));</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">   44</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> __m128i <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(__m128i <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(_mm_srli_epi32(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, 7), _mm_slli_epi32(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a>, 32 - 7));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">   48</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(__m128i *row0, __m128i *row1, __m128i *row2, __m128i *row3,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;               __m128i m) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  *row0 = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(<a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(*row0, m), *row1);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  *row3 = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(*row3, *row0);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  *row3 = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(*row3);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  *row2 = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(*row2, *row3);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  *row1 = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(*row1, *row2);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  *row1 = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(*row1);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">   58</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(__m128i *row0, __m128i *row1, __m128i *row2, __m128i *row3,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;               __m128i m) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  *row0 = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(<a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(*row0, m), *row1);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  *row3 = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(*row3, *row0);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  *row3 = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(*row3);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  *row2 = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(*row2, *row3);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  *row1 = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(*row1, *row2);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  *row1 = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(*row1);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// Note the optimization here of leaving row1 as the unrotated row, rather than</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// row0. All the message loads below are adjusted to compensate for this. See</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// discussion at https://github.com/sneves/blake2-avx2/pull/4</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">   71</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(__m128i *row0, __m128i *row2, __m128i *row3) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  *row0 = _mm_shuffle_epi32(*row0, _MM_SHUFFLE(2, 1, 0, 3));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  *row3 = _mm_shuffle_epi32(*row3, _MM_SHUFFLE(1, 0, 3, 2));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  *row2 = _mm_shuffle_epi32(*row2, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">   77</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(__m128i *row0, __m128i *row2, __m128i *row3) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  *row0 = _mm_shuffle_epi32(*row0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  *row3 = _mm_shuffle_epi32(*row3, _MM_SHUFFLE(1, 0, 3, 2));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  *row2 = _mm_shuffle_epi32(*row2, _MM_SHUFFLE(2, 1, 0, 3));</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a963ad8f4da448c3d11d29a95d4881355">   83</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a963ad8f4da448c3d11d29a95d4881355">compress_pre</a>(__m128i rows[4], <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> cv[8],</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                         <span class="keyword">const</span> uint8_t <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>],</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                         uint8_t block_len, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter, uint8_t flags) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  rows[0] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>((uint8_t *)&amp;cv[0]);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  rows[1] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>((uint8_t *)&amp;cv[4]);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  rows[2] = <a class="code" href="blake3__sse41_8c.html#a0dca48047d04d92458c4517e41d8696e">set4</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[0], <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[1], <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[2], <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[3]);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  rows[3] = <a class="code" href="blake3__sse41_8c.html#a0dca48047d04d92458c4517e41d8696e">set4</a>(<a class="code" href="blake3__impl_8h.html#afeab7ac9eaa036d9400491885ab6c6eb">counter_low</a>(counter), <a class="code" href="blake3__impl_8h.html#a7ec7b2f404362ce5bc1198981707bc7e">counter_high</a>(counter),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                 (<a class="code" href="classuint32__t.html">uint32_t</a>)block_len, (<a class="code" href="classuint32__t.html">uint32_t</a>)flags);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  __m128i m0 = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<span class="keyword">sizeof</span>(__m128i) * 0]);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  __m128i m1 = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<span class="keyword">sizeof</span>(__m128i) * 1]);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  __m128i m2 = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<span class="keyword">sizeof</span>(__m128i) * 2]);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  __m128i m3 = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<span class="keyword">sizeof</span>(__m128i) * 3]);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  __m128i t0, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, t2, t3, tt;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// Round 1. The first round permutes the message words from the original</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// input order, into the groups that get mixed in parallel.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(2, 0, 2, 0)); <span class="comment">//  6  4  2  0</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 3, 1)); <span class="comment">//  7  5  3  1</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  t2 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(2, 0, 2, 0)); <span class="comment">// 14 12 10  8</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  t2 = _mm_shuffle_epi32(t2, _MM_SHUFFLE(2, 1, 0, 3));   <span class="comment">// 12 10  8 14</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  t3 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 1, 3, 1)); <span class="comment">// 15 13 11  9</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  t3 = _mm_shuffle_epi32(t3, _MM_SHUFFLE(2, 1, 0, 3));   <span class="comment">// 13 11  9 15</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  m0 = t0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  m1 = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  m2 = t2;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  m3 = t3;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// Round 2. This round and all following rounds apply a fixed permutation</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// to the message words from the round before.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 1, 2));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  t0 = _mm_shuffle_epi32(t0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 3, 2, 2));</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  tt = _mm_shuffle_epi32(m0, _MM_SHUFFLE(0, 0, 3, 3));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = _mm_blend_epi16(tt, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, 0xCC);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  t2 = _mm_unpacklo_epi64(m3, m1);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  tt = _mm_blend_epi16(t2, m2, 0xC0);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  t2 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(1, 3, 2, 0));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  t3 = _mm_unpackhi_epi32(m1, m3);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  tt = _mm_unpacklo_epi32(m2, t3);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  t3 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(0, 1, 3, 2));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  m0 = t0;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  m1 = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  m2 = t2;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  m3 = t3;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// Round 3</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 1, 2));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  t0 = _mm_shuffle_epi32(t0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 3, 2, 2));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  tt = _mm_shuffle_epi32(m0, _MM_SHUFFLE(0, 0, 3, 3));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = _mm_blend_epi16(tt, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, 0xCC);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  t2 = _mm_unpacklo_epi64(m3, m1);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  tt = _mm_blend_epi16(t2, m2, 0xC0);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  t2 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(1, 3, 2, 0));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  t3 = _mm_unpackhi_epi32(m1, m3);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  tt = _mm_unpacklo_epi32(m2, t3);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  t3 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(0, 1, 3, 2));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  m0 = t0;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  m1 = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  m2 = t2;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  m3 = t3;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// Round 4</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 1, 2));</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  t0 = _mm_shuffle_epi32(t0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 3, 2, 2));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  tt = _mm_shuffle_epi32(m0, _MM_SHUFFLE(0, 0, 3, 3));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = _mm_blend_epi16(tt, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, 0xCC);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  t2 = _mm_unpacklo_epi64(m3, m1);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  tt = _mm_blend_epi16(t2, m2, 0xC0);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  t2 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(1, 3, 2, 0));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  t3 = _mm_unpackhi_epi32(m1, m3);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  tt = _mm_unpacklo_epi32(m2, t3);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  t3 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(0, 1, 3, 2));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  m0 = t0;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  m1 = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  m2 = t2;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  m3 = t3;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// Round 5</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 1, 2));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  t0 = _mm_shuffle_epi32(t0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 3, 2, 2));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  tt = _mm_shuffle_epi32(m0, _MM_SHUFFLE(0, 0, 3, 3));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = _mm_blend_epi16(tt, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, 0xCC);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  t2 = _mm_unpacklo_epi64(m3, m1);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  tt = _mm_blend_epi16(t2, m2, 0xC0);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  t2 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(1, 3, 2, 0));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  t3 = _mm_unpackhi_epi32(m1, m3);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  tt = _mm_unpacklo_epi32(m2, t3);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  t3 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(0, 1, 3, 2));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  m0 = t0;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  m1 = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  m2 = t2;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  m3 = t3;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// Round 6</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 1, 2));</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  t0 = _mm_shuffle_epi32(t0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 3, 2, 2));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  tt = _mm_shuffle_epi32(m0, _MM_SHUFFLE(0, 0, 3, 3));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = _mm_blend_epi16(tt, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, 0xCC);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  t2 = _mm_unpacklo_epi64(m3, m1);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  tt = _mm_blend_epi16(t2, m2, 0xC0);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  t2 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(1, 3, 2, 0));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  t3 = _mm_unpackhi_epi32(m1, m3);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  tt = _mm_unpacklo_epi32(m2, t3);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  t3 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(0, 1, 3, 2));</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  m0 = t0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  m1 = <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  m2 = t2;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  m3 = t3;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Round 7</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  t0 = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m0, m1, _MM_SHUFFLE(3, 1, 1, 2));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  t0 = _mm_shuffle_epi32(t0, _MM_SHUFFLE(0, 3, 2, 1));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t0);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = <a class="code" href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a>(m2, m3, _MM_SHUFFLE(3, 3, 2, 2));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  tt = _mm_shuffle_epi32(m0, _MM_SHUFFLE(0, 0, 3, 3));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a> = _mm_blend_epi16(tt, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>, 0xCC);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], <a class="code" href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  t2 = _mm_unpacklo_epi64(m3, m1);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  tt = _mm_blend_epi16(t2, m2, 0xC0);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  t2 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(1, 3, 2, 0));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t2);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  t3 = _mm_unpackhi_epi32(m1, m3);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  tt = _mm_unpacklo_epi32(m2, t3);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  t3 = _mm_shuffle_epi32(tt, _MM_SHUFFLE(0, 1, 3, 2));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a>(&amp;rows[0], &amp;rows[1], &amp;rows[2], &amp;rows[3], t3);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a>(&amp;rows[0], &amp;rows[2], &amp;rows[3]);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#aff9ac9dc003026e4bef488ddaa2d4beb">  254</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#aff9ac9dc003026e4bef488ddaa2d4beb">blake3_compress_in_place_sse41</a>(<a class="code" href="classuint32__t.html">uint32_t</a> cv[8],</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                    <span class="keyword">const</span> uint8_t <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>],</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                    uint8_t block_len, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                    uint8_t flags) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  __m128i rows[4];</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a963ad8f4da448c3d11d29a95d4881355">compress_pre</a>(rows, cv, <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>, block_len, counter, flags);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(<a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(rows[0], rows[2]), (uint8_t *)&amp;cv[0]);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(<a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(rows[1], rows[3]), (uint8_t *)&amp;cv[4]);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#aab2f2721e67a4f038a36304fe6bac2bb">  264</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#aab2f2721e67a4f038a36304fe6bac2bb">blake3_compress_xof_sse41</a>(<span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> cv[8],</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                               <span class="keyword">const</span> uint8_t <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>[<a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>],</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                               uint8_t block_len, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                               uint8_t flags, uint8_t out[64]) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  __m128i rows[4];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a963ad8f4da448c3d11d29a95d4881355">compress_pre</a>(rows, cv, <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>, block_len, counter, flags);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(<a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(rows[0], rows[2]), &amp;out[0]);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(<a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(rows[1], rows[3]), &amp;out[16]);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(<a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(rows[2], <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>((uint8_t *)&amp;cv[0])), &amp;out[32]);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(<a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(rows[3], <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>((uint8_t *)&amp;cv[4])), &amp;out[48]);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">  276</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(__m128i v[16], __m128i m[16], <span class="keywordtype">size_t</span> r) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][0]]);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][2]]);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][4]]);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][6]]);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], v[4]);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], v[5]);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], v[6]);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], v[7]);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[12], v[0]);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[13], v[1]);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[14], v[2]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[15], v[3]);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[12]);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[13]);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[14]);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[15]);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  v[8] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[8], v[12]);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  v[9] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[9], v[13]);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  v[10] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[10], v[14]);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  v[11] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[11], v[15]);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[4], v[8]);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[5], v[9]);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[6], v[10]);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[7], v[11]);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[4]);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[5]);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[6]);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[7]);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][1]]);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][3]]);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][5]]);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][7]]);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], v[4]);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], v[5]);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], v[6]);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], v[7]);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[12], v[0]);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[13], v[1]);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[14], v[2]);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[15], v[3]);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[12]);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[13]);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[14]);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[15]);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  v[8] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[8], v[12]);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  v[9] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[9], v[13]);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  v[10] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[10], v[14]);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  v[11] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[11], v[15]);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[4], v[8]);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[5], v[9]);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[6], v[10]);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[7], v[11]);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[4]);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[5]);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[6]);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[7]);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][8]]);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][10]]);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][12]]);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][14]]);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], v[5]);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], v[6]);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], v[7]);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], v[4]);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[15], v[0]);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[12], v[1]);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[13], v[2]);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[14], v[3]);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[15]);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[12]);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[13]);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a>(v[14]);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  v[10] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[10], v[15]);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  v[11] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[11], v[12]);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  v[8] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[8], v[13]);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  v[9] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[9], v[14]);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[5], v[10]);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[6], v[11]);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[7], v[8]);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[4], v[9]);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[5]);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[6]);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[7]);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a>(v[4]);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][9]]);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][11]]);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][13]]);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], m[(<span class="keywordtype">size_t</span>)<a class="code" href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a>[r][15]]);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  v[0] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[0], v[5]);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  v[1] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[1], v[6]);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  v[2] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[2], v[7]);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  v[3] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[3], v[4]);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[15], v[0]);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[12], v[1]);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[13], v[2]);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[14], v[3]);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  v[15] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[15]);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  v[12] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[12]);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  v[13] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[13]);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  v[14] = <a class="code" href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a>(v[14]);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  v[10] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[10], v[15]);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  v[11] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[11], v[12]);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  v[8] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[8], v[13]);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  v[9] = <a class="code" href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a>(v[9], v[14]);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[5], v[10]);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[6], v[11]);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[7], v[8]);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[4], v[9]);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  v[5] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[5]);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  v[6] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[6]);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  v[7] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[7]);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  v[4] = <a class="code" href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a>(v[4]);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">  392</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(__m128i vecs[<a class="code" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a>]) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// Interleave 32-bit lates. The low unpack is lanes 00/11 and the high is</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// 22/33. Note that this doesn&#39;t split the vector into two lanes, as the</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// AVX2 counterparts do.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  __m128i ab_01 = _mm_unpacklo_epi32(vecs[0], vecs[1]);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  __m128i ab_23 = _mm_unpackhi_epi32(vecs[0], vecs[1]);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  __m128i cd_01 = _mm_unpacklo_epi32(vecs[2], vecs[3]);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  __m128i cd_23 = _mm_unpackhi_epi32(vecs[2], vecs[3]);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// Interleave 64-bit lanes.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  __m128i abcd_0 = _mm_unpacklo_epi64(ab_01, cd_01);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  __m128i abcd_1 = _mm_unpackhi_epi64(ab_01, cd_01);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  __m128i abcd_2 = _mm_unpacklo_epi64(ab_23, cd_23);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  __m128i abcd_3 = _mm_unpackhi_epi64(ab_23, cd_23);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  vecs[0] = abcd_0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  vecs[1] = abcd_1;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  vecs[2] = abcd_2;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  vecs[3] = abcd_3;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a3caa7b083de1b12f95de768df9174737">  413</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a3caa7b083de1b12f95de768df9174737">transpose_msg_vecs</a>(<span class="keyword">const</span> uint8_t *<span class="keyword">const</span> *inputs,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                               <span class="keywordtype">size_t</span> block_offset, __m128i out[16]) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  out[0] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[0][block_offset + 0 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  out[1] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[1][block_offset + 0 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  out[2] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[2][block_offset + 0 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  out[3] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[3][block_offset + 0 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  out[4] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[0][block_offset + 1 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  out[5] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[1][block_offset + 1 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  out[6] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[2][block_offset + 1 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  out[7] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[3][block_offset + 1 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  out[8] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[0][block_offset + 2 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  out[9] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[1][block_offset + 2 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  out[10] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[2][block_offset + 2 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  out[11] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[3][block_offset + 2 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  out[12] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[0][block_offset + 3 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  out[13] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[1][block_offset + 3 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  out[14] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[2][block_offset + 3 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  out[15] = <a class="code" href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a>(&amp;inputs[3][block_offset + 3 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    _mm_prefetch((<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;inputs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>][block_offset + 256], _MM_HINT_T0);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(&amp;out[0]);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(&amp;out[4]);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(&amp;out[8]);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(&amp;out[12]);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#a9472e29b0a5e9aff142545b491584541">  440</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#a9472e29b0a5e9aff142545b491584541">load_counters</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter, <span class="keywordtype">bool</span> increment_counter,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                          __m128i *out_lo, __m128i *out_hi) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">const</span> __m128i <a class="code" href="namespaceshuffles.html#a6abf8a645bd24dfb42085db9672ac39a">mask</a> = _mm_set1_epi32(-(int32_t)increment_counter);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">const</span> __m128i add0 = _mm_set_epi32(3, 2, 1, 0);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">const</span> __m128i add1 = _mm_and_si128(<a class="code" href="namespaceshuffles.html#a6abf8a645bd24dfb42085db9672ac39a">mask</a>, add0);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  __m128i <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = _mm_add_epi32(_mm_set1_epi32((int32_t)counter), add1);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  __m128i carry = _mm_cmpgt_epi32(_mm_xor_si128(add1, _mm_set1_epi32(0x80000000)), </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                  _mm_xor_si128(   <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>, _mm_set1_epi32(0x80000000)));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  __m128i <a class="code" href="log_8txt.html#aa3ab6cc3a59c1050d2f016175ec5c682">h</a> = _mm_sub_epi32(_mm_set1_epi32((int32_t)(counter &gt;&gt; 32)), carry);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  *out_lo = <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  *out_hi = <a class="code" href="log_8txt.html#aa3ab6cc3a59c1050d2f016175ec5c682">h</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="keyword">static</span></div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#ab9db1c5b05bdca5437891512850ef529">  454</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#ab9db1c5b05bdca5437891512850ef529">blake3_hash4_sse41</a>(<span class="keyword">const</span> uint8_t *<span class="keyword">const</span> *inputs, <span class="keywordtype">size_t</span> blocks,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> key[8], <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                        <span class="keywordtype">bool</span> increment_counter, uint8_t flags,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                        uint8_t flags_start, uint8_t flags_end, uint8_t *out) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  __m128i h_vecs[8] = {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[0]), <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[1]), <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[2]), <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[3]),</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[4]), <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[5]), <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[6]), <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(key[7]),</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  };</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  __m128i counter_low_vec, counter_high_vec;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a9472e29b0a5e9aff142545b491584541">load_counters</a>(counter, increment_counter, &amp;counter_low_vec,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                &amp;counter_high_vec);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  uint8_t block_flags = flags | flags_start;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a> = 0; <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a> &lt; blocks; <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a>++) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a> + 1 == blocks) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      block_flags |= flags_end;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    __m128i block_len_vec = <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(<a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    __m128i block_flags_vec = <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(block_flags);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    __m128i msg_vecs[16];</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a3caa7b083de1b12f95de768df9174737">transpose_msg_vecs</a>(inputs, <a class="code" href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a> * <a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>, msg_vecs);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    __m128i v[16] = {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        h_vecs[0],       h_vecs[1],        h_vecs[2],     h_vecs[3],</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        h_vecs[4],       h_vecs[5],        h_vecs[6],     h_vecs[7],</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[0]),     <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[1]),      <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[2]),   <a class="code" href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a>(<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>[3]),</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        counter_low_vec, counter_high_vec, block_len_vec, block_flags_vec,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    };</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 0);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 1);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 2);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 3);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 4);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 5);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a>(v, msg_vecs, 6);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    h_vecs[0] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[0], v[8]);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    h_vecs[1] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[1], v[9]);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    h_vecs[2] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[2], v[10]);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    h_vecs[3] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[3], v[11]);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    h_vecs[4] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[4], v[12]);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    h_vecs[5] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[5], v[13]);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    h_vecs[6] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[6], v[14]);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    h_vecs[7] = <a class="code" href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a>(v[7], v[15]);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    block_flags = flags;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(&amp;h_vecs[0]);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a>(&amp;h_vecs[4]);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// The first four vecs now contain the first half of each output, and the</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// second four vecs contain the second half of each output.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[0], &amp;out[0 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[4], &amp;out[1 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[1], &amp;out[2 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[5], &amp;out[3 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[2], &amp;out[4 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[6], &amp;out[5 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[3], &amp;out[6 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <a class="code" href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a>(h_vecs[7], &amp;out[7 * <span class="keyword">sizeof</span>(__m128i)]);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#ae4d3e60989e66a9a539f56f81426ca8a">  515</a></span>&#160;<a class="code" href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#ae4d3e60989e66a9a539f56f81426ca8a">hash_one_sse41</a>(<span class="keyword">const</span> uint8_t *<a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a>, <span class="keywordtype">size_t</span> blocks,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> key[8], <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                           uint8_t flags, uint8_t flags_start,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                           uint8_t flags_end, uint8_t out[<a class="code" href="llvm__blake3__prefix_8h.html#a54e230beb5e1d501702361fb91f399f0">BLAKE3_OUT_LEN</a>]) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> cv[8];</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a>(cv, key, <a class="code" href="llvm__blake3__prefix_8h.html#a947bd80c6cdcbd362dd0760f3603abe6">BLAKE3_KEY_LEN</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  uint8_t block_flags = flags | flags_start;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">while</span> (blocks &gt; 0) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (blocks == 1) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      block_flags |= flags_end;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="blake3__sse41_8c.html#aff9ac9dc003026e4bef488ddaa2d4beb">blake3_compress_in_place_sse41</a>(cv, <a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a>, <a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>, counter,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                                   block_flags);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a> = &amp;<a class="code" href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a>[<a class="code" href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a>];</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    blocks -= 1;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    block_flags = flags;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a>(out, cv, <a class="code" href="llvm__blake3__prefix_8h.html#a54e230beb5e1d501702361fb91f399f0">BLAKE3_OUT_LEN</a>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="blake3__sse41_8c.html#ad5daae07b2a1b3bcad41ad58c9cb4e85">  535</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="blake3__sse41_8c.html#ad5daae07b2a1b3bcad41ad58c9cb4e85">blake3_hash_many_sse41</a>(<span class="keyword">const</span> uint8_t *<span class="keyword">const</span> *inputs, <span class="keywordtype">size_t</span> num_inputs,</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                            <span class="keywordtype">size_t</span> blocks, <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> key[8],</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                            <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> counter, <span class="keywordtype">bool</span> increment_counter,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                            uint8_t flags, uint8_t flags_start,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                            uint8_t flags_end, uint8_t *out) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">while</span> (num_inputs &gt;= <a class="code" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a>) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="blake3__sse41_8c.html#ab9db1c5b05bdca5437891512850ef529">blake3_hash4_sse41</a>(inputs, blocks, key, counter, increment_counter, flags,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                       flags_start, flags_end, out);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (increment_counter) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      counter += <a class="code" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    inputs += <a class="code" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    num_inputs -= <a class="code" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    out = &amp;out[<a class="code" href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a> * <a class="code" href="llvm__blake3__prefix_8h.html#a54e230beb5e1d501702361fb91f399f0">BLAKE3_OUT_LEN</a>];</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">while</span> (num_inputs &gt; 0) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="blake3__sse41_8c.html#ae4d3e60989e66a9a539f56f81426ca8a">hash_one_sse41</a>(inputs[0], blocks, key, counter, flags, flags_start,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                   flags_end, out);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (increment_counter) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      counter += 1;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    inputs += 1;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    num_inputs -= 1;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    out = &amp;out[<a class="code" href="llvm__blake3__prefix_8h.html#a54e230beb5e1d501702361fb91f399f0">BLAKE3_OUT_LEN</a>];</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="ablake3__sse41_8c_html_ad5daae07b2a1b3bcad41ad58c9cb4e85"><div class="ttname"><a href="blake3__sse41_8c.html#ad5daae07b2a1b3bcad41ad58c9cb4e85">blake3_hash_many_sse41</a></div><div class="ttdeci">void blake3_hash_many_sse41(const uint8_t *const *inputs, size_t num_inputs, size_t blocks, const uint32_t key[8], uint64_t counter, bool increment_counter, uint8_t flags, uint8_t flags_start, uint8_t flags_end, uint8_t *out)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00535">blake3_sse41.c:535</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a3fd74718101152ceb7850d4a8bbe1391"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a3fd74718101152ceb7850d4a8bbe1391">block</a></div><div class="ttdeci">we get the following basic block</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00095">README_ALTIVEC.txt:95</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a0dca48047d04d92458c4517e41d8696e"><div class="ttname"><a href="blake3__sse41_8c.html#a0dca48047d04d92458c4517e41d8696e">set4</a></div><div class="ttdeci">INLINE __m128i set4(uint32_t a, uint32_t b, uint32_t c, uint32_t d)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00026">blake3_sse41.c:26</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a7ec7b2f404362ce5bc1198981707bc7e"><div class="ttname"><a href="blake3__impl_8h.html#a7ec7b2f404362ce5bc1198981707bc7e">counter_high</a></div><div class="ttdeci">INLINE uint32_t counter_high(uint64_t counter)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00144">blake3_impl.h:144</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a963ad8f4da448c3d11d29a95d4881355"><div class="ttname"><a href="blake3__sse41_8c.html#a963ad8f4da448c3d11d29a95d4881355">compress_pre</a></div><div class="ttdeci">INLINE void compress_pre(__m128i rows[4], const uint32_t cv[8], const uint8_t block[BLAKE3_BLOCK_LEN], uint8_t block_len, uint64_t counter, uint8_t flags)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00083">blake3_sse41.c:83</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_afeab7ac9eaa036d9400491885ab6c6eb"><div class="ttname"><a href="blake3__impl_8h.html#afeab7ac9eaa036d9400491885ab6c6eb">counter_low</a></div><div class="ttdeci">INLINE uint32_t counter_low(uint64_t counter)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00142">blake3_impl.h:142</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_ac2a0d0a804e2ef11d923d48a88c1343e"><div class="ttname"><a href="blake3__sse41_8c.html#ac2a0d0a804e2ef11d923d48a88c1343e">rot16</a></div><div class="ttdeci">INLINE __m128i rot16(__m128i x)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00030">blake3_sse41.c:30</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a7ca307336afa43789f46c77031a43fc9"><div class="ttname"><a href="blake3__sse41_8c.html#a7ca307336afa43789f46c77031a43fc9">xorv</a></div><div class="ttdeci">INLINE __m128i xorv(__m128i a, __m128i b)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00022">blake3_sse41.c:22</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_ab9db1c5b05bdca5437891512850ef529"><div class="ttname"><a href="blake3__sse41_8c.html#ab9db1c5b05bdca5437891512850ef529">blake3_hash4_sse41</a></div><div class="ttdeci">static void blake3_hash4_sse41(const uint8_t *const *inputs, size_t blocks, const uint32_t key[8], uint64_t counter, bool increment_counter, uint8_t flags, uint8_t flags_start, uint8_t flags_end, uint8_t *out)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00454">blake3_sse41.c:454</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a7ef4d3003047043a3de118adbb0570fd"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a></div><div class="ttdeci">=0.0 ? 0.0 :(a &gt; 0.0 ? 1.0 :-1.0) a</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00489">README.txt:489</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_afcfbfe4f044b6746769505f3ffb1556a"><div class="ttname"><a href="blake3__sse41_8c.html#afcfbfe4f044b6746769505f3ffb1556a">rot8</a></div><div class="ttdeci">INLINE __m128i rot8(__m128i x)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00039">blake3_sse41.c:39</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a8c2bc17aeee6c1a4560747ff5c7565fe"><div class="ttname"><a href="blake3__sse41_8c.html#a8c2bc17aeee6c1a4560747ff5c7565fe">transpose_vecs</a></div><div class="ttdeci">INLINE void transpose_vecs(__m128i vecs[DEGREE])</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00392">blake3_sse41.c:392</a></div></div>
<div class="ttc" id="alog_8txt_html_aa3ab6cc3a59c1050d2f016175ec5c682"><div class="ttname"><a href="log_8txt.html#aa3ab6cc3a59c1050d2f016175ec5c682">h</a></div><div class="ttdeci">IR OperandTraits h</div><div class="ttdef"><b>Definition:</b> <a href="log_8txt_source.html#l00005">log.txt:5</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ac3ac4028df71f10fda029660ef66594d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a></div><div class="ttdeci">This requires reassociating to forms of expressions that are already something that reassoc doesn t think about yet These two functions should generate the same code on big endian int * l</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00100">README.txt:100</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a0f76993cc7906c818531cf239959c993"><div class="ttname"><a href="blake3__sse41_8c.html#a0f76993cc7906c818531cf239959c993">_mm_shuffle_ps2</a></div><div class="ttdeci">#define _mm_shuffle_ps2(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00007">blake3_sse41.c:7</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a3c669d6cadadea22e9ccb18a62bcf146"><div class="ttname"><a href="blake3__sse41_8c.html#a3c669d6cadadea22e9ccb18a62bcf146">storeu</a></div><div class="ttdeci">INLINE void storeu(__m128i src, uint8_t dest[16])</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00015">blake3_sse41.c:15</a></div></div>
<div class="ttc" id="alib_2Target_2SystemZ_2README_8txt_html_a839cdc0e6ffaecf33b5d7bfc83e2b7ec"><div class="ttname"><a href="lib_2Target_2SystemZ_2README_8txt.html#a839cdc0e6ffaecf33b5d7bfc83e2b7ec">input</a></div><div class="ttdeci">The initial backend is deliberately restricted to z10 We should add support for later architectures at some point If an asm ties an i32 r result to an i64 input</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2SystemZ_2README_8txt_source.html#l00010">README.txt:10</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae3e84a62e4ae19e7766bde30ee72c040"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int c</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a922b09bcc81fca32a8ecbfe2d318d4b7"><div class="ttname"><a href="blake3__sse41_8c.html#a922b09bcc81fca32a8ecbfe2d318d4b7">undiagonalize</a></div><div class="ttdeci">INLINE void undiagonalize(__m128i *row0, __m128i *row2, __m128i *row3)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00077">blake3_sse41.c:77</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a70c979e8d315a9dbc9e7b19b15524c01"><div class="ttname"><a href="blake3__sse41_8c.html#a70c979e8d315a9dbc9e7b19b15524c01">diagonalize</a></div><div class="ttdeci">INLINE void diagonalize(__m128i *row0, __m128i *row2, __m128i *row3)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00071">blake3_sse41.c:71</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a0683f2191826e5431f112c71a12b7908"><div class="ttname"><a href="blake3__impl_8h.html#a0683f2191826e5431f112c71a12b7908">MSG_SCHEDULE</a></div><div class="ttdeci">static const uint8_t MSG_SCHEDULE[7][16]</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00081">blake3_impl.h:81</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_aca2e11aeb5d05238b3609b587922806e"><div class="ttname"><a href="blake3__sse41_8c.html#aca2e11aeb5d05238b3609b587922806e">addv</a></div><div class="ttdeci">INLINE __m128i addv(__m128i a, __m128i b)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00019">blake3_sse41.c:19</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_ae4d3e60989e66a9a539f56f81426ca8a"><div class="ttname"><a href="blake3__sse41_8c.html#ae4d3e60989e66a9a539f56f81426ca8a">hash_one_sse41</a></div><div class="ttdeci">INLINE void hash_one_sse41(const uint8_t *input, size_t blocks, const uint32_t key[8], uint64_t counter, uint8_t flags, uint8_t flags_start, uint8_t flags_end, uint8_t out[BLAKE3_OUT_LEN])</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00515">blake3_sse41.c:515</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a2e30cc476745a6ee0c69491f7a4f506f"><div class="ttname"><a href="blake3__sse41_8c.html#a2e30cc476745a6ee0c69491f7a4f506f">rot7</a></div><div class="ttdeci">INLINE __m128i rot7(__m128i x)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00044">blake3_sse41.c:44</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_af553b9391d0b6fc5c18b1be16400792d"><div class="ttname"><a href="blake3__sse41_8c.html#af553b9391d0b6fc5c18b1be16400792d">set1</a></div><div class="ttdeci">INLINE __m128i set1(uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00024">blake3_sse41.c:24</a></div></div>
<div class="ttc" id="allvm__blake3__prefix_8h_html_a304cb82e31ff3dc5a4b02f7fce75555e"><div class="ttname"><a href="llvm__blake3__prefix_8h.html#a304cb82e31ff3dc5a4b02f7fce75555e">BLAKE3_BLOCK_LEN</a></div><div class="ttdeci">#define BLAKE3_BLOCK_LEN</div><div class="ttdef"><b>Definition:</b> <a href="llvm__blake3__prefix_8h_source.html#l00007">llvm_blake3_prefix.h:7</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="allvm__blake3__prefix_8h_html_a947bd80c6cdcbd362dd0760f3603abe6"><div class="ttname"><a href="llvm__blake3__prefix_8h.html#a947bd80c6cdcbd362dd0760f3603abe6">BLAKE3_KEY_LEN</a></div><div class="ttdeci">#define BLAKE3_KEY_LEN</div><div class="ttdef"><b>Definition:</b> <a href="llvm__blake3__prefix_8h_source.html#l00005">llvm_blake3_prefix.h:5</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_ae35186d1b0c22228f120019cdb76634a"><div class="ttname"><a href="blake3__sse41_8c.html#ae35186d1b0c22228f120019cdb76634a">loadu</a></div><div class="ttdeci">INLINE __m128i loadu(const uint8_t src[16])</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00011">blake3_sse41.c:11</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a115261e730f097d0f23d72326fbbe67f"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a115261e730f097d0f23d72326fbbe67f">t1</a></div><div class="ttdeci">&lt;%struct.bf ** &gt; define void t1() nounwind ssp</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01497">README.txt:1497</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_aab2f2721e67a4f038a36304fe6bac2bb"><div class="ttname"><a href="blake3__sse41_8c.html#aab2f2721e67a4f038a36304fe6bac2bb">blake3_compress_xof_sse41</a></div><div class="ttdeci">void blake3_compress_xof_sse41(const uint32_t cv[8], const uint8_t block[BLAKE3_BLOCK_LEN], uint8_t block_len, uint64_t counter, uint8_t flags, uint8_t out[64])</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00264">blake3_sse41.c:264</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a9472e29b0a5e9aff142545b491584541"><div class="ttname"><a href="blake3__sse41_8c.html#a9472e29b0a5e9aff142545b491584541">load_counters</a></div><div class="ttdeci">INLINE void load_counters(uint64_t counter, bool increment_counter, __m128i *out_lo, __m128i *out_hi)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00440">blake3_sse41.c:440</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a06685bee684106afaa118d04297cb14a"><div class="ttname"><a href="blake3__sse41_8c.html#a06685bee684106afaa118d04297cb14a">rot12</a></div><div class="ttdeci">INLINE __m128i rot12(__m128i x)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00035">blake3_sse41.c:35</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a3caa7b083de1b12f95de768df9174737"><div class="ttname"><a href="blake3__sse41_8c.html#a3caa7b083de1b12f95de768df9174737">transpose_msg_vecs</a></div><div class="ttdeci">INLINE void transpose_msg_vecs(const uint8_t *const *inputs, size_t block_offset, __m128i out[16])</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00413">blake3_sse41.c:413</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_ad78486583aa82143a9e9bb4337cc97fe"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#ad78486583aa82143a9e9bb4337cc97fe">x</a></div><div class="ttdeci">TODO unsigned x</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00010">README.txt:10</a></div></div>
<div class="ttc" id="allvm__blake3__prefix_8h_html_a54e230beb5e1d501702361fb91f399f0"><div class="ttname"><a href="llvm__blake3__prefix_8h.html#a54e230beb5e1d501702361fb91f399f0">BLAKE3_OUT_LEN</a></div><div class="ttdeci">#define BLAKE3_OUT_LEN</div><div class="ttdef"><b>Definition:</b> <a href="llvm__blake3__prefix_8h_source.html#l00006">llvm_blake3_prefix.h:6</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_aff9ac9dc003026e4bef488ddaa2d4beb"><div class="ttname"><a href="blake3__sse41_8c.html#aff9ac9dc003026e4bef488ddaa2d4beb">blake3_compress_in_place_sse41</a></div><div class="ttdeci">void blake3_compress_in_place_sse41(uint32_t cv[8], const uint8_t block[BLAKE3_BLOCK_LEN], uint8_t block_len, uint64_t counter, uint8_t flags)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00254">blake3_sse41.c:254</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a9a112855b64e521690699ce9d8cbabc6"><div class="ttname"><a href="blake3__sse41_8c.html#a9a112855b64e521690699ce9d8cbabc6">g2</a></div><div class="ttdeci">INLINE void g2(__m128i *row0, __m128i *row1, __m128i *row2, __m128i *row3, __m128i m)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00058">blake3_sse41.c:58</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a78823051d1dad34b9b3d8120112e674d"><div class="ttname"><a href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a></div><div class="ttdeci">static const uint32_t IV[8]</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00077">blake3_impl.h:77</a></div></div>
<div class="ttc" id="anamespaceshuffles_html_a6abf8a645bd24dfb42085db9672ac39a"><div class="ttname"><a href="namespaceshuffles.html#a6abf8a645bd24dfb42085db9672ac39a">shuffles::mask</a></div><div class="ttdeci">auto mask(ShuffFunc S, unsigned Length, OptArgs... args) -&gt; MaskT</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelDAGToDAGHVX_8cpp_source.html#l00903">HexagonISelDAGToDAGHVX.cpp:903</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a901ce7389ca67dd79b8ab5b53c4a7da8"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int int d</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html"><div class="ttname"><a href="blake3__impl_8h.html">blake3_impl.h</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a227d420457072179f60b78aaa25c9d69"><div class="ttname"><a href="blake3__sse41_8c.html#a227d420457072179f60b78aaa25c9d69">g1</a></div><div class="ttdeci">INLINE void g1(__m128i *row0, __m128i *row1, __m128i *row2, __m128i *row3, __m128i m)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00048">blake3_sse41.c:48</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a5d88b17d70c985f2f2b8e987037fd6dd"><div class="ttname"><a href="blake3__sse41_8c.html#a5d88b17d70c985f2f2b8e987037fd6dd">DEGREE</a></div><div class="ttdeci">#define DEGREE</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00005">blake3_sse41.c:5</a></div></div>
<div class="ttc" id="ablake3__sse41_8c_html_a70d89421ec3c9849593f6e96b3e40c07"><div class="ttname"><a href="blake3__sse41_8c.html#a70d89421ec3c9849593f6e96b3e40c07">round_fn</a></div><div class="ttdeci">INLINE void round_fn(__m128i v[16], __m128i m[16], size_t r)</div><div class="ttdef"><b>Definition:</b> <a href="blake3__sse41_8c_source.html#l00276">blake3_sse41.c:276</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a2eb6f9e0395b47b8d5e3eeae4fe0c116"><div class="ttname"><a href="blake3__impl_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a></div><div class="ttdeci">#define INLINE</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00032">blake3_impl.h:32</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:07:17 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
