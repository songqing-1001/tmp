<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/AMDGPUISelDAGToDAG.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AMDGPUISelDAGToDAG.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AMDGPUISelDAGToDAG_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- AMDGPUISelDAGToDAG.cpp - A dag to dag inst selector for AMDGPU ----===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//==-----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// Defines an instruction selector for the AMDGPU target.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUISelDAGToDAG_8h.html">AMDGPUISelDAGToDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPU_8h.html">AMDGPU.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUInstrInfo_8h.html">AMDGPUInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUSubtarget_8h.html">AMDGPUSubtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUTargetMachine_8h.html">AMDGPUTargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUMCTargetDesc_8h.html">MCTargetDesc/AMDGPUMCTargetDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="R600MCTargetDesc_8h.html">MCTargetDesc/R600MCTargetDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="R600RegisterInfo_8h.html">R600RegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LegacyDivergenceAnalysis_8h.html">llvm/Analysis/LegacyDivergenceAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionLoweringInfo_8h.html">llvm/CodeGen/FunctionLoweringInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAG_8h.html">llvm/CodeGen/SelectionDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAGISel_8h.html">llvm/CodeGen/SelectionDAGISel.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAGNodes_8h.html">llvm/CodeGen/SelectionDAGNodes.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsAMDGPU.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   37</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;amdgpu-isel&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// Instruction Selector Implementation</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> stripBitcast(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">return</span> Val.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a> ? Val.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0) : Val;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Figure out if this is really an extract of the high 16-bits of a dword.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AMDGPUInstructionSelector_8cpp.html#a5ee148d645119b604c2a87661a3e1642">isExtractHiElt</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Out) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a> = stripBitcast(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *Idx = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOperand(1))) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">if</span> (!Idx-&gt;isOne())</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      Out = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOperand(0);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Srl = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOperand(0);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">if</span> (Srl.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ShiftAmt = dyn_cast&lt;ConstantSDNode&gt;(Srl.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">if</span> (ShiftAmt-&gt;getZExtValue() == 16) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        Out = stripBitcast(Srl.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// Look through operations that obscure just looking at the low 16-bits of the</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// same register.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> stripExtractLoElt(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *Idx = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOperand(1))) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">if</span> (Idx-&gt;isZero() &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getValueSizeInBits() &lt;= 32)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOperand(0);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOperand(0);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (Src.getValueType().getSizeInBits() == 32)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">return</span> stripBitcast(Src);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a36173b413fd86dbd5cfcbc5a52daa0cf">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classAMDGPUDAGToDAGISel.html">AMDGPUDAGToDAGISel</a>, <span class="stringliteral">&quot;amdgpu-isel&quot;</span>,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                      <span class="stringliteral">&quot;AMDGPU DAG-&gt;DAG Pattern Instruction Selection&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AMDGPUArgumentUsageInfo.html">AMDGPUArgumentUsageInfo</a>)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="structllvm_1_1AMDGPUPerfHintAnalysis.html">AMDGPUPerfHintAnalysis</a>)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LegacyDivergenceAnalysis.html">LegacyDivergenceAnalysis</a>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a1bcea9a90cf7291ab18e2df09099b9ad">  109</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classAMDGPUDAGToDAGISel.html">AMDGPUDAGToDAGISel</a>, <span class="stringliteral">&quot;amdgpu-isel&quot;</span>,</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a8953acfc4842c48f4032935d47dbf4a1">  110</a></span>&#160;                    <span class="stringliteral">&quot;AMDGPU DAG-&gt;DAG Pattern Instruction Selection&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// This pass converts a legalized DAG into a AMDGPU-specific</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span><span class="comment">// DAG, ready for instruction scheduling.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2afcad184f32d66f451d6015406b291f">  114</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a2afcad184f32d66f451d6015406b291f">createAMDGPUISelDag</a>(<a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                        CodeGenOpt::Level OptLevel) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classAMDGPUDAGToDAGISel.html">AMDGPUDAGToDAGISel</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, OptLevel);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#ae5d384879b84a14c37d3759f4907dc4c">  119</a></span>&#160;<a class="code" href="classAMDGPUDAGToDAGISel.html#ad7d1014ba596042eb3ac93700fe223e6">AMDGPUDAGToDAGISel::AMDGPUDAGToDAGISel</a>(<a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                       <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">CodeGenOpt::Level</a> OptLevel)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    : <a class="code" href="classllvm_1_1SelectionDAGISel.html">SelectionDAGISel</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, OptLevel) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  EnableLateStructurizeCFG = AMDGPUTargetMachine::EnableLateStructurizeCFG;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#a60a7288af24c5de74d432973163470ac">  125</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a60a7288af24c5de74d432973163470ac">AMDGPUDAGToDAGISel::runOnMachineFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp; DT = getAnalysis&lt;DominatorTreeWrapperPass&gt;().getDomTree();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> * LI = &amp;getAnalysis&lt;LoopInfoWrapperPass&gt;().getLoopInfo();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;L : LI-&gt;<a class="code" href="classllvm_1_1LoopInfoBase.html#a8a10d542acf3418b2a5bfefb351829c0">getLoopsInPreorder</a>()) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;isLCSSAForm(DT));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  Subtarget = &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  Mode = AMDGPU::SIModeRegisterDefaults(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> SelectionDAGISel::runOnMachineFunction(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::fp16SrcZerosHighBits(<span class="keywordtype">unsigned</span> Opc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// XXX - only need to list legal operations.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>:</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>:</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14">ISD::FCANONICALIZE</a>:</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// Fabs is lowered to a bit operation, but it&#39;s an and which will clear the</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// high bits anyway.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>:</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a>:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a>:</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>:</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a>:</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">ISD::FLOG</a>:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">ISD::FLOG2</a>:</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">ISD::FLOG10</a>:</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">ISD::FEXP</a>:</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">ISD::FEXP2</a>:</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">ISD::FRINT</a>:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">ISD::FROUND</a>:</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>:</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">ISD::FMINNUM</a>:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2">ISD::FMAXNUM</a>:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea79067f8d6a2c24f4d33fc9da493a2037">AMDGPUISD::FRACT</a>:</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafcbfa7a671e1486a0322c51bdcdb0d7c">AMDGPUISD::CLAMP</a>:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea4d3421b2a779f5f0c5970c8f5f550c76">AMDGPUISD::COS_HW</a>:</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eadc97b8e5166b4d4370009a552c0f1f73">AMDGPUISD::SIN_HW</a>:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d3121f4e456879833fdb42c71707495">AMDGPUISD::FMIN3</a>:</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eae964dd93e7a7fdbbe3e2ded767b6743e">AMDGPUISD::FMAX3</a>:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea95a3a9fcf85d6bfad93662a37fdea331">AMDGPUISD::FMED3</a>:</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea509df107f0a734f8d545ad3f7af30831">AMDGPUISD::FMAD_FTZ</a>:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea480770519d97b188b42a1a0aa660a3db">AMDGPUISD::RCP</a>:</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea6bf36266eccc139178a6078daefaf934">AMDGPUISD::RSQ</a>:</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea51178790d7c73b373338c52de42b4e96">AMDGPUISD::RCP_IFLAG</a>:</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea5b0d5ebade040d8aadbf7258317b25f6">AMDGPUISD::LDEXP</a>:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// On gfx10, all 16-bit instructions preserve the high bits.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt;= <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9">AMDGPUSubtarget::GFX9</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>:</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// We may select fptrunc (fma/mad) to mad_mixlo, which does not zero the</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// high bits on gfx9.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// TODO: If we had the source node we could see if the source was fma/mad</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == AMDGPUSubtarget::VOLCANIC_ISLANDS;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7">ISD::FMAD</a>:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea5b23f9813222573c51bc3a8a616494a0">AMDGPUISD::DIV_FIXUP</a>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == AMDGPUSubtarget::VOLCANIC_ISLANDS;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// fcopysign, select and others may be lowered to 32-bit bit operations</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// which don&#39;t zero the high bits.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#a2d29af824e4754ecafda1f5660789539">  200</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a2d29af824e4754ecafda1f5660789539">AMDGPUDAGToDAGISel::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AMDGPUArgumentUsageInfo.html">AMDGPUArgumentUsageInfo</a>&gt;();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LegacyDivergenceAnalysis.html">LegacyDivergenceAnalysis</a>&gt;();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  SelectionDAGISel::getAnalysisUsage(AU);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#afdcf01d7d3527e56cd6cc217975aac68">  210</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#afdcf01d7d3527e56cd6cc217975aac68">AMDGPUDAGToDAGISel::matchLoadD16FromBuildVector</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a596080bfe7eb1bc232a7c9381a5e784c">d16PreservesUnusedBits</a>());</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0).getSimpleVT();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> (VT != MVT::v2i16 &amp;&amp; VT != MVT::v2f16)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *LdHi = dyn_cast&lt;LoadSDNode&gt;(stripBitcast(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>));</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// build_vector lo, (load ptr) -&gt; load_d16_hi ptr, lo</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// build_vector lo, (zextload ptr from i8) -&gt; load_d16_hi_u8 ptr, lo</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// build_vector lo, (sextload ptr from i8) -&gt; load_d16_hi_i8 ptr, lo</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// Need to check for possible indirect dependencies on the other half of the</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// vector to avoid introducing a cycle.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span> (LdHi &amp;&amp; <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>.hasOneUse() &amp;&amp; !LdHi-&gt;<a class="code" href="classllvm_1_1SDNode.html#aaf99b3ee1d9577ac86d3bf072c7bc789">isPredecessorOf</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getNode())) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTList = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">MVT::Other</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TiedIn = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), VT, <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      LdHi-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a1001931b4896740f5f37ce4c8b35b171">getChain</a>(), LdHi-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#ac9f1cc5985b1840e29407c526f7f9f34">getBasePtr</a>(), TiedIn</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    };</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">unsigned</span> LoadOp = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eaaf3ef4daab9db871926a727d7cca444a">AMDGPUISD::LOAD_D16_HI</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (LdHi-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>() == <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      LoadOp = LdHi-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#ad85ec82447c2f1824538de9b449ffed0">getExtensionType</a>() == <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a> ?</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea8a604d758e44ad80fc6c79fdcfde3424">AMDGPUISD::LOAD_D16_HI_I8</a> : <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea76dae89c9d37a7d4a007589e236d7579">AMDGPUISD::LOAD_D16_HI_U8</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdHi-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>() == <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewLoadHi =</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ab661cadb0d978a6f220c025bb9cebae7">getMemIntrinsicNode</a>(LoadOp, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(LdHi), VTList,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                  Ops, LdHi-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>(),</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                  LdHi-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a1378b44532d0ec9732f7064254a84286">getMemOperand</a>());</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), NewLoadHi);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LdHi, 1), NewLoadHi.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// build_vector (load ptr), hi -&gt; load_d16_lo ptr, hi</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// build_vector (zextload ptr from i8), hi -&gt; load_d16_lo_u8 ptr, hi</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// build_vector (sextload ptr from i8), hi -&gt; load_d16_lo_i8 ptr, hi</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *LdLo = dyn_cast&lt;LoadSDNode&gt;(stripBitcast(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (LdLo &amp;&amp; <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.hasOneUse()) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TiedIn = getHi16Elt(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (!TiedIn || LdLo-&gt;<a class="code" href="classllvm_1_1SDNode.html#aaf99b3ee1d9577ac86d3bf072c7bc789">isPredecessorOf</a>(TiedIn.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>()))</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTList = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(VT, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">MVT::Other</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">unsigned</span> LoadOp = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d9d3af4d64c8851bed302606264cf64">AMDGPUISD::LOAD_D16_LO</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (LdLo-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>() == <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      LoadOp = LdLo-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#ad85ec82447c2f1824538de9b449ffed0">getExtensionType</a>() == <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a> ?</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea62d5df7316428469ea4d31d893d2bffe">AMDGPUISD::LOAD_D16_LO_I8</a> : <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eac344911a086691a209bc2cfa6a7d29ee">AMDGPUISD::LOAD_D16_LO_U8</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdLo-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>() == <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    TiedIn = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), VT, TiedIn);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      LdLo-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a1001931b4896740f5f37ce4c8b35b171">getChain</a>(), LdLo-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#ac9f1cc5985b1840e29407c526f7f9f34">getBasePtr</a>(), TiedIn</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    };</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewLoadLo =</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ab661cadb0d978a6f220c025bb9cebae7">getMemIntrinsicNode</a>(LoadOp, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(LdLo), VTList,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                  Ops, LdLo-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">getMemoryVT</a>(),</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                  LdLo-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a1378b44532d0ec9732f7064254a84286">getMemOperand</a>());</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), NewLoadLo);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LdLo, 1), NewLoadLo.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#a8a5d4f323744a3d4f3356493836cc59b">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a8a5d4f323744a3d4f3356493836cc59b">AMDGPUDAGToDAGISel::PreprocessISelDAG</a>() {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a596080bfe7eb1bc232a7c9381a5e784c">d16PreservesUnusedBits</a>())</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">SelectionDAG::allnodes_iterator</a> Position = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">allnodes_end</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">while</span> (Position != <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">allnodes_begin</a>()) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = &amp;*--Position;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_empty())</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>:</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      MadeChange |= <a class="code" href="classAMDGPUDAGToDAGISel.html#afdcf01d7d3527e56cd6cc217975aac68">matchLoadD16FromBuildVector</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (MadeChange) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a92c8c043c2a2d8db5b6cf9767394b747">RemoveDeadNodes</a>();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;After PreProcess:\n&quot;</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;               <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a8e7eabcdc79b470fd13a397b4464bfe2">dump</a>(););</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isInlineImmediate(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                           <span class="keywordtype">bool</span> Negated)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isUndef())</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (Negated) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isInlineConstant(-<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue());</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantFPSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isInlineConstant(-<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValueAPF().bitcastToAPInt());</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isInlineConstant(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue());</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantFPSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isInlineConstant(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValueAPF().bitcastToAPInt());</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/// Determine the register class for \p OpNo</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">/// \returns The register class of the virtual register that will be used for</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">/// the given operand number \OpNo or NULL if the register class cannot be</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">/// determined.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *AMDGPUDAGToDAGISel::getOperandRegClass(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                                          <span class="keywordtype">unsigned</span> OpNo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isMachineOpcode()) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">ISD::CopyToReg</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = cast&lt;RegisterSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1))-&gt;getReg();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> *<span class="keyword">&gt;</span>(Subtarget)-&gt;getRegisterInfo();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa342123aa2f9f6eca71603c8e27c355d">getPhysRegBaseClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode()) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc =</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>()-&gt;get(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode());</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">unsigned</span> OpIdx = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a3496944fcc473dfe584e6615503a7a76">getNumDefs</a>() + OpNo;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (OpIdx &gt;= Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>())</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordtype">int</span> RegClass = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[OpIdx].RegClass;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (RegClass == -1)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>()-&gt;<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RegClass);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">case</span> AMDGPU::REG_SEQUENCE: {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">unsigned</span> RCID = cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0))-&gt;getZExtValue();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SuperRC =</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>()-&gt;<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RCID);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SubRegOp = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(OpNo + 1);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx = cast&lt;ConstantSDNode&gt;(SubRegOp)-&gt;getZExtValue();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>()-&gt;getSubClassWithSubReg(SuperRC,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                                              SubRegIdx);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *AMDGPUDAGToDAGISel::glueCopyToOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewChain,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Glue)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector &lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  Ops.push_back(NewChain); <span class="comment">// Replace the chain.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    Ops.push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  Ops.push_back(Glue);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5877bd47049087f890aed4f0f501ec3f">MorphNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *AMDGPUDAGToDAGISel::glueCopyToM0(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>&amp; <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a> =</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>*<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">getTargetLowering</a>());</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).getValueType() == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">MVT::Other</a> &amp;&amp; <span class="stringliteral">&quot;Expected chain&quot;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a> = <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a>.copyToM0(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), Val);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">return</span> glueCopyToOp(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a>, <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">M0</a>.getValue(1));</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *AMDGPUDAGToDAGISel::glueCopyToM0LDSInit(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordtype">unsigned</span> AS = cast&lt;MemSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getAddressSpace();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (AS == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">AMDGPUAS::LOCAL_ADDRESS</a>) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a9d0bd109d96d0faea4a639d43910eaa0">ldsRequiresM0Init</a>())</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">return</span> glueCopyToM0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(-1, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AS == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7">AMDGPUAS::REGION_ADDRESS</a>) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Value.html">Value</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;()-&gt;getGDSSize();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        glueCopyToM0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *AMDGPUDAGToDAGISel::buildSMovImm64(<a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                                  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      AMDGPU::S_MOV_B32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0xFFFFFFFF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> =</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::S_MOV_B32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                             <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; 32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::SReg_64RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>, 0), <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>, 0), <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)};</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::REG_SEQUENCE, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Ops);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#a278bc9f5720547f5e171d0a62290d69f">  441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a278bc9f5720547f5e171d0a62290d69f">AMDGPUDAGToDAGISel::SelectBuildVector</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> RegClassID) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordtype">unsigned</span> NumVectorElts = VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RegClass = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (NumVectorElts == 1) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AMDGPU::COPY_TO_REGCLASS, EltVT, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                         RegClass);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumVectorElts &lt;= 32 &amp;&amp; <span class="stringliteral">&quot;Vectors with more than 32 elements not &quot;</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                  <span class="stringliteral">&quot;supported yet&quot;</span>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// 32 = Max Num Vector Elements</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// 2 = 2 REG_SEQUENCE operands per element (value, subreg index)</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// 1 = Vector Register Class</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 32 * 2 + 1&gt;</a> RegSeqArgs(NumVectorElts * 2 + 1);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordtype">bool</span> IsGCN = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a644a38b5aeb6b6858bf3e17176b2f8a3">getSubtarget</a>().<a class="code" href="classllvm_1_1MCSubtargetInfo.html#ade49ed181f638745d20791212153660d">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() ==</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;               Triple::amdgcn;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  RegSeqArgs[0] = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordtype">bool</span> IsRegSeq = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordtype">unsigned</span> NOps = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NOps; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// XXX: Why is this here?</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (isa&lt;RegisterSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      IsRegSeq = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">unsigned</span> Sub = IsGCN ? SIRegisterInfo::getSubRegFromChannel(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                         : R600RegisterInfo::getSubRegFromChannel(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    RegSeqArgs[1 + (2 * <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)] = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    RegSeqArgs[1 + (2 * <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) + 1] = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Sub, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (NOps != NumVectorElts) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// Fill in the missing undef elements if this was a scalar_to_vector.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a> &amp;&amp; NOps &lt; NumVectorElts);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *ImpDef = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::IMPLICIT_DEF,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                                   <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, EltVT);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NOps; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumVectorElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordtype">unsigned</span> Sub = IsGCN ? SIRegisterInfo::getSubRegFromChannel(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                           : R600RegisterInfo::getSubRegFromChannel(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      RegSeqArgs[1 + (2 * <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)] = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ImpDef, 0);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      RegSeqArgs[1 + (2 * <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) + 1] =</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Sub, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (!IsRegSeq)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AMDGPU::REG_SEQUENCE, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), RegSeqArgs);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#a4e1374fde17218f949e94ee57e18dc2c">  496</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a4e1374fde17218f949e94ee57e18dc2c">AMDGPUDAGToDAGISel::Select</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Opc = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isMachineOpcode()) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;setNodeId(-1);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span>;   <span class="comment">// Already selected.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// isa&lt;MemSDNode&gt; almost works but is slightly too permissive for some DS</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// intrinsics.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a> || Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a> || isa&lt;AtomicSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) ||</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a830f68bd84f119afe6033acbe7223dfe">AMDGPUISD::ATOMIC_LOAD_FMIN</a> ||</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a05e4a09b0b7a2ec7e9f5e77c8e8153bc">AMDGPUISD::ATOMIC_LOAD_FMAX</a>) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = glueCopyToM0LDSInit(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// We are selecting i64 ADD here instead of custom lower it during</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// DAG legalization, so we can fold some i64 ADDs used for address</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// calculation into the LOAD and STORE instructions.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">ISD::ADDC</a>:</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">ISD::ADDE</a>:</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d">ISD::SUBC</a>:</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac9246c101c0cc9232e37b3941194bb13">ISD::SUBE</a>: {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) != <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    SelectADD_SUB_I64(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a>:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a">ISD::SUBCARRY</a>:</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) != <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    SelectAddcSubb(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a>:</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500">ISD::USUBO</a>: {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    SelectUADDO_USUBO(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eaa9b6b15abc704da34341aa029217d8a5">AMDGPUISD::FMUL_W_CHAIN</a>: {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    SelectFMUL_W_CHAIN(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea6ea93bd531619261a61f34eb59c5e7d2">AMDGPUISD::FMA_W_CHAIN</a>: {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    SelectFMA_W_CHAIN(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>:</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>: {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordtype">unsigned</span> NumVectorElts = VT.<a class="code" href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>() == 16) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">if</span> (Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a> &amp;&amp; NumVectorElts == 2) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Packed = packConstantV2I16(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>)) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Packed);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>().<a class="code" href="structllvm_1_1EVT.html#aad0b781d8b8a804437e919429069fcd7">bitsEq</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordtype">unsigned</span> RegClassID =</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        SIRegisterInfo::getSGPRClassForBitWidth(NumVectorElts * 32)-&gt;getID();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="classAMDGPUDAGToDAGISel.html#a278bc9f5720547f5e171d0a62290d69f">SelectBuildVector</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, RegClassID);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD_PAIR</a>: {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RC, SubReg0, SubReg1;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) == MVT::i128) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      RC = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::SGPR_128RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      SubReg0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0_sub1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      SubReg1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub2_sub3, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) == <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      RC = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::SReg_64RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      SubReg0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      SubReg1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled value type for BUILD_PAIR&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = { RC, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), SubReg0,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                            <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), SubReg1 };</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::REG_SEQUENCE, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                          <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0), Ops));</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">ISD::Constant</a>:</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>: {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0).getSizeInBits() != 64 || isInlineImmediate(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *<a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a> = dyn_cast&lt;ConstantFPSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a>-&gt;getValueAPF().bitcastToAPInt().getZExtValue();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, buildSMovImm64(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0)));</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d8dde2474ce68109f2472f204072c80">AMDGPUISD::BFE_I32</a>:</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eacb028e9739d033de026de0a3b2ac9f9e">AMDGPUISD::BFE_U32</a>: {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// There is a scalar version available, but unlike the vector version which</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// has a separate operand for the offset and width, the scalar version packs</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// the width and offset into a single operand. Try to move to the scalar</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// version if the offsets are constant, so that we can try to keep extended</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// loads of kernel arguments in SGPRs.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">// TODO: Technically we could try to pattern match scalar bitshifts of</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// dynamic values, but it&#39;s probably not useful.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2));</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = Opc == <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d8dde2474ce68109f2472f204072c80">AMDGPUISD::BFE_I32</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> OffsetVal = <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> WidthVal = <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, getBFE32(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), OffsetVal,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                            WidthVal));</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea0819f8cbdd0851cea7a14606204c92fa">AMDGPUISD::DIV_SCALE</a>: {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    SelectDIV_SCALE(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eae110f734779ea7435c1f89a1b019e8e9">AMDGPUISD::MAD_I64_I32</a>:</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea760ece3c08b02521b09f90ee5a5e4fdb">AMDGPUISD::MAD_U64_U32</a>: {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    SelectMAD_64_32(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>:</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> SelectMUL_LOHI(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">ISD::CopyToReg</a>: {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>&amp; <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a> =</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>*<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">getTargetLowering</a>());</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a>.legalizeTargetIndependentNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>:</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>:</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>:</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) != <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    SelectS_BFE(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782">ISD::BRCOND</a>:</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    SelectBRCOND(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7">ISD::FMAD</a>:</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>:</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    SelectFMAD_FMA(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea05e199d247b019380b4c5a6f24d95381">AMDGPUISD::CVT_PKRTZ_F16_F32</a>:</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea39c851d59f2dedcf582022a24daf1cf5">AMDGPUISD::CVT_PKNORM_I16_F32</a>:</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eaf372b02c7f2eb214586b79418da259d3">AMDGPUISD::CVT_PKNORM_U16_F32</a>:</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea61c1f4bb39a8d5172f7a4f2b50d8b290">AMDGPUISD::CVT_PK_U16_U32</a>:</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9326abce64225b1fcaf656b06d5819ad">AMDGPUISD::CVT_PK_I16_I32</a>: {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="comment">// Hack around using a legal type if f16 is illegal.</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) == <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> NewVT = Opc == <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea05e199d247b019380b4c5a6f24d95381">AMDGPUISD::CVT_PKRTZ_F16_F32</a> ? MVT::v2f16 : MVT::v2i16;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5877bd47049087f890aed4f0f501ec3f">MorphNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode(), <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(NewVT),</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                              { N-&gt;getOperand(0), N-&gt;getOperand(1) });</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a>: {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    SelectINTRINSIC_W_CHAIN(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>: {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    SelectINTRINSIC_WO_CHAIN(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>: {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    SelectINTRINSIC_VOID(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isUniformBr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;MBB-&gt;getBasicBlock();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>-&gt;getMetadata(<span class="stringliteral">&quot;amdgpu.uniform&quot;</span>) ||</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;         <a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>-&gt;getMetadata(<span class="stringliteral">&quot;structurizecfg.uniform&quot;</span>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isUnneededShiftMask(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                                             <span class="keywordtype">unsigned</span> ShAmtBits)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1))-&gt;getAPIntValue();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.countTrailingOnes() &gt;= ShAmtBits)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;LHSKnownZeros = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0)).<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordflow">return</span> (LHSKnownZeros | <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>).<a class="code" href="classllvm_1_1APInt.html#ae155fc08c52bcfd6026faf4c640a2cf7">countTrailingOnes</a>() &gt;= ShAmtBits;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a0c1a2a8cfae803c3180dfa7eadc850e1">  722</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a0c1a2a8cfae803c3180dfa7eadc850e1">getBaseWithOffsetUsingSplitOR</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;N0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;N1) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getValueType() == <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a> &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a> &amp;&amp;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0).getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">// As we split 64-bit `or` earlier, it&#39;s complicated pattern to match, i.e.</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// (i64 (bitcast (v2i32 (build_vector</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">//                        (or (extract_vector_elt V, 0), OFFSET),</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">//                        (extract_vector_elt V, 1)))))</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0).getOperand(0);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> &amp;&amp; DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>)) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BaseLo = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getOperand(0);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BaseHi = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0).getOperand(1);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="comment">// Check that split base (Lo and Hi) are extracted from the same one.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">if</span> (BaseLo.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a> &amp;&amp;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;          BaseHi.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a> &amp;&amp;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          BaseLo.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0) == BaseHi.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0) &amp;&amp;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <span class="comment">// Lo is statically extracted from index 0.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          isa&lt;ConstantSDNode&gt;(BaseLo.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)) &amp;&amp;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          BaseLo.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1) == 0 &amp;&amp;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          <span class="comment">// Hi is statically extracted from index 0.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          isa&lt;ConstantSDNode&gt;(BaseHi.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)) &amp;&amp;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;          BaseHi.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1) == 1) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        N0 = BaseLo.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        N1 = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getOperand(1);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isBaseWithConstantOffset64(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a0c1a2a8cfae803c3180dfa7eadc850e1">getBaseWithOffsetUsingSplitOR</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#aaa91eaec9ad3f41863367b2a804a38b8">  769</a></span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classAMDGPUDAGToDAGISel.html#aaa91eaec9ad3f41863367b2a804a38b8">AMDGPUDAGToDAGISel::getPassName</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;AMDGPU DAG-&gt;DAG Pattern Instruction Selection&quot;</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">// Complex Patterns</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectADDRVTX_READ(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectADDRIndirect(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>))) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(R600::INDIRECT_BASE_ADDR, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea6166b5d53cc9816ecd1223614b964fd9">AMDGPUISD::DWORDADDR</a>) &amp;&amp;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;             (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0)))) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(R600::INDIRECT_BASE_ADDR, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>) &amp;&amp;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1)))) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AMDGPUDAGToDAGISel::getMaterializedScalarImm32(int64_t Val,</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Mov = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    AMDGPU::S_MOV_B32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Val, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Mov, 0);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">// FIXME: Should only handle addcarry/subcarry</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectADD_SUB_I64(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode();</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordtype">bool</span> ConsumeCarry = (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">ISD::ADDE</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac9246c101c0cc9232e37b3941194bb13">ISD::SUBE</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordtype">bool</span> ProduceCarry =</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      ConsumeCarry || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">ISD::ADDC</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d">ISD::SUBC</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordtype">bool</span> IsAdd = Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">ISD::ADDC</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">ISD::ADDE</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Lo0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG,</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                       <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Sub0);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Hi0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG,</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                       <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, Sub1);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Lo1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                       <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Sub0);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Hi1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG,</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                       <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Sub1);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTList = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, MVT::Glue);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> OpcMap[2][2][2] = {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      {{AMDGPU::S_SUB_U32, AMDGPU::S_ADD_U32},</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;       {AMDGPU::V_SUB_CO_U32_e32, AMDGPU::V_ADD_CO_U32_e32}},</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      {{AMDGPU::S_SUBB_U32, AMDGPU::S_ADDC_U32},</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;       {AMDGPU::V_SUBB_U32_e32, AMDGPU::V_ADDC_U32_e32}}};</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordtype">unsigned</span> Opc = OpcMap[0][<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isDivergent()][IsAdd];</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordtype">unsigned</span> CarryOpc = OpcMap[1][<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isDivergent()][IsAdd];</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *AddLo;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">if</span> (!ConsumeCarry) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Lo0, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Lo1, 0) };</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    AddLo = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTList, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Lo0, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Lo1, 0), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2) };</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    AddLo = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(CarryOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTList, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddHiArgs[] = {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Hi0, 0),</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Hi1, 0),</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(AddLo, 1)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  };</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *AddHi = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(CarryOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTList, AddHiArgs);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RegSequenceArgs[] = {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::SReg_64RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(AddLo,0),</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    Sub0,</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(AddHi,0),</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    Sub1,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  };</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023aabce0250d60b95b97ff41ff41ba030d6">RegSequence</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::REG_SEQUENCE, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                               <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>, RegSequenceArgs);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">if</span> (ProduceCarry) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// Replace the carry-use</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(AddHi, 1));</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="comment">// Replace the remaining uses.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023aabce0250d60b95b97ff41ff41ba030d6">RegSequence</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectAddcSubb(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CI = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isDivergent()) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a> ? AMDGPU::V_ADDC_U32_e64</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                                   : AMDGPU::V_SUBB_U32_e64;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(),</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        {LHS, RHS, CI,</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;         CurDAG-&gt;getTargetConstant(0, {}, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>) <span class="comment">/*clamp bit*/</span>});</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a> ? AMDGPU::S_ADD_CO_PSEUDO</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                                   : AMDGPU::S_SUB_CO_PSEUDO;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    CurDAG-&gt;SelectNodeTo(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), {<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, CI});</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectUADDO_USUBO(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// The name of the opcodes are misleading. v_add_i32/v_sub_i32 have unsigned</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// carry out despite the _i32 name. These were renamed in VI to _U32.</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">// FIXME: We should probably rename the opcodes here.</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordtype">bool</span> IsAdd = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordtype">bool</span> IsVALU = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isDivergent();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> UI = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_end(); UI != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;       ++UI)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (UI.getUse().getResNo() == 1) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">if</span> ((IsAdd &amp;&amp; (UI-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">ISD::ADDCARRY</a>)) ||</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;          (!IsAdd &amp;&amp; (UI-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a">ISD::SUBCARRY</a>))) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        IsVALU = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">if</span> (IsVALU) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordtype">unsigned</span> Opc = IsAdd ? AMDGPU::V_ADD_CO_U32_e64 : AMDGPU::V_SUB_CO_U32_e64;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(),</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        {N-&gt;getOperand(0), N-&gt;getOperand(1),</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;         CurDAG-&gt;getTargetConstant(0, {}, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>) <span class="comment">/*clamp bit*/</span>});</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a> ? AMDGPU::S_UADDO_PSEUDO</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                                : AMDGPU::S_USUBO_PSEUDO;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    CurDAG-&gt;SelectNodeTo(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(),</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                         {<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1)});</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;}</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectFMA_W_CHAIN(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">//  src0_modifiers, src0,  src1_modifiers, src1, src2_modifiers, src2, clamp, omod</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[10];</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  SelectVOP3Mods0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), Ops[1], Ops[0], Ops[6], Ops[7]);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  SelectVOP3Mods(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), Ops[3], Ops[2]);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  SelectVOP3Mods(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3), Ops[5], Ops[4]);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  Ops[8] = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  Ops[9] = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(4);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// If there are no source modifiers, prefer fmac over fma because it can use</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// the smaller VOP2 encoding.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordtype">bool</span> UseFMAC = Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a24618695d970449f186b50c63648f674">hasDLInsts</a>() &amp;&amp;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                 cast&lt;ConstantSDNode&gt;(Ops[0])-&gt;isZero() &amp;&amp;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                 cast&lt;ConstantSDNode&gt;(Ops[2])-&gt;isZero() &amp;&amp;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                 cast&lt;ConstantSDNode&gt;(Ops[4])-&gt;isZero();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = UseFMAC ? AMDGPU::V_FMAC_F32_e64 : AMDGPU::V_FMA_F32_e64;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opcode, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;}</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectFMUL_W_CHAIN(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">//    src0_modifiers, src0,  src1_modifiers, src1, clamp, omod</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[8];</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  SelectVOP3Mods0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), Ops[1], Ops[0], Ops[4], Ops[5]);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  SelectVOP3Mods(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), Ops[3], Ops[2]);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  Ops[6] = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  Ops[7] = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AMDGPU::V_MUL_F32_e64, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">// We need to handle this here because tablegen doesn&#39;t support matching</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">// instructions with multiple outputs.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectDIV_SCALE(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT == <a class="code" href="README__P9_8txt.html#afc19dab8eb1f8a8d5e7c660f55d99cc1">MVT::f32</a> || VT == <a class="code" href="README__P9_8txt.html#afdb2c86c54a7de682961e9b0a42a080d">MVT::f64</a>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordtype">unsigned</span> Opc</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    = (VT == <a class="code" href="README__P9_8txt.html#afdb2c86c54a7de682961e9b0a42a080d">MVT::f64</a>) ? AMDGPU::V_DIV_SCALE_F64_e64 : AMDGPU::V_DIV_SCALE_F32_e64;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">// src0_modifiers, src0, src1_modifiers, src1, src2_modifiers, src2, clamp,</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="comment">// omod</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[8];</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  SelectVOP3BMods0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), Ops[1], Ops[0], Ops[6], Ops[7]);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  SelectVOP3BMods(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), Ops[3], Ops[2]);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  SelectVOP3BMods(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), Ops[5], Ops[4]);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">// We need to handle this here because tablegen doesn&#39;t support matching</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">// instructions with multiple outputs.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectMAD_64_32(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eae110f734779ea7435c1f89a1b019e8e9">AMDGPUISD::MAD_I64_I32</a>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a33fbbd04a4a2d81c229f0e613de73905">hasMADIntraFwdBug</a>())</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    Opc = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? AMDGPU::V_MAD_I64_I32_gfx11_e64</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                 : AMDGPU::V_MAD_U64_U32_gfx11_e64;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    Opc = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? AMDGPU::V_MAD_I64_I32_e64 : AMDGPU::V_MAD_U64_U32_e64;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Clamp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, SL, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = { <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2),</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                    Clamp };</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">// We need to handle this here because tablegen doesn&#39;t support matching</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">// instructions with multiple outputs.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectMUL_LOHI(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a33fbbd04a4a2d81c229f0e613de73905">hasMADIntraFwdBug</a>())</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    Opc = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? AMDGPU::V_MAD_I64_I32_gfx11_e64</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                 : AMDGPU::V_MAD_U64_U32_gfx11_e64;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    Opc = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? AMDGPU::V_MAD_I64_I32_e64 : AMDGPU::V_MAD_U64_U32_e64;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, SL, <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Clamp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, SL, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a>, Clamp};</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Mad = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opc, SL, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0).use_empty()) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG, SL,</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                                        <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Mad, 0), Sub0);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>, 0));</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1).use_empty()) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG, SL,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                        <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Mad, 0), Sub1);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>, 0));</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">RemoveDeadNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isDSOffsetLegal(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <span class="keywordtype">unsigned</span> <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> (!isUInt&lt;16&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>))</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> || Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a10f2e810ecf2f7e2bb9150ed2c5b622a">hasUsableDSOffset</a>() ||</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a1a905685dd1e80d0d65b2d02865b365f">unsafeDSOffsetFoldingEnabled</a>())</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">// On Southern Islands instruction with a negative base value and an offset</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="comment">// don&#39;t seem to work.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a923b1af8c1e485549410eda36702a5ac">SignBitIsZero</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectDS1Addr1Offset(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = cast&lt;ConstantSDNode&gt;(N1);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">if</span> (isDSOffsetLegal(N0, <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getSExtValue())) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="comment">// (add n0, c0)</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = N0;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// sub C, x -&gt; add (sub 0, x), C</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0))) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      int64_t ByteOffset = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">if</span> (isDSOffsetLegal(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(), ByteOffset)) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="comment">// XXX - This is kind of hacky. Create a dummy sub node so we can check</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="comment">// the known bits in isDSOffsetLegal. We need to emit the selected node</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="comment">// here, so this is thrown away.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                      Zero, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1));</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">if</span> (isDSOffsetLegal(Sub, ByteOffset)) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 3&gt;</a> Opnds;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;          Opnds.push_back(Zero);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;          Opnds.push_back(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1));</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;          <span class="comment">// FIXME: Select to VOP3 version for with-carry.</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;          <span class="keywordtype">unsigned</span> SubOp = AMDGPU::V_SUB_CO_U32_e32;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;          <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>()) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            SubOp = AMDGPU::V_SUB_U32_e64;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            Opnds.push_back(</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, {}, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>)); <span class="comment">// clamp bit</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;          }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;          <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *MachineSub =</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(SubOp, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Opnds);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(MachineSub, 0);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;          <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ByteOffset, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CAddr = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// If we have a constant address, prefer to put the constant into the</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// offset. This can save moves to load the constant address since multiple</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">// operations can share the zero base address register, and enables merging</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// into read2 / write2 instructions.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">if</span> (isDSOffsetLegal(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(), CAddr-&gt;getZExtValue())) {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *MovZero = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_MOV_B32_e32,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                 <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Zero);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(MovZero, 0);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(CAddr-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// default case</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;}</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isDSOffset2Legal(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <span class="keywordtype">unsigned</span> Offset0,</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                                          <span class="keywordtype">unsigned</span> Offset1,</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                                          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">if</span> (Offset0 % <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> != 0 || Offset1 % <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> != 0)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordflow">if</span> (!isUInt&lt;8&gt;(Offset0 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>) || !isUInt&lt;8&gt;(Offset1 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>))</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> || Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a10f2e810ecf2f7e2bb9150ed2c5b622a">hasUsableDSOffset</a>() ||</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a1a905685dd1e80d0d65b2d02865b365f">unsafeDSOffsetFoldingEnabled</a>())</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// On Southern Islands instruction with a negative base value and an offset</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// don&#39;t seem to work.</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a923b1af8c1e485549410eda36702a5ac">SignBitIsZero</a>(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;}</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment">// TODO: If offset is too big, put low 16-bit into offset.</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectDS64Bit4ByteAligned(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                                                   <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset0,</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                                                   <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset1)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keywordflow">return</span> SelectDSReadWrite2(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Offset0, Offset1, 4);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectDS128Bit8ByteAligned(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset0,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset1)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">return</span> SelectDSReadWrite2(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Offset0, Offset1, 8);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectDSReadWrite2(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset1,</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                                            <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = cast&lt;ConstantSDNode&gt;(N1);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordtype">unsigned</span> OffsetValue0 = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordtype">unsigned</span> OffsetValue1 = OffsetValue0 + <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="comment">// (add n0, c0)</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (isDSOffset2Legal(N0, OffsetValue0, OffsetValue1, <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>)) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = N0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      Offset0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetValue0 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      Offset1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetValue1 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="comment">// sub C, x -&gt; add (sub 0, x), C</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> =</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0))) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordtype">unsigned</span> OffsetValue0 = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keywordtype">unsigned</span> OffsetValue1 = OffsetValue0 + <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">if</span> (isDSOffset2Legal(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(), OffsetValue0, OffsetValue1, <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>)) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="comment">// XXX - This is kind of hacky. Create a dummy sub node so we can check</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="comment">// the known bits in isDSOffsetLegal. We need to emit the selected node</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="comment">// here, so this is thrown away.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub =</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Zero, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1));</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="keywordflow">if</span> (isDSOffset2Legal(Sub, OffsetValue0, OffsetValue1, <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>)) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 3&gt;</a> Opnds;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          Opnds.push_back(Zero);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;          Opnds.push_back(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1));</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;          <span class="keywordtype">unsigned</span> SubOp = AMDGPU::V_SUB_CO_U32_e32;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;          <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>()) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            SubOp = AMDGPU::V_SUB_U32_e64;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            Opnds.push_back(</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, {}, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>)); <span class="comment">// clamp bit</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;          }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;          <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *MachineSub = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;              SubOp, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MVT::getIntegerVT(<a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> * 8), Opnds);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(MachineSub, 0);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          Offset0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetValue0 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          Offset1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetValue1 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CAddr = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordtype">unsigned</span> OffsetValue0 = CAddr-&gt;getZExtValue();</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordtype">unsigned</span> OffsetValue1 = OffsetValue0 + <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span> (isDSOffset2Legal(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(), OffsetValue0, OffsetValue1, <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>)) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *MovZero =</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_MOV_B32_e32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Zero);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(MovZero, 0);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      Offset0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetValue0 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      Offset1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetValue1 / <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// default case</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  Offset0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  Offset1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">MVT::i8</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectMUBUF(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr,</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offen, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Idxen,</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Addr64)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// Subtarget prefers to use flat instruction</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">// FIXME: This should be a pattern predicate and not reach here</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ac984e6be051494d2f59e7bbe563b84b9">useFlatForGlobal</a>())</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  Idxen = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  Offen = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  Addr64 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  SOffset = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1));</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (isUInt&lt;32&gt;(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue()))</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      N0 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">// (add N2, N3) -&gt; addr64, or</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">// (add (add N2, N3), C1) -&gt; addr64</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N2 = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N3 = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    Addr64 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">if</span> (N2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a28417243f8d25f74e598d78d7802c366">isDivergent</a>()) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">if</span> (N3-&gt;<a class="code" href="classllvm_1_1SDNode.html#a28417243f8d25f74e598d78d7802c366">isDivergent</a>()) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="comment">// Both N2 and N3 are divergent. Use N0 (the result of the add) as the</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="comment">// addr64, and construct the resource from a 0 address.</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(buildSMovImm64(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a159920e88406441690339840f79c4dc7">MVT::v2i32</a>), 0);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        VAddr = N0;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="comment">// N2 is divergent, N3 is not.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = N3;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        VAddr = N2;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="comment">// N2 is not divergent.</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = N2;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      VAddr = N3;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a28417243f8d25f74e598d78d7802c366">isDivergent</a>()) {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">// N0 is divergent. Use it as the addr64, and construct the resource from a</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// 0 address.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(buildSMovImm64(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, <a class="code" href="lib_2Target_2X86_2README_8txt.html#a159920e88406441690339840f79c4dc7">MVT::v2i32</a>), 0);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    VAddr = N0;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    Addr64 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// N0 -&gt; offset, or</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// (N0 + C1) -&gt; offset</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    VAddr = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = N0;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">// No offset.</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordflow">if</span> (SIInstrInfo::isLegalMUBUFImmOffset(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue())) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">// Legal offset for instruction.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="comment">// Illegal offset, store it in soffset.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  SOffset =</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                  AMDGPU::S_MOV_B32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)),</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;              0);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;}</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectMUBUFAddr64(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SRsrc,</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Offen, Idxen, Addr64;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// addr64 bit was removed for volcanic islands.</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// FIXME: This should be a pattern predicate and not reach here</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">hasAddr64</a>())</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordflow">if</span> (!SelectMUBUF(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, VAddr, SOffset, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, Offen, Idxen, Addr64))</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;ConstantSDNode&gt;(Addr64);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue()) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>&amp; <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a> =</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>*<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">getTargetLowering</a>());</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    SRsrc = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a>.wrapAddr64Rsrc(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>), 0);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;}</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;std::pair&lt;SDValue, SDValue&gt; AMDGPUDAGToDAGISel::foldFrameIndex(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keyword">auto</span> *FI = dyn_cast&lt;FrameIndexSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TFI =</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      FI ? <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FI-&gt;getIndex(), FI-&gt;getValueType(0)) : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="comment">// We rebase the base address into an absolute stack address and hence</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">// use constant 0 for soffset. This value must be retained until</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// frame elimination and eliminateFrameIndex will choose the appropriate</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// frame register if need be.</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordflow">return</span> std::pair(TFI, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;}</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectMUBUFScratchOffen(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Parent,</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                                                 <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Rsrc,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                                                 <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset,</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                                 <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;ImmOffset)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> *<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  Rsrc = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;getScratchRSrcReg(), <a class="code" href="README__P9_8txt.html#a9ecb9af97ff8ecc76733f61d3946a8ba">MVT::v4i32</a>);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CAddr = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = CAddr-&gt;getSExtValue();</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keyword">const</span> int64_t NullPtr =</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        AMDGPUTargetMachine::getNullPointerValue(<a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="comment">// Don&#39;t fold null pointer.</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != NullPtr) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HighBits = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; ~4095, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *MovHighBits = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        AMDGPU::V_MOV_B32_e32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, HighBits);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      VAddr = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(MovHighBits, 0);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      SOffset = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      ImmOffset = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 4095, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="comment">// (add n0, c1)</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">// Offsets in vaddr must be positive if range checking is enabled.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">// The total computation of vaddr + soffset + offset must not overflow.  If</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// vaddr is negative, even if offset is 0 the sgpr offset add will end up</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="comment">// overflowing.</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="comment">// Prior to gfx9, MUBUF instructions with the vaddr offset enabled would</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="comment">// always perform a range check. If a negative vaddr base index was used,</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="comment">// this would fail the range check. The overall address computation would</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="comment">// compute a valid address, but this doesn&#39;t happen due to the range</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="comment">// check. For out-of-bounds MUBUF loads, a 0 is returned.</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="comment">// Therefore it should be safe to fold any VGPR offset on gfx9 into the</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="comment">// MUBUF vaddr, but not on older subtargets which can only do this if the</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="comment">// sign bit is known 0.</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = cast&lt;ConstantSDNode&gt;(N1);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">if</span> (SIInstrInfo::isLegalMUBUFImmOffset(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue()) &amp;&amp;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        (!Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a3c9cd4a438837eb5883a8b62107e8219">privateMemoryResourceIsRangeChecked</a>() ||</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;         <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a923b1af8c1e485549410eda36702a5ac">SignBitIsZero</a>(N0))) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      std::tie(VAddr, SOffset) = foldFrameIndex(N0);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      ImmOffset = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// (node)</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  std::tie(VAddr, SOffset) = foldFrameIndex(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  ImmOffset = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;}</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#adeb4fa20d3ea1515e0a668fccec57f59"> 1426</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#adeb4fa20d3ea1515e0a668fccec57f59">IsCopyFromSGPR</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">if</span> (Val.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a>)</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = cast&lt;RegisterSDNode&gt;(Val.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getReg();</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical())</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keyword">auto</span> RC = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa342123aa2f9f6eca71603c8e27c355d">getPhysRegBaseClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">return</span> RC &amp;&amp; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.isSGPRClass(RC);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectMUBUFScratchOffset(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Parent,</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SRsrc,</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset,</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> =</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<span class="keyword">&gt;</span>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>());</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> *<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// CopyFromReg &lt;sgpr&gt;</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#adeb4fa20d3ea1515e0a668fccec57f59">IsCopyFromSGPR</a>(*<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    SRsrc = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;getScratchRSrcReg(), <a class="code" href="README__P9_8txt.html#a9ecb9af97ff8ecc76733f61d3946a8ba">MVT::v4i32</a>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    SOffset = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CAddr;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">// Add (CopyFromReg &lt;sgpr&gt;) &lt;constant&gt;</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    CAddr = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1));</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">if</span> (!CAddr || !SIInstrInfo::isLegalMUBUFImmOffset(CAddr-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>()))</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#adeb4fa20d3ea1515e0a668fccec57f59">IsCopyFromSGPR</a>(*<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0)))</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    SOffset = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((CAddr = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) &amp;&amp;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;             SIInstrInfo::isLegalMUBUFImmOffset(CAddr-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>())) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// &lt;constant&gt;</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    SOffset = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  SRsrc = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;getScratchRSrcReg(), <a class="code" href="README__P9_8txt.html#a9ecb9af97ff8ecc76733f61d3946a8ba">MVT::v4i32</a>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(CAddr-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;}</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectMUBUFOffset(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SRsrc,</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                                           )<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, VAddr, Offen, Idxen, Addr64;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> =</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<span class="keyword">&gt;</span>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>());</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="keywordflow">if</span> (!SelectMUBUF(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, VAddr, SOffset, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, Offen, Idxen, Addr64))</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">if</span> (!cast&lt;ConstantSDNode&gt;(Offen)-&gt;getSExtValue() &amp;&amp;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      !cast&lt;ConstantSDNode&gt;(Idxen)-&gt;getSExtValue() &amp;&amp;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      !cast&lt;ConstantSDNode&gt;(Addr64)-&gt;getSExtValue()) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Rsrc = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;getDefaultRsrcDataFormat() |</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                    APInt::getAllOnes(32).getZExtValue(); <span class="comment">// Size</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>&amp; <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a> =</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a>*<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">getTargetLowering</a>());</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    SRsrc = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a>.buildRSRC(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, 0, Rsrc), 0);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment">// Find a load or store from corresponding pattern root.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">// Roots may be build_vector, bitconvert or their combinations.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a271f9a39d535b908cc6b1c3c1b34f3b9"> 1507</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MemSDNode.html">MemSDNode</a>* <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a271f9a39d535b908cc6b1c3c1b34f3b9">findMemSDNode</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = AMDGPUTargetLowering::stripBitcast(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,0)).getNode();</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemSDNode.html">MemSDNode</a> *MN = dyn_cast&lt;MemSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> MN;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;BuildVectorSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>));</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;op_values())</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemSDNode.html">MemSDNode</a> *MN =</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;          dyn_cast&lt;MemSDNode&gt;(AMDGPUTargetLowering::stripBitcast(V)))</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <span class="keywordflow">return</span> MN;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;cannot find MemSDNode in the pattern!&quot;</span>);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;}</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectFlatOffsetImpl(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                                              <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FlatVariant)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  int64_t OffsetVal = 0;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordtype">unsigned</span> AS = <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a271f9a39d535b908cc6b1c3c1b34f3b9">findMemSDNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2e10f29264df67a4564d4230bf8e98c7">getAddressSpace</a>();</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordtype">bool</span> CanHaveFlatSegmentOffsetBug =</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a7c210fe3c1ded331101415c059606e2e">hasFlatSegmentOffsetBug</a>() &amp;&amp;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      FlatVariant == <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">SIInstrFlags::FLAT</a> &amp;&amp;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      (AS == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">AMDGPUAS::FLAT_ADDRESS</a> || AS == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a1b42b67d0df8ad1a351bbdc503c115a1">hasFlatInstOffsets</a>() &amp;&amp; !CanHaveFlatSegmentOffsetBug) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, N1;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (isBaseWithConstantOffset64(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, N0, N1)) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      int64_t COffsetVal = cast&lt;ConstantSDNode&gt;(N1)-&gt;getSExtValue();</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>();</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isLegalFLATOffset(COffsetVal, AS, FlatVariant)) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = N0;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        OffsetVal = COffsetVal;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="comment">// If the offset doesn&#39;t fit, put the low bits into the offset field and</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <span class="comment">// add the rest.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="comment">// For a FLAT instruction the hardware decides whether to access</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="comment">// global/scratch/shared memory based on the high bits of vaddr,</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="comment">// ignoring the offset field, so we have to ensure that when we add</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="comment">// remainder to vaddr it still points into the same underlying object.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="comment">// The easiest way to do that is to make sure that we split the offset</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="comment">// into two pieces that are both &gt;= 0 or both &lt;= 0.</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RemainderOffset;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        std::tie(OffsetVal, RemainderOffset) =</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;splitFlatOffset(COffsetVal, AS, FlatVariant);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddOffsetLo =</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            getMaterializedScalarImm32(<a class="code" href="namespacellvm.html#a901112c493d3827cda924430a6fbc9f4">Lo_32</a>(RemainderOffset), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Clamp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getValueType().getSizeInBits() == 32) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 3&gt;</a> Opnds;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;          Opnds.push_back(N0);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;          Opnds.push_back(AddOffsetLo);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;          <span class="keywordtype">unsigned</span> AddOp = AMDGPU::V_ADD_CO_U32_e32;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>()) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            AddOp = AMDGPU::V_ADD_U32_e64;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            Opnds.push_back(Clamp);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;          }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;          <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AddOp, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Opnds), 0);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;          <span class="comment">// TODO: Should this try to use a scalar add pseudo if the base address</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;          <span class="comment">// is uniform and saddr is usable?</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub1 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160; </div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N0Lo = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                                <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, N0, Sub0);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N0Hi = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::EXTRACT_SUBREG,</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                                <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, N0, Sub1);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddOffsetHi =</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;              getMaterializedScalarImm32(<a class="code" href="namespacellvm.html#a7b622c469acc130c9a500b85b1473ef3">Hi_32</a>(RemainderOffset), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;          <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a> =</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_ADD_CO_U32_e64, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs,</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                                     {AddOffsetLo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N0Lo, 0), Clamp});</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Addc = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;              AMDGPU::V_ADDC_U32_e64, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs,</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;              {AddOffsetHi, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N0Hi, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>, 1), Clamp});</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RegSequenceArgs[] = {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::VReg_64RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Add</a>, 0), Sub0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Addc, 0), Sub1};</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;          <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::REG_SEQUENCE, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                                                <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>, RegSequenceArgs),</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                         0);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  VAddr = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetVal, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;}</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectFlatOffset(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr,</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">return</span> SelectFlatOffsetImpl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, VAddr, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">SIInstrFlags::FLAT</a>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;}</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectGlobalOffset(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr,</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">return</span> SelectFlatOffsetImpl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, VAddr, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da125415c6b554fcb76cedd65841141a92">SIInstrFlags::FlatGlobal</a>);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectScratchOffset(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr,</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="keywordflow">return</span> SelectFlatOffsetImpl(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, VAddr, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                              <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;}</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">// If this matches zero_extend i32:x, return x</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a43ee5768facecc56c27110820a288580"> 1632</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a43ee5768facecc56c27110820a288580">matchZExtFromI32</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtSrc = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOperand(0);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">return</span> (ExtSrc.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>) ? ExtSrc : <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">// Match (64-bit SGPR base) + (zext vgpr offset) + sext(imm offset)</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectGlobalSAddr(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SAddr,</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VOffset,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  int64_t ImmOffset = 0;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// Match the immediate offset first, which canonically is moved as low as</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// possible.</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">if</span> (isBaseWithConstantOffset64(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    int64_t COffsetVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;getSExtValue();</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>();</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isLegalFLATOffset(COffsetVal, <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                               <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da125415c6b554fcb76cedd65841141a92">SIInstrFlags::FlatGlobal</a>)) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      ImmOffset = COffsetVal;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isDivergent()) {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">if</span> (COffsetVal &gt; 0) {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="comment">// saddr + large_offset -&gt; saddr +</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="comment">//                         (voffset = large_offset &amp; ~MaxOffset) +</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="comment">//                         (large_offset &amp; MaxOffset);</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        int64_t SplitImmOffset, RemainderOffset;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        std::tie(SplitImmOffset, RemainderOffset) = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;splitFlatOffset(</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            COffsetVal, <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>, <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da125415c6b554fcb76cedd65841141a92">SIInstrFlags::FlatGlobal</a>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="keywordflow">if</span> (isUInt&lt;32&gt;(RemainderOffset)) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *VMov = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;              AMDGPU::V_MOV_B32_e32, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(RemainderOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          VOffset = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(VMov, 0);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;          SAddr = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;          <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(SplitImmOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="comment">// We are adding a 64 bit SGPR and a constant. If constant bus limit</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="comment">// is 1 we would need to perform 1 or 2 extra moves for each half of</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="comment">// the constant and it is better to do a scalar add and then issue a</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="comment">// single VALU instruction to materialize zero. Otherwise it is less</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="comment">// instructions to perform VALU adds with immediates or inline literals.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <span class="keywordtype">unsigned</span> NumLiterals =</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;          !<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isInlineConstant(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, COffsetVal &amp; 0xffffffff)) +</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;          !<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isInlineConstant(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, COffsetVal &gt;&gt; 32));</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(AMDGPU::V_ADD_U32_e64) &gt; NumLiterals)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="comment">// Match the variable offset.</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isDivergent()) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <span class="comment">// add (i64 sgpr), (zero_extend (i32 vgpr))</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZextRHS = <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a43ee5768facecc56c27110820a288580">matchZExtFromI32</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        SAddr = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        VOffset = ZextRHS;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">if</span> (!SAddr &amp;&amp; !<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;isDivergent()) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="comment">// add (zero_extend (i32 vgpr)), (i64 sgpr)</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZextLHS = <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a43ee5768facecc56c27110820a288580">matchZExtFromI32</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        SAddr = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        VOffset = ZextLHS;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">if</span> (SAddr) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ImmOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    }</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;isDivergent() || <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a> ||</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      isa&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>))</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="comment">// It&#39;s cheaper to materialize a single 32-bit zero for vaddr than the two</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="comment">// moves required to copy a 64-bit SGPR to VGPR.</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  SAddr = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *VMov =</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_MOV_B32_e32, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                             <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  VOffset = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(VMov, 0);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ImmOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;}</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a94a572abf6fc5efeca6e817a792829b3"> 1736</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a94a572abf6fc5efeca6e817a792829b3">SelectSAddrFI</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> *CurDAG, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SAddr) {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> FI = dyn_cast&lt;FrameIndexSDNode&gt;(SAddr)) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    SAddr = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FI-&gt;getIndex(), FI-&gt;getValueType(0));</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SAddr.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;             isa&lt;FrameIndexSDNode&gt;(SAddr.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0))) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">// Materialize this into a scalar move for scalar address to avoid</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// readfirstlane.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keyword">auto</span> FI = cast&lt;FrameIndexSDNode&gt;(SAddr.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TFI = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FI-&gt;getIndex(),</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                                              FI-&gt;getValueType(0));</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    SAddr = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::S_ADD_I32, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(SAddr),</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                                           <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, TFI, SAddr.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)),</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    0);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  }</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordflow">return</span> SAddr;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;}</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="comment">// Match (32-bit SGPR base) + sext(imm offset)</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectScratchSAddr(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Parent, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SAddr,</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;isDivergent())</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  int64_t COffsetVal = 0;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    COffsetVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    SAddr = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    SAddr = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; </div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  SAddr = <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a94a572abf6fc5efeca6e817a792829b3">SelectSAddrFI</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, SAddr);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>();</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isLegalFLATOffset(COffsetVal, <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>,</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                              <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a>)) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    int64_t SplitImmOffset, RemainderOffset;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    std::tie(SplitImmOffset, RemainderOffset) = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;splitFlatOffset(</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        COffsetVal, <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>, <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a>);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    COffsetVal = SplitImmOffset;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddOffset =</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        SAddr.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa84894f4966964ef9fc79f9515a6c875">ISD::TargetFrameIndex</a></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            ? getMaterializedScalarImm32(<a class="code" href="namespacellvm.html#a901112c493d3827cda924430a6fbc9f4">Lo_32</a>(RemainderOffset), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            : <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getTargetConstant(RemainderOffset, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html">MVT</a>::<a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">i32</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    SAddr = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::S_ADD_I32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                                           SAddr, AddOffset),</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                    0);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(COffsetVal, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;}</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">// Check whether the flat scratch SVS swizzle bug affects this access.</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::checkFlatScratchSVSSwizzleBug(</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VAddr, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SAddr, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ImmOffset)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ab85fb688a662d3962521663406317d17">hasFlatScratchSVSSwizzleBug</a>())</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// The bug affects the swizzling of SVS accesses if there is any carry out</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">// from the two low order bits (i.e. from bit 1 into bit 2) when adding</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="comment">// voffset to (soffset + inst_offset).</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> VKnown = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(VAddr);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> SKnown = KnownBits::computeForAddSub(</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(SAddr),</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      KnownBits::makeConstant(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, ImmOffset)));</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> VMax = VKnown.<a class="code" href="structllvm_1_1KnownBits.html#a825476b2436eb817b735fdd34ee521c4">getMaxValue</a>().<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eabccd0de85dfbe7aef83629b318a4df6e">SMax</a> = SKnown.<a class="code" href="structllvm_1_1KnownBits.html#a825476b2436eb817b735fdd34ee521c4">getMaxValue</a>().<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">return</span> (VMax &amp; 3) + (<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eabccd0de85dfbe7aef83629b318a4df6e">SMax</a> &amp; 3) &gt;= 4;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectScratchSVAddr(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VAddr, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SAddr,</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const  </span>{</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  int64_t ImmOffset = 0;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160; </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="keywordflow">if</span> (isBaseWithConstantOffset64(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    int64_t COffsetVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)-&gt;getSExtValue();</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>();</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;isLegalFLATOffset(COffsetVal, <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      ImmOffset = COffsetVal;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isDivergent() &amp;&amp; COffsetVal &gt; 0) {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="comment">// saddr + large_offset -&gt; saddr + (vaddr = large_offset &amp; ~MaxOffset) +</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="comment">//                         (large_offset &amp; MaxOffset);</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      int64_t SplitImmOffset, RemainderOffset;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      std::tie(SplitImmOffset, RemainderOffset)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;splitFlatOffset(COffsetVal, <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;32&gt;(RemainderOffset)) {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *VMov = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;          AMDGPU::V_MOV_B32_e32, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(RemainderOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        VAddr = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(VMov, 0);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        SAddr = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        <span class="keywordflow">if</span> (checkFlatScratchSVSSwizzleBug(VAddr, SAddr, SplitImmOffset))</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(SplitImmOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isDivergent() &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;isDivergent()) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    SAddr = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    VAddr = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;isDivergent() &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isDivergent()) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    SAddr = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    VAddr = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  }</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">if</span> (checkFlatScratchSVSSwizzleBug(VAddr, SAddr, ImmOffset))</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  SAddr = <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a94a572abf6fc5efeca6e817a792829b3">SelectSAddrFI</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, SAddr);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ImmOffset, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">MVT::i16</a>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;}</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="comment">// Match an immediate (if Offset is not null) or an SGPR (if SOffset is</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="comment">// not null) offset. If Imm32Only is true, match only 32-bit immediate</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="comment">// offsets available on CI.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDOffset(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ByteOffsetNode,</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> *SOffset, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                                          <span class="keywordtype">bool</span> Imm32Only, <span class="keywordtype">bool</span> IsBuffer)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!SOffset || !<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>) &amp;&amp;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;         <span class="stringliteral">&quot;Cannot match both soffset and offset at the same time!&quot;</span>);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160; </div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(ByteOffsetNode);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (!SOffset)</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">if</span> (ByteOffsetNode.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#ad958859a7af278dd5ea2b593c2b25050">isScalarInteger</a>() &amp;&amp;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        ByteOffsetNode.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == 32) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      *SOffset = ByteOffsetNode;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    }</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (ByteOffsetNode.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>) {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      <span class="keywordflow">if</span> (ByteOffsetNode.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == 32) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        *SOffset = ByteOffsetNode.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  }</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160; </div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(ByteOffsetNode);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="comment">// GFX9 and GFX10 have signed byte immediate offsets. The immediate</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="comment">// offset for S_BUFFER instructions is unsigned.</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  int64_t ByteOffset = IsBuffer ? <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue() : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue();</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  std::optional&lt;int64_t&gt; EncodedOffset =</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU.html#a90cfef7fb525f06c3b8f8b34f6f33698">AMDGPU::getSMRDEncodedOffset</a>(*Subtarget, ByteOffset, IsBuffer);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">if</span> (EncodedOffset &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> &amp;&amp; !Imm32Only) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(*EncodedOffset, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="comment">// SGPR and literal offsets are unsigned.</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">if</span> (ByteOffset &lt; 0)</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  EncodedOffset = <a class="code" href="namespacellvm_1_1AMDGPU.html#a1855014288dfc356a7ccdd821984a972">AMDGPU::getSMRDEncodedLiteralOffset32</a>(*Subtarget, ByteOffset);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="keywordflow">if</span> (EncodedOffset &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> &amp;&amp; Imm32Only) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(*EncodedOffset, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="keywordflow">if</span> (!isUInt&lt;32&gt;(ByteOffset) &amp;&amp; !isInt&lt;32&gt;(ByteOffset))</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordflow">if</span> (SOffset) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> C32Bit = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ByteOffset, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    *SOffset = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::S_MOV_B32, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, C32Bit), 0);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  }</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160; </div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;}</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; </div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AMDGPUDAGToDAGISel::Expand32BitAddress(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getValueType() != <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="comment">// Zero-extend a 32-bit address.</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> *<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="keywordtype">unsigned</span> AddrHiVal = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;get32BitAddressHighBits();</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddrHi = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AddrHiVal, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::SReg_64_XEXECRegClassID, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::S_MOV_B32, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, AddrHi),</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            0),</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  };</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::REG_SEQUENCE, SL, <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>,</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                                        Ops), 0);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;}</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment">// Match a base and an immediate (if Offset is not null) or an SGPR (if</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment">// SOffset is not null) or an immediate+SGPR offset. If Imm32Only is</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="comment">// true, match only 32-bit immediate offsets available on CI.</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDBaseOffset(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>,</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> *SOffset, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                                              <span class="keywordtype">bool</span> Imm32Only,</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                                              <span class="keywordtype">bool</span> IsBuffer)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordflow">if</span> (SOffset &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>) {</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Imm32Only &amp;&amp; !IsBuffer);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">return</span> SelectSMRDBaseOffset(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <span class="keyword">nullptr</span>, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>) &amp;&amp;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;           SelectSMRDBaseOffset(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>, SOffset, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="comment">// A 32-bit (address + offset) should not cause unsigned 32-bit integer</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="comment">// wraparound, because s_load instructions perform the addition in 64 bits.</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getValueType() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a> &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      !<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;getFlags().hasNoUnsignedWrap())</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0, N1;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">// Extract the base and offset if possible.</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>) || <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    N0 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    N1 = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a0c1a2a8cfae803c3180dfa7eadc850e1">getBaseWithOffsetUsingSplitOR</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, N0, N1)) {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(N0 &amp;&amp; N1 &amp;&amp; isa&lt;ConstantSDNode&gt;(N1));</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="keywordflow">if</span> (!N0 || !N1)</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">if</span> (SelectSMRDOffset(N1, SOffset, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, Imm32Only, IsBuffer)) {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a> = N0;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">if</span> (SelectSMRDOffset(N0, SOffset, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, Imm32Only, IsBuffer)) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a> = N1;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRD(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>,</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> *SOffset, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                                    <span class="keywordtype">bool</span> Imm32Only)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="keywordflow">if</span> (SelectSMRDBaseOffset(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>, SOffset, <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, Imm32Only)) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a> = Expand32BitAddress(<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160; </div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getValueType() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a> &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> &amp;&amp; !SOffset) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a> = Expand32BitAddress(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDImm(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>,</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                                       <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordflow">return</span> SelectSMRD(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>, <span class="comment">/* SOffset */</span> <span class="keyword">nullptr</span>, &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;}</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDImm32(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>,</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == AMDGPUSubtarget::SEA_ISLANDS);</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="keywordflow">return</span> SelectSMRD(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>, <span class="comment">/* SOffset */</span> <span class="keyword">nullptr</span>, &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                    <span class="comment">/* Imm32Only */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDSgpr(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>,</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">return</span> SelectSMRD(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>, &amp;SOffset, <span class="comment">/* Offset */</span> <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;}</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDSgprImm(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>,</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset,</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordflow">return</span> SelectSMRD(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>, &amp;SOffset, &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;}</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDBufferImm(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="keywordflow">return</span> SelectSMRDOffset(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="comment">/* SOffset */</span> <span class="keyword">nullptr</span>, &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                          <span class="comment">/* Imm32Only */</span> <span class="keyword">false</span>, <span class="comment">/* IsBuffer */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;}</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDBufferImm32(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == AMDGPUSubtarget::SEA_ISLANDS);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="keywordflow">return</span> SelectSMRDOffset(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="comment">/* SOffset */</span> <span class="keyword">nullptr</span>, &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                          <span class="comment">/* Imm32Only */</span> <span class="keyword">true</span>, <span class="comment">/* IsBuffer */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;}</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160; </div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectSMRDBufferSgprImm(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SOffset,</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                                                 <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="comment">// Match the (soffset + offset) pair as a 32-bit register base and</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="comment">// an immediate offset.</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a> &amp;&amp;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;         SelectSMRDBaseOffset(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="comment">/* SBase */</span> SOffset, <span class="comment">/* SOffset*/</span> <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                              &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, <span class="comment">/* Imm32Only */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                              <span class="comment">/* IsBuffer */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;}</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectMOVRELOffset(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160; </div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>)) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = cast&lt;ConstantSDNode&gt;(N1);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="comment">// (add n0, c0)</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="comment">// Don&#39;t peel off the offset (c0) if doing so could possibly lead</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="comment">// the base (n0) to be negative.</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="comment">// (or n0, |c0|) can never change a sign given isBaseWithConstantOffset.</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getSExtValue() &lt;= 0 || <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a923b1af8c1e485549410eda36702a5ac">SignBitIsZero</a>(N0) ||</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        (<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getSExtValue() &gt;= 0)) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = N0;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>-&gt;getZExtValue(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>))</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;}</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *AMDGPUDAGToDAGISel::getBFE32(<span class="keywordtype">bool</span> IsSigned, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                                     <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">if</span> (Val-&gt;<a class="code" href="classllvm_1_1SDNode.html#a28417243f8d25f74e598d78d7802c366">isDivergent</a>()) {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordtype">unsigned</span> Opcode = IsSigned ? AMDGPU::V_BFE_I32_e64 : AMDGPU::V_BFE_U32_e64;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#ab6e8b39aa26af871d8ede5fa8c791ee6ad15305d7a4e34e02489c74a5ef542f36">Off</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160; </div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Val, Off, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = IsSigned ? AMDGPU::S_BFE_I32 : AMDGPU::S_BFE_U32;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="comment">// Transformation function, pack the offset and width of a BFE into</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="comment">// the format expected by the S_BFE_I32 / S_BFE_U32. In the second</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <span class="comment">// source, bits [5:0] contain the offset and bits [22:16] the width.</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> PackedVal = <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> | (<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> &lt;&lt; 16);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PackedConst = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(PackedVal, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160; </div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>, Val, PackedConst);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;}</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectS_BFEFromShifts(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="comment">// &quot;(a &lt;&lt; b) srl c)&quot; ---&gt; &quot;BFE_U32 a, (c-b), (32-c)</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="comment">// &quot;(a &lt;&lt; b) sra c)&quot; ---&gt; &quot;BFE_I32 a, (c-b), (32-c)</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="comment">// Predicate: 0 &lt; b &lt;= c &lt; 32</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Shl = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = dyn_cast&lt;ConstantSDNode&gt;(Shl-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(1));</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> BVal = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> CVal = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">if</span> (0 &lt; BVal &amp;&amp; BVal &lt;= CVal &amp;&amp; CVal &lt; 32) {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, getBFE32(<a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), Shl.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), CVal - BVal,</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                  32 - CVal));</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;}</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectS_BFE(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>:</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>) {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="comment">// &quot;(a srl b) &amp; mask&quot; ---&gt; &quot;BFE_U32 a, b, popcount(mask)&quot;</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="comment">// Predicate: isMask(mask)</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Srl = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = dyn_cast&lt;ConstantSDNode&gt;(Srl.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &amp;&amp; <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> ShiftVal = <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> MaskVal = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a264f3d09a4f5545a3406ee3e5b0ac4d6">isMask_32</a>(MaskVal)) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;          <a class="code" href="classuint32__t.html">uint32_t</a> WidthVal = <a class="code" href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a>(MaskVal);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, getBFE32(<span class="keyword">false</span>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), Srl.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0), ShiftVal,</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                                  WidthVal));</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        }</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>) {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="comment">// &quot;(a &amp; mask) srl b)&quot; ---&gt; &quot;BFE_U32 a, b, popcount(mask &gt;&gt; b)&quot;</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      <span class="comment">// Predicate: isMask(mask &gt;&gt; b)</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160; </div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &amp;&amp; <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> ShiftVal = <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> MaskVal = <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getZExtValue() &gt;&gt; ShiftVal;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a264f3d09a4f5545a3406ee3e5b0ac4d6">isMask_32</a>(MaskVal)) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;          <a class="code" href="classuint32__t.html">uint32_t</a> WidthVal = <a class="code" href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a>(MaskVal);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, getBFE32(<span class="keyword">false</span>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a>.getOperand(0), ShiftVal,</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                      WidthVal));</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        }</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      }</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      SelectS_BFEFromShifts(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    }</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>:</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>) {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      SelectS_BFEFromShifts(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    }</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>: {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="comment">// sext_inreg (srl x, 16), i8 -&gt; bfe_i32 x, 16, 8</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> (Src.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>)</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *Amt = dyn_cast&lt;ConstantSDNode&gt;(Src.getOperand(1));</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">if</span> (!Amt)</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160; </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = cast&lt;VTSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1))-&gt;getVT().getSizeInBits();</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, getBFE32(<span class="keyword">true</span>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), Src.getOperand(0),</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                            Amt-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>));</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  }</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  }</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160; </div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;}</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160; </div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isCBranchSCC(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782">ISD::BRCOND</a>);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;hasOneUse())</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">ISD::CopyToReg</a>)</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.getOperand(2);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a> || !<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.hasOneUse())</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.getOperand(0).getSimpleValueType();</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>) {</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> *<span class="keyword">&gt;</span>(Subtarget);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> = cast&lt;CondCodeSDNode&gt;(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.getOperand(2))-&gt;get();</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;hasScalarCompareEq64();</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  }</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;}</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160; </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectBRCOND(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160; </div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.isUndef()) {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AMDGPU::SI_BR_UNDEF, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">MVT::Other</a>,</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                         <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160; </div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> *<span class="keyword">&gt;</span>(Subtarget);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getRegisterInfo();</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <span class="keywordtype">bool</span> UseSCCBr = isCBranchSCC(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) &amp;&amp; isUniformBr(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keywordtype">unsigned</span> BrOp = UseSCCBr ? AMDGPU::S_CBRANCH_SCC1 : AMDGPU::S_CBRANCH_VCCNZ;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CondReg = UseSCCBr ? <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a> : <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getVCC();</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160; </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordflow">if</span> (!UseSCCBr) {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="comment">// This is the case that we are selecting to S_CBRANCH_VCCNZ.  We have not</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="comment">// analyzed what generates the vcc value, so we do not know whether vcc</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="comment">// bits for disabled lanes are 0.  Thus we need to mask out bits for</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="comment">// disabled lanes.</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="comment">// For the case that we select S_CBRANCH_SCC1 and it gets</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="comment">// changed to S_CBRANCH_VCCNZ in SIFixSGPRCopies, SIFixSGPRCopies calls</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="comment">// SIInstrInfo::moveToVALU which inserts the S_AND).</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="comment">// We could add an analysis of what generates the vcc value here and omit</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="comment">// the S_AND when is unnecessary. But it would be better to add a separate</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="comment">// pass after SIFixSGPRCopies to do the unnecessary S_AND removal, so it</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="comment">// catches both cases.</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;isWave32() ? AMDGPU::S_AND_B32</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;                                                         : AMDGPU::S_AND_B64,</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;                     SL, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>,</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                     <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;isWave32() ? AMDGPU::EXEC_LO</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;                                                        : AMDGPU::EXEC,</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                                         <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>),</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>),</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                   0);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  }</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VCC = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaf07395614bda08ad0b4d3d1d401ca7e">getCopyToReg</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), SL, CondReg, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, BrOp, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">MVT::Other</a>,</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                       <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), <span class="comment">// Basic Block</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                       VCC.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(0));</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;}</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160; </div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectFMAD_FMA(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="keywordtype">bool</span> IsFMA = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keywordflow">if</span> (VT != <a class="code" href="README__P9_8txt.html#afc19dab8eb1f8a8d5e7c660f55d99cc1">MVT::f32</a> || (!Subtarget-&gt;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a6cd42ca0223f10aec152b3a582b66736">hasMadMixInsts</a>() &amp;&amp;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                         !Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#addfe5ff70771ccdda4ae3c6e282a5441">hasFmaMixInsts</a>()) ||</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      ((IsFMA &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a6cd42ca0223f10aec152b3a582b66736">hasMadMixInsts</a>()) ||</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;       (!IsFMA &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#addfe5ff70771ccdda4ae3c6e282a5441">hasFmaMixInsts</a>()))) {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  }</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src1 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src2 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="keywordtype">unsigned</span> Src0Mods, Src1Mods, Src2Mods;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="comment">// Avoid using v_mad_mix_f32/v_fma_mix_f32 unless there is actually an operand</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="comment">// using the conversion from f16.</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordtype">bool</span> Sel0 = SelectVOP3PMadMixModsImpl(Src0, Src0, Src0Mods);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordtype">bool</span> Sel1 = SelectVOP3PMadMixModsImpl(Src1, Src1, Src1Mods);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="keywordtype">bool</span> Sel2 = SelectVOP3PMadMixModsImpl(Src2, Src2, Src2Mods);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160; </div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IsFMA || !Mode.allFP32Denormals()) &amp;&amp;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;         <span class="stringliteral">&quot;fmad selected with denormals enabled&quot;</span>);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="comment">// TODO: We can select this with f32 denormals enabled if all the sources are</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="comment">// converted from f16 (in which case fmad isn&#39;t legal).</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160; </div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">if</span> (Sel0 || Sel1 || Sel2) {</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="comment">// For dummy operands.</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Src0Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), Src0,</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Src1Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), Src1,</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Src2Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), Src2,</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>),</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a>, <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    };</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                         IsFMA ? AMDGPU::V_FMA_MIX_F32 : AMDGPU::V_MAD_MIX_F32,</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                         <a class="code" href="README__P9_8txt.html#afc19dab8eb1f8a8d5e7c660f55d99cc1">MVT::f32</a>, Ops);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  }</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;}</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160; </div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectDSAppendConsume(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> IntrID) {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="comment">// The address is assumed to be uniform, so if it ends up in a VGPR, it will</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="comment">// be copied to an SGPR with readfirstlane.</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordtype">unsigned</span> Opc = IntrID == Intrinsic::amdgcn_ds_append ?</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    AMDGPU::DS_APPEND : AMDGPU::DS_CONSUME;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160; </div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <a class="code" href="classllvm_1_1MemIntrinsicSDNode.html">MemIntrinsicSDNode</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = cast&lt;MemIntrinsicSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getMemOperand();</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <span class="keywordtype">bool</span> IsGDS = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getAddressSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7">AMDGPUAS::REGION_ADDRESS</a>;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrBase = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getOperand(0);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOffset = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getOperand(1);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160; </div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;OffsetVal = cast&lt;ConstantSDNode&gt;(PtrOffset)-&gt;getAPIntValue();</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="keywordflow">if</span> (isDSOffsetLegal(PtrBase, OffsetVal.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>())) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = glueCopyToM0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, PtrBase);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(OffsetVal, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    }</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  }</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>) {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = glueCopyToM0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  }</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>,</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(IsGDS, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    Chain,</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() - 1) <span class="comment">// New glue</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  };</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Selected = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(cast&lt;MachineSDNode&gt;(Selected), {MMO});</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;}</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160; </div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="comment">// We need to handle this here because tablegen doesn&#39;t support matching</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">// instructions with multiple outputs.</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectDSBvhStackIntrinsic(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordtype">unsigned</span> Opc = AMDGPU::DS_BVH_STACK_RTN_B32;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(4),</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                   <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(5), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0)};</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <a class="code" href="classllvm_1_1MemIntrinsicSDNode.html">MemIntrinsicSDNode</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = cast&lt;MemIntrinsicSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getMemOperand();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Selected = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(cast&lt;MachineSDNode&gt;(Selected), {MMO});</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;}</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160; </div>
<div class="line"><a name="l02383"></a><span class="lineno"><a class="line" href="AMDGPUISelDAGToDAG_8cpp.html#a6a4ecac5b11f0caf472f0f4845f8f910"> 2383</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a6a4ecac5b11f0caf472f0f4845f8f910">gwsIntrinToOpcode</a>(<span class="keywordtype">unsigned</span> IntrID) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">switch</span> (IntrID) {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_init:</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">return</span> AMDGPU::DS_GWS_INIT;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_barrier:</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">return</span> AMDGPU::DS_GWS_BARRIER;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_v:</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">return</span> AMDGPU::DS_GWS_SEMA_V;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_br:</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">return</span> AMDGPU::DS_GWS_SEMA_BR;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_p:</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">return</span> AMDGPU::DS_GWS_SEMA_P;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_release_all:</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">return</span> AMDGPU::DS_GWS_SEMA_RELEASE_ALL;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;not a gws intrinsic&quot;</span>);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;}</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160; </div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectDS_GWS(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> IntrID) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">if</span> (IntrID == Intrinsic::amdgcn_ds_gws_sema_release_all &amp;&amp;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;      !Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#ad6b3273818698235f76b04db7793dd12">hasGWSSemaReleaseAll</a>()) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="comment">// Let this error.</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  }</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160; </div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="comment">// Chain, intrinsic ID, vsrc, offset</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> HasVSrc = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() == 4;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(HasVSrc || <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() == 3);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BaseOffset = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(HasVSrc ? 3 : 2);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordtype">int</span> ImmOffset = 0;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <a class="code" href="classllvm_1_1MemIntrinsicSDNode.html">MemIntrinsicSDNode</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = cast&lt;MemIntrinsicSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getMemOperand();</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160; </div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="comment">// Don&#39;t worry if the offset ends up in a VGPR. Only one lane will have</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="comment">// effect, so SIFixSGPRCopies will validly insert readfirstlane.</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="comment">// The resource id offset is computed as (&lt;isa opaque base&gt; + M0[21:16] +</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="comment">// offset field) % 64. Some versions of the programming guide omit the m0</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="comment">// part, or claim it&#39;s from offset 0.</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ConstOffset = dyn_cast&lt;ConstantSDNode&gt;(BaseOffset)) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="comment">// If we have a constant offset, try to use the 0 in m0 as the base.</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="comment">// TODO: Look into changing the default m0 initialization value. If the</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="comment">// default -1 only set the low 16-bits, we could leave it as-is and add 1 to</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="comment">// the immediate offset.</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    glueCopyToM0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    ImmOffset = ConstOffset-&gt;getZExtValue();</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(BaseOffset)) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      ImmOffset = BaseOffset.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      BaseOffset = BaseOffset.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">// Prefer to do the shift in an SGPR since it should be possible to use m0</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="comment">// as the result directly. If it&#39;s already an SGPR, it will be eliminated</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="comment">// later.</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SGPROffset</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_READFIRSTLANE_B32, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                               BaseOffset);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="comment">// Shift to offset in m0</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *M0Base</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::S_LSHL_B32, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>,</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SGPROffset, 0),</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                               <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(16, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>));</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    glueCopyToM0(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(M0Base, 0));</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  }</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OffsetField = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ImmOffset, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160; </div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Opc = <a class="code" href="AMDGPUISelDAGToDAG_8cpp.html#a6a4ecac5b11f0caf472f0f4845f8f910">gwsIntrinToOpcode</a>(IntrID);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 5&gt;</a> Ops;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="keywordflow">if</span> (HasVSrc)</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    Ops.push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2));</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  Ops.push_back(OffsetField);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  Ops.push_back(Chain);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160; </div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Selected = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opc, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(cast&lt;MachineSDNode&gt;(Selected), {MMO});</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;}</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160; </div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectInterpP1F16(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a0cfaf858a04f4c55a92005ab1ee5694c">getLDSBankCount</a>() != 16) {</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="comment">// This is a single instruction with a pattern.</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  }</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160; </div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; </div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="comment">// This requires 2 instructions. It is possible to write a pattern to support</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="comment">// this, but the generated isel emitter doesn&#39;t correctly deal with multiple</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <span class="comment">// output instructions using the same physical register input. The copy to m0</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="comment">// is incorrectly placed before the second instruction.</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="comment">// TODO: Match source modifiers.</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="comment">// def : Pat &lt;</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="comment">//   (int_amdgcn_interp_p1_f16</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <span class="comment">//    (VOP3Mods f32:$src0, i32:$src0_modifiers),</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="comment">//                             (i32 timm:$attrchan), (i32 timm:$attr),</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="comment">//                             (i1 timm:$high), M0),</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <span class="comment">//   (V_INTERP_P1LV_F16 $src0_modifiers, VGPR_32:$src0, timm:$attr,</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  <span class="comment">//       timm:$attrchan, 0,</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="comment">//       (V_INTERP_MOV_F32 2, timm:$attr, timm:$attrchan), timm:$high)&gt; {</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="comment">//   let Predicates = [has16BankLDS];</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160; </div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="comment">// 16 bank LDS</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ToM0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaf07395614bda08ad0b4d3d1d401ca7e">getCopyToReg</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a>,</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                                      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(5), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>());</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="README__P9_8txt.html#afc19dab8eb1f8a8d5e7c660f55d99cc1">MVT::f32</a>, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">MVT::Other</a>);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160; </div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *InterpMov =</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_INTERP_MOV_F32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), <span class="comment">// P0</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3),  <span class="comment">// Attr</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2),  <span class="comment">// Attrchan</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        ToM0.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1) <span class="comment">// In glue</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  });</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160; </div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *InterpP1LV =</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(AMDGPU::V_INTERP_P1LV_F16, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#afc19dab8eb1f8a8d5e7c660f55d99cc1">MVT::f32</a>, {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), <span class="comment">// $src0_modifiers</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), <span class="comment">// Src0</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3), <span class="comment">// Attr</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2), <span class="comment">// Attrchan</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), <span class="comment">// $src2_modifiers</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(InterpMov, 0), <span class="comment">// Src2 - holds two f16 values selected by high</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(4), <span class="comment">// high</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>), <span class="comment">// $clamp</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>), <span class="comment">// $omod</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(InterpMov, 1)</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  });</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(InterpP1LV, 0));</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;}</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160; </div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectINTRINSIC_W_CHAIN(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="keywordtype">unsigned</span> IntrID = cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="keywordflow">switch</span> (IntrID) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_append:</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_consume: {</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0) != <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>)</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    SelectDSAppendConsume(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, IntrID);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  }</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_bvh_stack_rtn:</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    SelectDSBvhStackIntrinsic(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  }</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160; </div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;}</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160; </div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectINTRINSIC_WO_CHAIN(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  <span class="keywordtype">unsigned</span> IntrID = cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0))-&gt;getZExtValue();</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <span class="keywordtype">unsigned</span> Opcode;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keywordflow">switch</span> (IntrID) {</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_wqm:</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    Opcode = <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">AMDGPU::WQM</a>;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_softwqm:</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    Opcode = AMDGPU::SOFT_WQM;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_wwm:</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_strict_wwm:</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    Opcode = AMDGPU::STRICT_WWM;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_strict_wqm:</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    Opcode = AMDGPU::STRICT_WQM;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_interp_p1_f16:</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    SelectInterpP1F16(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  }</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">SelectNodeTo</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Opcode, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), {Src});</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;}</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160; </div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;<span class="keywordtype">void</span> AMDGPUDAGToDAGISel::SelectINTRINSIC_VOID(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="keywordtype">unsigned</span> IntrID = cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="keywordflow">switch</span> (IntrID) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_init:</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_barrier:</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_v:</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_br:</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_p:</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordflow">case</span> Intrinsic::amdgcn_ds_gws_sema_release_all:</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    SelectDS_GWS(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, IntrID);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  }</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160; </div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;}</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160; </div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3ModsImpl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                                            <span class="keywordtype">unsigned</span> &amp;Mods,</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                                            <span class="keywordtype">bool</span> AllowAbs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  Mods = 0;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  Src = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160; </div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="keywordflow">if</span> (Src.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">SISrcMods::NEG</a>;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    Src = Src.getOperand(0);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  }</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160; </div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">if</span> (AllowAbs &amp;&amp; Src.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>) {</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    Mods |= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">SISrcMods::ABS</a>;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    Src = Src.getOperand(0);</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  }</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160; </div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;}</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3Mods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  <span class="keywordtype">unsigned</span> Mods;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="keywordflow">if</span> (SelectVOP3ModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, Mods)) {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  }</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;}</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160; </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3BMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keywordtype">unsigned</span> Mods;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="keywordflow">if</span> (SelectVOP3ModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, Mods, <span class="comment">/* AllowAbs */</span> <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  }</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;}</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160; </div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3NoMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a> || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>)</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160; </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  Src = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;}</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160; </div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVINTERPModsImpl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods,</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                                               <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">OpSel</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="keywordtype">unsigned</span> Mods;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordflow">if</span> (SelectVOP3ModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, Mods, <span class="comment">/* AllowAbs */</span> <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">OpSel</a>)</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;      Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a>;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160; </div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;}</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160; </div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVINTERPMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordflow">return</span> SelectVINTERPModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, SrcMods, <span class="comment">/* OpSel */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;}</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; </div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVINTERPModsHi(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="keywordflow">return</span> SelectVINTERPModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, SrcMods, <span class="comment">/* OpSel */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;}</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160; </div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3Mods0(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Clamp,</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Omod)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  Clamp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  Omod = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160; </div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="keywordflow">return</span> SelectVOP3Mods(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, SrcMods);</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;}</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160; </div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3BMods0(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Clamp,</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Omod)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  Clamp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  Omod = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keywordflow">return</span> SelectVOP3BMods(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, SrcMods);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;}</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160; </div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3OMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Clamp, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Omod)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  Src = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160; </div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  Clamp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  Omod = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">MVT::i1</a>);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;}</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160; </div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3PMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods, <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dabd8ac36f299f3add1ff63d49475d51a5">IsDOT</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordtype">unsigned</span> Mods = 0;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  Src = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160; </div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <span class="keywordflow">if</span> (Src.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>) {</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    Mods ^= (<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">SISrcMods::NEG</a> | <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916aa2e6fe69892c3b751a1f9cb4933ca368">SISrcMods::NEG_HI</a>);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    Src = Src.getOperand(0);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  }</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  <span class="keywordflow">if</span> (Src.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a> &amp;&amp; Src.getNumOperands() == 2 &amp;&amp;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      (!<a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dabd8ac36f299f3add1ff63d49475d51a5">IsDOT</a> || !Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4fa10ba2f5551b22c35eecfa74b3296a">hasDOTOpSelHazard</a>())) {</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordtype">unsigned</span> VecMods = Mods;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160; </div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = stripBitcast(Src.getOperand(0));</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> = stripBitcast(Src.getOperand(1));</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160; </div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>) {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = stripBitcast(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getOperand(0));</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      Mods ^= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">SISrcMods::NEG</a>;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    }</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160; </div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>) {</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> = stripBitcast(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>.getOperand(0));</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      Mods ^= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916aa2e6fe69892c3b751a1f9cb4933ca368">SISrcMods::NEG_HI</a>;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    }</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPUInstructionSelector_8cpp.html#a5ee148d645119b604c2a87661a3e1642">isExtractHiElt</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>, <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>))</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a>;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160; </div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPUInstructionSelector_8cpp.html#a5ee148d645119b604c2a87661a3e1642">isExtractHiElt</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>, <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>))</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160; </div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> = Src.getValueSizeInBits();</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = stripExtractLoElt(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>);</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> = stripExtractLoElt(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>);</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160; </div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getValueSizeInBits() &gt; <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">getTargetExtractSubreg</a>(</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &gt; 32) ? AMDGPU::sub0_sub1 : AMDGPU::sub0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>),</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;        MVT::getIntegerVT(<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>), <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>);</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    }</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>.getValueSizeInBits() &gt; <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>) {</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">getTargetExtractSubreg</a>(</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;        (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &gt; 32) ? AMDGPU::sub0_sub1 : AMDGPU::sub0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>),</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        MVT::getIntegerVT(<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>), <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>);</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    }</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160; </div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getValueSizeInBits() &lt;= <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &amp;&amp;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;           <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a>.getValueSizeInBits() &lt;= <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>);</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160; </div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> == <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> &amp;&amp; !isInlineImmediate(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getNode())) {</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      <span class="comment">// Really a scalar input. Just select from the low half of the register to</span></div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      <span class="comment">// avoid packing.</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160; </div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> == 32 || <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> == <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getValueSizeInBits()) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        Src = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getValueSizeInBits() == 32 &amp;&amp; <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> == 64);</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160; </div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::IMPLICIT_DEF, SL,</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                                 <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>.getValueType()), 0);</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        <span class="keyword">auto</span> RC = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>-&gt;isDivergent() ? AMDGPU::VReg_64RegClassID</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                                    : AMDGPU::SReg_64RegClassID;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(RC, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;          <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub0, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>),</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;          <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AMDGPU::sub1, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>) };</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        Src = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::REG_SEQUENCE, SL,</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                                             Src.getValueType(), Ops), 0);</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;      }</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;      SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    }</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160; </div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> == 64 &amp;&amp; <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a> == <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">Hi</a> &amp;&amp; isa&lt;ConstantFPSDNode&gt;(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>)) {</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Lit = cast&lt;ConstantFPSDNode&gt;(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">Lo</a>)-&gt;getValueAPF()</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;                      .bitcastToAPInt().<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#a79ce723bbdcb8a66b32fec6499ecd9f9">AMDGPU::isInlinableLiteral32</a>(Lit, Subtarget-&gt;<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>())) {</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        Src = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Lit, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">MVT::i64</a>);;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      }</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    }</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160; </div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    Mods = VecMods;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="comment">// Packed instructions do not have abs modifiers.</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160; </div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;}</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160; </div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3PModsDOT(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordflow">return</span> SelectVOP3PMods(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, SrcMods, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;}</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160; </div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectDotIUVOP3PMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="comment">// Literal i1 value set in intrinsic, represents SrcMods for the next operand.</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  <span class="comment">// 1 promotes packed values to signed, 0 treats them as unsigned.</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().getBitWidth() == 1 &amp;&amp; <span class="stringliteral">&quot;expected i1 value&quot;</span>);</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160; </div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  <span class="keywordtype">unsigned</span> Mods = <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <span class="keywordtype">unsigned</span> SrcSign = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().getZExtValue();</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <span class="keywordflow">if</span> (SrcSign == 1)</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    Mods ^= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">SISrcMods::NEG</a>;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  Src = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;}</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160; </div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectWMMAOpSelVOP3PMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>,</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().getBitWidth() == 1 &amp;&amp; <span class="stringliteral">&quot;expected i1 value&quot;</span>);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160; </div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <span class="keywordtype">unsigned</span> Mods = <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <span class="keywordtype">unsigned</span> SrcVal = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAPIntValue().getZExtValue();</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="keywordflow">if</span> (SrcVal == 1)</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a>;</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160; </div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  Src = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;}</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160; </div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3OpSel(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;  Src = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <span class="comment">// FIXME: Handle op_sel</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;}</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160; </div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3OpSelMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="comment">// FIXME: Handle op_sel</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordflow">return</span> SelectVOP3Mods(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, SrcMods);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;}</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="comment">// The return value is not whether the match is possible (which it always is),</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;<span class="comment">// but whether or not it a conversion is really used.</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3PMadMixModsImpl(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                                                   <span class="keywordtype">unsigned</span> &amp;Mods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  Mods = 0;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  SelectVOP3ModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, Mods);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160; </div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">if</span> (Src.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>) {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    Src = Src.getOperand(0);</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Src.getValueType() == MVT::f16);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    Src = stripBitcast(Src);</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160; </div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="comment">// Be careful about folding modifiers if we already have an abs. fneg is</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="comment">// applied last, so we don&#39;t want to apply an earlier fneg.</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="keywordflow">if</span> ((Mods &amp; <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">SISrcMods::ABS</a>) == 0) {</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      <span class="keywordtype">unsigned</span> ModsTmp;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;      SelectVOP3ModsImpl(Src, Src, ModsTmp);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160; </div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      <span class="keywordflow">if</span> ((ModsTmp &amp; <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">SISrcMods::NEG</a>) != 0)</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        Mods ^= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">SISrcMods::NEG</a>;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;      <span class="keywordflow">if</span> ((ModsTmp &amp; <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">SISrcMods::ABS</a>) != 0)</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        Mods |= <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">SISrcMods::ABS</a>;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    }</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160; </div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <span class="comment">// op_sel/op_sel_hi decide the source type and source.</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <span class="comment">// If the source&#39;s op_sel_hi is set, it indicates to do a conversion from fp16.</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="comment">// If the sources&#39;s op_sel is set, it picks the high half of the source</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="comment">// register.</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPUInstructionSelector_8cpp.html#a5ee148d645119b604c2a87661a3e1642">isExtractHiElt</a>(Src, Src)) {</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      Mods |= <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a>;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160; </div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      <span class="comment">// TODO: Should we try to look for neg/abs here?</span></div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    }</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160; </div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160; </div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;}</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160; </div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::SelectVOP3PMadMixMods(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Src,</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SrcMods)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="keywordtype">unsigned</span> Mods = 0;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  SelectVOP3PMadMixModsImpl(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src, Mods);</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  SrcMods = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Mods, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>), <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;}</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160; </div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AMDGPUDAGToDAGISel::getHi16Elt(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.isUndef())</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>)) {</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue() &lt;&lt; 16, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160; </div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantFPSDNode&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>)) {</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> SL(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValueAPF().bitcastToAPInt().getZExtValue() &lt;&lt; 16, SL, <a class="code" href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">MVT::i32</a>);</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  }</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160; </div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPUInstructionSelector_8cpp.html#a5ee148d645119b604c2a87661a3e1642">isExtractHiElt</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>, Src))</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="keywordflow">return</span> Src;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160; </div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;}</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160; </div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isVGPRImm(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> * <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#af2fca022f33991d19959ebf939c54d03">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ad63e0e437ca71cc2b5a5d4d5aa3685f2">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == Triple::amdgcn);</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *SIRI =</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<span class="keyword">&gt;</span>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>());</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> * SII =</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<span class="keyword">&gt;</span>(Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">getInstrInfo</a>());</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="keywordtype">unsigned</span> Limit = 0;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keywordtype">bool</span> AllUsesAcceptSReg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> U = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SDNode::use_end();</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    Limit &lt; 10 &amp;&amp; U != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++U, ++Limit) {</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = getOperandRegClass(*U, U.getOperandNo());</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160; </div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="comment">// If the register class is unknown, it could be an unknown</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="comment">// register class that needs to be an SGPR, e.g. an inline asm</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="comment">// constraint</span></div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordflow">if</span> (!RC || SIRI-&gt;<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RC))</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160; </div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keywordflow">if</span> (RC != &amp;AMDGPU::VS_32RegClass) {</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      AllUsesAcceptSReg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> * <a class="code" href="classllvm_1_1User.html">User</a> = *U;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1User.html">User</a>-&gt;isMachineOpcode()) {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        <span class="keywordtype">unsigned</span> Opc = <a class="code" href="classllvm_1_1User.html">User</a>-&gt;getMachineOpcode();</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = SII-&gt;get(Opc);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;        <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a8c8b632d74a4d458f9a1a95efa691dbd">isCommutable</a>()) {</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;          <span class="keywordtype">unsigned</span> OpIdx = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a3496944fcc473dfe584e6615503a7a76">getNumDefs</a>() + U.getOperandNo();</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;          <span class="keywordtype">unsigned</span> CommuteIdx1 = TargetInstrInfo::CommuteAnyOperandIndex;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;          <span class="keywordflow">if</span> (SII-&gt;<a class="code" href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8">findCommutedOpIndices</a>(Desc, OpIdx, CommuteIdx1)) {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;            <span class="keywordtype">unsigned</span> CommutedOpNo = CommuteIdx1 - Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a3496944fcc473dfe584e6615503a7a76">getNumDefs</a>();</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *CommutedRC = getOperandRegClass(*U, CommutedOpNo);</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;            <span class="keywordflow">if</span> (CommutedRC == &amp;AMDGPU::VS_32RegClass)</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;              AllUsesAcceptSReg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;          }</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        }</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;      }</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      <span class="comment">// If &quot;AllUsesAcceptSReg == false&quot; so far we haven&#39;t succeeded</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      <span class="comment">// commuting current user. This means have at least one use</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      <span class="comment">// that strictly require VGPR. Thus, we will not attempt to commute</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      <span class="comment">// other user instructions.</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <span class="keywordflow">if</span> (!AllUsesAcceptSReg)</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    }</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="keywordflow">return</span> !AllUsesAcceptSReg &amp;&amp; (Limit &lt; 10);</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;}</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160; </div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="keywordtype">bool</span> AMDGPUDAGToDAGISel::isUniformLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> * <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="keyword">auto</span> Ld = cast&lt;LoadSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160; </div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isDivergent() &amp;&amp; !AMDGPUInstrInfo::isUniformMMO(Ld-&gt;getMemOperand()))</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160; </div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <span class="keywordflow">return</span> Ld-&gt;getAlign() &gt;= <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(4) &amp;&amp;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;         ((Ld-&gt;getAddressSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8">AMDGPUAS::CONSTANT_ADDRESS</a> ||</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;           Ld-&gt;getAddressSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa1caf1e287a5fe7250388d66ed72aa0c1">AMDGPUAS::CONSTANT_ADDRESS_32BIT</a>) ||</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;          (Subtarget-&gt;<a class="code" href="classllvm_1_1GCNSubtarget.html#a87235fdebcb88e0c5646333d222dca22">getScalarizeGlobalBehavior</a>() &amp;&amp;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;           Ld-&gt;getAddressSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a> &amp;&amp;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;           Ld-&gt;isSimple() &amp;&amp;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;           <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SITargetLowering.html">SITargetLowering</a> *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">getTargetLowering</a>())</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;               -&gt;isMemOpHasNoClobberedMemOperand(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)));</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;}</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160; </div>
<div class="line"><a name="l02978"></a><span class="lineno"><a class="line" href="classAMDGPUDAGToDAGISel.html#a9daed7c8ced0a5b7318d1679457ce200"> 2978</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a9daed7c8ced0a5b7318d1679457ce200">AMDGPUDAGToDAGISel::PostprocessISelDAG</a>() {</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPUTargetLowering.html">AMDGPUTargetLowering</a>&amp; <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a> =</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1AMDGPUTargetLowering.html">AMDGPUTargetLowering</a>*<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">getTargetLowering</a>());</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="keywordtype">bool</span> IsModified = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    IsModified = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="comment">// Go over all selected nodes and try to fold them a bit more</span></div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">SelectionDAG::allnodes_iterator</a> Position = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">allnodes_begin</a>();</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="keywordflow">while</span> (Position != <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">allnodes_end</a>()) {</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node = &amp;*Position++;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *MachineNode = dyn_cast&lt;MachineSDNode&gt;(Node);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      <span class="keywordflow">if</span> (!MachineNode)</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160; </div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ResNode = <a class="code" href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a>.PostISelFolding(MachineNode, *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>);</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      <span class="keywordflow">if</span> (ResNode != Node) {</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        <span class="keywordflow">if</span> (ResNode)</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(Node, ResNode);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        IsModified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      }</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    }</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a92c8c043c2a2d8db5b6cf9767394b747">RemoveDeadNodes</a>();</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  } <span class="keywordflow">while</span> (IsModified);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;}</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classAMDGPUDAGToDAGISel.html#a6a7aa5be6c71bda19c3b1cf581aa143a">AMDGPUDAGToDAGISel::ID</a> = 0;</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdeci">@ SUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00240">ISDOpcodes.h:240</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eafcbfa7a671e1486a0322c51bdcdb0d7c"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafcbfa7a671e1486a0322c51bdcdb0d7c">llvm::AMDGPUISD::CLAMP</a></div><div class="ttdeci">@ CLAMP</div><div class="ttdoc">CLAMP value between 0.0 and 1.0.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00388">AMDGPUISelLowering.h:388</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">llvm::ISD::FPOWI</a></div><div class="ttdeci">@ FPOWI</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00916">ISDOpcodes.h:916</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">llvm::RegState::Undef</a></div><div class="ttdeci">@ Undef</div><div class="ttdoc">Value of the register doesn't matter.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00052">MachineInstrBuilder.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a3496944fcc473dfe584e6615503a7a76"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a3496944fcc473dfe584e6615503a7a76">llvm::MCInstrDesc::getNumDefs</a></div><div class="ttdeci">unsigned getNumDefs() const</div><div class="ttdoc">Return the number of MachineOperands that are register definitions.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00247">MCInstrDesc.h:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a6d85a4b5e2ddc4731835d9e0c55d4ae8"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8">llvm::SIInstrInfo::findCommutedOpIndices</a></div><div class="ttdeci">bool findCommutedOpIndices(const MachineInstr &amp;MI, unsigned &amp;SrcOpIdx0, unsigned &amp;SrcOpIdx1) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02450">SIInstrInfo.cpp:2450</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01586">SelectionDAGNodes.h:1586</a></div></div>
<div class="ttc" id="aShadowStackGCLowering_8cpp_html_a6cabeb191a3a50fffd43efa29825cac8"><div class="ttname"><a href="ShadowStackGCLowering_8cpp.html#a6cabeb191a3a50fffd43efa29825cac8">Lowering</a></div><div class="ttdeci">Shadow Stack GC Lowering</div><div class="ttdef"><b>Definition:</b> <a href="ShadowStackGCLowering_8cpp_source.html#l00099">ShadowStackGCLowering.cpp:99</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a90cfef7fb525f06c3b8f8b34f6f33698"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a90cfef7fb525f06c3b8f8b34f6f33698">llvm::AMDGPU::getSMRDEncodedOffset</a></div><div class="ttdeci">std::optional&lt; int64_t &gt; getSMRDEncodedOffset(const MCSubtargetInfo &amp;ST, int64_t ByteOffset, bool IsBuffer)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02554">AMDGPUBaseInfo.cpp:2554</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a31807ce28877576056c78371faf348fb"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a31807ce28877576056c78371faf348fb">llvm::SelectionDAGISel::getTargetLowering</a></div><div class="ttdeci">const TargetLowering * getTargetLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00068">SelectionDAGISel.h:68</a></div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8cpp_source.html#l04884">NVPTXISelLowering.cpp:4884</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">llvm::ISD::INTRINSIC_VOID</a></div><div class="ttdeci">@ INTRINSIC_VOID</div><div class="ttdoc">OUTCHAIN = INTRINSIC_VOID(INCHAIN, INTRINSICID, arg1, arg2, ...) This node represents a target intrin...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00199">ISDOpcodes.h:199</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_aef466388625883e4ee6ba4ae7b969606"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">llvm::AMDGPUSubtarget::hasInv2PiInlineImm</a></div><div class="ttdeci">bool hasInv2PiInlineImm() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00186">AMDGPUSubtarget.h:186</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_afdcf01d7d3527e56cd6cc217975aac68"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#afdcf01d7d3527e56cd6cc217975aac68">AMDGPUDAGToDAGISel::matchLoadD16FromBuildVector</a></div><div class="ttdeci">bool matchLoadD16FromBuildVector(SDNode *N) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00210">AMDGPUISelDAGToDAG.cpp:210</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a830f68bd84f119afe6033acbe7223dfe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a830f68bd84f119afe6033acbe7223dfe">llvm::ISD::ATOMIC_LOAD_FMIN</a></div><div class="ttdeci">@ ATOMIC_LOAD_FMIN</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01201">ISDOpcodes.h:1201</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ad958859a7af278dd5ea2b593c2b25050"><div class="ttname"><a href="structllvm_1_1EVT.html#ad958859a7af278dd5ea2b593c2b25050">llvm::EVT::isScalarInteger</a></div><div class="ttdeci">bool isScalarInteger() const</div><div class="ttdoc">Return true if this is an integer, but not a vector.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00149">ValueTypes.h:149</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8h_html"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8h.html">AMDGPUISelDAGToDAG.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea0819f8cbdd0851cea7a14606204c92fa"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea0819f8cbdd0851cea7a14606204c92fa">llvm::AMDGPUISD::DIV_SCALE</a></div><div class="ttdeci">@ DIV_SCALE</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00419">AMDGPUISelLowering.h:419</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a159920e88406441690339840f79c4dc7"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a159920e88406441690339840f79c4dc7">v2i32</a></div><div class="ttdeci">gets compiled into this on rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movq rsp movq rsp movq rsp movq rsp movq rsp rax movq rsp rax movq rsp rsp rsp eax eax jbe LBB1_3 rcx rax movq rsp eax rsp ret ecx eax rcx movl rsp jmp LBB1_2 gcc rsp rax movq rsp rsp movq rsp rax movq rsp eax eax jb L6 rdx eax rsp ret p2align edx rdx eax movl rsp eax rsp ret and it gets compiled into this on ebp esp eax movl ebp eax movl ebp eax esp popl ebp ret gcc ebp eax popl ebp ret Teach tblgen not to check bitconvert source type in some cases This allows us to consolidate the following patterns in X86InstrMMX v2i32(MMX_MOVDQ2Qrr VR128:$src))&gt;</div></div>
<div class="ttc" id="aclassllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdoc">Wrapper class for IR location info (IR ordering and DebugLoc) to be passed into SDNode creation funct...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01106">SelectionDAGNodes.h:1106</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdeci">@ OR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00667">ISDOpcodes.h:667</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">llvm::ISD::BITCAST</a></div><div class="ttdeci">@ BITCAST</div><div class="ttdoc">BITCAST - This operator converts between integer, vector and FP values, as if the value was stored to...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00885">ISDOpcodes.h:885</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa77b1c964e2ff99057bf5e75140457abe">llvm::AMDGPUAS::LOCAL_ADDRESS</a></div><div class="ttdeci">@ LOCAL_ADDRESS</div><div class="ttdoc">Address space for local memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00377">AMDGPU.h:377</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a6a7aa5be6c71bda19c3b1cf581aa143a"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a6a7aa5be6c71bda19c3b1cf581aa143a">AMDGPUDAGToDAGISel::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8h_source.html#l00094">AMDGPUISelDAGToDAG.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">llvm::ISD::SETNE</a></div><div class="ttdeci">@ SETNE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01459">ISDOpcodes.h:1459</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a923b1af8c1e485549410eda36702a5ac"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a923b1af8c1e485549410eda36702a5ac">llvm::SelectionDAG::SignBitIsZero</a></div><div class="ttdeci">bool SignBitIsZero(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Return true if the sign bit of Op is known to be zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02551">SelectionDAG.cpp:2551</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUTargetLowering_html"><div class="ttname"><a href="classllvm_1_1AMDGPUTargetLowering.html">llvm::AMDGPUTargetLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00027">AMDGPUISelLowering.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a0e2008041a23dfc43ff1e90b014a2936"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">llvm::SIRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned RCID) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03042">SIRegisterInfo.cpp:3042</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9f59cc264907eb86e29564d5f6a5b213">llvm::ISD::FMINNUM</a></div><div class="ttdeci">@ FMINNUM</div><div class="ttdoc">FMINNUM/FMAXNUM - Perform floating-point minimum or maximum on two values.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00942">ISDOpcodes.h:942</a></div></div>
<div class="ttc" id="aSIMachineFunctionInfo_8h_html"><div class="ttname"><a href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aaf07395614bda08ad0b4d3d1d401ca7e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aaf07395614bda08ad0b4d3d1d401ca7e">llvm::SelectionDAG::getCopyToReg</a></div><div class="ttdeci">SDValue getCopyToReg(SDValue Chain, const SDLoc &amp;dl, unsigned Reg, SDValue N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00769">SelectionDAG.h:769</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a10d54e1c6c9563724ce01d3a999757b2"><div class="ttname"><a href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">llvm::SDValue::getNode</a></div><div class="ttdeci">SDNode * getNode() const</div><div class="ttdoc">get the SDNode which holds the desired result</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00159">SelectionDAGNodes.h:159</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2afcad184f32d66f451d6015406b291f"><div class="ttname"><a href="namespacellvm.html#a2afcad184f32d66f451d6015406b291f">llvm::createAMDGPUISelDag</a></div><div class="ttdeci">FunctionPass * createAMDGPUISelDag(TargetMachine &amp;TM, CodeGenOpt::Level OptLevel)</div><div class="ttdoc">This pass converts a legalized DAG into a AMDGPU-specific.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00114">AMDGPUISelDAGToDAG.cpp:114</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">llvm::ISD::ConstantFP</a></div><div class="ttdeci">@ ConstantFP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00077">ISDOpcodes.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5f23bcf1a7515069da5231b94ff16c79"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">llvm::SelectionDAG::allnodes_end</a></div><div class="ttdeci">allnodes_const_iterator allnodes_end() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00528">SelectionDAG.h:528</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">llvm::ISD::UADDO</a></div><div class="ttdeci">@ UADDO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00324">ISDOpcodes.h:324</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a6cd42ca0223f10aec152b3a582b66736"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a6cd42ca0223f10aec152b3a582b66736">llvm::AMDGPUSubtarget::hasMadMixInsts</a></div><div class="ttdeci">bool hasMadMixInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00154">AMDGPUSubtarget.h:154</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">llvm::ISD::ADDC</a></div><div class="ttdeci">@ ADDC</div><div class="ttdoc">Carry-setting nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00269">ISDOpcodes.h:269</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac67bca6c764da76f5e152330d92ed916"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">llvm::KnownBits::Zero</a></div><div class="ttdeci">APInt Zero</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00024">KnownBits.h:24</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">llvm::ISD::SETEQ</a></div><div class="ttdeci">@ SETEQ</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01454">ISDOpcodes.h:1454</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a196c23d6cb4d768d037970f1f35bbf66"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">llvm::SelectionDAG::getVTList</a></div><div class="ttdeci">SDVTList getVTList(EVT VT)</div><div class="ttdoc">Return an SDVTList that represents the list of values specified.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09508">SelectionDAG.cpp:9508</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea39c851d59f2dedcf582022a24daf1cf5"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea39c851d59f2dedcf582022a24daf1cf5">llvm::AMDGPUISD::CVT_PKNORM_I16_F32</a></div><div class="ttdeci">@ CVT_PKNORM_I16_F32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00474">AMDGPUISelLowering.h:474</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69bae687521fe85a8c2b4490bba6464f5be3">llvm::MipsISD::Lo</a></div><div class="ttdeci">@ Lo</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00079">MipsISelLowering.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineSDNode_html"><div class="ttname"><a href="classllvm_1_1MachineSDNode.html">llvm::MachineSDNode</a></div><div class="ttdoc">An SDNode that represents everything that will be needed to construct a MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02901">SelectionDAGNodes.h:2901</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eaa9b6b15abc704da34341aa029217d8a5"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eaa9b6b15abc704da34341aa029217d8a5">llvm::AMDGPUISD::FMUL_W_CHAIN</a></div><div class="ttdeci">@ FMUL_W_CHAIN</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00399">AMDGPUISelLowering.h:399</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5afbc8267a0ca49e65d97cb3fde65801"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">llvm::SelectionDAG::allnodes_begin</a></div><div class="ttdeci">allnodes_const_iterator allnodes_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00527">SelectionDAG.h:527</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea5b23f9813222573c51bc3a8a616494a0"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea5b23f9813222573c51bc3a8a616494a0">llvm::AMDGPUISD::DIV_FIXUP</a></div><div class="ttdeci">@ DIV_FIXUP</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00421">AMDGPUISelLowering.h:421</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea8a604d758e44ad80fc6c79fdcfde3424"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea8a604d758e44ad80fc6c79fdcfde3424">llvm::AMDGPUISD::LOAD_D16_HI_I8</a></div><div class="ttdeci">@ LOAD_D16_HI_I8</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00503">AMDGPUISelLowering.h:503</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a7c210fe3c1ded331101415c059606e2e"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a7c210fe3c1ded331101415c059606e2e">llvm::GCNSubtarget::hasFlatSegmentOffsetBug</a></div><div class="ttdeci">bool hasFlatSegmentOffsetBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00621">GCNSubtarget.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_aee0e58997cd08983518f051e79b855d9"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#aee0e58997cd08983518f051e79b855d9">llvm::MemSDNode::getMemoryVT</a></div><div class="ttdeci">EVT getMemoryVT() const</div><div class="ttdoc">Return the type of the in-memory value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01355">SelectionDAGNodes.h:1355</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">llvm::ISD::FLOG2</a></div><div class="ttdeci">@ FLOG2</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00919">ISDOpcodes.h:919</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a1001931b4896740f5f37ce4c8b35b171"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a1001931b4896740f5f37ce4c8b35b171">llvm::MemSDNode::getChain</a></div><div class="ttdeci">const SDValue &amp; getChain() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01378">SelectionDAGNodes.h:1378</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdoc">Represents one node in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00463">SelectionDAGNodes.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">llvm::ISD::FMA</a></div><div class="ttdeci">@ FMA</div><div class="ttdoc">FMA - Perform a * b + c with no intermediate rounding step.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00482">ISDOpcodes.h:482</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a9491e6e3afc420c33cf508189bb12c3b"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">llvm::MCInstrDesc::operands</a></div><div class="ttdeci">ArrayRef&lt; MCOperandInfo &gt; operands() const</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00239">MCInstrDesc.h:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html">llvm::LoadSDNode</a></div><div class="ttdoc">This class is used to represent ISD::LOAD nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02348">SelectionDAGNodes.h:2348</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_1_1use__iterator_html"><div class="ttname"><a href="classllvm_1_1SDNode_1_1use__iterator.html">llvm::SDNode::use_iterator</a></div><div class="ttdoc">This class provides iterator support for SDUse operands that use a specific SDNode.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00745">SelectionDAGNodes.h:745</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VOP3PEncoding_html_a3594a9012d044a9ee2e7df2a82a90a65"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">llvm::AMDGPU::VOP3PEncoding::OpSel</a></div><div class="ttdeci">OpSel</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00898">SIDefines.h:898</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html">AMDGPUDAGToDAGISel</a></div><div class="ttdoc">AMDGPU specific code to select AMDGPU machine instructions for SelectionDAG operations.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8h_source.html#l00079">AMDGPUISelDAGToDAG.h:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARMII_html_a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">llvm::ARMII::VecSize</a></div><div class="ttdeci">@ VecSize</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00421">ARMBaseInfo.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdoc">A description of a memory reference used in the backend.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_add71801b35be0fc55386370f571068fb"><div class="ttname"><a href="lib_2Target_2README_8txt.html#add71801b35be0fc55386370f571068fb">i8</a></div><div class="ttdeci">Clang compiles this i8</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00504">README.txt:504</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1LoopInfoWrapperPass.html">llvm::LoopInfoWrapperPass</a></div><div class="ttdoc">The legacy pass manager's analysis pass to compute loop information.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01293">LoopInfo.h:1293</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac520c40bfb7047936bcc2709c2153ebf"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">llvm::SelectionDAG::isBaseWithConstantOffset</a></div><div class="ttdeci">bool isBaseWithConstantOffset(SDValue Op) const</div><div class="ttdoc">Return true if the specified operand is an ISD::ADD with a ConstantSDNode on the right-hand side,...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04814">SelectionDAG.cpp:4814</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a24618695d970449f186b50c63648f674"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a24618695d970449f186b50c63648f674">llvm::GCNSubtarget::hasDLInsts</a></div><div class="ttdeci">bool hasDLInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00702">GCNSubtarget.h:702</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">llvm::ISD::SETCC</a></div><div class="ttdeci">@ SETCC</div><div class="ttdoc">SetCC operator - This evaluates to a true value iff the condition is true.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00736">ISDOpcodes.h:736</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aaf99b3ee1d9577ac86d3bf072c7bc789"><div class="ttname"><a href="classllvm_1_1SDNode.html#aaf99b3ee1d9577ac86d3bf072c7bc789">llvm::SDNode::isPredecessorOf</a></div><div class="ttdeci">bool isPredecessorOf(const SDNode *N) const</div><div class="ttdoc">Return true if this node is a predecessor of N.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00830">SelectionDAGNodes.h:830</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_afc19dab8eb1f8a8d5e7c660f55d99cc1"><div class="ttname"><a href="README__P9_8txt.html#afc19dab8eb1f8a8d5e7c660f55d99cc1">f32</a></div><div class="ttdeci">So we should use XX3Form_Rcr to implement intrinsic Convert DP outs ins xscvdpsp No builtin are required Round &amp;Convert QP DP(dword[1] is set to zero) No builtin are required Round to Quad Precision because you need to assign rounding mode in instruction Provide builtin(set f128:$vT,(int_ppc_vsx_xsrqpi f128:$vB))(set f128 yields&lt; n x&lt; ty &gt; &gt;&lt; result &gt; yields&lt; ty &gt;&lt; result &gt; No builtin are required Load Store load store see def memrix16 in PPCInstrInfo td Load Store Vector load store outs ins lxsdx set load store with conversion from to outs ins lxsspx set f32</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00522">README_P9.txt:522</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a9679eda65da04e63b0fc49644be06685"><div class="ttname"><a href="README__P9_8txt.html#a9679eda65da04e63b0fc49644be06685">i1</a></div><div class="ttdeci">Decimal Convert From to National Zoned Signed int_ppc_altivec_bcdcfno i1</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00147">README_P9.txt:147</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a250e66aa31a03567cc345ca1bc463b8c"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a></div><div class="ttdeci">uint64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00080">ELFObjHandler.cpp:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html"><div class="ttname"><a href="classllvm_1_1MemSDNode.html">llvm::MemSDNode</a></div><div class="ttdoc">This is an abstract virtual class for memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01275">SelectionDAGNodes.h:1275</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html">llvm::GCNSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00032">GCNSubtarget.h:32</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_a43ee5768facecc56c27110820a288580"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#a43ee5768facecc56c27110820a288580">matchZExtFromI32</a></div><div class="ttdeci">static SDValue matchZExtFromI32(SDValue Op)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l01632">AMDGPUISelDAGToDAG.cpp:1632</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916aa2e6fe69892c3b751a1f9cb4933ca368"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916aa2e6fe69892c3b751a1f9cb4933ca368">llvm::SISrcMods::NEG_HI</a></div><div class="ttdeci">@ NEG_HI</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00231">SIDefines.h:231</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a92c8c043c2a2d8db5b6cf9767394b747"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a92c8c043c2a2d8db5b6cf9767394b747">llvm::SelectionDAG::RemoveDeadNodes</a></div><div class="ttdeci">void RemoveDeadNodes()</div><div class="ttdoc">This method deletes all unreachable nodes in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00968">SelectionDAG.cpp:968</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a28417243f8d25f74e598d78d7802c366"><div class="ttname"><a href="classllvm_1_1SDNode.html#a28417243f8d25f74e598d78d7802c366">llvm::SDNode::isDivergent</a></div><div class="ttdeci">bool isDivergent() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00712">SelectionDAGNodes.h:712</a></div></div>
<div class="ttc" id="anamespacellvm_html_a901112c493d3827cda924430a6fbc9f4"><div class="ttname"><a href="namespacellvm.html#a901112c493d3827cda924430a6fbc9f4">llvm::Lo_32</a></div><div class="ttdeci">constexpr uint32_t Lo_32(uint64_t Value)</div><div class="ttdoc">Return the low 32 bits of a 64 bit value.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00169">MathExtras.h:169</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a8a5d4f323744a3d4f3356493836cc59b"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a8a5d4f323744a3d4f3356493836cc59b">AMDGPUDAGToDAGISel::PreprocessISelDAG</a></div><div class="ttdeci">void PreprocessISelDAG() override</div><div class="ttdoc">PreprocessISelDAG - This hook allows targets to hack on the graph before instruction selection starts...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00290">AMDGPUISelDAGToDAG.cpp:290</a></div></div>
<div class="ttc" id="aSelectionDAG_8h_html"><div class="ttname"><a href="SelectionDAG_8h.html">SelectionDAG.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a644a38b5aeb6b6858bf3e17176b2f8a3"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a644a38b5aeb6b6858bf3e17176b2f8a3">llvm::SelectionDAG::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00470">SelectionDAG.h:470</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a95d2929d1a7c8c66554f0b44b153b573"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">llvm::GCNSubtarget::getRegisterInfo</a></div><div class="ttdeci">const SIRegisterInfo * getRegisterInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00234">GCNSubtarget.h:234</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a278bc9f5720547f5e171d0a62290d69f"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a278bc9f5720547f5e171d0a62290d69f">AMDGPUDAGToDAGISel::SelectBuildVector</a></div><div class="ttdeci">void SelectBuildVector(SDNode *N, unsigned RegClassID)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00441">AMDGPUISelDAGToDAG.cpp:441</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">llvm::ISD::FABS</a></div><div class="ttdeci">@ FABS</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00911">ISDOpcodes.h:911</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea9d3121f4e456879833fdb42c71707495"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d3121f4e456879833fdb42c71707495">llvm::AMDGPUISD::FMIN3</a></div><div class="ttdeci">@ FMIN3</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00411">AMDGPUISelLowering.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6b3d129b46bc1ba331b5d35f8cf8a501">llvm::ISD::ADDCARRY</a></div><div class="ttdeci">@ ADDCARRY</div><div class="ttdoc">Carry-using nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00303">ISDOpcodes.h:303</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a9daed7c8ced0a5b7318d1679457ce200"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a9daed7c8ced0a5b7318d1679457ce200">AMDGPUDAGToDAGISel::PostprocessISelDAG</a></div><div class="ttdeci">void PostprocessISelDAG() override</div><div class="ttdoc">PostprocessISelDAG() - This hook allows the target to hack on the graph right after selection.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l02978">AMDGPUISelDAGToDAG.cpp:2978</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782">llvm::ISD::BRCOND</a></div><div class="ttdeci">@ BRCOND</div><div class="ttdoc">BRCOND - Conditional branch.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01000">ISDOpcodes.h:1000</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a4bbc0f0059b8fc54fdd919e558f0b911"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a4bbc0f0059b8fc54fdd919e558f0b911">llvm::GCNSubtarget::getInstrInfo</a></div><div class="ttdeci">const SIInstrInfo * getInstrInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00222">GCNSubtarget.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1a905685dd1e80d0d65b2d02865b365f"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1a905685dd1e80d0d65b2d02865b365f">llvm::GCNSubtarget::unsafeDSOffsetFoldingEnabled</a></div><div class="ttdeci">bool unsafeDSOffsetFoldingEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00426">GCNSubtarget.h:426</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a9268086dd9d1ba4e60cfe872dde5c173"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">llvm::SelectionDAG::getRegister</a></div><div class="ttdeci">SDValue getRegister(unsigned Reg, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02147">SelectionDAG.cpp:2147</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba71e1753b225b38eb88e67626f6cfbff0">llvm::MipsISD::Hi</a></div><div class="ttdeci">@ Hi</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00075">MipsISelLowering.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad6b3273818698235f76b04db7793dd12"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad6b3273818698235f76b04db7793dd12">llvm::GCNSubtarget::hasGWSSemaReleaseAll</a></div><div class="ttdeci">bool hasGWSSemaReleaseAll() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00657">GCNSubtarget.h:657</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">llvm::ISD::FFLOOR</a></div><div class="ttdeci">@ FFLOOR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00929">ISDOpcodes.h:929</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_a94a572abf6fc5efeca6e817a792829b3"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#a94a572abf6fc5efeca6e817a792829b3">SelectSAddrFI</a></div><div class="ttdeci">static SDValue SelectSAddrFI(SelectionDAG *CurDAG, SDValue SAddr)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l01736">AMDGPUISelDAGToDAG.cpp:1736</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a16107502a78fcaae694e2189573d5b37"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a16107502a78fcaae694e2189573d5b37">i64</a></div><div class="ttdeci">Clang compiles this i64</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00504">README.txt:504</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a2d29af824e4754ecafda1f5660789539"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a2d29af824e4754ecafda1f5660789539">AMDGPUDAGToDAGISel::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00200">AMDGPUISelDAGToDAG.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a6ececde40ed933c2dfb5af16cb002529"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">llvm::SelectionDAG::getTargetFrameIndex</a></div><div class="ttdeci">SDValue getTargetFrameIndex(int FI, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00722">SelectionDAG.h:722</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">llvm::RecurKind::And</a></div><div class="ttdeci">@ And</div><div class="ttdoc">Bitwise or logical AND of integers.</div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a6b2b8ca5b0fdf6484247d5ae74deb9ff"><div class="ttname"><a href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">llvm::SDValue::getValueType</a></div><div class="ttdeci">EVT getValueType() const</div><div class="ttdoc">Return the ValueType of the referenced return value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01141">SelectionDAGNodes.h:1141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemIntrinsicSDNode_html"><div class="ttname"><a href="classllvm_1_1MemIntrinsicSDNode.html">llvm::MemIntrinsicSDNode</a></div><div class="ttdoc">This SDNode is used for target intrinsics that touch memory and need an associated MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01502">SelectionDAGNodes.h:1502</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html">llvm::SelectionDAG</a></div><div class="ttdoc">This is used to represent a portion of an LLVM function in a low-level Data Dependence DAG representa...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00221">SelectionDAG.h:221</a></div></div>
<div class="ttc" id="aSelectionDAGNodes_8h_html"><div class="ttname"><a href="SelectionDAGNodes_8h.html">SelectionDAGNodes.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">llvm::ISD::Constant</a></div><div class="ttdeci">@ Constant</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00076">ISDOpcodes.h:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">llvm::ISD::ZERO_EXTEND</a></div><div class="ttdeci">@ ZERO_EXTEND</div><div class="ttdoc">ZERO_EXTEND - Used for integer types, zeroing the new bits.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00763">ISDOpcodes.h:763</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad773dab02c945afb0bc889ebd67649c0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">llvm::GCNSubtarget::hasAddr64</a></div><div class="ttdeci">bool hasAddr64() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00337">GCNSubtarget.h:337</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">llvm::ISD::ABS</a></div><div class="ttdeci">@ ABS</div><div class="ttdoc">ABS - Determine the unsigned absolute value of a signed integer value of the same bitwidth.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00674">ISDOpcodes.h:674</a></div></div>
<div class="ttc" id="aFunctionLoweringInfo_8h_html"><div class="ttname"><a href="FunctionLoweringInfo_8h.html">FunctionLoweringInfo.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ac984e6be051494d2f59e7bbe563b84b9"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ac984e6be051494d2f59e7bbe563b84b9">llvm::GCNSubtarget::useFlatForGlobal</a></div><div class="ttdeci">bool useFlatForGlobal() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00485">GCNSubtarget.h:485</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_addfe5ff70771ccdda4ae3c6e282a5441"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#addfe5ff70771ccdda4ae3c6e282a5441">llvm::GCNSubtarget::hasFmaMixInsts</a></div><div class="ttdeci">bool hasFmaMixInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00387">GCNSubtarget.h:387</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eaf372b02c7f2eb214586b79418da259d3"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eaf372b02c7f2eb214586b79418da259d3">llvm::AMDGPUISD::CVT_PKNORM_U16_F32</a></div><div class="ttdeci">@ CVT_PKNORM_U16_F32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00475">AMDGPUISelLowering.h:475</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5b0e59823444a55c295af279611a9d24"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">llvm::SelectionDAG::getUNDEF</a></div><div class="ttdeci">SDValue getUNDEF(EVT VT)</div><div class="ttdoc">Return an UNDEF node. UNDEF does not have a useful SDLoc.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01057">SelectionDAG.h:1057</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">llvm::ISD::SIGN_EXTEND_INREG</a></div><div class="ttdeci">@ SIGN_EXTEND_INREG</div><div class="ttdoc">SIGN_EXTEND_INREG - This operator atomically performs a SHL/SRA pair to sign extend a small value in ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00781">ISDOpcodes.h:781</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">llvm::ISD::CopyToReg</a></div><div class="ttdeci">@ CopyToReg</div><div class="ttdoc">CopyToReg - This node has three operands: a chain, a register number to set to this value,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00203">ISDOpcodes.h:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea95a3a9fcf85d6bfad93662a37fdea331"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea95a3a9fcf85d6bfad93662a37fdea331">llvm::AMDGPUISD::FMED3</a></div><div class="ttdeci">@ FMED3</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00414">AMDGPUISelLowering.h:414</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9">GFX9</a></div><div class="ttdeci">@ GFX9</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07998">SIInstrInfo.cpp:7998</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdoc">Extended Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00034">ValueTypes.h:34</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0eea77e7bfa82e0219d2ec7b4efbc94f"><div class="ttname"><a href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a></div><div class="ttdeci">int popcount(T Value) noexcept</div><div class="ttdoc">Count the number of set bits in a value.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00349">bit.h:349</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a7d26e2f2179b5a8a53381f8046e9d117"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a7d26e2f2179b5a8a53381f8046e9d117">llvm::SelectionDAG::getConstant</a></div><div class="ttdeci">SDValue getConstant(uint64_t Val, const SDLoc &amp;DL, EVT VT, bool isTarget=false, bool isOpaque=false)</div><div class="ttdoc">Create a ConstantSDNode wrapping a constant value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01540">SelectionDAG.cpp:1540</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ae245d70802e4ebe1cae2b6122c62a22a"><div class="ttname"><a href="structllvm_1_1EVT.html#ae245d70802e4ebe1cae2b6122c62a22a">llvm::EVT::getVectorNumElements</a></div><div class="ttdeci">unsigned getVectorNumElements() const</div><div class="ttdoc">Given a vector type, return the number of elements it contains.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00308">ValueTypes.h:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubtargetInfo_html_ade49ed181f638745d20791212153660d"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#ade49ed181f638745d20791212153660d">llvm::MCSubtargetInfo::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const</div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00108">MCSubtargetInfo.h:108</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea62d5df7316428469ea4d31d893d2bffe"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea62d5df7316428469ea4d31d893d2bffe">llvm::AMDGPUISD::LOAD_D16_LO_I8</a></div><div class="ttdeci">@ LOAD_D16_LO_I8</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00505">AMDGPUISelLowering.h:505</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">llvm::ISD::FROUND</a></div><div class="ttdeci">@ FROUND</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00927">ISDOpcodes.h:927</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">llvm::SIInstrFlags::FlatScratch</a></div><div class="ttdeci">@ FlatScratch</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00123">SIDefines.h:123</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">llvm::ISD::TRUNCATE</a></div><div class="ttdeci">@ TRUNCATE</div><div class="ttdoc">TRUNCATE - Completely drop the high bits.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00769">ISDOpcodes.h:769</a></div></div>
<div class="ttc" id="aAMDGPUSubtarget_8h_html"><div class="ttname"><a href="AMDGPUSubtarget_8h.html">AMDGPUSubtarget.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">llvm::ISD::SRA</a></div><div class="ttdeci">@ SRA</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00692">ISDOpcodes.h:692</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_acd1bcf7bcbb18b94234b2bf5a505e925"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">llvm::SelectionDAGISel::ReplaceNode</a></div><div class="ttdeci">void ReplaceNode(SDNode *F, SDNode *T)</div><div class="ttdoc">Replace all uses of F with T, then remove F from the DAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00228">SelectionDAGISel.h:228</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a8c8b632d74a4d458f9a1a95efa691dbd"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a8c8b632d74a4d458f9a1a95efa691dbd">llvm::MCInstrDesc::isCommutable</a></div><div class="ttdeci">bool isCommutable() const</div><div class="ttdoc">Return true if this may be a 2- or 3-address instruction (of the form &quot;X = op Y, Z,...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00480">MCInstrDesc.h:480</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab8aff98d3587ddb15f9e46ed88687f0f"><div class="ttname"><a href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">llvm::M0</a></div><div class="ttdeci">unsigned M0(unsigned Val)</div><div class="ttdef"><b>Definition:</b> <a href="VE_8h_source.html#l00467">VE.h:467</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">llvm::ISD::SINT_TO_FP</a></div><div class="ttdeci">@ SINT_TO_FP</div><div class="ttdoc">[SU]INT_TO_FP - These operators convert integers (whose interpreted sign depends on the first letter)...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00773">ISDOpcodes.h:773</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fa1caf1e287a5fe7250388d66ed72aa0c1"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa1caf1e287a5fe7250388d66ed72aa0c1">llvm::AMDGPUAS::CONSTANT_ADDRESS_32BIT</a></div><div class="ttdeci">@ CONSTANT_ADDRESS_32BIT</div><div class="ttdoc">Address space for 32-bit constant memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00380">AMDGPU.h:380</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">llvm::ISD::FNEARBYINT</a></div><div class="ttdeci">@ FNEARBYINT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00926">ISDOpcodes.h:926</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">llvm::ISD::FRINT</a></div><div class="ttdeci">@ FRINT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00925">ISDOpcodes.h:925</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab661cadb0d978a6f220c025bb9cebae7"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab661cadb0d978a6f220c025bb9cebae7">llvm::SelectionDAG::getMemIntrinsicNode</a></div><div class="ttdeci">SDValue getMemIntrinsicNode(unsigned Opcode, const SDLoc &amp;dl, SDVTList VTList, ArrayRef&lt; SDValue &gt; Ops, EVT MemVT, MachinePointerInfo PtrInfo, Align Alignment, MachineMemOperand::Flags Flags=MachineMemOperand::MOLoad|MachineMemOperand::MOStore, uint64_t Size=0, const AAMDNodes &amp;AAInfo=AAMDNodes())</div><div class="ttdoc">Creates a MemIntrinsicNode that may produce a result and takes a list of operands.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l07893">SelectionDAG.cpp:7893</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyDivergenceAnalysis_html"><div class="ttname"><a href="classllvm_1_1LegacyDivergenceAnalysis.html">llvm::LegacyDivergenceAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="LegacyDivergenceAnalysis_8h_source.html#l00074">LegacyDivergenceAnalysis.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a8e7eabcdc79b470fd13a397b4464bfe2"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8e7eabcdc79b470fd13a397b4464bfe2">llvm::SelectionDAG::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGDumper_8cpp_source.html#l00930">SelectionDAGDumper.cpp:930</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea61c1f4bb39a8d5172f7a4f2b50d8b290"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea61c1f4bb39a8d5172f7a4f2b50d8b290">llvm::AMDGPUISD::CVT_PK_U16_U32</a></div><div class="ttdeci">@ CVT_PK_U16_U32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00477">AMDGPUISelLowering.h:477</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_af58d646af8dd60e4e514303dfa81de9c"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">llvm::SIRegisterInfo::isSGPRClass</a></div><div class="ttdeci">static bool isSGPRClass(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00186">SIRegisterInfo.h:186</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html">llvm::SIRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00030">SIRegisterInfo.h:30</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdeci">@ AND</div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00666">ISDOpcodes.h:666</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a5fc23559f17bbe5ff83ec0fed0a5fdcf"><div class="ttname"><a href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">llvm::Triple::getArch</a></div><div class="ttdeci">ArchType getArch() const</div><div class="ttdoc">Get the parsed architecture type of this triple.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00355">Triple.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ab85fb688a662d3962521663406317d17"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ab85fb688a662d3962521663406317d17">llvm::GCNSubtarget::hasFlatScratchSVSSwizzleBug</a></div><div class="ttdeci">bool hasFlatScratchSVSSwizzleBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01100">GCNSubtarget.h:1100</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ac969b6c833cfa44c1b4fcd5790268340"><div class="ttname"><a href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">llvm::SDValue::getConstantOperandVal</a></div><div class="ttdeci">uint64_t getConstantOperandVal(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01153">SelectionDAGNodes.h:1153</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">llvm::ISD::CopyFromReg</a></div><div class="ttdeci">@ CopyFromReg</div><div class="ttdoc">CopyFromReg - This node indicates that the input value is a virtual or physical register that is defi...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00208">ISDOpcodes.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023aabce0250d60b95b97ff41ff41ba030d6"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023aabce0250d60b95b97ff41ff41ba030d6">llvm::MCID::RegSequence</a></div><div class="ttdeci">@ RegSequence</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00182">MCInstrDesc.h:182</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea6ea93bd531619261a61f34eb59c5e7d2"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea6ea93bd531619261a61f34eb59c5e7d2">llvm::AMDGPUISD::FMA_W_CHAIN</a></div><div class="ttdeci">@ FMA_W_CHAIN</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00398">AMDGPUISelLowering.h:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a87235fdebcb88e0c5646333d222dca22"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a87235fdebcb88e0c5646333d222dca22">llvm::GCNSubtarget::getScalarizeGlobalBehavior</a></div><div class="ttdeci">bool getScalarizeGlobalBehavior() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00827">GCNSubtarget.h:827</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500">llvm::ISD::USUBO</a></div><div class="ttdeci">@ USUBO</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00328">ISDOpcodes.h:328</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">llvm::SIInstrFlags::FLAT</a></div><div class="ttdeci">@ FLAT</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00059">SIDefines.h:59</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a1855014288dfc356a7ccdd821984a972"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a1855014288dfc356a7ccdd821984a972">llvm::AMDGPU::getSMRDEncodedLiteralOffset32</a></div><div class="ttdeci">std::optional&lt; int64_t &gt; getSMRDEncodedLiteralOffset32(const MCSubtargetInfo &amp;ST, int64_t ByteOffset)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02572">AMDGPUBaseInfo.cpp:2572</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_a271f9a39d535b908cc6b1c3c1b34f3b9"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#a271f9a39d535b908cc6b1c3c1b34f3b9">findMemSDNode</a></div><div class="ttdeci">static MemSDNode * findMemSDNode(SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l01507">AMDGPUISelDAGToDAG.cpp:1507</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b622c469acc130c9a500b85b1473ef3"><div class="ttname"><a href="namespacellvm.html#a7b622c469acc130c9a500b85b1473ef3">llvm::Hi_32</a></div><div class="ttdeci">constexpr uint32_t Hi_32(uint64_t Value)</div><div class="ttdoc">Return the high 32 bits of a 64 bit value.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00164">MathExtras.h:164</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a39b85bbe83e984ed97956f03d6c42501"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a39b85bbe83e984ed97956f03d6c42501">i32</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM ID Predecessors according to mbb&lt; bb27, 0x8b0a7c0 &gt; Note ADDri is not a two address instruction its result reg1037 is an operand of the PHI node in bb76 and its operand reg1039 is the result of the PHI node We should treat it as a two address code and make sure the ADDri is scheduled after any node that reads reg1039 Use info(i.e. register scavenger) to assign it a free register to allow reuse the collector could move the objects and invalidate the derived pointer This is bad enough in the first but safe points can crop up unpredictably **array_addr i32</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00122">README.txt:122</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">llvm::ISD::FPOW</a></div><div class="ttdeci">@ FPOW</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00917">ISDOpcodes.h:917</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">llvm::AMDGPUAS::GLOBAL_ADDRESS</a></div><div class="ttdeci">@ GLOBAL_ADDRESS</div><div class="ttdoc">Address space for global memory (RAT0, VTX0).</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00373">AMDGPU.h:373</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1unicode_html_ae56aadf48006c8538ac3e9fc3bf220b9"><div class="ttname"><a href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">llvm::sys::unicode::SBase</a></div><div class="ttdeci">constexpr const char32_t SBase</div><div class="ttdef"><b>Definition:</b> <a href="UnicodeNameToCodepoint_8cpp_source.html#l00256">UnicodeNameToCodepoint.cpp:256</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">llvm::ISD::FADD</a></div><div class="ttdeci">@ FADD</div><div class="ttdoc">Simple binary floating point operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00390">ISDOpcodes.h:390</a></div></div>
<div class="ttc" id="aR600MCTargetDesc_8h_html"><div class="ttname"><a href="R600MCTargetDesc_8h.html">R600MCTargetDesc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">llvm::tgtok::In</a></div><div class="ttdeci">@ In</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00051">TGLexer.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a935ace76cef67c6da10cf0633371efe1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">llvm::SelectionDAG::RemoveDeadNode</a></div><div class="ttdeci">void RemoveDeadNode(SDNode *N)</div><div class="ttdoc">Remove the specified node from the system.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01022">SelectionDAG.cpp:1022</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea5b0d5ebade040d8aadbf7258317b25f6"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea5b0d5ebade040d8aadbf7258317b25f6">llvm::AMDGPUISD::LDEXP</a></div><div class="ttdeci">@ LDEXP</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00434">AMDGPUISelLowering.h:434</a></div></div>
<div class="ttc" id="aAMDGPUMCTargetDesc_8h_html"><div class="ttname"><a href="AMDGPUMCTargetDesc_8h.html">AMDGPUMCTargetDesc.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">llvm::ISD::FLOG10</a></div><div class="ttdeci">@ FLOG10</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00920">ISDOpcodes.h:920</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a45e76d44a189e456d52e37ba3dda0fce"><div class="ttname"><a href="structllvm_1_1EVT.html#a45e76d44a189e456d52e37ba3dda0fce">llvm::EVT::getSizeInBits</a></div><div class="ttdeci">TypeSize getSizeInBits() const</div><div class="ttdoc">Return the size of the specified value type in bits.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00340">ValueTypes.h:340</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2415bea72c995bb9cf9f85bbbf90bcd7">llvm::ISD::FMAD</a></div><div class="ttdeci">@ FMAD</div><div class="ttdoc">FMAD - Perform a * b + c, while getting the same result as the separately rounded operations.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00486">ISDOpcodes.h:486</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFPSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantFPSDNode.html">llvm::ConstantFPSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01635">SelectionDAGNodes.h:1635</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a530363b25d555de667bf4f23bc6349a6"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">llvm::SelectionDAGISel::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00055">SelectionDAGISel.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a1378b44532d0ec9732f7064254a84286"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a1378b44532d0ec9732f7064254a84286">llvm::MemSDNode::getMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMemOperand() const</div><div class="ttdoc">Return a MachineMemOperand object describing the memory reference performed by operation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01359">SelectionDAGNodes.h:1359</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">llvm::ISD::LOAD</a></div><div class="ttdeci">@ LOAD</div><div class="ttdoc">LOAD and STORE have token chains as their first operand, then the same operands as an LLVM load/store...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00965">ISDOpcodes.h:965</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aAMDGPUInstructionSelector_8cpp_html_a5ee148d645119b604c2a87661a3e1642"><div class="ttname"><a href="AMDGPUInstructionSelector_8cpp.html#a5ee148d645119b604c2a87661a3e1642">isExtractHiElt</a></div><div class="ttdeci">static MachineInstr * isExtractHiElt(MachineInstr *Inst, MachineRegisterInfo &amp;MRI)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUInstructionSelector_8cpp_source.html#l04878">AMDGPUInstructionSelector.cpp:4878</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eaaf3ef4daab9db871926a727d7cca444a"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eaaf3ef4daab9db871926a727d7cca444a">llvm::AMDGPUISD::LOAD_D16_HI</a></div><div class="ttdeci">@ LOAD_D16_HI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00501">AMDGPUISelLowering.h:501</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">llvm::AMDGPUAS::PRIVATE_ADDRESS</a></div><div class="ttdeci">@ PRIVATE_ADDRESS</div><div class="ttdoc">Address space for private memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00378">AMDGPU.h:378</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_a0c1a2a8cfae803c3180dfa7eadc850e1"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#a0c1a2a8cfae803c3180dfa7eadc850e1">getBaseWithOffsetUsingSplitOR</a></div><div class="ttdeci">static bool getBaseWithOffsetUsingSplitOR(SelectionDAG &amp;DAG, SDValue Addr, SDValue &amp;N0, SDValue &amp;N1)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00722">AMDGPUISelDAGToDAG.cpp:722</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a024d81db0692653f69a019d1c973ebd0"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a024d81db0692653f69a019d1c973ebd0">llvm::SelectionDAGISel::FuncInfo</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionLoweringInfo &gt; FuncInfo</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00045">SelectionDAGISel.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ae431b2e8fc0aee94b01cece42984d2dd"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">llvm::GCNSubtarget::hasAddNoCarry</a></div><div class="ttdeci">bool hasAddNoCarry() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00665">GCNSubtarget.h:665</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a3c9cd4a438837eb5883a8b62107e8219"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a3c9cd4a438837eb5883a8b62107e8219">llvm::GCNSubtarget::privateMemoryResourceIsRangeChecked</a></div><div class="ttdeci">bool privateMemoryResourceIsRangeChecked() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00507">GCNSubtarget.h:507</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">llvm::ISD::EXTRACT_VECTOR_ELT</a></div><div class="ttdeci">@ EXTRACT_VECTOR_ELT</div><div class="ttdoc">EXTRACT_VECTOR_ELT(VECTOR, IDX) - Returns a single element from VECTOR identified by the (potentially...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00534">ISDOpcodes.h:534</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea509df107f0a734f8d545ad3f7af30831"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea509df107f0a734f8d545ad3f7af30831">llvm::AMDGPUISD::FMAD_FTZ</a></div><div class="ttdeci">@ FMAD_FTZ</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00424">AMDGPUISelLowering.h:424</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aa167dab8c514d863ec44909befac3050"><div class="ttname"><a href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00921">SelectionDAGNodes.h:921</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_abad5b17501ce8972fb04a149611e7177"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">llvm::SelectionDAG::getNode</a></div><div class="ttdeci">SDValue getNode(unsigned Opcode, const SDLoc &amp;DL, EVT VT, ArrayRef&lt; SDUse &gt; Ops)</div><div class="ttdoc">Gets or creates the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09202">SelectionDAG.cpp:9202</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea9326abce64225b1fcaf656b06d5819ad"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9326abce64225b1fcaf656b06d5819ad">llvm::AMDGPUISD::CVT_PK_I16_I32</a></div><div class="ttdeci">@ CVT_PK_I16_I32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00476">AMDGPUISelLowering.h:476</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea9d8dde2474ce68109f2472f204072c80"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d8dde2474ce68109f2472f204072c80">llvm::AMDGPUISD::BFE_I32</a></div><div class="ttdeci">@ BFE_I32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00440">AMDGPUISelLowering.h:440</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_aaa91eaec9ad3f41863367b2a804a38b8"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#aaa91eaec9ad3f41863367b2a804a38b8">AMDGPUDAGToDAGISel::getPassName</a></div><div class="ttdeci">StringRef getPassName() const override</div><div class="ttdoc">getPassName - Return a nice clean name for a pass.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00769">AMDGPUISelDAGToDAG.cpp:769</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html_ad85ec82447c2f1824538de9b449ffed0"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#ad85ec82447c2f1824538de9b449ffed0">llvm::LoadSDNode::getExtensionType</a></div><div class="ttdeci">ISD::LoadExtType getExtensionType() const</div><div class="ttdoc">Return whether this is a plain node, or one of the varieties of value-extending loads.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02363">SelectionDAGNodes.h:2363</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUArgumentUsageInfo_html"><div class="ttname"><a href="classllvm_1_1AMDGPUArgumentUsageInfo.html">llvm::AMDGPUArgumentUsageInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUArgumentUsageInfo_8h_source.html#l00160">AMDGPUArgumentUsageInfo.h:160</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a825476b2436eb817b735fdd34ee521c4"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a825476b2436eb817b735fdd34ee521c4">llvm::KnownBits::getMaxValue</a></div><div class="ttdeci">APInt getMaxValue() const</div><div class="ttdoc">Return the maximal unsigned value possible given these KnownBits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00136">KnownBits.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5877bd47049087f890aed4f0f501ec3f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5877bd47049087f890aed4f0f501ec3f">llvm::SelectionDAG::MorphNodeTo</a></div><div class="ttdeci">SDNode * MorphNodeTo(SDNode *N, unsigned Opc, SDVTList VTs, ArrayRef&lt; SDValue &gt; Ops)</div><div class="ttdoc">This mutates the specified node to have the specified return type, opcode, and operands.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09845">SelectionDAG.cpp:9845</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">llvm::SISrcMods::OP_SEL_1</a></div><div class="ttdeci">@ OP_SEL_1</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00233">SIDefines.h:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a64932427432abeb61241e98bea167580"><div class="ttname"><a href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">llvm::SDValue::getValue</a></div><div class="ttdeci">SDValue getValue(unsigned R) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00179">SelectionDAGNodes.h:179</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eadc97b8e5166b4d4370009a552c0f1f73"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eadc97b8e5166b4d4370009a552c0f1f73">llvm::AMDGPUISD::SIN_HW</a></div><div class="ttdeci">@ SIN_HW</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00404">AMDGPUISelLowering.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a5cb49674ec65724b4d9aecb48588a13a"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">llvm::ConstantSDNode::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01601">SelectionDAGNodes.h:1601</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea6bf36266eccc139178a6078daefaf934"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea6bf36266eccc139178a6078daefaf934">llvm::AMDGPUISD::RSQ</a></div><div class="ttdeci">@ RSQ</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00429">AMDGPUISelLowering.h:429</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ab5770b8366206ae045d03afb9e5c0105"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ab5770b8366206ae045d03afb9e5c0105">i16</a></div><div class="ttdeci">&lt; i32 &gt; ret i32 conv5 And the following x86 eax movsbl ecx cmpl ecx sete al movzbl eax ret It should be possible to eliminate the sign extensions LLVM misses a load store narrowing opportunity in this i16</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01493">README.txt:1493</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">llvm::ISD::CondCode</a></div><div class="ttdeci">CondCode</div><div class="ttdoc">ISD::CondCode enum - These are ordered carefully to make the bitfields below work out,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01434">ISDOpcodes.h:1434</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a2b37615f95f3e2fdd5564188c0965132"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">llvm::SelectionDAGISel::CurDAG</a></div><div class="ttdeci">SelectionDAG * CurDAG</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00049">SelectionDAGISel.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1c04c72abd24de2572a03ef686a36dd6"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">llvm::SelectionDAG::getMachineNode</a></div><div class="ttdeci">MachineSDNode * getMachineNode(unsigned Opcode, const SDLoc &amp;dl, EVT VT)</div><div class="ttdoc">These are used for target selectors to create a new node with specified return type(s),...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09946">SelectionDAG.cpp:9946</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdoc">Machine Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00031">MachineValueType.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af760edf2d4a395488417d4d9b1714a3a">llvm::ISD::SUBCARRY</a></div><div class="ttdeci">@ SUBCARRY</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00304">ISDOpcodes.h:304</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a66ebc3ec1c8816b16a5f239a8631c780"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">llvm::SelectionDAG::setNodeMemRefs</a></div><div class="ttdeci">void setNodeMemRefs(MachineSDNode *N, ArrayRef&lt; MachineMemOperand * &gt; NewMemRefs)</div><div class="ttdoc">Mutate the specified machine node's memory references to the provided list.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09714">SelectionDAG.cpp:9714</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a0cfaf858a04f4c55a92005ab1ee5694c"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a0cfaf858a04f4c55a92005ab1ee5694c">llvm::GCNSubtarget::getLDSBankCount</a></div><div class="ttdeci">int getLDSBankCount() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00292">GCNSubtarget.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a4fa10ba2f5551b22c35eecfa74b3296a"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a4fa10ba2f5551b22c35eecfa74b3296a">llvm::GCNSubtarget::hasDOTOpSelHazard</a></div><div class="ttdeci">bool hasDOTOpSelHazard() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01049">GCNSubtarget.h:1049</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a4e1374fde17218f949e94ee57e18dc2c"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a4e1374fde17218f949e94ee57e18dc2c">AMDGPUDAGToDAGISel::Select</a></div><div class="ttdeci">void Select(SDNode *N) override</div><div class="ttdoc">Main hook for targets to transform nodes into machine nodes.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00496">AMDGPUISelDAGToDAG.cpp:496</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_a9ecb9af97ff8ecc76733f61d3946a8ba"><div class="ttname"><a href="README__P9_8txt.html#a9ecb9af97ff8ecc76733f61d3946a8ba">v4i32</a></div><div class="ttdeci">Vector Rotate Left Mask Mask v4i32</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00112">README_P9.txt:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1eba17da85627807b4dab5ddc14d2c8e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1eba17da85627807b4dab5ddc14d2c8e">llvm::SelectionDAG::SelectNodeTo</a></div><div class="ttdeci">SDNode * SelectNodeTo(SDNode *N, unsigned MachineOpc, EVT VT)</div><div class="ttdoc">These are used for target selectors to mutate the specified node to have the specified return type,...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09738">SelectionDAG.cpp:9738</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1IsaInfo_html_ab6e8b39aa26af871d8ede5fa8c791ee6ad15305d7a4e34e02489c74a5ef542f36"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1IsaInfo.html#ab6e8b39aa26af871d8ede5fa8c791ee6ad15305d7a4e34e02489c74a5ef542f36">llvm::AMDGPU::IsaInfo::TargetIDSetting::Off</a></div><div class="ttdeci">@ Off</div></div>
<div class="ttc" id="aR600RegisterInfo_8h_html"><div class="ttname"><a href="R600RegisterInfo_8h.html">R600RegisterInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a264f3d09a4f5545a3406ee3e5b0ac4d6"><div class="ttname"><a href="namespacellvm.html#a264f3d09a4f5545a3406ee3e5b0ac4d6">llvm::isMask_32</a></div><div class="ttdeci">constexpr bool isMask_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a non-empty sequence of ones starting at the least significant bit wit...</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00268">MathExtras.h:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">llvm::AMDGPU::CPol::SCC</a></div><div class="ttdeci">@ SCC</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00316">SIDefines.h:316</a></div></div>
<div class="ttc" id="aSelectionDAGISel_8h_html"><div class="ttname"><a href="SelectionDAGISel_8h.html">SelectionDAGISel.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1b42b67d0df8ad1a351bbdc503c115a1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1b42b67d0df8ad1a351bbdc503c115a1">llvm::GCNSubtarget::hasFlatInstOffsets</a></div><div class="ttdeci">bool hasFlatInstOffsets() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00579">GCNSubtarget.h:579</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a547a88964f1673c84410baa7a2a83f4d"><div class="ttname"><a href="structllvm_1_1EVT.html#a547a88964f1673c84410baa7a2a83f4d">llvm::EVT::getScalarSizeInBits</a></div><div class="ttdeci">uint64_t getScalarSizeInBits() const</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00352">ValueTypes.h:352</a></div></div>
<div class="ttc" id="aAMDGPU_8h_html"><div class="ttname"><a href="AMDGPU_8h.html">AMDGPU.h</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_ad7d1014ba596042eb3ac93700fe223e6"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#ad7d1014ba596042eb3ac93700fe223e6">AMDGPUDAGToDAGISel::AMDGPUDAGToDAGISel</a></div><div class="ttdeci">AMDGPUDAGToDAGISel()=delete</div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dabd8ac36f299f3add1ff63d49475d51a5"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dabd8ac36f299f3add1ff63d49475d51a5">llvm::SIInstrFlags::IsDOT</a></div><div class="ttdeci">@ IsDOT</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00120">SIDefines.h:120</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">llvm::logicalview::LVAttributeKind::Zero</a></div><div class="ttdeci">@ Zero</div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">llvm::ISD::UMUL_LOHI</a></div><div class="ttdeci">@ UMUL_LOHI</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00251">ISDOpcodes.h:251</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eac344911a086691a209bc2cfa6a7d29ee"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eac344911a086691a209bc2cfa6a7d29ee">llvm::AMDGPUISD::LOAD_D16_LO_U8</a></div><div class="ttdeci">@ LOAD_D16_LO_U8</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00506">AMDGPUISelLowering.h:506</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac630ccda26fea2f45afa3fb89bc1a8f4"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">llvm::SelectionDAG::ReplaceAllUsesOfValueWith</a></div><div class="ttdeci">void ReplaceAllUsesOfValueWith(SDValue From, SDValue To)</div><div class="ttdoc">Replace any uses of From with To, leaving uses of other values produced by From.getNode() alone.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10541">SelectionDAG.cpp:10541</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_aa342123aa2f9f6eca71603c8e27c355d"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#aa342123aa2f9f6eca71603c8e27c355d">llvm::TargetRegisterInfo::getPhysRegBaseClass</a></div><div class="ttdeci">virtual const TargetRegisterClass * getPhysRegBaseClass(MCRegister Reg) const</div><div class="ttdoc">Return target defined base register class for a physical register.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00700">TargetRegisterInfo.h:700</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a977e54da724d62e7b08e2ad69723731e"><div class="ttname"><a href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">llvm::SDValue::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01149">SelectionDAGNodes.h:1149</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">llvm::ISD::UNDEF</a></div><div class="ttdeci">@ UNDEF</div><div class="ttdoc">UNDEF - An undefined node.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00211">ISDOpcodes.h:211</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">llvm::ISD::FEXP</a></div><div class="ttdeci">@ FEXP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00921">ISDOpcodes.h:921</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a77c69067ae8279bc00ab8757731e90d7"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a></div><div class="ttdeci">auto CC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00079">RISCVRedundantCopyElimination.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">llvm::ISD::SMUL_LOHI</a></div><div class="ttdeci">@ SMUL_LOHI</div><div class="ttdoc">SMUL_LOHI/UMUL_LOHI - Multiply two integers of type iN, producing a signed/unsigned value of type i[2...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00250">ISDOpcodes.h:250</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a05e4a09b0b7a2ec7e9f5e77c8e8153bc"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a05e4a09b0b7a2ec7e9f5e77c8e8153bc">llvm::ISD::ATOMIC_LOAD_FMAX</a></div><div class="ttdeci">@ ATOMIC_LOAD_FMAX</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01200">ISDOpcodes.h:1200</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">llvm::ISD::FEXP2</a></div><div class="ttdeci">@ FEXP2</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00922">ISDOpcodes.h:922</a></div></div>
<div class="ttc" id="astructllvm_1_1SDVTList_html"><div class="ttname"><a href="structllvm_1_1SDVTList.html">llvm::SDVTList</a></div><div class="ttdoc">This represents a list of ValueType's that has been intern'd by a SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00079">SelectionDAGNodes.h:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">llvm::ISD::FMUL</a></div><div class="ttdeci">@ FMUL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00392">ISDOpcodes.h:392</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">llvm::ISD::SEXTLOAD</a></div><div class="ttdeci">@ SEXTLOAD</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">llvm::ISD::INTRINSIC_WO_CHAIN</a></div><div class="ttdeci">@ INTRINSIC_WO_CHAIN</div><div class="ttdoc">RESULT = INTRINSIC_WO_CHAIN(INTRINSICID, arg1, arg2, ...) This node represents a target intrinsic fun...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00184">ISDOpcodes.h:184</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html_ac9f1cc5985b1840e29407c526f7f9f34"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#ac9f1cc5985b1840e29407c526f7f9f34">llvm::LoadSDNode::getBasePtr</a></div><div class="ttdeci">const SDValue &amp; getBasePtr() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02367">SelectionDAGNodes.h:2367</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a8a10d542acf3418b2a5bfefb351829c0"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a8a10d542acf3418b2a5bfefb351829c0">llvm::LoopInfoBase::getLoopsInPreorder</a></div><div class="ttdeci">SmallVector&lt; LoopT *, 4 &gt; getLoopsInPreorder() const</div><div class="ttdoc">Return all of the loops in the function in preorder across the loop nests, with siblings in forward p...</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00587">LoopInfoImpl.h:587</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">llvm::ISD::FSQRT</a></div><div class="ttdeci">@ FSQRT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00912">ISDOpcodes.h:912</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a23107e32342f5488a5edfa71aff54700"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">llvm::SelectionDAGISel::MF</a></div><div class="ttdeci">MachineFunction * MF</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00047">SelectionDAGISel.h:47</a></div></div>
<div class="ttc" id="aAMDGPUInstrInfo_8h_html"><div class="ttname"><a href="AMDGPUInstrInfo_8h.html">AMDGPUInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea480770519d97b188b42a1a0aa660a3db"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea480770519d97b188b42a1a0aa660a3db">llvm::AMDGPUISD::RCP</a></div><div class="ttdeci">@ RCP</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00428">AMDGPUISelLowering.h:428</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a632dd4bb044d5cd11f671d176ef495f2">llvm::ISD::FMAXNUM</a></div><div class="ttdeci">@ FMAXNUM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00943">ISDOpcodes.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_acf82847f1e6fae251ba4183cffd4a3d5"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">llvm::SelectionDAG::computeKnownBits</a></div><div class="ttdeci">KnownBits computeKnownBits(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Determine which bits of Op are known to be either zero or one and return them in Known.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02958">SelectionDAG.cpp:2958</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea76dae89c9d37a7d4a007589e236d7579"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea76dae89c9d37a7d4a007589e236d7579">llvm::AMDGPUISD::LOAD_D16_HI_U8</a></div><div class="ttdeci">@ LOAD_D16_HI_U8</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00504">AMDGPUISelLowering.h:504</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea760ece3c08b02521b09f90ee5a5e4fdb"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea760ece3c08b02521b09f90ee5a5e4fdb">llvm::AMDGPUISD::MAD_U64_U32</a></div><div class="ttdeci">@ MAD_U64_U32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00452">AMDGPUISelLowering.h:452</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemSDNode_html_a2e10f29264df67a4564d4230bf8e98c7"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a2e10f29264df67a4564d4230bf8e98c7">llvm::MemSDNode::getAddressSpace</a></div><div class="ttdeci">unsigned getAddressSpace() const</div><div class="ttdoc">Return the address space for the associated pointer.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01366">SelectionDAGNodes.h:1366</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">llvm::ISD::FCOS</a></div><div class="ttdeci">@ FCOS</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00915">ISDOpcodes.h:915</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_af0f68c9c0e4a38aebd5773f80dd5b716"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">llvm::SelectionDAG::getEntryNode</a></div><div class="ttdeci">SDValue getEntryNode() const</div><div class="ttdoc">Return the token chain corresponding to the entry of the function.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00550">SelectionDAG.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">llvm::ISD::FCEIL</a></div><div class="ttdeci">@ FCEIL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00923">ISDOpcodes.h:923</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">llvm::ISD::FSIN</a></div><div class="ttdeci">@ FSIN</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00914">ISDOpcodes.h:914</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">llvm::ISD::BUILD_VECTOR</a></div><div class="ttdeci">@ BUILD_VECTOR</div><div class="ttdoc">BUILD_VECTOR(ELT0, ELT1, ELT2, ELT3,...) - Return a fixed-width vector with the specified,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00514">ISDOpcodes.h:514</a></div></div>
<div class="ttc" id="aclassllvm_1_1SITargetLowering_html"><div class="ttname"><a href="classllvm_1_1SITargetLowering.html">llvm::SITargetLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="SIISelLowering_8h_source.html#l00031">SIISelLowering.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a9bc12259f8156d068dfb2e91f04f6a06"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">llvm::SelectionDAG::getTargetExtractSubreg</a></div><div class="ttdeci">SDValue getTargetExtractSubreg(int SRIdx, const SDLoc &amp;DL, EVT VT, SDValue Operand)</div><div class="ttdoc">A convenience function for creating TargetInstrInfo::EXTRACT_SUBREG nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10064">SelectionDAG.cpp:10064</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a84e771c0f56c984d8ee4a85c0cb46ed3"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">llvm::SelectionDAGISel::ReplaceUses</a></div><div class="ttdeci">void ReplaceUses(SDValue F, SDValue T)</div><div class="ttdoc">ReplaceUses - replace all uses of the old node F with the use of the new node T.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00207">SelectionDAGISel.h:207</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2ab6db512a611d1ef4ff8069e2bbfd0d">llvm::ISD::SUBC</a></div><div class="ttdeci">@ SUBC</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00270">ISDOpcodes.h:270</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a9d0bd109d96d0faea4a639d43910eaa0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a9d0bd109d96d0faea4a639d43910eaa0">llvm::GCNSubtarget::ldsRequiresM0Init</a></div><div class="ttdeci">bool ldsRequiresM0Init() const</div><div class="ttdoc">Return if most LDS instructions have an m0 use that require m0 to be initialized.</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00643">GCNSubtarget.h:643</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdoc">Unlike LLVM values, Selection DAG nodes may return multiple values as the result of a computation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00145">SelectionDAGNodes.h:145</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_a6a4ecac5b11f0caf472f0f4845f8f910"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#a6a4ecac5b11f0caf472f0f4845f8f910">gwsIntrinToOpcode</a></div><div class="ttdeci">static unsigned gwsIntrinToOpcode(unsigned IntrID)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l02383">AMDGPUISelDAGToDAG.cpp:2383</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUPerfHintAnalysis_html"><div class="ttname"><a href="structllvm_1_1AMDGPUPerfHintAnalysis.html">llvm::AMDGPUPerfHintAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUPerfHintAnalysis_8h_source.html#l00023">AMDGPUPerfHintAnalysis.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">llvm::ISD::STORE</a></div><div class="ttdeci">@ STORE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00966">ISDOpcodes.h:966</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea05e199d247b019380b4c5a6f24d95381"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea05e199d247b019380b4c5a6f24d95381">llvm::AMDGPUISD::CVT_PKRTZ_F16_F32</a></div><div class="ttdeci">@ CVT_PKRTZ_F16_F32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00473">AMDGPUISelLowering.h:473</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">llvm::ISD::UINT_TO_FP</a></div><div class="ttdeci">@ UINT_TO_FP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00774">ISDOpcodes.h:774</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdeci">@ ADD</div><div class="ttdoc">Simple integer binary arithmetic operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00239">ISDOpcodes.h:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ace4de1de19cbe837c578fb3654b6c998"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">llvm::GCNSubtarget::getGeneration</a></div><div class="ttdeci">Generation getGeneration() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00273">GCNSubtarget.h:273</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html">llvm::SIInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00044">SIInstrInfo.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a79ce723bbdcb8a66b32fec6499ecd9f9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a79ce723bbdcb8a66b32fec6499ecd9f9">llvm::AMDGPU::isInlinableLiteral32</a></div><div class="ttdeci">bool isInlinableLiteral32(int32_t Literal, bool HasInv2Pi)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02383">AMDGPUBaseInfo.cpp:2383</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_abc4c6365ade17ad4443ad0e381e7479d"><div class="ttname"><a href="structllvm_1_1EVT.html#abc4c6365ade17ad4443ad0e381e7479d">llvm::EVT::getVectorElementType</a></div><div class="ttdeci">EVT getVectorElementType() const</div><div class="ttdoc">Given a vector type, return the type of each element.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00300">ValueTypes.h:300</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">llvm::ISD::FP_EXTEND</a></div><div class="ttdeci">@ FP_EXTEND</div><div class="ttdoc">X = FP_EXTEND(Y) - Extend a smaller FP type into a larger FP type.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00870">ISDOpcodes.h:870</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a33fbbd04a4a2d81c229f0e613de73905"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a33fbbd04a4a2d81c229f0e613de73905">llvm::GCNSubtarget::hasMADIntraFwdBug</a></div><div class="ttdeci">bool hasMADIntraFwdBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00930">GCNSubtarget.h:930</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea79067f8d6a2c24f4d33fc9da493a2037"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea79067f8d6a2c24f4d33fc9da493a2037">llvm::AMDGPUISD::FRACT</a></div><div class="ttdeci">@ FRACT</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00384">AMDGPUISelLowering.h:384</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">llvm::ISD::FSUB</a></div><div class="ttdeci">@ FSUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00391">ISDOpcodes.h:391</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">llvm::ISD::SHL</a></div><div class="ttdeci">@ SHL</div><div class="ttdoc">Shift and rotation operations.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00691">ISDOpcodes.h:691</a></div></div>
<div class="ttc" id="aLegacyDivergenceAnalysis_8h_html"><div class="ttname"><a href="LegacyDivergenceAnalysis_8h.html">LegacyDivergenceAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html">llvm::SelectionDAGISel</a></div><div class="ttdoc">SelectionDAGISel - This is the common base class used for SelectionDAG-based pattern-matching instruc...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00041">SelectionDAGISel.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fa5b71ba6fa435ec288aba849e113721a7">llvm::AMDGPUAS::REGION_ADDRESS</a></div><div class="ttdeci">@ REGION_ADDRESS</div><div class="ttdoc">Address space for region memory. (GDS)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00374">AMDGPU.h:374</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eae964dd93e7a7fdbbe3e2ded767b6743e"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eae964dd93e7a7fdbbe3e2ded767b6743e">llvm::AMDGPUISD::FMAX3</a></div><div class="ttdeci">@ FMAX3</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00408">AMDGPUISelLowering.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a33a600e1b2e066f85e6a2bb588a7f3f1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">llvm::GCNSubtarget::getConstantBusLimit</a></div><div class="ttdeci">unsigned getConstantBusLimit(unsigned Opcode) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00191">AMDGPUSubtarget.cpp:191</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">llvm::ISD::FREM</a></div><div class="ttdeci">@ FREM</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00394">ISDOpcodes.h:394</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eae110f734779ea7435c1f89a1b019e8e9"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eae110f734779ea7435c1f89a1b019e8e9">llvm::AMDGPUISD::MAD_I64_I32</a></div><div class="ttdeci">@ MAD_I64_I32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00453">AMDGPUISelLowering.h:453</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da125415c6b554fcb76cedd65841141a92"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da125415c6b554fcb76cedd65841141a92">llvm::SIInstrFlags::FlatGlobal</a></div><div class="ttdeci">@ FlatGlobal</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00108">SIDefines.h:108</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ae155fc08c52bcfd6026faf4c640a2cf7"><div class="ttname"><a href="classllvm_1_1APInt.html#ae155fc08c52bcfd6026faf4c640a2cf7">llvm::APInt::countTrailingOnes</a></div><div class="ttdeci">unsigned countTrailingOnes() const</div><div class="ttdoc">Count the number of trailing one bits.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01607">APInt.h:1607</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac9246c101c0cc9232e37b3941194bb13"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac9246c101c0cc9232e37b3941194bb13">llvm::ISD::SUBE</a></div><div class="ttdeci">@ SUBE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00280">ISDOpcodes.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html">llvm::SIMachineFunctionInfo</a></div><div class="ttdoc">This class keeps track of the SPI_SP_INPUT_ADDR config register, which tells the hardware which inter...</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00358">SIMachineFunctionInfo.h:358</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">llvm::ISD::SRL</a></div><div class="ttdeci">@ SRL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00693">ISDOpcodes.h:693</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_ad63e0e437ca71cc2b5a5d4d5aa3685f2"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ad63e0e437ca71cc2b5a5d4d5aa3685f2">llvm::TargetMachine::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00127">TargetMachine.h:127</a></div></div>
<div class="ttc" id="aAArch64ISelDAGToDAG_8cpp_html_a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081"><div class="ttname"><a href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">SelectTypeKind::FP</a></div><div class="ttdeci">@ FP</div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a596080bfe7eb1bc232a7c9381a5e784c"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a596080bfe7eb1bc232a7c9381a5e784c">llvm::GCNSubtarget::d16PreservesUnusedBits</a></div><div class="ttdeci">bool d16PreservesUnusedBits() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00633">GCNSubtarget.h:633</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">llvm::AMDGPUAS::FLAT_ADDRESS</a></div><div class="ttdeci">@ FLAT_ADDRESS</div><div class="ttdoc">Address space for flat memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00372">AMDGPU.h:372</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_a36173b413fd86dbd5cfcbc5a52daa0cf"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#a36173b413fd86dbd5cfcbc5a52daa0cf">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(AMDGPUDAGToDAGISel, &quot;amdgpu-isel&quot;, &quot;AMDGPU DAG-&gt;DAG Pattern Instruction Selection&quot;, false, false) INITIALIZE_PASS_END(AMDGPUDAGToDAGISel</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea4d3421b2a779f5f0c5970c8f5f550c76"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea4d3421b2a779f5f0c5970c8f5f550c76">llvm::AMDGPUISD::COS_HW</a></div><div class="ttdeci">@ COS_HW</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00403">AMDGPUISelLowering.h:403</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ae779a9d142e6318d8fb0e4f0da32af0f"><div class="ttname"><a href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">llvm::SDValue::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01137">SelectionDAGNodes.h:1137</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_abf892d1e00a3d79026c5ab518c187c45"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">llvm::SelectionDAG::getTargetConstant</a></div><div class="ttdeci">SDValue getTargetConstant(uint64_t Val, const SDLoc &amp;DL, EVT VT, bool isOpaque=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00671">SelectionDAG.h:671</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">llvm::ISD::INTRINSIC_W_CHAIN</a></div><div class="ttdeci">@ INTRINSIC_W_CHAIN</div><div class="ttdoc">RESULT,OUTCHAIN = INTRINSIC_W_CHAIN(INCHAIN, INTRINSICID, arg1, ...) This node represents a target in...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00192">ISDOpcodes.h:192</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">llvm::ISD::FNEG</a></div><div class="ttdeci">@ FNEG</div><div class="ttdoc">Perform various unary floating-point operations inspired by libm.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00910">ISDOpcodes.h:910</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aaa0193582f1fc99e3e6a3fc5abcb37bf"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">llvm::SelectionDAG::getMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getMachineFunction() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00465">SelectionDAG.h:465</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">llvm::CodeGenOpt::Level</a></div><div class="ttdeci">Level</div><div class="ttdoc">Code generation optimization level.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00057">CodeGen.h:57</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">llvm::ISD::BUILD_PAIR</a></div><div class="ttdeci">@ BUILD_PAIR</div><div class="ttdoc">BUILD_PAIR - This is the opposite of EXTRACT_ELEMENT in some ways.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00229">ISDOpcodes.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aInlineOrder_8cpp_html_a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719"><div class="ttname"><a href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">InlinePriorityMode::Size</a></div><div class="ttdeci">@ Size</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea6166b5d53cc9816ecd1223614b964fd9"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea6166b5d53cc9816ecd1223614b964fd9">llvm::AMDGPUISD::DWORDADDR</a></div><div class="ttdeci">@ DWORDADDR</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00383">AMDGPUISelLowering.h:383</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa84894f4966964ef9fc79f9515a6c875"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa84894f4966964ef9fc79f9515a6c875">llvm::ISD::TargetFrameIndex</a></div><div class="ttdeci">@ TargetFrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00166">ISDOpcodes.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_1_1M68kBeads_html_a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd"><div class="ttname"><a href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">llvm::M68kBeads::Term</a></div><div class="ttdeci">@ Term</div><div class="ttdef"><b>Definition:</b> <a href="M68kBaseInfo_8h_source.html#l00090">M68kBaseInfo.h:90</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_afdb2c86c54a7de682961e9b0a42a080d"><div class="ttname"><a href="README__P9_8txt.html#afdb2c86c54a7de682961e9b0a42a080d">f64</a></div><div class="ttdeci">QP Compare Ordered outs ins xscmpudp No builtin are required Or llvm fcmp order unorder compare DP QP Compare builtin are required DP xscmp *dp write to VSX register Use int_ppc_vsx_xscmpeqdp f64</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00314">README_P9.txt:314</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">llvm::SIInstrFlags::WQM</a></div><div class="ttdeci">@ WQM</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00077">SIDefines.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">llvm::ISD::FTRUNC</a></div><div class="ttdeci">@ FTRUNC</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00924">ISDOpcodes.h:924</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af1ceb53a1b47dab205dc19070b47a1a6">llvm::SISrcMods::NEG</a></div><div class="ttdeci">@ NEG</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00228">SIDefines.h:228</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea51178790d7c73b373338c52de42b4e96"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea51178790d7c73b373338c52de42b4e96">llvm::AMDGPUISD::RCP_IFLAG</a></div><div class="ttdeci">@ RCP_IFLAG</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00431">AMDGPUISelLowering.h:431</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14">llvm::ISD::FCANONICALIZE</a></div><div class="ttdeci">@ FCANONICALIZE</div><div class="ttdoc">Returns platform specific canonical encoding of a floating point number.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00499">ISDOpcodes.h:499</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">llvm::ISD::FLOG</a></div><div class="ttdeci">@ FLOG</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00918">ISDOpcodes.h:918</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a10f2e810ecf2f7e2bb9150ed2c5b622a"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a10f2e810ecf2f7e2bb9150ed2c5b622a">llvm::GCNSubtarget::hasUsableDSOffset</a></div><div class="ttdeci">bool hasUsableDSOffset() const</div><div class="ttdoc">True if the offset field of DS instructions works as expected.</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00422">GCNSubtarget.h:422</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad116e32876f2275acf60ffb1651c9256">llvm::ISD::ADDE</a></div><div class="ttdeci">@ ADDE</div><div class="ttdoc">Carry-using nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00279">ISDOpcodes.h:279</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">llvm::ISD::FP_ROUND</a></div><div class="ttdeci">@ FP_ROUND</div><div class="ttdoc">X = FP_ROUND(Y, TRUNC) - Rounding 'Y' from a larger floating point type down to the precision of the ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00852">ISDOpcodes.h:852</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">llvm::SISrcMods::OP_SEL_0</a></div><div class="ttdeci">@ OP_SEL_0</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00232">SIDefines.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a0ca904e64ee29c8812ed34e632d3c947"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">llvm::MCInstrDesc::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return the number of declared MachineOperands for this MachineInstruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00237">MCInstrDesc.h:237</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830eabccd0de85dfbe7aef83629b318a4df6e"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eabccd0de85dfbe7aef83629b318a4df6e">llvm::RecurKind::SMax</a></div><div class="ttdeci">@ SMax</div><div class="ttdoc">Signed integer max implemented in terms of select(cmp()).</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_af2fca022f33991d19959ebf939c54d03"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af2fca022f33991d19959ebf939c54d03">llvm::SelectionDAG::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00469">SelectionDAG.h:469</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_aad0b781d8b8a804437e919429069fcd7"><div class="ttname"><a href="structllvm_1_1EVT.html#aad0b781d8b8a804437e919429069fcd7">llvm::EVT::bitsEq</a></div><div class="ttdeci">bool bitsEq(EVT VT) const</div><div class="ttdoc">Return true if this has the same number of bits as VT.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00228">ValueTypes.h:228</a></div></div>
<div class="ttc" id="aAMDGPUTargetMachine_8h_html"><div class="ttname"><a href="AMDGPUTargetMachine_8h.html">AMDGPUTargetMachine.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eacb028e9739d033de026de0a3b2ac9f9e"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eacb028e9739d033de026de0a3b2ac9f9e">llvm::AMDGPUISD::BFE_U32</a></div><div class="ttdeci">@ BFE_U32</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00439">AMDGPUISelLowering.h:439</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">llvm::ISD::SCALAR_TO_VECTOR</a></div><div class="ttdeci">@ SCALAR_TO_VECTOR</div><div class="ttdoc">SCALAR_TO_VECTOR(VAL) - This represents the operation of loading a scalar value into element 0 of the...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00606">ISDOpcodes.h:606</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faa6d3112da64eecbdbb50aacb5f8251e8">llvm::AMDGPUAS::CONSTANT_ADDRESS</a></div><div class="ttdeci">@ CONSTANT_ADDRESS</div><div class="ttdoc">Address space for constant memory (VTX2).</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00376">AMDGPU.h:376</a></div></div>
<div class="ttc" id="aclassAMDGPUDAGToDAGISel_html_a60a7288af24c5de74d432973163470ac"><div class="ttname"><a href="classAMDGPUDAGToDAGISel.html#a60a7288af24c5de74d432973163470ac">AMDGPUDAGToDAGISel::runOnMachineFunction</a></div><div class="ttdeci">bool runOnMachineFunction(MachineFunction &amp;MF) override</div><div class="ttdoc">runOnMachineFunction - This method must be overloaded to perform the desired machine code transformat...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l00125">AMDGPUISelDAGToDAG.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0ea9d9d3af4d64c8851bed302606264cf64"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0ea9d9d3af4d64c8851bed302606264cf64">llvm::AMDGPUISD::LOAD_D16_LO</a></div><div class="ttdeci">@ LOAD_D16_LO</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00502">AMDGPUISelLowering.h:502</a></div></div>
<div class="ttc" id="aAMDGPUISelDAGToDAG_8cpp_html_adeb4fa20d3ea1515e0a668fccec57f59"><div class="ttname"><a href="AMDGPUISelDAGToDAG_8cpp.html#adeb4fa20d3ea1515e0a668fccec57f59">IsCopyFromSGPR</a></div><div class="ttdeci">static bool IsCopyFromSGPR(const SIRegisterInfo &amp;TRI, SDValue Val)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelDAGToDAG_8cpp_source.html#l01426">AMDGPUISelDAGToDAG.cpp:1426</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">llvm::ISD::FDIV</a></div><div class="ttdeci">@ FDIV</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00393">ISDOpcodes.h:393</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:09:06 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
