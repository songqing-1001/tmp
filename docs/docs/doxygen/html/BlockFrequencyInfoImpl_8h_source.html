<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Analysis/BlockFrequencyInfoImpl.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_97cdd6ae7e6843add574fb55e792badd.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BlockFrequencyInfoImpl.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BlockFrequencyInfoImpl_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//==- BlockFrequencyInfoImpl.h - Block Frequency Implementation --*- C++ -*-==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Shared implementation of BlockFrequency for IR and Machine Instructions.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// See the documentation below for BlockFrequencyInfoImpl for details.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef LLVM_ANALYSIS_BLOCKFREQUENCYINFOIMPL_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define LLVM_ANALYSIS_BLOCKFREQUENCYINFOIMPL_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GraphTraits_8h.html">llvm/ADT/GraphTraits.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostOrderIterator_8h.html">llvm/ADT/PostOrderIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SparseBitVector_8h.html">llvm/ADT/SparseBitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator__range_8h.html">llvm/ADT/iterator_range.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/IR/ValueHandle.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockFrequency_8h.html">llvm/Support/BlockFrequency.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BranchProbability_8h.html">llvm/Support/BranchProbability.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DOTGraphTraits_8h.html">llvm/Support/DOTGraphTraits.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Format_8h.html">llvm/Support/Format.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScaledNumber_8h.html">llvm/Support/ScaledNumber.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">   51</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;block-freq&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#aeed11dc79f40b5a20c11997197f18543">CheckBFIUnknownBlockQueries</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#a598a6261818f8c015f4ebd74ad4ae81a">UseIterativeBFIInference</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt;unsigned&gt;</a> <a class="code" href="namespacellvm.html#a94af5377a23091e9f0cf395b6e129dfb">IterativeBFIMaxIterationsPerBlock</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">extern</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt;double&gt;</a> <a class="code" href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">IterativeBFIPrecision</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">class </span>BranchProbabilityInfo;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">class </span>Function;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">class </span>Loop;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">class </span>LoopInfo;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">class </span>MachineBasicBlock;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">class </span>MachineBranchProbabilityInfo;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">class </span>MachineFunction;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">class </span>MachineLoop;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">class </span>MachineLoopInfo;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html">   70</a></span>&#160;<span class="keyword">namespace </span>bfi_detail {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// This is part of a workaround for a GCC 4.7 crash on lambdas.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">   75</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">BlockEdgesAdder</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/// Mass of a block.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/// This class implements a sort of fixed-point fraction always between 0.0 and</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/// 1.0.  getMass() == std::numeric_limits&lt;uint64_t&gt;::max() indicates a value of</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/// 1.0.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/// Masses can be added and subtracted.  Simple saturation arithmetic is used,</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/// so arithmetic operations never overflow or underflow.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/// Masses can be multiplied.  Multiplication treats full mass as 1.0 and uses</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/// an inexpensive floating-point algorithm that&#39;s off-by-one (almost, but not</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// quite, maximum precision).</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">/// Masses can be scaled by \a BranchProbability at maximum precision.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html">   91</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Mass = 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#adfdb00b2c71ac98e68da9a48c4e4f016">BlockMass</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a542ba189f3ea922222b703a4b345c1a8">   96</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a542ba189f3ea922222b703a4b345c1a8">BlockMass</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Mass) : Mass(Mass) {}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">   98</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">getEmpty</a>() { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#adfdb00b2c71ac98e68da9a48c4e4f016">BlockMass</a>(); }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">  100</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">getFull</a>() {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#adfdb00b2c71ac98e68da9a48c4e4f016">BlockMass</a>(<a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint64_t&gt;::max</a>());</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a221f01eee80db0b0c4f4567c84b54fb5">  104</a></span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a221f01eee80db0b0c4f4567c84b54fb5">getMass</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass; }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3d943c4e8129a1812f0ddbe60766caf7">  106</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3d943c4e8129a1812f0ddbe60766caf7">isFull</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass == <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint64_t&gt;::max</a>(); }</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3874be041c63e0b867d82331409a0de2">  107</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3874be041c63e0b867d82331409a0de2">isEmpty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !Mass; }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a07e9c2c2d820ae6830cb200d9c127839">  109</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a07e9c2c2d820ae6830cb200d9c127839">operator!</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3874be041c63e0b867d82331409a0de2">isEmpty</a>(); }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">  /// Add another mass.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">  /// Adds another mass, saturating at \a isFull() rather than overflowing.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ab4e21a41841bffe8a6532d475455d161">  114</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ab4e21a41841bffe8a6532d475455d161">operator+=</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Sum = Mass + <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    Mass = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">Sum &lt; Mass ? std::numeric_limits&lt;uint64_t&gt;::max</a>() : Sum;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">  /// Subtract another mass.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">  /// Subtracts another mass, saturating at \a isEmpty() rather than</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">  /// undeflowing.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a7e01fd6906e4f92d60997202d50fc7fb">  124</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a7e01fd6906e4f92d60997202d50fc7fb">operator-=</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Diff = Mass - <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    Mass = Diff &gt; Mass ? 0 : Diff;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a465570f79f2250f090fe8302742e7c83">  130</a></span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a465570f79f2250f090fe8302742e7c83">operator*=</a>(<a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    Mass = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.scale(Mass);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a33f6df4d294d336376dc0f6f2b2078f5">  135</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a33f6df4d294d336376dc0f6f2b2078f5">operator==</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass; }</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ad3a2d7c4fc82e84aa6823b9ec79bc7f5">  136</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ad3a2d7c4fc82e84aa6823b9ec79bc7f5">operator!=</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass != <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass; }</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a8b33c9f137ee70772de1927056d41fef">  137</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a8b33c9f137ee70772de1927056d41fef">operator&lt;=</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass &lt;= <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass; }</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#aedf9e705154fd4b0e99b6f11339f2ada">  138</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#aedf9e705154fd4b0e99b6f11339f2ada">operator&gt;=</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass &gt;= <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass; }</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a07ad8547a841472e2087996e8a0754b6">  139</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a07ad8547a841472e2087996e8a0754b6">operator&lt;</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass &lt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass; }</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a0fc6aab5a3de5a10eae97d30fdaa8430">  140</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a0fc6aab5a3de5a10eae97d30fdaa8430">operator&gt;</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Mass &gt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Mass; }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  /// Convert to scaled number.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  /// Convert to \a ScaledNumber.  \a isFull() gives 1.0, while \a isEmpty()</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// gives slightly above 0.0.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1ScaledNumber.html">ScaledNumber&lt;uint64_t&gt;</a> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">toScaled</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a5ae944f41ccf807abef975067d634884">dump</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a2d2eb10767a708e79d160dae4ebcd0a2">print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;};</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#a51b6206c76206ae4514090b12a2d8d31">  152</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="namespacellvm_1_1bfi__detail.html#a51b6206c76206ae4514090b12a2d8d31">operator+</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> L, <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> R) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a>(L) += R;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#aa30d0ce3ab3c581a34fe633339fd6748">  155</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="namespacellvm_1_1bfi__detail.html#aa30d0ce3ab3c581a34fe633339fd6748">operator-</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> L, <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> R) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a>(L) -= R;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#a22e76a31337affb6a641acf1d96a39c0">  158</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="namespacellvm_1_1bfi__detail.html#a22e76a31337affb6a641acf1d96a39c0">operator*</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> L, <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> R) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a>(L) *= R;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#a52dc8027c59bb98f12e1d93235846c2b">  161</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="namespacellvm_1_1bfi__detail.html#a22e76a31337affb6a641acf1d96a39c0">operator*</a>(<a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> L, <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> R) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a>(R) *= L;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#a9b6978cc75ac9c9148cad23ab52b2247">  165</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="namespacellvm_1_1bfi__detail.html#a9b6978cc75ac9c9148cad23ab52b2247">operator&lt;&lt;</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;} <span class="comment">// end namespace bfi_detail</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/// Base class for BlockFrequencyInfoImpl</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/// BlockFrequencyInfoImplBase has supporting data structures and some</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/// algorithms for BlockFrequencyInfoImplBase.  Only algorithms that depend on</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/// the block type (or that call such algorithms) are skipped here.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">/// Nevertheless, the majority of the overall algorithm documentation lives with</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// BlockFrequencyInfoImpl.  See there for details.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html">  179</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a5514a17c0ec3ccae841930a4f8f74f99">  181</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> = <a class="code" href="classllvm_1_1ScaledNumber.html">ScaledNumber&lt;uint64_t&gt;</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a6e6da6d64b5e1623157336544dd0e7a2">  182</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> = <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">bfi_detail::BlockMass</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  /// Representative of a block.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">  /// This is a simple wrapper around an index into the reverse-post-order</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">  /// traversal of the blocks.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  /// Unlike a block pointer, its order has meaning (location in the</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">  /// topological sort) and it&#39;s class is the same regardless of block type.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">  191</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> {</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a7f28e194c1651950e69733b613e223d1">  192</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classuint32__t.html">IndexType</a> = <a class="code" href="classuint32__t.html">uint32_t</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">  194</a></span>&#160;    <a class="code" href="classuint32__t.html">IndexType</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">Index</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#aed7aa2425775239a0ec37fede54138bf">  196</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#aed7aa2425775239a0ec37fede54138bf">BlockNode</a>() : <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>(<a class="code" href="namespacestd.html">std</a>::numeric_limits&lt;<a class="code" href="classuint32__t.html">uint32_t</a>&gt;::<a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">max</a>()) {}</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a57337f61d0a424ccd49ba147b0691fb5">  197</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a57337f61d0a424ccd49ba147b0691fb5">BlockNode</a>(<a class="code" href="classuint32__t.html">IndexType</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) : <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) {}</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a15176dcd11b934430b2c5d0683b79492">  199</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a15176dcd11b934430b2c5d0683b79492">operator==</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> == <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Index; }</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a18bc40cf7a189a0512335b40127d715b">  200</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a18bc40cf7a189a0512335b40127d715b">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> != <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Index; }</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a7c975e946b42a0ad92debf1ee6ee488a">  201</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a7c975e946b42a0ad92debf1ee6ee488a">operator&lt;=</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt;= <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Index; }</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a4f9621609a1a9b7c883c8b5e0f3afe84">  202</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a4f9621609a1a9b7c883c8b5e0f3afe84">operator&gt;=</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &gt;= <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Index; }</div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a4787a1f347aa9845ad92e5696a104e15">  203</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a4787a1f347aa9845ad92e5696a104e15">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Index; }</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#ad04ba0323a3bbcf8ab86213d4d2b072e">  204</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#ad04ba0323a3bbcf8ab86213d4d2b072e">operator&gt;</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &gt; <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.Index; }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a5d7eee89d3edd68fd385f1479f78c952">  206</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a5d7eee89d3edd68fd385f1479f78c952">isValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt;= <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a58e8e5e2a292484f1f8f386ecce6f89c">getMaxIndex</a>(); }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a58e8e5e2a292484f1f8f386ecce6f89c">  208</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a58e8e5e2a292484f1f8f386ecce6f89c">getMaxIndex</a>() {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;       <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint32_t&gt;::max</a>() - 1;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  };</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  /// Stats about a block itself.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">  214</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">FrequencyData</a> {</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html#a8af0190a66e3f259ae8328030aee145a">  215</a></span>&#160;    <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html#a8af0190a66e3f259ae8328030aee145a">Scaled</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html#ac8e1be818fb7efab7e7c1be02e3786ff">  216</a></span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html#ac8e1be818fb7efab7e7c1be02e3786ff">Integer</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  };</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  /// Data about a loop.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// Contains the data necessary to represent a loop as a pseudo-node once it&#39;s</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// packaged.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">  223</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> {</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a10dc52ff31fcd31570d45b100ed2ca6b">  224</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallVector.html">ExitMap</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;BlockNode, BlockMass&gt;</a>, 4&gt;;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a65e3fb654afaaf83662b2b46d8d20043">  225</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallVector.html">NodeList</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BlockNode, 4&gt;</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a9bca9720bb542e351f79ffb5b4ef2a0d">  226</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallVector.html">HeaderMassList</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BlockMass, 1&gt;</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">  228</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>;            <span class="comment">///&lt; The parent loop.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a3a1365a0e73d71419aad3e55da8c2cb5">  229</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a3a1365a0e73d71419aad3e55da8c2cb5">IsPackaged</a> = <span class="keyword">false</span>;     <span class="comment">///&lt; Whether this has been packaged.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">  230</a></span>&#160;<span class="comment"></span>    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a> = 1;     <span class="comment">///&lt; Number of headers.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056">  231</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">ExitMap</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056">Exits</a>;               <span class="comment">///&lt; Successor edges (and weights).</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">  232</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">NodeList</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>;              <span class="comment">///&lt; Header and the members of the loop.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">  233</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">HeaderMassList</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">BackedgeMass</a>; <span class="comment">///&lt; Mass returned to each loop header.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac73ca2f65c4077446cdeb9c8461fd118">  234</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac73ca2f65c4077446cdeb9c8461fd118">Mass</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#afbc333c186999469beac266c7b17870d">  235</a></span>&#160;    <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#afbc333c186999469beac266c7b17870d">Scale</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a5bb4a78fac5f3140664755105ac9c88d">  237</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a5bb4a78fac5f3140664755105ac9c88d">LoopData</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Header)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      : <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>(1, Header), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">BackedgeMass</a>(1) {}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> It1, <span class="keyword">class</span> It2&gt;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a22d50a8b1983e65e8d2a8702a53744ec">  241</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a22d50a8b1983e65e8d2a8702a53744ec">LoopData</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>, It1 FirstHeader, It1 LastHeader, It2 FirstOther,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;             It2 LastOther)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        : <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>(FirstHeader, LastHeader) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a> = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.size();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.end(), FirstOther, LastOther);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">BackedgeMass</a>.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">  249</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">isHeader</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">isIrreducible</a>())</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> std::binary_search(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin(), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin() + <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                  <a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classNode.html">Node</a> == <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>[0];</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a924395e7510f57f986ac032994b20f73">  256</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a924395e7510f57f986ac032994b20f73">getHeader</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>[0]; }</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">  257</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">isIrreducible</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a> &gt; 1; }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aed6828c6f5229e4099a34c13da1d2d08">  259</a></span>&#160;    HeaderMassList::difference_type <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aed6828c6f5229e4099a34c13da1d2d08">getHeaderIndex</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">isHeader</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) &amp;&amp; <span class="stringliteral">&quot;this is only valid on loop header blocks&quot;</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">isIrreducible</a>())</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">std::lower_bound</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin(), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin() + <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) -</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;               <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a71009a39b531a375cc98f0ccd6929930">  267</a></span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html#a641b0782e0cc309372855bfc19fdfd97">NodeList::const_iterator</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a71009a39b531a375cc98f0ccd6929930">members_begin</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin() + <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">NumHeaders</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a6ed2496529a208a7c56b27ad11b01030">  271</a></span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html#a641b0782e0cc309372855bfc19fdfd97">NodeList::const_iterator</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a6ed2496529a208a7c56b27ad11b01030">members_end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.end(); }</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#afe4f7d179969d3688d4dfeca69ba8f7a">  272</a></span>&#160;    <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;NodeList::const_iterator&gt;</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#afe4f7d179969d3688d4dfeca69ba8f7a">members</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a71009a39b531a375cc98f0ccd6929930">members_begin</a>(), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a6ed2496529a208a7c56b27ad11b01030">members_end</a>());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  };</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  /// Index of loop information.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html">  278</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html">WorkingData</a> {</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ad1db82bbd908839aac659f7ef02ea0d7">  279</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ad1db82bbd908839aac659f7ef02ea0d7">Node</a>;           <span class="comment">///&lt; This node.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ac12aaee5ed3068e385388a736b3238bb">  280</a></span>&#160;<span class="comment"></span>    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *<a class="code" href="classllvm_1_1Loop.html">Loop</a> = <span class="keyword">nullptr</span>; <span class="comment">///&lt; The loop this block is inside.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a3486139f8bad153d3890d929a628de1a">  281</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a3486139f8bad153d3890d929a628de1a">Mass</a>;           <span class="comment">///&lt; Mass distribution from the entry block.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a7e89c609e3f1a14353a2899a4d49a907">  283</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a7e89c609e3f1a14353a2899a4d49a907">WorkingData</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>) : <a class="code" href="classNode.html">Node</a>(<a class="code" href="classNode.html">Node</a>) {}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a9920ac737bd7393a090ee45bb2ca4bef">  285</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a9920ac737bd7393a090ee45bb2ca4bef">isLoopHeader</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> &amp;&amp; <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;isHeader(<a class="code" href="classNode.html">Node</a>); }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab147fa0abcd57b2d539d3287dea94999">  287</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab147fa0abcd57b2d539d3287dea94999">isDoubleLoopHeader</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a9920ac737bd7393a090ee45bb2ca4bef">isLoopHeader</a>() &amp;&amp; <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent &amp;&amp; <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent-&gt;isIrreducible() &amp;&amp;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;             <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent-&gt;isHeader(<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab13b5bb830c2e42a5dd71a0c2dfa74e9">  292</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab13b5bb830c2e42a5dd71a0c2dfa74e9">getContainingLoop</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a9920ac737bd7393a090ee45bb2ca4bef">isLoopHeader</a>())</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ac12aaee5ed3068e385388a736b3238bb">Loop</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab147fa0abcd57b2d539d3287dea94999">isDoubleLoopHeader</a>())</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent-&gt;Parent;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    /// Resolve a node to its representative.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    ///</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    /// Get the node currently representing Node, which could be a containing</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">    /// loop.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">    ///</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    /// This function should only be called when distributing mass.  As long as</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    /// there are no irreducible edges to Node, then it will have complexity</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    /// O(1) in this context.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">    ///</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">    /// In general, the complexity is O(L), where L is the number of loop</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    /// headers Node has been packaged into.  Since this method is called in</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    /// the context of distributing mass, L will be the number of loop headers</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">    /// an early exit edge jumps out of.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af4cfe26f95b98d5ebfcc8279a0f494d2">  313</a></span>&#160;<span class="comment"></span>    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af4cfe26f95b98d5ebfcc8279a0f494d2">getResolvedNode</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keyword">auto</span> *L = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab78a93d1080175c10d7a9d7080422669">getPackagedLoop</a>();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">return</span> L ? L-&gt;getHeader() : <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ad1db82bbd908839aac659f7ef02ea0d7">Node</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab78a93d1080175c10d7a9d7080422669">  318</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab78a93d1080175c10d7a9d7080422669">getPackagedLoop</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Loop.html">Loop</a> || !<a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;IsPackaged)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">auto</span> *L = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ac12aaee5ed3068e385388a736b3238bb">Loop</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">while</span> (L-&gt;Parent &amp;&amp; L-&gt;Parent-&gt;IsPackaged)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        L = L-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">Parent</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">return</span> L;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    /// Get the appropriate mass for a node.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    ///</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">    /// Get appropriate mass for Node.  If Node is a loop-header (whose loop</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">    /// has been packaged), returns the mass of its pseudo-node.  If it&#39;s a</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">    /// node inside a packaged loop, it returns the loop&#39;s mass.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a5a41f5cb2786cac2a4c5c1fda89ea16f">  332</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a5a41f5cb2786cac2a4c5c1fda89ea16f">getMass</a>() {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a8e34c35e227b4207044c6f3e470495b3">isAPackage</a>())</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a3486139f8bad153d3890d929a628de1a">Mass</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af59992d1f4d494ae6d3c33f61df86d20">isADoublePackage</a>())</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Mass;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent-&gt;Mass;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    /// Has ContainingLoop been packaged up?</span></div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a0a379080d91da3d02263cd75cc3d3c74">  341</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a0a379080d91da3d02263cd75cc3d3c74">isPackaged</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af4cfe26f95b98d5ebfcc8279a0f494d2">getResolvedNode</a>() != <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ad1db82bbd908839aac659f7ef02ea0d7">Node</a>; }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    /// Has Loop been packaged up?</span></div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a8e34c35e227b4207044c6f3e470495b3">  344</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a8e34c35e227b4207044c6f3e470495b3">isAPackage</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a9920ac737bd7393a090ee45bb2ca4bef">isLoopHeader</a>() &amp;&amp; <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;IsPackaged; }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">    /// Has Loop been packaged up twice?</span></div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af59992d1f4d494ae6d3c33f61df86d20">  347</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af59992d1f4d494ae6d3c33f61df86d20">isADoublePackage</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab147fa0abcd57b2d539d3287dea94999">isDoubleLoopHeader</a>() &amp;&amp; <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Parent-&gt;IsPackaged;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  };</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">  /// Unscaled probability weight.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">  /// Probability weight for an edge in the graph (including the</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">  /// successor/target node).</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">  /// All edges in the original function are 32-bit.  However, exit edges from</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">  /// loop packages are taken from 64-bit exit masses, so we need 64-bits of</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  /// space in general.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">  /// In addition to the raw weight amount, Weight stores the type of the edge</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">  /// in the current context (i.e., the context of the loop being processed).</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">  /// Is this a local edge within the loop, an exit from the loop, or a</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">  /// backedge to the loop header?</span></div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">  365</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> {</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">  366</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67">DistType</a> { <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">Local</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f">Exit</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea">Backedge</a> };</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab3434133d005d4bf5334a585042ad917">  367</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67">DistType</a> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">Local</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a7d49b2704586051c51172cc77d4104b3">  368</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a7d49b2704586051c51172cc77d4104b3">TargetNode</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab134b83ec8b71cfe2e2003c8a130bd24">  369</a></span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab134b83ec8b71cfe2e2003c8a130bd24">Amount</a> = 0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#af6d6f33b83e5ef8cd04b509149ad7b79">Weight</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a598ca821da6b5dab9a4d59f6b6fe1cac">  372</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a598ca821da6b5dab9a4d59f6b6fe1cac">Weight</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67">DistType</a> <a class="code" href="classllvm_1_1Type.html">Type</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a7d49b2704586051c51172cc77d4104b3">TargetNode</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab134b83ec8b71cfe2e2003c8a130bd24">Amount</a>)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        : <a class="code" href="classllvm_1_1Type.html">Type</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a7d49b2704586051c51172cc77d4104b3">TargetNode</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a7d49b2704586051c51172cc77d4104b3">TargetNode</a>), <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab134b83ec8b71cfe2e2003c8a130bd24">Amount</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab134b83ec8b71cfe2e2003c8a130bd24">Amount</a>) {}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  };</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">  /// Distribution of unscaled probability weight.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">  /// Distribution of unscaled probability weight to a set of successors.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">  /// This class collates the successor edge weights for later processing.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">  /// \a DidOverflow indicates whether \a Total did overflow while adding to</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">  /// the distribution.  It should never overflow twice.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">  384</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> {</div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a3009a397a01cea6f6903433da6683224">  385</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallVector.html">WeightList</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Weight, 4&gt;</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">  387</a></span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">WeightList</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">Weights</a>;       <span class="comment">///&lt; Individual successor weights.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#aaf226952008495c98bd9d9652b25cfd8">  388</a></span>&#160;<span class="comment"></span>    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#aaf226952008495c98bd9d9652b25cfd8">Total</a> = 0;       <span class="comment">///&lt; Sum of all weights.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ad9359948311bce04a3628b0db4376b77">  389</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ad9359948311bce04a3628b0db4376b77">DidOverflow</a> = <span class="keyword">false</span>; <span class="comment">///&lt; Whether \a Total did overflow.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a10318535dafa46543d1c1d2b67301cc8">Distribution</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#afe6973243d687017c549e35834347f34">  393</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#afe6973243d687017c549e35834347f34">addLocal</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Amount) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      add(<a class="code" href="classNode.html">Node</a>, Amount, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">Weight::Local</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac86fec7279ee04ded4052cdc9a867ea9">  397</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac86fec7279ee04ded4052cdc9a867ea9">addExit</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Amount) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      add(<a class="code" href="classNode.html">Node</a>, Amount, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f">Weight::Exit</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a1f4f138ccfef4b11927a51fed0aa4fbe">  401</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a1f4f138ccfef4b11927a51fed0aa4fbe">addBackedge</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Amount) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      add(<a class="code" href="classNode.html">Node</a>, Amount, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea">Weight::Backedge</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">    /// Normalize the distribution.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">    ///</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">    /// Combines multiple edges to the same \a Weight::TargetNode and scales</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">    /// down so that \a Total fits into 32-bits.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">    ///</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">    /// This is linear in the size of \a Weights.  For the vast majority of</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">    /// cases, adjacent edge weights are combined by sorting WeightList and</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    /// combining adjacent weights.  However, for very large edge lists an</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">    /// auxiliary hash table is used.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac24f62f9ac4bff8273ed15798ea650e8">normalize</a>();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordtype">void</span> add(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Amount, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67">Weight::DistType</a> <a class="code" href="classllvm_1_1Type.html">Type</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  };</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">  /// Data about each block.  This is used downstream.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">  421</a></span>&#160;<span class="comment"></span>  std::vector&lt;FrequencyData&gt; <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">  /// Whether each block is an irreducible loop header.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">  /// This is used downstream.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#ae6a50da1ec57ffdb0576275d819dcb50">  425</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SparseBitVector.html">SparseBitVector&lt;&gt;</a> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#ae6a50da1ec57ffdb0576275d819dcb50">IsIrrLoopHeader</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">  /// Loop data: see initializeLoops().</span></div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">  428</a></span>&#160;<span class="comment"></span>  std::vector&lt;WorkingData&gt; <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">  /// Indexed information about loops.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">  431</a></span>&#160;<span class="comment"></span>  std::list&lt;LoopData&gt; <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">  /// Virtual destructor.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">  /// Need a virtual destructor to mask the compiler warning about</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">  /// getBlockName().</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0450ba0c5f10bc567038749976ebd228">~BlockFrequencyInfoImplBase</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">  /// Add all edges out of a packaged loop to the distribution.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">  /// Adds all edges from LocalLoopHead to Dist.  Calls addToDist() to add each</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">  /// successor edge.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">  /// \return \c true unless there&#39;s an irreducible backedge.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">addLoopSuccessorsToDist</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                               <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">  /// Add an edge to the distribution.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">  /// Adds an edge to Succ to Dist.  If \c LoopHead.isValid(), then whether the</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">  /// edge is local/exit/backedge is in the context of LoopHead.  Otherwise,</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">  /// every edge should be a local edge (since all the loops are packaged up).</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">  /// \return \c true unless aborted due to an irreducible backedge.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">addToDist</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist, <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Pred, <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Succ, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">  /// Analyze irreducible SCCs.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">  /// Separate irreducible SCCs from \c G, which is an explicit graph of \c</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">  /// OuterLoop (or the top-level function, if \c OuterLoop is \c nullptr).</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">  /// Insert them into \a Loops before \c Insert.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">  /// \return the \c LoopData nodes representing the irreducible SCCs.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;std::list&lt;LoopData&gt;::iterator</a>&gt;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">analyzeIrreducible</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">bfi_detail::IrreducibleGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                     std::list&lt;LoopData&gt;::iterator Insert);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">  /// Update a loop after packaging irreducible SCCs inside of it.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">  /// Update \c OuterLoop.  Before finding irreducible control flow, it was</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">  /// partway through \a computeMassInLoop(), so \a LoopData::Exits and \a</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">  /// LoopData::BackedgeMass need to be reset.  Also, nodes that were packaged</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">  /// up need to be removed from \a OuterLoop::Nodes.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">updateLoopWithIrreducible</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;OuterLoop);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">  /// Distribute mass according to a distribution.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">  /// Distributes the mass in Source according to Dist.  If LoopHead.isValid(),</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">  /// backedges and exits are stored in its entry in Loops.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">  /// Mass is distributed in parallel from two copies of the source mass.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">distributeMass</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                      <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">  /// Compute the loop scale for a loop.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">computeLoopScale</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">  /// Adjust the mass of all headers in an irreducible loop.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">  /// Initially, irreducible loops are assumed to distribute their mass</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">  /// equally among its headers. This can lead to wrong frequency estimates</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">  /// since some headers may be executed more frequently than others.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">  /// This adjusts header mass distribution so it matches the weights of</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">  /// the backedges going into each of the loop headers.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af8aa6262fff3f09a8e2076d7a76e1628">adjustLoopHeaderMass</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aaa2c0a25aeaf519f9df55f422331f0db">distributeIrrLoopHeaderMass</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">  /// Package up a loop.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">packageLoop</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">  /// Unwrap loops.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">unwrapLoops</a>();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">  /// Finalize frequency metrics.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">  /// Calculates final frequencies and cleans up no-longer-needed data</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">  /// structures.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">finalizeMetrics</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">  /// Clear all memory.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">clear</a>();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a81aacbe4befdc892179bb8cdac170370">getBlockName</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  std::string <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a58791fa7d9b74c05628abed162ce2725">getLoopName</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a84e3c2dabc626ebe107c5fd847bd7a01">  519</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a84e3c2dabc626ebe107c5fd847bd7a01">print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>; }</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0b3608d47dacd2c63e831fee11073c2c">  520</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0b3608d47dacd2c63e831fee11073c2c">dump</a>()<span class="keyword"> const </span>{ <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a84e3c2dabc626ebe107c5fd847bd7a01">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()); }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adc0b4a681eb28808ca79e6b13e50f0d4">getFloatingBlockFreq</a>(<span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9b5fd69cbe234f56395e6ddd4eeed8be">getBlockFreq</a>(<span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  std::optional&lt;uint64_t&gt;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">getBlockProfileCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                       <span class="keywordtype">bool</span> AllowSynthetic = <span class="keyword">false</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  std::optional&lt;uint64_t&gt;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af7df5dbcd0c48e9feef7982c1ff42b6c">getProfileCountFromFreq</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq,</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                          <span class="keywordtype">bool</span> AllowSynthetic = <span class="keyword">false</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a673d335f21e5df4fb227432b653fe8ab">isIrrLoopHeader</a>(<span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">setBlockFreq</a>(<span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">printBlockFreq</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">printBlockFreq</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> &amp;Freq) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9ea3cb0982e23fcd9aacb4a89d207765">  539</a></span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9ea3cb0982e23fcd9aacb4a89d207765">getEntryFreq</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>.empty());</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[0].Integer;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;};</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="keyword">namespace </span>bfi_detail {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap.html">  547</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockT&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">TypeMap</a> {};</div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html">  548</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">TypeMap</a>&lt;<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a>&gt; {</div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html#a188b18c77fc2a2d0ed74f361866744b0">  549</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BasicBlock.html">BlockT</a> = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf">BasicBlock</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html#ae510a44193aab26b047ef90e5b2b2a82">  550</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1AssertingVH.html">BlockKeyT</a> = <a class="code" href="classllvm_1_1AssertingVH.html">AssertingVH&lt;const BasicBlock&gt;</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html#ae527e585055e3292aff10ccf4ab1e606">  551</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1Function.html">FunctionT</a> = <a class="code" href="classllvm_1_1Function.html">Function</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html#aa566c322e793e1bba742b21921ccc66a">  552</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfoT</a> = <a class="code" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html#af37db746934eaecbf3a009904c1f62ac">  553</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1Loop.html">LoopT</a> = <a class="code" href="classllvm_1_1Loop.html">Loop</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01BasicBlock_01_4.html#a2bffb2dfc0e1642ee775130a1225689f">  554</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfoT</a> = <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;};</div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html">  556</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">TypeMap</a>&lt;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>&gt; {</div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html#aaa86ece2e81e7f81be40ae7c846ac671">  557</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">BlockT</a> = <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html#abf6f07415c2f3f3ba1bbcf3eaa2706a5">  558</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">BlockKeyT</a> = <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *;</div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html#a6d4f216260dbdd6cfbfb01b89e775e51">  559</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineFunction.html">FunctionT</a> = <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html#a6db69988ca5926a3e1860907b3520cc8">  560</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineBranchProbabilityInfo.html">BranchProbabilityInfoT</a> = <a class="code" href="classllvm_1_1MachineBranchProbabilityInfo.html">MachineBranchProbabilityInfo</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html#afbef3feeb2241e7bd8ea0362093a81fd">  561</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineLoop.html">LoopT</a> = <a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1TypeMap_3_01MachineBasicBlock_01_4.html#a42647bb906b6caefdeb7a546a7c9e4bc">  562</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MachineLoopInfo.html">LoopInfoT</a> = <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;};</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockT, <span class="keyword">class</span> BFIImplT&gt;</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">  566</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">/// Get the name of a MachineBasicBlock.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">/// Get the name of a MachineBasicBlock.  It&#39;s templated so that including from</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">/// CodeGen is unnecessary (that would be a layering issue).</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">/// This is used mainly for debug output.  The name is similar to</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">/// MachineBasicBlock::getFullName(), but skips the name of the function.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">  575</a></span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockT&gt; std::string <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> &amp;&amp; <span class="stringliteral">&quot;Unexpected nullptr&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keyword">auto</span> MachineName = <span class="stringliteral">&quot;BB&quot;</span> + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getNumber());</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getBasicBlock())</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> (MachineName + <span class="stringliteral">&quot;[&quot;</span> + <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName() + <span class="stringliteral">&quot;]&quot;</span>).str();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">return</span> MachineName.str();</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">/// Get the name of a BasicBlock.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">  583</a></span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;&gt; <span class="keyword">inline</span> std::string <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> &amp;&amp; <span class="stringliteral">&quot;Unexpected nullptr&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName().str();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">/// Graph of irreducible control flow.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">/// This graph is used for determining the SCCs in a loop (or top-level</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">/// function) that has irreducible control flow.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">/// During the block frequency algorithm, the local graphs are defined in a</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">/// light-weight way, deferring to the \a BasicBlock or \a MachineBasicBlock</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">/// graphs for most edges, but getting others from \a LoopData::ExitMap.  The</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">/// latter only has successor information.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">/// \a IrreducibleGraph makes this graph explicit.  It&#39;s in a form that can use</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">/// \a GraphTraits (so that \a analyzeIrreducible() can use \a scc_iterator),</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">/// and it explicitly lists predecessors and successors.  The initialization</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">/// that relies on \c MachineBasicBlock is defined in the header.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">  602</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a> {</div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a281c4629c5f31af3afd60c42fbd93f6b">  603</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BFIBase</a> = <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">  605</a></span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BFIBase</a> &amp;<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a4f2854e822f1b323869fb6c7ae6fc0d0">  607</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BFIBase::BlockNode</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">  608</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">IrrNode</a> {</div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad8c901b3cabbffe2815f23e07664c821">  609</a></span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad8c901b3cabbffe2815f23e07664c821">Node</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#afa65e9330ea446ed6f3b50dcefd93905">  610</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#afa65e9330ea446ed6f3b50dcefd93905">NumIn</a> = 0;</div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">  611</a></span>&#160;    std::deque&lt;const IrrNode *&gt; <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">Edges</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a0f37c69a1a04176b4ea286802ad344ef">  613</a></span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a0f37c69a1a04176b4ea286802ad344ef">IrrNode</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>) : <a class="code" href="classNode.html">Node</a>(<a class="code" href="classNode.html">Node</a>) {}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">  615</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">iterator</a> = std::deque&lt;const IrrNode *&gt;::const_iterator;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a115f85e797cc2ed82f55a1bb1ab8ecee">  617</a></span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">iterator</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a115f85e797cc2ed82f55a1bb1ab8ecee">pred_begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">Edges</a>.begin(); }</div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#abb6ffa63ccb2a569d6b4dc397086e1fe">  618</a></span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">iterator</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#abb6ffa63ccb2a569d6b4dc397086e1fe">succ_begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">Edges</a>.begin() + <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#afa65e9330ea446ed6f3b50dcefd93905">NumIn</a>; }</div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a0b14c1d2be046c6ce3fd639bd38b83eb">  619</a></span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">iterator</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a0b14c1d2be046c6ce3fd639bd38b83eb">pred_end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#abb6ffa63ccb2a569d6b4dc397086e1fe">succ_begin</a>(); }</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae8bb943f7963fe7f8a8909fa45286661">  620</a></span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">iterator</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae8bb943f7963fe7f8a8909fa45286661">succ_end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">Edges</a>.end(); }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  };</div>
<div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">  622</a></span>&#160;  <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">Start</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a7b2037773f618188c79aec1444116647">  623</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">IrrNode</a> *<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a7b2037773f618188c79aec1444116647">StartIrr</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">  624</a></span>&#160;  std::vector&lt;IrrNode&gt; <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">Nodes</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">  625</a></span>&#160;  <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;uint32_t, IrrNode *, 4&gt;</a> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">  /// Construct an explicit graph containing irreducible control flow.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">  /// Construct an explicit graph of the control flow in \c OuterLoop (or the</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">  /// top-level function, if \c OuterLoop is \c nullptr).  Uses \c</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">  /// addBlockEdges to add block successors that have not been packaged into</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">  /// loops.</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">  /// \a BlockFrequencyInfoImpl::computeIrreducibleMass() is the only expected</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">  /// user of this.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockEdgesAdder&gt;</div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1147f0ef1ac705077e24462022b4ae1e">  637</a></span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1147f0ef1ac705077e24462022b4ae1e">IrreducibleGraph</a>(<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BFIBase</a> &amp;<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BFIBase::LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                   <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">BlockEdgesAdder</a> addBlockEdges) : <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>(<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#abe3bf5fccbd988d1daf97da30f0b0456">initialize</a>(OuterLoop, addBlockEdges);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockEdgesAdder&gt;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#abe3bf5fccbd988d1daf97da30f0b0456">initialize</a>(<span class="keyword">const</span> BFIBase::LoopData *OuterLoop,</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                  <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">BlockEdgesAdder</a> addBlockEdges);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#add4c9ca63093a8270248e72b08c5302e">addNodesInLoop</a>(<span class="keyword">const</span> BFIBase::LoopData &amp;OuterLoop);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a0299c4b86be9e4857e810b2160f37cf7">addNodesInFunction</a>();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#ad98ee11535062e1034345efac121ec05">  648</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#ad98ee11535062e1034345efac121ec05">addNode</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">Nodes</a>.emplace_back(<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>.<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="classNode.html">Node</a>.Index].getMass() = <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">BlockMass::getEmpty</a>();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">indexNodes</a>();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockEdgesAdder&gt;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a2d4ad30cd1d596501e3d99462d1af74e">addEdges</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a4f2854e822f1b323869fb6c7ae6fc0d0">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>, <span class="keyword">const</span> BFIBase::LoopData *OuterLoop,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">BlockEdgesAdder</a> addBlockEdges);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a17262e1cca3f9a69224d04b3189ed90c">addEdge</a>(IrrNode &amp;Irr, <span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a4f2854e822f1b323869fb6c7ae6fc0d0">BlockNode</a> &amp;Succ,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;               <span class="keyword">const</span> BFIBase::LoopData *OuterLoop);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;};</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockEdgesAdder&gt;</div>
<div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#abe3bf5fccbd988d1daf97da30f0b0456">  662</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#abe3bf5fccbd988d1daf97da30f0b0456">IrreducibleGraph::initialize</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BFIBase::LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                                  <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">BlockEdgesAdder</a> addBlockEdges) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> (OuterLoop) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#add4c9ca63093a8270248e72b08c5302e">addNodesInLoop</a>(*OuterLoop);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a2d4ad30cd1d596501e3d99462d1af74e">addEdges</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, OuterLoop, addBlockEdges);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a0299c4b86be9e4857e810b2160f37cf7">addNodesInFunction</a>();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = 0; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>.<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a2d4ad30cd1d596501e3d99462d1af74e">addEdges</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, OuterLoop, addBlockEdges);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a7b2037773f618188c79aec1444116647">StartIrr</a> = <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>[<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">Start</a>.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">Index</a>];</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockEdgesAdder&gt;</div>
<div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a2d4ad30cd1d596501e3d99462d1af74e">  677</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a2d4ad30cd1d596501e3d99462d1af74e">IrreducibleGraph::addEdges</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="classNode.html">Node</a>,</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BFIBase::LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">BlockEdgesAdder</a> addBlockEdges) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keyword">auto</span> L = <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>.find(<a class="code" href="classNode.html">Node</a>.Index);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">if</span> (L == <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>.end())</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">IrrNode</a> &amp;Irr = *L-&gt;second;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Working = <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>.<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="classNode.html">Node</a>.Index];</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">if</span> (Working.isAPackage())</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Working.Loop-&gt;Exits)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a17262e1cca3f9a69224d04b3189ed90c">addEdge</a>(Irr, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, OuterLoop);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    addBlockEdges(*<span class="keyword">this</span>, Irr, OuterLoop);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;} <span class="comment">// end namespace bfi_detail</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">/// Shared implementation for block frequency analysis.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">/// This is a shared implementation of BlockFrequencyInfo and</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">/// MachineBlockFrequencyInfo, and calculates the relative frequencies of</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">/// blocks.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">/// LoopInfo defines a loop as a &quot;non-trivial&quot; SCC dominated by a single block,</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">/// which is called the header.  A given loop, L, can have sub-loops, which are</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">/// loops within the subgraph of L that exclude its header.  (A &quot;trivial&quot; SCC</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">/// consists of a single block that does not have a self-edge.)</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">/// In addition to loops, this algorithm has limited support for irreducible</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">/// SCCs, which are SCCs with multiple entry blocks.  Irreducible SCCs are</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">/// discovered on the fly, and modelled as loops with multiple headers.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">/// The headers of irreducible sub-SCCs consist of its entry blocks and all</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">/// nodes that are targets of a backedge within it (excluding backedges within</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">/// true sub-loops).  Block frequency calculations act as if a block is</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">/// inserted that intercepts all the edges to the headers.  All backedges and</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">/// entries point to this block.  Its successors are the headers, which split</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">/// the frequency evenly.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">/// This algorithm leverages BlockMass and ScaledNumber to maintain precision,</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">/// separates mass distribution from loop scaling, and dithers to eliminate</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">/// probability mass loss.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/// The implementation is split between BlockFrequencyInfoImpl, which knows the</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">/// type of graph being modelled (BasicBlock vs. MachineBasicBlock), and</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">/// BlockFrequencyInfoImplBase, which doesn&#39;t.  The base class uses \a</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/// BlockNode, a wrapper around a uint32_t.  BlockNode is numbered from 0 in</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">/// reverse-post order.  This gives two advantages:  it&#39;s easy to compare the</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">/// relative ordering of two nodes, and maps keyed on BlockT can be represented</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">/// by vectors.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">/// This algorithm is O(V+E), unless there is irreducible control flow, in</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">/// which case it&#39;s O(V*E) in the worst case.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">/// These are the main stages:</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">///  0. Reverse post-order traversal (\a initializeRPOT()).</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">///     Run a single post-order traversal and save it (in reverse) in RPOT.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">///     All other stages make use of this ordering.  Save a lookup from BlockT</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">///     to BlockNode (the index into RPOT) in Nodes.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">///  1. Loop initialization (\a initializeLoops()).</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">///     Translate LoopInfo/MachineLoopInfo into a form suitable for the rest of</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">///     the algorithm.  In particular, store the immediate members of each loop</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">///     in reverse post-order.</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">///  2. Calculate mass and scale in loops (\a computeMassInLoops()).</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">///     For each loop (bottom-up), distribute mass through the DAG resulting</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">///     from ignoring backedges and treating sub-loops as a single pseudo-node.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">///     Track the backedge mass distributed to the loop header, and use it to</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">///     calculate the loop scale (number of loop iterations).  Immediate</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">///     members that represent sub-loops will already have been visited and</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">///     packaged into a pseudo-node.</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">///     Distributing mass in a loop is a reverse-post-order traversal through</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">///     the loop.  Start by assigning full mass to the Loop header.  For each</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">///     node in the loop:</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">///         - Fetch and categorize the weight distribution for its successors.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">///           If this is a packaged-subloop, the weight distribution is stored</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">///           in \a LoopData::Exits.  Otherwise, fetch it from</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">///           BranchProbabilityInfo.</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">///         - Each successor is categorized as \a Weight::Local, a local edge</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">///           within the current loop, \a Weight::Backedge, a backedge to the</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">///           loop header, or \a Weight::Exit, any successor outside the loop.</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">///           The weight, the successor, and its category are stored in \a</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">///           Distribution.  There can be multiple edges to each successor.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">///         - If there&#39;s a backedge to a non-header, there&#39;s an irreducible SCC.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">///           The usual flow is temporarily aborted.  \a</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">///           computeIrreducibleMass() finds the irreducible SCCs within the</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">///           loop, packages them up, and restarts the flow.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">///         - Normalize the distribution:  scale weights down so that their sum</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">///           is 32-bits, and coalesce multiple edges to the same node.</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">///         - Distribute the mass accordingly, dithering to minimize mass loss,</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">///           as described in \a distributeMass().</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">///     In the case of irreducible loops, instead of a single loop header,</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">///     there will be several. The computation of backedge masses is similar</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">///     but instead of having a single backedge mass, there will be one</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">///     backedge per loop header. In these cases, each backedge will carry</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">///     a mass proportional to the edge weights along the corresponding</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">///     path.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">///     At the end of propagation, the full mass assigned to the loop will be</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">///     distributed among the loop headers proportionally according to the</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">///     mass flowing through their backedges.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">///     Finally, calculate the loop scale from the accumulated backedge mass.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">///  3. Distribute mass in the function (\a computeMassInFunction()).</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">///     Finally, distribute mass through the DAG resulting from packaging all</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">///     loops in the function.  This uses the same algorithm as distributing</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">///     mass in a loop, except that there are no exit or backedge edges.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">///  4. Unpackage loops (\a unwrapLoops()).</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">///     Initialize each block&#39;s frequency to a floating point representation of</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">///     its mass.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">///     Visit loops top-down, scaling the frequencies of its immediate members</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">///     by the loop&#39;s pseudo-node&#39;s frequency.</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">///  5. Convert frequencies to a 64-bit range (\a finalizeMetrics()).</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">///     Using the min and max frequencies as a guide, translate floating point</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">///     frequencies to an appropriate range in uint64_t.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">/// It has some known flaws.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">///   - The model of irreducible control flow is a rough approximation.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">///     Modelling irreducible control flow exactly involves setting up and</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">///     solving a group of infinite geometric series.  Such precision is</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">///     unlikely to be worthwhile, since most of our algorithms give up on</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">///     irreducible control flow anyway.</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">///     Nevertheless, we might find that we need to get closer.  Here&#39;s a sort</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">///     of TODO list for the model with diminishing returns, to be completed as</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">///     necessary.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">///       - The headers for the \a LoopData representing an irreducible SCC</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">///         include non-entry blocks.  When these extra blocks exist, they</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">///         indicate a self-contained irreducible sub-SCC.  We could treat them</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">///         as sub-loops, rather than arbitrarily shoving the problematic</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">///         blocks into the headers of the main irreducible SCC.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">///       - Entry frequencies are assumed to be evenly split between the</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">///         headers of a given irreducible SCC, which is the only option if we</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">///         need to compute mass in the SCC before its parent loop.  Instead,</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">///         we could partially compute mass in the parent loop, and stop when</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">///         we get to the SCC.  Here, we have the correct ratio of entry</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">///         masses, which we can use to adjust their relative frequencies.</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">///         Compute mass in the SCC, and then continue propagation in the</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">///         parent.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">///       - We can propagate mass iteratively through the SCC, for some fixed</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">///         number of iterations.  Each iteration starts by assigning the entry</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">///         blocks their backedge mass from the prior iteration.  The final</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">///         mass for each block (and each exit, and the total backedge mass</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">///         used for computing loop scale) is the sum of all iterations.</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">///         (Running this until fixed point would &quot;solve&quot; the geometric</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">///         series by simulation.)</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keyword">class </span><a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl</a> : <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="comment">// This is part of a workaround for a GCC 4.7 crash on lambdas.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad948898612d08c1b750614d573ce2d92">  850</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">bfi_detail::BlockEdgesAdder</a>&lt;<a class="code" href="structllvm_1_1BitTracker.html">BT</a>&gt;;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keyword">using</span> BlockT = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap&lt;BT&gt;::BlockT</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keyword">using</span> BlockKeyT = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap&lt;BT&gt;::BlockKeyT</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keyword">using</span> FunctionT = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap&lt;BT&gt;::FunctionT</a>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keyword">using</span> BranchProbabilityInfoT =</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap&lt;BT&gt;::BranchProbabilityInfoT</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keyword">using</span> LoopT = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap&lt;BT&gt;::LoopT</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keyword">using</span> LoopInfoT = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap&lt;BT&gt;::LoopInfoT</a>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits.html">Successor</a> = <a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits&lt;const BlockT *&gt;</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits.html">Predecessor</a> = <a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits&lt;Inverse&lt;const BlockT *&gt;</a>&gt;;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a> =</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">bfi_detail::BFICallbackVH&lt;BlockT, BlockFrequencyInfoImpl&gt;</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keyword">const</span> BranchProbabilityInfoT *BPI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keyword">const</span> LoopInfoT *LI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keyword">const</span> FunctionT *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// All blocks in reverse postorder.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  std::vector&lt;const BlockT *&gt; RPOT;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BlockKeyT, std::pair&lt;BlockNode, BFICallbackVH&gt;</a>&gt; Nodes;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keyword">using</span> rpot_iterator = <span class="keyword">typename</span> std::vector&lt;const BlockT *&gt;::const_iterator;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  rpot_iterator rpot_begin()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> RPOT.<a class="code" href="classllvm_1_1DenseMapBase.html#a50d461a887e200e704e5157d3b21514d">begin</a>(); }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  rpot_iterator rpot_end()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> RPOT.end(); }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordtype">size_t</span> getIndex(<span class="keyword">const</span> rpot_iterator &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> - rpot_begin(); }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  BlockNode getNode(<span class="keyword">const</span> rpot_iterator &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">return</span> BlockNode(getIndex(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  BlockNode getNode(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Nodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">lookup</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>).first; }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keyword">const</span> BlockT *getBlock(<span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classNode.html">Node</a>.Index &lt; RPOT.size());</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> RPOT[<a class="code" href="classNode.html">Node</a>.Index];</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">  /// Run (and save) a post-order traversal.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">  /// Saves a reverse post-order traversal of all the nodes in \a F.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> initializeRPOT();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">  /// Initialize loop data.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">  /// Build up \a Loops using \a LoopInfo.  \a LoopInfo gives us a mapping from</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">  /// each block to the deepest loop it&#39;s in, but we need the inverse.  For each</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">  /// loop, we store in reverse post-order its &quot;immediate&quot; members, defined as</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">  /// the header, the headers of immediate sub-loops, and all other blocks in</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">  /// the loop that are not in sub-loops.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> initializeLoops();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">  /// Propagate to a block&#39;s successors.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">  /// In the context of distributing mass through \c OuterLoop, divide the mass</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">  /// currently assigned to \c Node between its successors.</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">  /// \return \c true unless there&#39;s an irreducible backedge.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> propagateMassToSuccessors(LoopData *OuterLoop, <span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">  /// Compute mass in a particular loop.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">  /// Assign mass to \c Loop&#39;s header, and then for each block in \c Loop in</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">  /// reverse post-order, distribute mass to its successors.  Only visits nodes</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">  /// that have not been packaged into sub-loops.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">  /// \pre \a computeMassInLoop() has been called for each subloop of \c Loop.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">  /// \return \c true unless there&#39;s an irreducible backedge.</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> computeMassInLoop(LoopData &amp;Loop);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">  /// Try to compute mass in the top-level function.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">  /// Assign mass to the entry block, and then for each block in reverse</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">  /// post-order, distribute mass to its successors.  Skips nodes that have</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">  /// been packaged into loops.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">  /// \pre \a computeMassInLoops() has been called.</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">  /// \return \c true unless there&#39;s an irreducible backedge.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> tryToComputeMassInFunction();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">  /// Compute mass in (and package up) irreducible SCCs.</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">  /// Find the irreducible SCCs in \c OuterLoop, add them to \a Loops (in front</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">  /// of \c Insert), and call \a computeMassInLoop() on each of them.</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">  /// If \c OuterLoop is \c nullptr, it refers to the top-level function.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">  /// \pre \a computeMassInLoop() has been called for each subloop of \c</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">  /// OuterLoop.</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">  /// \pre \c Insert points at the last loop successfully processed by \a</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">  /// computeMassInLoop().</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">  /// \pre \c OuterLoop has irreducible SCCs.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> computeIrreducibleMass(LoopData *OuterLoop,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                              std::list&lt;LoopData&gt;::iterator <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">  /// Compute mass in all loops.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">  /// For each loop bottom-up, call \a computeMassInLoop().</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">  /// \a computeMassInLoop() aborts (and returns \c false) on loops that</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">  /// contain a irreducible sub-SCCs.  Use \a computeIrreducibleMass() and then</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">  /// re-enter \a computeMassInLoop().</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">  /// \post \a computeMassInLoop() has returned \c true for every loop.</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> computeMassInLoops();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">  /// Compute mass in the top-level function.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">  /// Uses \a tryToComputeMassInFunction() and \a computeIrreducibleMass() to</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">  /// compute mass in the top-level function.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">  /// \post \a tryToComputeMassInFunction() has returned \c true.</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> computeMassInFunction();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  std::string <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(<span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">bfi_detail::getBlockName</a>(getBlock(<a class="code" href="classNode.html">Node</a>));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">  /// The current implementation for computing relative block frequencies does</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">  /// not handle correctly control-flow graphs containing irreducible loops. To</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">  /// resolve the problem, we apply a post-processing step, which iteratively</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">  /// updates block frequencies based on the frequencies of their predesessors.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">  /// This corresponds to finding the stationary point of the Markov chain by</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">  /// an iterative method aka &quot;PageRank computation&quot;.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">  /// The algorithm takes at most O(|E| * IterativeBFIMaxIterations) steps but</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">  /// typically converges faster.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">  /// Decide whether we want to apply iterative inference for a given function.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> needIterativeInference() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">  /// Apply an iterative post-processing to infer correct counts for irr loops.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> applyIterativeInference();</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keyword">using</span> ProbMatrixType = std::vector&lt;std::vector&lt;std::pair&lt;size_t, Scaled64&gt;&gt;&gt;;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">  /// Run iterative inference for a probability matrix and initial frequencies.</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> iterativeInference(<span class="keyword">const</span> ProbMatrixType &amp;ProbMatrix,</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                          std::vector&lt;Scaled64&gt; &amp;Freq) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">  /// Find all blocks to apply inference on, that is, reachable from the entry</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">  /// and backward reachable from exists along edges with positive probability.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> findReachableBlocks(std::vector&lt;const BlockT *&gt; &amp;Blocks) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">  /// Build a matrix of probabilities with transitions (edges) between the</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">  /// blocks: ProbMatrix[I] holds pairs (J, P), where Pr[J -&gt; I | J] = P</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> initTransitionProbabilities(</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="keyword">const</span> std::vector&lt;const BlockT *&gt; &amp;Blocks,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keyword">const</span> DenseMap&lt;const BlockT *, size_t&gt; &amp;BlockIndex,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      ProbMatrixType &amp;ProbMatrix) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">  /// Compute the discrepancy between current block frequencies and the</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment"></span><span class="comment">  /// probability matrix.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment"></span>  <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> discrepancy(<span class="keyword">const</span> ProbMatrixType &amp;ProbMatrix,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                       <span class="keyword">const</span> std::vector&lt;Scaled64&gt; &amp;Freq) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ac61cd6020768ae1e60dc3040ce5fbd8d">BlockFrequencyInfoImpl</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a05d7859069ea9f72d9f1c790acd814fd"> 1012</a></span>&#160;  <span class="keyword">const</span> FunctionT *<a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a05d7859069ea9f72d9f1c790acd814fd">getFunction</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>; }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a90713bef7e4b1c185d5410e823d8f734">calculate</a>(<span class="keyword">const</span> FunctionT &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> BranchProbabilityInfoT &amp;BPI,</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                 <span class="keyword">const</span> LoopInfoT &amp;LI);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9ea3cb0982e23fcd9aacb4a89d207765">BlockFrequencyInfoImplBase::getEntryFreq</a>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#ae87d24146ddae3b92a07246e2a63aa8b"> 1019</a></span>&#160;  <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ae87d24146ddae3b92a07246e2a63aa8b">getBlockFreq</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9b5fd69cbe234f56395e6ddd4eeed8be">BlockFrequencyInfoImplBase::getBlockFreq</a>(getNode(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  std::optional&lt;uint64_t&gt;</div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a14c122ec1eddb91d10903c38042c2414"> 1024</a></span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a14c122ec1eddb91d10903c38042c2414">getBlockProfileCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                       <span class="keywordtype">bool</span> AllowSynthetic = <span class="keyword">false</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">BlockFrequencyInfoImplBase::getBlockProfileCount</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, getNode(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>),</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                                            AllowSynthetic);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  std::optional&lt;uint64_t&gt;</div>
<div class="line"><a name="l01031"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a3da26c8dcbd5ba6a9f14614dc6302524"> 1031</a></span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a3da26c8dcbd5ba6a9f14614dc6302524">getProfileCountFromFreq</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                          <span class="keywordtype">bool</span> AllowSynthetic = <span class="keyword">false</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af7df5dbcd0c48e9feef7982c1ff42b6c">BlockFrequencyInfoImplBase::getProfileCountFromFreq</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Freq,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                                               AllowSynthetic);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a058de37a3c739f4c59a0f238f0741766"> 1037</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a058de37a3c739f4c59a0f238f0741766">isIrrLoopHeader</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a673d335f21e5df4fb227432b653fe8ab">BlockFrequencyInfoImplBase::isIrrLoopHeader</a>(getNode(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ac4f09cc3f867de462ad1ae51b03eae54">setBlockFreq</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad41feeb3401a872b89169602cbb541a7"> 1043</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad41feeb3401a872b89169602cbb541a7">forgetBlock</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">// We don&#39;t erase corresponding items from `Freqs`, `RPOT` and other to</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// avoid invalidating indices. Doing so would have saved some memory, but</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// it&#39;s not worth it.</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    Nodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a756b682b6d9fd9641480076412b99885"> 1050</a></span>&#160;  <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a756b682b6d9fd9641480076412b99885">getFloatingBlockFreq</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adc0b4a681eb28808ca79e6b13e50f0d4">BlockFrequencyInfoImplBase::getFloatingBlockFreq</a>(getNode(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#aa5f7676e79d9c74b94e3f28292a21976"> 1054</a></span>&#160;  <span class="keyword">const</span> BranchProbabilityInfoT &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#aa5f7676e79d9c74b94e3f28292a21976">getBPI</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *BPI; }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">  /// Print the frequencies for the current function.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">  /// Prints the frequencies for the blocks in the current function.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">  /// Blocks are printed in the natural iteration order of the function, rather</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">  /// than reverse post-order.  This provides two advantages:  writing -analyze</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">  /// tests is easier (since blocks come out in source order), and even</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">  /// unreachable blocks are printed.</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">  /// \a BlockFrequencyInfoImplBase::print() only knows reverse post-order, so</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">  /// we need to override it here.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad05ed8871c23e9c87114b754bc6098ab">print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0b3608d47dacd2c63e831fee11073c2c">BlockFrequencyInfoImplBase::dump</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">BlockFrequencyInfoImplBase::printBlockFreq</a>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#afb2670f614693f07e0cd00013e6c6ee2"> 1072</a></span>&#160;  <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#afb2670f614693f07e0cd00013e6c6ee2">printBlockFreq</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">BlockFrequencyInfoImplBase::printBlockFreq</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, getNode(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a61a62f8b812123edf5c45e719f43d95b">verifyMatch</a>(<a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl&lt;BT&gt;</a> &amp;<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;};</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="keyword">namespace </span>bfi_detail {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BFIImplT&gt;</div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html"> 1082</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>&lt;<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a>, BFIImplT&gt; : <span class="keyword">public</span> <a class="code" href="classllvm_1_1CallbackVH.html">CallbackVH</a> {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  BFIImplT *BFIImpl;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html#a8250c86c5e4911c3c202a531cd95f5b9"> 1088</a></span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html#a8250c86c5e4911c3c202a531cd95f5b9">BFICallbackVH</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, BFIImplT *BFIImpl)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      : <a class="code" href="classllvm_1_1CallbackVH.html">CallbackVH</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>), BFIImpl(BFIImpl) {}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keyword">virtual</span> ~<a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html#a399fe6c055fa8053a5302a00cd29f8f1"> 1093</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html#a399fe6c055fa8053a5302a00cd29f8f1">deleted</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    BFIImpl-&gt;forgetBlock(cast&lt;BasicBlock&gt;(getValPtr()));</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;};</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">/// Dummy implementation since MachineBasicBlocks aren&#39;t Values, so ValueHandles</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment">/// don&#39;t apply to them.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> BFIImplT&gt;</div>
<div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01MachineBasicBlock_00_01BFIImplT_01_4.html"> 1101</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>&lt;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>, BFIImplT&gt; {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01MachineBasicBlock_00_01BFIImplT_01_4.html#ad522483e1a0a6bc9241518ef07d0a500"> 1104</a></span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01MachineBasicBlock_00_01BFIImplT_01_4.html#ad522483e1a0a6bc9241518ef07d0a500">BFICallbackVH</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *, BFIImplT *) {}</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;};</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;} <span class="comment">// end namespace bfi_detail</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a90713bef7e4b1c185d5410e823d8f734"> 1110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a90713bef7e4b1c185d5410e823d8f734">BlockFrequencyInfoImpl&lt;BT&gt;::calculate</a>(<span class="keyword">const</span> FunctionT &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                           <span class="keyword">const</span> BranchProbabilityInfoT &amp;BPI,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                           <span class="keyword">const</span> LoopInfoT &amp;LI) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// Save the parameters.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  this-&gt;BPI = &amp;BPI;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  this-&gt;LI = &amp;LI;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  this-&gt;F = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// Clean up left-over data structures.</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">BlockFrequencyInfoImplBase::clear</a>();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  RPOT.clear();</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  Nodes.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// Initialize.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nblock-frequency: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName()</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n=================&quot;</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                    &lt;&lt; std::string(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName().size(), <span class="charliteral">&#39;=&#39;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  initializeRPOT();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  initializeLoops();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// Visit loops in post-order to find the local mass distribution, and then do</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// the full function.</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  computeMassInLoops();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  computeMassInFunction();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  unwrapLoops();</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// Apply a post-processing step improving computed frequencies for functions</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// with irreducible loops.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">if</span> (needIterativeInference())</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    applyIterativeInference();</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  finalizeMetrics();</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aeed11dc79f40b5a20c11997197f18543">CheckBFIUnknownBlockQueries</a>) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="comment">// To detect BFI queries for unknown blocks, add entries for unreachable</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="comment">// blocks, if any. This is to distinguish between known/existing unreachable</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">// blocks and unknown blocks.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="keywordflow">if</span> (!Nodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        setBlockFreq(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, 0);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01152"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#ac4f09cc3f867de462ad1ae51b03eae54"> 1152</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ac4f09cc3f867de462ad1ae51b03eae54">BlockFrequencyInfoImpl&lt;BT&gt;::setBlockFreq</a>(<span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq) {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (Nodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">BlockFrequencyInfoImplBase::setBlockFreq</a>(getNode(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>), Freq);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// If BB is a newly added block after BFI is done, we need to create a new</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// BlockNode for it assigned with a new index. The index can be determined</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="comment">// by the size of Freqs.</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    BlockNode NewNode(Freqs.size());</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    Nodes[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = {NewNode, <a class="code" href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">BFICallbackVH</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">this</span>)};</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    Freqs.emplace_back();</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">BlockFrequencyInfoImplBase::setBlockFreq</a>(NewNode, Freq);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;}</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl&lt;BT&gt;::initializeRPOT</a>() {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keyword">const</span> BlockT *Entry = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;front();</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  RPOT.reserve(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;size());</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">std::copy</a>(<a class="code" href="namespacellvm.html#ad0f451c018a39beb3e65f67485ce75da">po_begin</a>(Entry), <a class="code" href="namespacellvm.html#ad9667ce1ef5443ed440d8902113ffb77">po_end</a>(Entry), std::back_inserter(RPOT));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">std::reverse</a>(RPOT.begin(), RPOT.end());</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RPOT.size() - 1 &lt;= BlockNode::getMaxIndex() &amp;&amp;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;         <span class="stringliteral">&quot;More nodes in function than Block Frequency Info supports&quot;</span>);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;reverse-post-order-traversal\n&quot;</span>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">for</span> (rpot_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = rpot_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = rpot_end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    BlockNode <a class="code" href="classNode.html">Node</a> = getNode(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; getIndex(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(<a class="code" href="classNode.html">Node</a>)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    Nodes[*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = {<a class="code" href="classNode.html">Node</a>, BFICallbackVH(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">this</span>)};</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  Working.reserve(RPOT.size());</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a> = 0; <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a> &lt; RPOT.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    Working.emplace_back(<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  Freqs.resize(RPOT.size());</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::initializeLoops() {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;loop-detection\n&quot;</span>);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (LI-&gt;empty())</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">// Visit loops top down and assign them an index.</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  std::deque&lt;std::pair&lt;const LoopT *, LoopData *&gt;&gt; Q;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> LoopT *L : *LI)</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    Q.emplace_back(L, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordflow">while</span> (!Q.empty()) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keyword">const</span> LoopT *Loop = Q.front().first;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    LoopData *Parent = Q.front().second;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    Q.pop_front();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    BlockNode Header = getNode(Loop-&gt;getHeader());</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Header.isValid());</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.emplace_back(Parent, Header);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    Working[Header.Index].Loop = &amp;<a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.back();</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - loop = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(Header) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> LoopT *L : *Loop)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      Q.emplace_back(L, &amp;<a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.back());</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="comment">// Visit nodes in reverse post-order and add them to their deepest containing</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="comment">// loop.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a> = 0; <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a> &lt; RPOT.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="comment">// Loop headers have already been mostly mapped.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">if</span> (Working[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].isLoopHeader()) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      LoopData *ContainingLoop = Working[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].getContainingLoop();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">if</span> (ContainingLoop)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        ContainingLoop-&gt;Nodes.push_back(<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keyword">const</span> LoopT *Loop = LI-&gt;getLoopFor(RPOT[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>]);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> (!Loop)</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// Add this node to its containing loop&#39;s member list.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    BlockNode Header = getNode(Loop-&gt;getHeader());</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Header.isValid());</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;HeaderData = Working[Header.Index];</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(HeaderData.isLoopHeader());</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    Working[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].Loop = HeaderData.Loop;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    HeaderData.Loop-&gt;Nodes.push_back(<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - loop = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(Header)</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;: member = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::computeMassInLoops() {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// Visit loops with the deepest first, and the top-level loops last.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> L = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.rbegin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.rend(); L != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++L) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">if</span> (computeMassInLoop(*L))</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keyword">auto</span> Next = std::next(L);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    computeIrreducibleMass(&amp;*L, L.base());</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    L = std::prev(Next);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">if</span> (computeMassInLoop(*L))</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;}</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="keywordtype">bool</span> BlockFrequencyInfoImpl&lt;BT&gt;::computeMassInLoop(LoopData &amp;Loop) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="comment">// Compute mass in loop.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;compute-mass-in-loop: &quot;</span> &lt;&lt; getLoopName(Loop) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="keywordflow">if</span> (Loop.isIrreducible()) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;isIrreducible = true\n&quot;</span>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    Distribution Dist;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordtype">unsigned</span> NumHeadersWithWeight = 0;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    std::optional&lt;uint64_t&gt; MinHeaderWeight;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    DenseSet&lt;uint32_t&gt; HeadersWithoutWeight;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    HeadersWithoutWeight.reserve(Loop.NumHeaders);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> = 0; <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> &lt; Loop.NumHeaders; ++<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keyword">auto</span> &amp;HeaderNode = Loop.Nodes[<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>];</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keyword">const</span> BlockT *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = getBlock(HeaderNode);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      IsIrrLoopHeader.set(Loop.Nodes[<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>].Index);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      std::optional&lt;uint64_t&gt; HeaderWeight = <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>-&gt;getIrrLoopHeaderWeight();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">if</span> (!HeaderWeight) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Missing irr loop header metadata on &quot;</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                          &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(HeaderNode) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        HeadersWithoutWeight.insert(<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(HeaderNode)</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; has irr loop header weight &quot;</span> &lt;&lt; *HeaderWeight</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      NumHeadersWithWeight++;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> HeaderWeightValue = *HeaderWeight;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">if</span> (!MinHeaderWeight || HeaderWeightValue &lt; MinHeaderWeight)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        MinHeaderWeight = HeaderWeightValue;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">if</span> (HeaderWeightValue) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        Dist.addLocal(HeaderNode, HeaderWeightValue);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">// As a heuristic, if some headers don&#39;t have a weight, give them the</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">// minimum weight seen (not to disrupt the existing trends too much by</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// using a weight that&#39;s in the general range of the other headers&#39; weights,</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// and the minimum seems to perform better than the average.)</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// FIXME: better update in the passes that drop the header weight.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// If no headers have a weight, give them even weight (use weight 1).</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> (!MinHeaderWeight)</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      MinHeaderWeight = 1;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> : HeadersWithoutWeight) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keyword">auto</span> &amp;HeaderNode = Loop.Nodes[<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>];</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!getBlock(HeaderNode)-&gt;getIrrLoopHeaderWeight() &amp;&amp;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;             <span class="stringliteral">&quot;Shouldn&#39;t have a weight metadata&quot;</span>);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MinWeight = *MinHeaderWeight;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Giving weight &quot;</span> &lt;&lt; MinWeight &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                        &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(HeaderNode) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="keywordflow">if</span> (MinWeight)</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        Dist.addLocal(HeaderNode, MinWeight);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    distributeIrrLoopHeaderMass(Dist);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockNode &amp;M : Loop.Nodes)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">if</span> (!propagateMassToSuccessors(&amp;Loop, M))</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">if</span> (NumHeadersWithWeight == 0)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="comment">// No headers have a metadata. Adjust header mass.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      adjustLoopHeaderMass(Loop);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    Working[Loop.getHeader().Index].getMass() = BlockMass::getFull();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (!propagateMassToSuccessors(&amp;Loop, Loop.getHeader()))</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;irreducible control flow to loop header!?&quot;</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockNode &amp;M : Loop.members())</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordflow">if</span> (!propagateMassToSuccessors(&amp;Loop, M))</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  computeLoopScale(Loop);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  packageLoop(Loop);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;}</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="keywordtype">bool</span> BlockFrequencyInfoImpl&lt;BT&gt;::tryToComputeMassInFunction() {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="comment">// Compute mass in function.</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;compute-mass-in-function\n&quot;</span>);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Working.empty() &amp;&amp; <span class="stringliteral">&quot;no blocks in function&quot;</span>);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Working[0].isLoopHeader() &amp;&amp; <span class="stringliteral">&quot;entry block is a loop header&quot;</span>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  Working[0].getMass() = BlockMass::getFull();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordflow">for</span> (rpot_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = rpot_begin(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = rpot_end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="comment">// Check for nodes that have been packaged.</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    BlockNode <a class="code" href="classNode.html">Node</a> = getNode(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (Working[<a class="code" href="classNode.html">Node</a>.Index].isPackaged())</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">if</span> (!propagateMassToSuccessors(<span class="keyword">nullptr</span>, <a class="code" href="classNode.html">Node</a>))</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::computeMassInFunction() {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">if</span> (tryToComputeMassInFunction())</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  computeIrreducibleMass(<span class="keyword">nullptr</span>, <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.begin());</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span> (tryToComputeMassInFunction())</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;}</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="keywordtype">bool</span> BlockFrequencyInfoImpl&lt;BT&gt;::needIterativeInference()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a598a6261818f8c015f4ebd74ad4ae81a">UseIterativeBFIInference</a>)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunction().hasProfileData())</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">// Apply iterative inference only if the function contains irreducible loops;</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// otherwise, computed block frequencies are reasonably correct.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> L = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.rbegin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.rend(); L != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++L) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (L-&gt;isIrreducible())</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;}</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::applyIterativeInference() {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// Extract blocks for processing: a block is considered for inference iff it</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="comment">// can be reached from the entry by edges with a positive probability.</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">// Non-processed blocks are assigned with the zero frequency and are ignored</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="comment">// in the computation</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  std::vector&lt;const BlockT *&gt; ReachableBlocks;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  findReachableBlocks(ReachableBlocks);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keywordflow">if</span> (ReachableBlocks.empty())</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="comment">// The map is used to to index successors/predecessors of reachable blocks in</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">// the ReachableBlocks vector</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  DenseMap&lt;const BlockT *, size_t&gt; BlockIndex;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="comment">// Extract initial frequencies for the reachable blocks</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keyword">auto</span> Freq = std::vector&lt;Scaled64&gt;(ReachableBlocks.size());</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> SumFreq;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; ReachableBlocks.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = ReachableBlocks[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    BlockIndex[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = getFloatingBlockFreq(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    SumFreq += Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!SumFreq.isZero() &amp;&amp; <span class="stringliteral">&quot;empty initial block frequencies&quot;</span>);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Applying iterative inference for &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; with &quot;</span> &lt;&lt; ReachableBlocks.size() &lt;&lt; <span class="stringliteral">&quot; blocks\n&quot;</span>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">// Normalizing frequencies so they sum up to 1.0</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> : Freq) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> /= SumFreq;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="comment">// Setting up edge probabilities using sparse matrix representation:</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">// ProbMatrix[I] holds a vector of pairs (J, P) where Pr[J -&gt; I | J] = P</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  ProbMatrixType ProbMatrix;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  initTransitionProbabilities(ReachableBlocks, BlockIndex, ProbMatrix);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// Run the propagation</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  iterativeInference(ProbMatrix, Freq);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">// Assign computed frequency values</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classNode.html">Node</a> = getNode(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classNode.html">Node</a>.isValid())</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (BlockIndex.count(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      Freqs[<a class="code" href="classNode.html">Node</a>.Index].Scaled = Freq[BlockIndex[&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>]];</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      Freqs[<a class="code" href="classNode.html">Node</a>.Index].Scaled = Scaled64::getZero();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;}</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::iterativeInference(</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keyword">const</span> ProbMatrixType &amp;ProbMatrix, std::vector&lt;Scaled64&gt; &amp;Freq)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(0.0 &lt; <a class="code" href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">IterativeBFIPrecision</a> &amp;&amp; <a class="code" href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">IterativeBFIPrecision</a> &lt; 1.0 &amp;&amp;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;         <span class="stringliteral">&quot;incorrectly specified precision&quot;</span>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="comment">// Convert double precision to Scaled64</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> Precision =</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      Scaled64::getInverse(<span class="keyword">static_cast&lt;</span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a><span class="keyword">&gt;</span>(1.0 / <a class="code" href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">IterativeBFIPrecision</a>));</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> MaxIterations = <a class="code" href="namespacellvm.html#a94af5377a23091e9f0cf395b6e129dfb">IterativeBFIMaxIterationsPerBlock</a> * Freq.size();</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Initial discrepancy = &quot;</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                    &lt;&lt; discrepancy(ProbMatrix, Freq).<a class="code" href="namespacellvm.html#a63540526d092e2f4bbc70590b6034f4e">toString</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="comment">// Successors[I] holds unique sucessors of the I-th block</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keyword">auto</span> Successors = std::vector&lt;std::vector&lt;size_t&gt;&gt;(Freq.size());</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Freq.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Jump : ProbMatrix[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      Successors[Jump.first].push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// To speedup computation, we maintain a set of &quot;active&quot; blocks whose</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// frequencies need to be updated based on the incoming edges.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="comment">// The set is dynamic and changes after every update. Initially all blocks</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="comment">// with a positive frequency are active</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keyword">auto</span> IsActive = BitVector(Freq.size(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  std::queue&lt;size_t&gt; ActiveSet;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Freq.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">if</span> (Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] &gt; 0) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      ActiveSet.push(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      IsActive[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// Iterate over the blocks propagating frequencies</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordtype">size_t</span> It = 0;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">while</span> (It++ &lt; MaxIterations &amp;&amp; !ActiveSet.empty()) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ActiveSet.front();</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    ActiveSet.pop();</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    IsActive[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// Compute a new frequency for the block: NewFreq := Freq \times ProbMatrix.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// A special care is taken for self-edges that needs to be scaled by</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">// (1.0 - SelfProb), where SelfProb is the sum of probabilities on the edges</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> NewFreq;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> OneMinusSelfProb = Scaled64::getOne();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Jump : ProbMatrix[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">if</span> (Jump.first == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        OneMinusSelfProb -= Jump.second;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        NewFreq += Freq[Jump.first] * Jump.second;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">if</span> (OneMinusSelfProb != Scaled64::getOne())</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      NewFreq /= OneMinusSelfProb;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="comment">// If the block&#39;s frequency has changed enough, then</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="comment">// make sure the block and its successors are in the active set</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keyword">auto</span> Change = Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] &gt;= NewFreq ? Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] - NewFreq : NewFreq - Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">if</span> (Change &gt; Precision) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      ActiveSet.push(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      IsActive[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Succ : Successors[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">if</span> (!IsActive[Succ]) {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;          ActiveSet.push(Succ);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;          IsActive[Succ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="comment">// Update the frequency for the block</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = NewFreq;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Completed &quot;</span> &lt;&lt; It &lt;&lt; <span class="stringliteral">&quot; inference iterations&quot;</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                    &lt;&lt; <a class="code" href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">format</a>(<span class="stringliteral">&quot; (%0.0f per block)&quot;</span>, <span class="keywordtype">double</span>(It) / Freq.size())</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Final   discrepancy = &quot;</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                    &lt;&lt; discrepancy(ProbMatrix, Freq).<a class="code" href="namespacellvm.html#a63540526d092e2f4bbc70590b6034f4e">toString</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::findReachableBlocks(</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    std::vector&lt;const BlockT *&gt; &amp;Blocks)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// Find all blocks to apply inference on, that is, reachable from the entry</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">// along edges with non-zero probablities</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  std::queue&lt;const BlockT *&gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  SmallPtrSet&lt;const BlockT *, 8&gt; Reachable;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keyword">const</span> BlockT *Entry = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;front();</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.push(Entry);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  Reachable.insert(Entry);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.empty()) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keyword">const</span> BlockT *SrcBB = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.front();</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.pop();</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT *DstBB : children&lt;const BlockT *&gt;(SrcBB)) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="keyword">auto</span> EP = BPI-&gt;getEdgeProbability(SrcBB, DstBB);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">if</span> (EP.isZero())</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="keywordflow">if</span> (Reachable.insert(DstBB).second)</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.push(DstBB);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="comment">// Find all blocks to apply inference on, that is, backward reachable from</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">// the entry along (backward) edges with non-zero probablities</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  SmallPtrSet&lt;const BlockT *, 8&gt; InverseReachable;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// An exit block is a block without any successors</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordtype">bool</span> HasSucc = GraphTraits&lt;const BlockT *&gt;::child_begin(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) !=</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                   GraphTraits&lt;const BlockT *&gt;::child_end(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (!HasSucc &amp;&amp; Reachable.count(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.push(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      InverseReachable.insert(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.empty()) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keyword">const</span> BlockT *SrcBB = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.front();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.pop();</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT *DstBB : <a class="code" href="namespacellvm.html#a77e0432868a8d88e98b2fdb383790e4a">children</a>&lt;Inverse&lt;const BlockT *&gt;&gt;(SrcBB)) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keyword">auto</span> EP = BPI-&gt;getEdgeProbability(DstBB, SrcBB);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="keywordflow">if</span> (EP.isZero())</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">if</span> (InverseReachable.insert(DstBB).second)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">Queue</a>.push(DstBB);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// Collect the result</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  Blocks.reserve(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;size());</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">if</span> (Reachable.count(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &amp;&amp; InverseReachable.count(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      Blocks.push_back(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;}</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::initTransitionProbabilities(</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keyword">const</span> std::vector&lt;const BlockT *&gt; &amp;Blocks,</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keyword">const</span> DenseMap&lt;const BlockT *, size_t&gt; &amp;BlockIndex,</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    ProbMatrixType &amp;ProbMatrix)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> NumBlocks = Blocks.size();</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keyword">auto</span> Succs = std::vector&lt;std::vector&lt;std::pair&lt;size_t, Scaled64&gt;&gt;&gt;(NumBlocks);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keyword">auto</span> SumProb = std::vector&lt;Scaled64&gt;(NumBlocks);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">// Find unique successors and corresponding probabilities for every block</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Src = 0; Src &lt; NumBlocks; Src++) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Blocks[Src];</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    SmallPtrSet&lt;const BlockT *, 2&gt; UniqueSuccs;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : children&lt;const BlockT *&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="comment">// Ignore cold blocks</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <span class="keywordflow">if</span> (BlockIndex.find(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>) == BlockIndex.end())</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="comment">// Ignore parallel edges between BB and SI blocks</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <span class="keywordflow">if</span> (!UniqueSuccs.insert(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>).second)</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="comment">// Ignore jumps with zero probability</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="keyword">auto</span> EP = BPI-&gt;getEdgeProbability(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="keywordflow">if</span> (EP.isZero())</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keyword">auto</span> EdgeProb =</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;          Scaled64::getFraction(EP.getNumerator(), EP.getDenominator());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="keywordtype">size_t</span> Dst = BlockIndex.find(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>)-&gt;second;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      Succs[Src].push_back(std::make_pair(Dst, EdgeProb));</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      SumProb[Src] += EdgeProb;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">// Add transitions for every jump with positive branch probability</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  ProbMatrix = ProbMatrixType(NumBlocks);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Src = 0; Src &lt; NumBlocks; Src++) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="comment">// Ignore blocks w/o successors</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="keywordflow">if</span> (Succs[Src].empty())</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!SumProb[Src].<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>() &amp;&amp; <span class="stringliteral">&quot;Zero sum probability of non-exit block&quot;</span>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Jump : Succs[Src]) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="keywordtype">size_t</span> Dst = Jump.first;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> Prob = Jump.second;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      ProbMatrix[Dst].push_back(std::make_pair(Src, Prob / SumProb[Src]));</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="comment">// Add transitions from sinks to the source</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="keywordtype">size_t</span> EntryIdx = BlockIndex.find(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;front())-&gt;second;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Src = 0; Src &lt; NumBlocks; Src++) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">if</span> (Succs[Src].empty()) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      ProbMatrix[EntryIdx].push_back(std::make_pair(Src, Scaled64::getOne()));</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a5514a17c0ec3ccae841930a4f8f74f99">BlockFrequencyInfoImplBase::Scaled64</a> BlockFrequencyInfoImpl&lt;BT&gt;::discrepancy(</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keyword">const</span> ProbMatrixType &amp;ProbMatrix, <span class="keyword">const</span> std::vector&lt;Scaled64&gt; &amp;Freq)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Freq[0] &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Incorrectly computed frequency of the entry block&quot;</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> Discrepancy;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; ProbMatrix.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a> Sum;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Jump : ProbMatrix[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]) {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      Sum += Freq[Jump.first] * Jump.second;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    Discrepancy += Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] &gt;= Sum ? Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] - Sum : Sum - Freq[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  }</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="comment">// Normalizing by the frequency of the entry block</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordflow">return</span> Discrepancy / Freq[0];</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;}</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">/// \note This should be a lambda, but that crashes GCC 4.7.</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment"></span><span class="keyword">namespace </span>bfi_detail {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt; <span class="keyword">struct </span>BlockEdgesAdder {</div>
<div class="line"><a name="l01646"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a1d9b8d879581f9d0eedd777e1f42d59d"> 1646</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1BitTracker.html">BlockT</a> = <a class="code" href="BitTracker_8cpp.html#ae3e523a6a11b1e24604b40363978a62a">BT</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a1a515afb9a4c85276bb7963a84e7a98d"> 1647</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BlockFrequencyInfoImplBase::LoopData</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a60f2a860837ea2d575cd60cd5f695da0"> 1648</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits.html">Successor</a> = <a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits&lt;const BlockT *&gt;</a>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a"> 1650</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl&lt;BT&gt;</a> &amp;<a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">BFI</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a2d0455d82a8bfe124836184293da9d02"> 1652</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a2d0455d82a8bfe124836184293da9d02">BlockEdgesAdder</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl&lt;BT&gt;</a> &amp;<a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">BFI</a>)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      : <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">BFI</a>(<a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">BFI</a>) {}</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a4756d9b84fd6e36c91404fc760b1e117"> 1655</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a4756d9b84fd6e36c91404fc760b1e117">operator()</a>(<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">IrreducibleGraph::IrrNode</a> &amp;Irr,</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                  <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1BitTracker.html">BlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">BFI</a>.RPOT[Irr.<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad8c901b3cabbffe2815f23e07664c821">Node</a>.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">Index</a>];</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Succ : children&lt;const BlockT *&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.addEdge(Irr, <a class="code" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">BFI</a>.getNode(Succ), OuterLoop);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;};</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;} <span class="comment">// end namespace bfi_detail</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="keywordtype">void</span> BlockFrequencyInfoImpl&lt;BT&gt;::computeIrreducibleMass(</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    LoopData *OuterLoop, std::list&lt;LoopData&gt;::iterator Insert) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;analyze-irreducible-in-&quot;</span>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;             <span class="keywordflow">if</span> (OuterLoop) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;loop: &quot;</span> &lt;&lt; getLoopName(*OuterLoop) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;             <span class="keywordflow">else</span> <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;function\n&quot;</span>);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keyword">using namespace </span>bfi_detail;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// Ideally, addBlockEdges() would be declared here as a lambda, but that</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// crashes GCC 4.7.</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  BlockEdgesAdder&lt;BT&gt; addBlockEdges(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  IrreducibleGraph <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>(*<span class="keyword">this</span>, OuterLoop, addBlockEdges);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;L : analyzeIrreducible(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, OuterLoop, Insert))</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    computeMassInLoop(L);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">if</span> (!OuterLoop)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  updateLoopWithIrreducible(*OuterLoop);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">// A helper function that converts a branch probability into weight.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1618f47bea0cb600291c8fb627eede51"> 1689</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#a1618f47bea0cb600291c8fb627eede51">getWeightFromBranchProb</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> Prob) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">return</span> Prob.<a class="code" href="classllvm_1_1BranchProbability.html#a7be5759bf75c903d1695fa97eca6f139">getNumerator</a>();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;}</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;BlockFrequencyInfoImpl&lt;BT&gt;::propagateMassToSuccessors(LoopData *OuterLoop,</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                                                      <span class="keyword">const</span> BlockNode &amp;<a class="code" href="classNode.html">Node</a>) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - node: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">getBlockName</a>(<a class="code" href="classNode.html">Node</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="comment">// Calculate probability for successors.</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  Distribution Dist;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Loop = Working[<a class="code" href="classNode.html">Node</a>.Index].getPackagedLoop()) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Loop != OuterLoop &amp;&amp; <span class="stringliteral">&quot;Cannot propagate mass in a packaged loop&quot;</span>);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">if</span> (!addLoopSuccessorsToDist(OuterLoop, *Loop, Dist))</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = getBlock(<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = GraphTraits&lt;const BlockT *&gt;::child_begin(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>),</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;              SE = GraphTraits&lt;const BlockT *&gt;::child_end(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;         <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> != SE; ++<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>)</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <span class="keywordflow">if</span> (!addToDist(</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;              Dist, OuterLoop, <a class="code" href="classNode.html">Node</a>, getNode(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>),</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;              <a class="code" href="namespacellvm.html#a1618f47bea0cb600291c8fb627eede51">getWeightFromBranchProb</a>(BPI-&gt;getEdgeProbability(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>))))</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="comment">// Distribute mass to successors, saving exit and backedge data in the</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// loop header.</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  distributeMass(<a class="code" href="classNode.html">Node</a>, OuterLoop, Dist);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;}</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad05ed8871c23e9c87114b754bc6098ab"> 1724</a></span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad05ed8871c23e9c87114b754bc6098ab">BlockFrequencyInfoImpl&lt;BT&gt;::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;block-frequency-info: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockT &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">bfi_detail::getBlockName</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &lt;&lt; <span class="stringliteral">&quot;: float = &quot;</span>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    getFloatingBlockFreq(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>).print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, 5)</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;, int = &quot;</span> &lt;&lt; getBlockFreq(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>).getFrequency();</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; <a class="code" href="classllvm_1_1Function_1_1ProfileCount.html">ProfileCount</a> =</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">BlockFrequencyInfoImplBase::getBlockProfileCount</a>(</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunction(), getNode(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)))</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;, count = &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">ProfileCount</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; IrrLoopHeaderWeight =</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getIrrLoopHeaderWeight())</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;, irr_loop_header_weight = &quot;</span> &lt;&lt; *IrrLoopHeaderWeight;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="comment">// Add an extra newline for readability.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;}</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BT&gt;</div>
<div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImpl.html#a61a62f8b812123edf5c45e719f43d95b"> 1748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html#a61a62f8b812123edf5c45e719f43d95b">BlockFrequencyInfoImpl&lt;BT&gt;::verifyMatch</a>(</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <a class="code" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl&lt;BT&gt;</a> &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const BlockT *, BlockNode&gt;</a> ValidNodes;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const BlockT *, BlockNode&gt;</a> OtherValidNodes;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : Nodes) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Entry.first;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      ValidNodes[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = Entry.second.first;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Nodes) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Entry.first;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      OtherValidNodes[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = Entry.second.first;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordtype">unsigned</span> NumValidNodes = ValidNodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="keywordtype">unsigned</span> NumOtherValidNodes = OtherValidNodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>();</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="keywordflow">if</span> (NumValidNodes != NumOtherValidNodes) {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Number of blocks mismatch: &quot;</span> &lt;&lt; NumValidNodes &lt;&lt; <span class="stringliteral">&quot; vs &quot;</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;           &lt;&lt; NumOtherValidNodes &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Entry : ValidNodes) {</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <span class="keyword">const</span> BlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Entry.first;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      BlockNode <a class="code" href="classNode.html">Node</a> = Entry.second;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="keywordflow">if</span> (OtherValidNodes.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        BlockNode OtherNode = OtherValidNodes[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Freq = Freqs[<a class="code" href="classNode.html">Node</a>.Index];</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;OtherFreq = <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Freqs[OtherNode.Index];</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">if</span> (Freq.Integer != OtherFreq.Integer) {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Freq mismatch: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">bfi_detail::getBlockName</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                 &lt;&lt; Freq.Integer &lt;&lt; <span class="stringliteral">&quot; vs &quot;</span> &lt;&lt; OtherFreq.Integer &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Block &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">bfi_detail::getBlockName</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &lt;&lt; <span class="stringliteral">&quot; index &quot;</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;               &lt;&lt; <a class="code" href="classNode.html">Node</a>.Index &lt;&lt; <span class="stringliteral">&quot; does not exist in Other.\n&quot;</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="comment">// If there&#39;s a valid node in OtherValidNodes that&#39;s not in ValidNodes,</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="comment">// either the above num check or the check on OtherValidNodes will fail.</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a>) {</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;This\n&quot;</span>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Other\n&quot;</span>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.print(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">Match</a> &amp;&amp; <span class="stringliteral">&quot;BFI mismatch&quot;</span>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment">// Graph trait base class for block frequency information graph</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="comment">// viewer.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"><a class="line" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556"> 1805</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ff">GVDAGType</a> { <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556">GVDT_None</a>, <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa1488d335827653a77b988023163747f8">GVDT_Fraction</a>, <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffae3b2a620ff91a9b7da54d7b3322be77a">GVDT_Integer</a>, <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa719898e1e3b5b25d1c681f6f87ca990c">GVDT_Count</a> };</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> BlockFrequencyInfoT, <span class="keyword">class</span> BranchProbabilityInfoT&gt;</div>
<div class="line"><a name="l01808"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html"> 1808</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html">BFIDOTGraphTraitsBase</a> : <span class="keyword">public</span> <a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html">DefaultDOTGraphTraits</a> {</div>
<div class="line"><a name="l01809"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a16ecb096d4780fcb023fe8c6f6a93c65"> 1809</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits.html">GTraits</a> = <a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits&lt;BlockFrequencyInfoT *&gt;</a>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74"> 1810</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74">NodeRef</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1GraphTraits.html#a741f7d63af17a7bd0bcf63f68e8658bd">GTraits::NodeRef</a>;</div>
<div class="line"><a name="l01811"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a6899d11b3abe21eebd9130ff4b30b6a4"> 1811</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a6899d11b3abe21eebd9130ff4b30b6a4">EdgeIter</a> = <span class="keyword">typename</span> GTraits::ChildIteratorType;</div>
<div class="line"><a name="l01812"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56606eadbb9399e3eb847073ffa6a14f"> 1812</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56606eadbb9399e3eb847073ffa6a14f">NodeIter</a> = <span class="keyword">typename</span> GTraits::nodes_iterator;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160; </div>
<div class="line"><a name="l01814"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882"> 1814</a></span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">MaxFrequency</a> = 0;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#ad811551ff44b06014adccdc166540bd6"> 1816</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#ad811551ff44b06014adccdc166540bd6">BFIDOTGraphTraitsBase</a>(<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html#ae8629cdc360910256304238ca5db1a45">isSimple</a> = <span class="keyword">false</span>)</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      : <a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html">DefaultDOTGraphTraits</a>(<a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html#ae8629cdc360910256304238ca5db1a45">isSimple</a>) {}</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#aed41720d98aa4fd0970afd37bab9406e"> 1819</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#aed41720d98aa4fd0970afd37bab9406e">getGraphName</a>(<span class="keyword">const</span> BlockFrequencyInfoT *<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) {</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;getFunction()-&gt;getName();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a1c78d4d6544b97f0fb4219ec8a99c54b"> 1823</a></span>&#160;  std::string <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a1c78d4d6544b97f0fb4219ec8a99c54b">getNodeAttributes</a>(<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74">NodeRef</a> <a class="code" href="classNode.html">Node</a>, <span class="keyword">const</span> BlockFrequencyInfoT *Graph,</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                                <span class="keywordtype">unsigned</span> HotPercentThreshold = 0) {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    std::string Result;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (!HotPercentThreshold)</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="comment">// Compute MaxFrequency on the fly:</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">MaxFrequency</a>) {</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56606eadbb9399e3eb847073ffa6a14f">NodeIter</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = GTraits::nodes_begin(Graph),</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                    <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = GTraits::nodes_end(Graph);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74">NodeRef</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">MaxFrequency</a> =</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">MaxFrequency</a>, Graph-&gt;getBlockFreq(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>).getFrequency());</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      }</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> Freq = Graph-&gt;getBlockFreq(<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> HotFreq =</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        (<a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a>(<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">MaxFrequency</a>) *</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;         <a class="code" href="classllvm_1_1BranchProbability.html#a0333345669e75a54c7de3d5fe0f6e746">BranchProbability::getBranchProbability</a>(HotPercentThreshold, 100));</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (Freq &lt; HotFreq)</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(Result);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;color=\&quot;red\&quot;&quot;</span>;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.flush();</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a9684914352e5ac4e24c9d5d1f6002862"> 1853</a></span>&#160;  std::string <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a9684914352e5ac4e24c9d5d1f6002862">getNodeLabel</a>(<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74">NodeRef</a> <a class="code" href="classNode.html">Node</a>, <span class="keyword">const</span> BlockFrequencyInfoT *Graph,</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                           <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ff">GVDAGType</a> GType, <span class="keywordtype">int</span> layout_order = -1) {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    std::string Result;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(Result);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">if</span> (layout_order != -1)</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="classNode.html">Node</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; layout_order &lt;&lt; <span class="stringliteral">&quot;] : &quot;</span>;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="classNode.html">Node</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">switch</span> (GType) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa1488d335827653a77b988023163747f8">GVDT_Fraction</a>:</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      Graph-&gt;printBlockFreq(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffae3b2a620ff91a9b7da54d7b3322be77a">GVDT_Integer</a>:</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; Graph-&gt;getBlockFreq(<a class="code" href="classNode.html">Node</a>).getFrequency();</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa719898e1e3b5b25d1c681f6f87ca990c">GVDT_Count</a>: {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keyword">auto</span> Count = Graph-&gt;getBlockProfileCount(<a class="code" href="classNode.html">Node</a>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="keywordflow">if</span> (Count)</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; *Count;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    }</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556">GVDT_None</a>:</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;If we are not supposed to render a graph we should &quot;</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                       <span class="stringliteral">&quot;never reach this point.&quot;</span>);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    }</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"><a class="line" href="structllvm_1_1BFIDOTGraphTraitsBase.html#ac3fd4c945029b6ece24a347676056f86"> 1884</a></span>&#160;  std::string <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#ac3fd4c945029b6ece24a347676056f86">getEdgeAttributes</a>(<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74">NodeRef</a> <a class="code" href="classNode.html">Node</a>, <a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a6899d11b3abe21eebd9130ff4b30b6a4">EdgeIter</a> EI,</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                                <span class="keyword">const</span> BlockFrequencyInfoT *<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                <span class="keyword">const</span> BranchProbabilityInfoT *BPI,</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                                <span class="keywordtype">unsigned</span> HotPercentThreshold = 0) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    std::string Str;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">if</span> (!BPI)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">return</span> Str;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160; </div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> BP = BPI-&gt;getEdgeProbability(<a class="code" href="classNode.html">Node</a>, EI);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = BP.<a class="code" href="classllvm_1_1BranchProbability.html#a7be5759bf75c903d1695fa97eca6f139">getNumerator</a>();</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = BP.<a class="code" href="classllvm_1_1BranchProbability.html#a19c752227e02f7cb26fb47fdb36dc349">getDenominator</a>();</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faadaaee4b22041c27198d410c68d952c9">Percent</a> = 100.0 * <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> / <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(Str);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">format</a>(<span class="stringliteral">&quot;label=\&quot;%.1f%%\&quot;&quot;</span>, <a class="code" href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faadaaee4b22041c27198d410c68d952c9">Percent</a>);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">if</span> (HotPercentThreshold) {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> EFreq = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>-&gt;getBlockFreq(<a class="code" href="classNode.html">Node</a>) * BP;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> HotFreq = <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a>(<a class="code" href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">MaxFrequency</a>) *</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                               <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a>(HotPercentThreshold, 100);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160; </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">if</span> (EFreq &gt;= HotFreq) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;,color=\&quot;red\&quot;&quot;</span>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    }</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.flush();</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">return</span> Str;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;};</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160; </div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="preprocessor">#undef DEBUG_TYPE</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160; </div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="preprocessor">#endif // LLVM_ANALYSIS_BLOCKFREQUENCYINFOIMPL_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_ab134b83ec8b71cfe2e2003c8a130bd24"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#ab134b83ec8b71cfe2e2003c8a130bd24">llvm::BlockFrequencyInfoImplBase::Weight::Amount</a></div><div class="ttdeci">uint64_t Amount</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00369">BlockFrequencyInfoImpl.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a58791fa7d9b74c05628abed162ce2725"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a58791fa7d9b74c05628abed162ce2725">llvm::BlockFrequencyInfoImplBase::getLoopName</a></div><div class="ttdeci">std::string getLoopName(const LoopData &amp;Loop) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00641">BlockFrequencyInfoImpl.cpp:641</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a18bc40cf7a189a0512335b40127d715b"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a18bc40cf7a189a0512335b40127d715b">llvm::BlockFrequencyInfoImplBase::BlockNode::operator!=</a></div><div class="ttdeci">bool operator!=(const BlockNode &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00200">BlockFrequencyInfoImpl.h:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html">llvm::bfi_detail::BlockMass</a></div><div class="ttdoc">Mass of a block.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00091">BlockFrequencyInfoImpl.h:91</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a90713bef7e4b1c185d5410e823d8f734"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a90713bef7e4b1c185d5410e823d8f734">llvm::BlockFrequencyInfoImpl::calculate</a></div><div class="ttdeci">void calculate(const FunctionT &amp;F, const BranchProbabilityInfoT &amp;BPI, const LoopInfoT &amp;LI)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01110">BlockFrequencyInfoImpl.h:1110</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BFICallbackVH_html"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BFICallbackVH.html">llvm::bfi_detail::BFICallbackVH</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00566">BlockFrequencyInfoImpl.h:566</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aaa2c0a25aeaf519f9df55f422331f0db"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aaa2c0a25aeaf519f9df55f422331f0db">llvm::BlockFrequencyInfoImplBase::distributeIrrLoopHeaderMass</a></div><div class="ttdeci">void distributeIrrLoopHeaderMass(Distribution &amp;Dist)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00872">BlockFrequencyInfoImpl.cpp:872</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a22d50a8b1983e65e8d2a8702a53744ec"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a22d50a8b1983e65e8d2a8702a53744ec">llvm::BlockFrequencyInfoImplBase::LoopData::LoopData</a></div><div class="ttdeci">LoopData(LoopData *Parent, It1 FirstHeader, It1 LastHeader, It2 FirstOther, It2 LastOther)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00241">BlockFrequencyInfoImpl.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a6aca67ed248d1eb55621f38869372c65"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">llvm::BlockFrequencyInfoImplBase::computeLoopScale</a></div><div class="ttdeci">void computeLoopScale(LoopData &amp;Loop)</div><div class="ttdoc">Compute the loop scale for a loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00386">BlockFrequencyInfoImpl.cpp:386</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_a51b6206c76206ae4514090b12a2d8d31"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#a51b6206c76206ae4514090b12a2d8d31">llvm::bfi_detail::operator+</a></div><div class="ttdeci">BlockMass operator+(BlockMass L, BlockMass R)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00152">BlockFrequencyInfoImpl.h:152</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a71009a39b531a375cc98f0ccd6929930"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a71009a39b531a375cc98f0ccd6929930">llvm::BlockFrequencyInfoImplBase::LoopData::members_begin</a></div><div class="ttdeci">NodeList::const_iterator members_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00267">BlockFrequencyInfoImpl.h:267</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_aa793083a95c48c23abfa352d4335685a"><div class="ttname"><a href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a></div><div class="ttdeci">Vector Rotate Left Mask Mask Insert</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00112">README_P9.txt:112</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_ac12aaee5ed3068e385388a736b3238bb"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ac12aaee5ed3068e385388a736b3238bb">llvm::BlockFrequencyInfoImplBase::WorkingData::Loop</a></div><div class="ttdeci">LoopData * Loop</div><div class="ttdoc">The loop this block is inside.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00280">BlockFrequencyInfoImpl.h:280</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_add4c9ca63093a8270248e72b08c5302e"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#add4c9ca63093a8270248e72b08c5302e">llvm::bfi_detail::IrreducibleGraph::addNodesInLoop</a></div><div class="ttdeci">void addNodesInLoop(const BFIBase::LoopData &amp;OuterLoop)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00660">BlockFrequencyInfoImpl.cpp:660</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">llvm::bfi_detail::IrreducibleGraph</a></div><div class="ttdoc">Graph of irreducible control flow.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00602">BlockFrequencyInfoImpl.h:602</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_a7e89c609e3f1a14353a2899a4d49a907"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a7e89c609e3f1a14353a2899a4d49a907">llvm::BlockFrequencyInfoImplBase::WorkingData::WorkingData</a></div><div class="ttdeci">WorkingData(const BlockNode &amp;Node)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00283">BlockFrequencyInfoImpl.h:283</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0b2ca98dc28c61793ff5c90d23e5f14e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0b2ca98dc28c61793ff5c90d23e5f14e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::lookup</a></div><div class="ttdeci">ValueT lookup(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">lookup - Return the entry for the specified key, or a default constructed value if no such entry exis...</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00197">DenseMap.h:197</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa81eb67f09ee4944eaeeddbc54c0c0de"><div class="ttname"><a href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a></div><div class="ttdeci">auto lower_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::lower_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01923">STLExtras.h:1923</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html_a7be5759bf75c903d1695fa97eca6f139"><div class="ttname"><a href="classllvm_1_1BranchProbability.html#a7be5759bf75c903d1695fa97eca6f139">llvm::BranchProbability::getNumerator</a></div><div class="ttdeci">uint32_t getNumerator() const</div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00065">BranchProbability.h:65</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_ad3a2d7c4fc82e84aa6823b9ec79bc7f5"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#ad3a2d7c4fc82e84aa6823b9ec79bc7f5">llvm::bfi_detail::BlockMass::operator!=</a></div><div class="ttdeci">bool operator!=(BlockMass X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00136">BlockFrequencyInfoImpl.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a0b3608d47dacd2c63e831fee11073c2c"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0b3608d47dacd2c63e831fee11073c2c">llvm::BlockFrequencyInfoImplBase::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00520">BlockFrequencyInfoImpl.h:520</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad9667ce1ef5443ed440d8902113ffb77"><div class="ttname"><a href="namespacellvm.html#ad9667ce1ef5443ed440d8902113ffb77">llvm::po_end</a></div><div class="ttdeci">po_iterator&lt; T &gt; po_end(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="PostOrderIterator_8h_source.html#l00189">PostOrderIterator.h:189</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aHexagonHardwareLoops_8cpp_html_ada7c1594a393ede3ce32602d64d7ddb2"><div class="ttname"><a href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a></div><div class="ttdeci">Hexagon Hardware Loops</div><div class="ttdef"><b>Definition:</b> <a href="HexagonHardwareLoops_8cpp_source.html#l00374">HexagonHardwareLoops.cpp:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a33f6df4d294d336376dc0f6f2b2078f5"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a33f6df4d294d336376dc0f6f2b2078f5">llvm::bfi_detail::BlockMass::operator==</a></div><div class="ttdeci">bool operator==(BlockMass X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00135">BlockFrequencyInfoImpl.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; std::pair&lt; BlockNode, BlockMass &gt;, 4 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a756b682b6d9fd9641480076412b99885"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a756b682b6d9fd9641480076412b99885">llvm::BlockFrequencyInfoImpl::getFloatingBlockFreq</a></div><div class="ttdeci">Scaled64 getFloatingBlockFreq(const BlockT *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01050">BlockFrequencyInfoImpl.h:1050</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a190e68049654c31350c9c3a5df2eee1d"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a190e68049654c31350c9c3a5df2eee1d">llvm::BlockFrequencyInfoImplBase::LoopData::Parent</a></div><div class="ttdeci">LoopData * Parent</div><div class="ttdoc">The parent loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00228">BlockFrequencyInfoImpl.h:228</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a8b33c9f137ee70772de1927056d41fef"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a8b33c9f137ee70772de1927056d41fef">llvm::bfi_detail::BlockMass::operator&lt;=</a></div><div class="ttdeci">bool operator&lt;=(BlockMass X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00137">BlockFrequencyInfoImpl.h:137</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1BlockEdgesAdder_html_a3b6acf5846bdccdb1995cd6603afa47a"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a3b6acf5846bdccdb1995cd6603afa47a">llvm::bfi_detail::BlockEdgesAdder::BFI</a></div><div class="ttdeci">const BlockFrequencyInfoImpl&lt; BT &gt; &amp; BFI</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01650">BlockFrequencyInfoImpl.h:1650</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_ad41feeb3401a872b89169602cbb541a7"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#ad41feeb3401a872b89169602cbb541a7">llvm::BlockFrequencyInfoImpl::forgetBlock</a></div><div class="ttdeci">void forgetBlock(const BlockT *BB)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01043">BlockFrequencyInfoImpl.h:1043</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a1147f0ef1ac705077e24462022b4ae1e"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1147f0ef1ac705077e24462022b4ae1e">llvm::bfi_detail::IrreducibleGraph::IrreducibleGraph</a></div><div class="ttdeci">IrreducibleGraph(BFIBase &amp;BFI, const BFIBase::LoopData *OuterLoop, BlockEdgesAdder addBlockEdges)</div><div class="ttdoc">Construct an explicit graph containing irreducible control flow.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00637">BlockFrequencyInfoImpl.h:637</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">llvm::BlockFrequencyInfoImplBase::FrequencyData</a></div><div class="ttdoc">Stats about a block itself.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00214">BlockFrequencyInfoImpl.h:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a39cbaa6b41acd43e7cddcc9fa110557f"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a39cbaa6b41acd43e7cddcc9fa110557f">llvm::BlockFrequencyInfoImplBase::LoopData::NumHeaders</a></div><div class="ttdeci">uint32_t NumHeaders</div><div class="ttdoc">Number of headers.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00230">BlockFrequencyInfoImpl.h:230</a></div></div>
<div class="ttc" id="anamespacellvm_html_a403260df3a211e47e65f35fbfd9bee8faadaaee4b22041c27198d410c68d952c9"><div class="ttname"><a href="namespacellvm.html#a403260df3a211e47e65f35fbfd9bee8faadaaee4b22041c27198d410c68d952c9">llvm::FloatStyle::Percent</a></div><div class="ttdeci">@ Percent</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a058de37a3c739f4c59a0f238f0741766"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a058de37a3c739f4c59a0f238f0741766">llvm::BlockFrequencyInfoImpl::isIrrLoopHeader</a></div><div class="ttdeci">bool isIrrLoopHeader(const BlockT *BB)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01037">BlockFrequencyInfoImpl.h:1037</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00431">BlockFrequencyInfoImpl.h:431</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a50d461a887e200e704e5157d3b21514d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a50d461a887e200e704e5157d3b21514d">llvm::DenseMapBase::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00075">DenseMap.h:75</a></div></div>
<div class="ttc" id="aBlockFrequency_8h_html"><div class="ttname"><a href="BlockFrequency_8h.html">BlockFrequency.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_ad811551ff44b06014adccdc166540bd6"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#ad811551ff44b06014adccdc166540bd6">llvm::BFIDOTGraphTraitsBase::BFIDOTGraphTraitsBase</a></div><div class="ttdeci">BFIDOTGraphTraitsBase(bool isSimple=false)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01816">BlockFrequencyInfoImpl.h:1816</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_a115f85e797cc2ed82f55a1bb1ab8ecee"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a115f85e797cc2ed82f55a1bb1ab8ecee">llvm::bfi_detail::IrreducibleGraph::IrrNode::pred_begin</a></div><div class="ttdeci">iterator pred_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00617">BlockFrequencyInfoImpl.h:617</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_ad98ee11535062e1034345efac121ec05"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#ad98ee11535062e1034345efac121ec05">llvm::bfi_detail::IrreducibleGraph::addNode</a></div><div class="ttdeci">void addNode(const BlockNode &amp;Node)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00648">BlockFrequencyInfoImpl.h:648</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a6ed2496529a208a7c56b27ad11b01030"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a6ed2496529a208a7c56b27ad11b01030">llvm::BlockFrequencyInfoImplBase::LoopData::members_end</a></div><div class="ttdeci">NodeList::const_iterator members_end() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00271">BlockFrequencyInfoImpl.h:271</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_ab13b5bb830c2e42a5dd71a0c2dfa74e9"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab13b5bb830c2e42a5dd71a0c2dfa74e9">llvm::BlockFrequencyInfoImplBase::WorkingData::getContainingLoop</a></div><div class="ttdeci">LoopData * getContainingLoop() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00292">BlockFrequencyInfoImpl.h:292</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_a0a379080d91da3d02263cd75cc3d3c74"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a0a379080d91da3d02263cd75cc3d3c74">llvm::BlockFrequencyInfoImplBase::WorkingData::isPackaged</a></div><div class="ttdeci">bool isPackaged() const</div><div class="ttdoc">Has ContainingLoop been packaged up?</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00341">BlockFrequencyInfoImpl.h:341</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_ad1db82bbd908839aac659f7ef02ea0d7"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ad1db82bbd908839aac659f7ef02ea0d7">llvm::BlockFrequencyInfoImplBase::WorkingData::Node</a></div><div class="ttdeci">BlockNode Node</div><div class="ttdoc">This node.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00279">BlockFrequencyInfoImpl.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html_a0333345669e75a54c7de3d5fe0f6e746"><div class="ttname"><a href="classllvm_1_1BranchProbability.html#a0333345669e75a54c7de3d5fe0f6e746">llvm::BranchProbability::getBranchProbability</a></div><div class="ttdeci">static BranchProbability getBranchProbability(uint64_t Numerator, uint64_t Denominator)</div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8cpp_source.html#l00053">BranchProbability.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_a608965289792ad2d62922c506cf7ea40"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#a608965289792ad2d62922c506cf7ea40">llvm::bfi_detail::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BasicBlock *BB)</div><div class="ttdoc">Get the name of a BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00583">BlockFrequencyInfoImpl.h:583</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a3d943c4e8129a1812f0ddbe60766caf7"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3d943c4e8129a1812f0ddbe60766caf7">llvm::bfi_detail::BlockMass::isFull</a></div><div class="ttdeci">bool isFull() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00106">BlockFrequencyInfoImpl.h:106</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_afe6973243d687017c549e35834347f34"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#afe6973243d687017c549e35834347f34">llvm::BlockFrequencyInfoImplBase::Distribution::addLocal</a></div><div class="ttdeci">void addLocal(const BlockNode &amp;Node, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00393">BlockFrequencyInfoImpl.h:393</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a9ea3cb0982e23fcd9aacb4a89d207765"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9ea3cb0982e23fcd9aacb4a89d207765">llvm::BlockFrequencyInfoImplBase::getEntryFreq</a></div><div class="ttdeci">uint64_t getEntryFreq() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00539">BlockFrequencyInfoImpl.h:539</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a90cc95ac676cd6751e696d9a683745c0"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">llvm::BlockFrequencyInfoImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clear all memory.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00291">BlockFrequencyInfoImpl.cpp:291</a></div></div>
<div class="ttc" id="anamespacellvm_html_a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d"><div class="ttname"><a href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">llvm::DiagnosticPredicateTy::Match</a></div><div class="ttdeci">@ Match</div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1TypeMap_html"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1TypeMap.html">llvm::bfi_detail::TypeMap</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00547">BlockFrequencyInfoImpl.h:547</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">llvm::BlockFrequencyInfoImplBase::Weight::Local</a></div><div class="ttdeci">@ Local</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00366">BlockFrequencyInfoImpl.h:366</a></div></div>
<div class="ttc" id="aFormat_8h_html"><div class="ttname"><a href="Format_8h.html">Format.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_ac4f09cc3f867de462ad1ae51b03eae54"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#ac4f09cc3f867de462ad1ae51b03eae54">llvm::BlockFrequencyInfoImpl::setBlockFreq</a></div><div class="ttdeci">void setBlockFreq(const BlockT *BB, uint64_t Freq)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01152">BlockFrequencyInfoImpl.h:1152</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a924395e7510f57f986ac032994b20f73"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a924395e7510f57f986ac032994b20f73">llvm::BlockFrequencyInfoImplBase::LoopData::getHeader</a></div><div class="ttdeci">BlockNode getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00256">BlockFrequencyInfoImpl.h:256</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_a56606eadbb9399e3eb847073ffa6a14f"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56606eadbb9399e3eb847073ffa6a14f">llvm::BFIDOTGraphTraitsBase::NodeIter</a></div><div class="ttdeci">typename GTraits::nodes_iterator NodeIter</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01812">BlockFrequencyInfoImpl.h:1812</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_af7df5dbcd0c48e9feef7982c1ff42b6c"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#af7df5dbcd0c48e9feef7982c1ff42b6c">llvm::BlockFrequencyInfoImplBase::getProfileCountFromFreq</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getProfileCountFromFreq(const Function &amp;F, uint64_t Freq, bool AllowSynthetic=false) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00597">BlockFrequencyInfoImpl.cpp:597</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_html_a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD.html#a85803b71729d5d098ca2099f23cbf72ea722ad2d05ecf4868b00c5484b82fd808">llvm::AMDGPU::HSAMD::ValueKind::Queue</a></div><div class="ttdeci">@ Queue</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a72a0d1f4a55f5756a4ef8e59662a7621"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">llvm::BlockFrequencyInfoImplBase::packageLoop</a></div><div class="ttdeci">void packageLoop(LoopData &amp;Loop)</div><div class="ttdoc">Package up a loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00421">BlockFrequencyInfoImpl.cpp:421</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00089">MachineLoopInfo.h:89</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_ae8bb943f7963fe7f8a8909fa45286661"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae8bb943f7963fe7f8a8909fa45286661">llvm::bfi_detail::IrreducibleGraph::IrrNode::succ_end</a></div><div class="ttdeci">iterator succ_end() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00620">BlockFrequencyInfoImpl.h:620</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_ac73ca2f65c4077446cdeb9c8461fd118"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac73ca2f65c4077446cdeb9c8461fd118">llvm::BlockFrequencyInfoImplBase::LoopData::Mass</a></div><div class="ttdeci">BlockMass Mass</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00234">BlockFrequencyInfoImpl.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aGraphTraits_8h_html"><div class="ttname"><a href="GraphTraits_8h.html">GraphTraits.h</a></div></div>
<div class="ttc" id="aSparseBitVector_8h_html"><div class="ttname"><a href="SparseBitVector_8h.html">SparseBitVector.h</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_a9684914352e5ac4e24c9d5d1f6002862"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#a9684914352e5ac4e24c9d5d1f6002862">llvm::BFIDOTGraphTraitsBase::getNodeLabel</a></div><div class="ttdeci">std::string getNodeLabel(NodeRef Node, const BlockFrequencyInfoT *Graph, GVDAGType GType, int layout_order=-1)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01853">BlockFrequencyInfoImpl.h:1853</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a8fcc33897ff2ea4ebc874792c49497ef"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">llvm::BlockFrequencyInfoImplBase::updateLoopWithIrreducible</a></div><div class="ttdeci">void updateLoopWithIrreducible(LoopData &amp;OuterLoop)</div><div class="ttdoc">Update a loop after packaging irreducible SCCs inside of it.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00824">BlockFrequencyInfoImpl.cpp:824</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html">llvm::SparseBitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00256">SparseBitVector.h:256</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0bf055834b973decc2477a8061624ffa1488d335827653a77b988023163747f8"><div class="ttname"><a href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa1488d335827653a77b988023163747f8">llvm::GVDT_Fraction</a></div><div class="ttdeci">@ GVDT_Fraction</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01805">BlockFrequencyInfoImpl.h:1805</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_aedf9e705154fd4b0e99b6f11339f2ada"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#aedf9e705154fd4b0e99b6f11339f2ada">llvm::bfi_detail::BlockMass::operator&gt;=</a></div><div class="ttdeci">bool operator&gt;=(BlockMass X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00138">BlockFrequencyInfoImpl.h:138</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_a8e34c35e227b4207044c6f3e470495b3"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a8e34c35e227b4207044c6f3e470495b3">llvm::BlockFrequencyInfoImplBase::WorkingData::isAPackage</a></div><div class="ttdeci">bool isAPackage() const</div><div class="ttdoc">Has Loop been packaged up?</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00344">BlockFrequencyInfoImpl.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_ad05ed8871c23e9c87114b754bc6098ab"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#ad05ed8871c23e9c87114b754bc6098ab">llvm::BlockFrequencyInfoImpl::print</a></div><div class="ttdeci">raw_ostream &amp; print(raw_ostream &amp;OS) const override</div><div class="ttdoc">Print the frequencies for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01724">BlockFrequencyInfoImpl.h:1724</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a3da26c8dcbd5ba6a9f14614dc6302524"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a3da26c8dcbd5ba6a9f14614dc6302524">llvm::BlockFrequencyInfoImpl::getProfileCountFromFreq</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getProfileCountFromFreq(const Function &amp;F, uint64_t Freq, bool AllowSynthetic=false) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01031">BlockFrequencyInfoImpl.h:1031</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad0f451c018a39beb3e65f67485ce75da"><div class="ttname"><a href="namespacellvm.html#ad0f451c018a39beb3e65f67485ce75da">llvm::po_begin</a></div><div class="ttdeci">po_iterator&lt; T &gt; po_begin(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="PostOrderIterator_8h_source.html#l00187">PostOrderIterator.h:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBranchProbabilityInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBranchProbabilityInfo.html">llvm::MachineBranchProbabilityInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBranchProbabilityInfo_8h_source.html#l00022">MachineBranchProbabilityInfo.h:22</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a8381abddeccf17690f4533ba6ecce36b"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">llvm::BlockFrequencyInfoImplBase::finalizeMetrics</a></div><div class="ttdeci">void finalizeMetrics()</div><div class="ttdoc">Finalize frequency metrics.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00551">BlockFrequencyInfoImpl.cpp:551</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a45005634b54e2126cb3e6ec0dbc9ade4"><div class="ttname"><a href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, const DataLayout &amp;DL, DominatorTree *DT, AssumptionCache *AC)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00524">Lint.cpp:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a5ae944f41ccf807abef975067d634884"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a5ae944f41ccf807abef975067d634884">llvm::bfi_detail::BlockMass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00071">BlockFrequencyInfoImpl.cpp:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html_a19c752227e02f7cb26fb47fdb36dc349"><div class="ttname"><a href="classllvm_1_1BranchProbability.html#a19c752227e02f7cb26fb47fdb36dc349">llvm::BranchProbability::getDenominator</a></div><div class="ttdeci">static uint32_t getDenominator()</div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00066">BranchProbability.h:66</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_af4cfe26f95b98d5ebfcc8279a0f494d2"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af4cfe26f95b98d5ebfcc8279a0f494d2">llvm::BlockFrequencyInfoImplBase::WorkingData::getResolvedNode</a></div><div class="ttdeci">BlockNode getResolvedNode() const</div><div class="ttdoc">Resolve a node to its representative.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00313">BlockFrequencyInfoImpl.h:313</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_a5a41f5cb2786cac2a4c5c1fda89ea16f"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a5a41f5cb2786cac2a4c5c1fda89ea16f">llvm::BlockFrequencyInfoImplBase::WorkingData::getMass</a></div><div class="ttdeci">BlockMass &amp; getMass()</div><div class="ttdoc">Get the appropriate mass for a node.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00332">BlockFrequencyInfoImpl.h:332</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a17262e1cca3f9a69224d04b3189ed90c"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a17262e1cca3f9a69224d04b3189ed90c">llvm::bfi_detail::IrreducibleGraph::addEdge</a></div><div class="ttdeci">void addEdge(IrrNode &amp;Irr, const BlockNode &amp;Succ, const BFIBase::LoopData *OuterLoop)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00681">BlockFrequencyInfoImpl.cpp:681</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a7b2037773f618188c79aec1444116647"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a7b2037773f618188c79aec1444116647">llvm::bfi_detail::IrreducibleGraph::StartIrr</a></div><div class="ttdeci">const IrrNode * StartIrr</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00623">BlockFrequencyInfoImpl.h:623</a></div></div>
<div class="ttc" id="aTwine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_aac2780a8fb8a885011f9d14494c5c8dc"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">llvm::bfi_detail::IrreducibleGraph::Start</a></div><div class="ttdeci">BlockNode Start</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00622">BlockFrequencyInfoImpl.h:622</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbabilityInfo_html"><div class="ttname"><a href="classllvm_1_1BranchProbabilityInfo.html">llvm::BranchProbabilityInfo</a></div><div class="ttdoc">Analysis providing branch probability information.</div><div class="ttdef"><b>Definition:</b> <a href="BranchProbabilityInfo_8h_source.html#l00113">BranchProbabilityInfo.h:113</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_abe3bf5fccbd988d1daf97da30f0b0456"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#abe3bf5fccbd988d1daf97da30f0b0456">llvm::bfi_detail::IrreducibleGraph::initialize</a></div><div class="ttdeci">void initialize(const BFIBase::LoopData *OuterLoop, BlockEdgesAdder addBlockEdges)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00662">BlockFrequencyInfoImpl.h:662</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a0450ba0c5f10bc567038749976ebd228"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0450ba0c5f10bc567038749976ebd228">llvm::BlockFrequencyInfoImplBase::~BlockFrequencyInfoImplBase</a></div><div class="ttdeci">virtual ~BlockFrequencyInfoImplBase()=default</div><div class="ttdoc">Virtual destructor.</div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_af48ed4af672b3ec628c6c79ac0746312"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">llvm::bfi_detail::BlockMass::toScaled</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; toScaled() const</div><div class="ttdoc">Convert to scaled number.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00064">BlockFrequencyInfoImpl.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a9b5fd69cbe234f56395e6ddd4eeed8be"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9b5fd69cbe234f56395e6ddd4eeed8be">llvm::BlockFrequencyInfoImplBase::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00573">BlockFrequencyInfoImpl.cpp:573</a></div></div>
<div class="ttc" id="astructllvm_1_1BitTracker_html"><div class="ttname"><a href="structllvm_1_1BitTracker.html">llvm::BitTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="BitTracker_8h_source.html#l00035">BitTracker.h:35</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a0f46dabedb551531591c0293403c7e21"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">llvm::BlockFrequencyInfoImplBase::LoopData::isHeader</a></div><div class="ttdeci">bool isHeader(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00249">BlockFrequencyInfoImpl.h:249</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_aed7aa2425775239a0ec37fede54138bf"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#aed7aa2425775239a0ec37fede54138bf">llvm::BlockFrequencyInfoImplBase::BlockNode::BlockNode</a></div><div class="ttdeci">BlockNode()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00196">BlockFrequencyInfoImpl.h:196</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a3b13aeab236aa95632c9ef9052c14926"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">llvm::bfi_detail::IrreducibleGraph::BFI</a></div><div class="ttdeci">BFIBase &amp; BFI</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00605">BlockFrequencyInfoImpl.h:605</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_afb2670f614693f07e0cd00013e6c6ee2"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#afb2670f614693f07e0cd00013e6c6ee2">llvm::BlockFrequencyInfoImpl::printBlockFreq</a></div><div class="ttdeci">raw_ostream &amp; printBlockFreq(raw_ostream &amp;OS, const BlockT *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01072">BlockFrequencyInfoImpl.h:1072</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_adda9f21a68ad40aac3ee4e0bf3afa31d"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">llvm::BlockFrequencyInfoImplBase::distributeMass</a></div><div class="ttdeci">void distributeMass(const BlockNode &amp;Source, LoopData *OuterLoop, Distribution &amp;Dist)</div><div class="ttdoc">Distribute mass according to a distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00446">BlockFrequencyInfoImpl.cpp:446</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_ad09cd65d53aafbf4d4db05d1e860b407"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad09cd65d53aafbf4d4db05d1e860b407">llvm::bfi_detail::IrreducibleGraph::IrrNode::iterator</a></div><div class="ttdeci">std::deque&lt; const IrrNode * &gt;::const_iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00615">BlockFrequencyInfoImpl.h:615</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_ac0e3f20571279f8b3896a687101d7151"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">llvm::bfi_detail::BlockMass::getFull</a></div><div class="ttdeci">static BlockMass getFull()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00100">BlockFrequencyInfoImpl.h:100</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_a22e76a31337affb6a641acf1d96a39c0"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#a22e76a31337affb6a641acf1d96a39c0">llvm::bfi_detail::operator*</a></div><div class="ttdeci">BlockMass operator*(BlockMass L, BranchProbability R)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00158">BlockFrequencyInfoImpl.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a14c122ec1eddb91d10903c38042c2414"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a14c122ec1eddb91d10903c38042c2414">llvm::BlockFrequencyInfoImpl::getBlockProfileCount</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getBlockProfileCount(const Function &amp;F, const BlockT *BB, bool AllowSynthetic=false) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01024">BlockFrequencyInfoImpl.h:1024</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="aBitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_ac3fd4c945029b6ece24a347676056f86"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#ac3fd4c945029b6ece24a347676056f86">llvm::BFIDOTGraphTraitsBase::getEdgeAttributes</a></div><div class="ttdeci">std::string getEdgeAttributes(NodeRef Node, EdgeIter EI, const BlockFrequencyInfoT *BFI, const BranchProbabilityInfoT *BPI, unsigned HotPercentThreshold=0)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01884">BlockFrequencyInfoImpl.h:1884</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a7d49b2704586051c51172cc77d4104b3"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a7d49b2704586051c51172cc77d4104b3">llvm::BlockFrequencyInfoImplBase::Weight::TargetNode</a></div><div class="ttdeci">BlockNode TargetNode</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00368">BlockFrequencyInfoImpl.h:368</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4_html_a399fe6c055fa8053a5302a00cd29f8f1"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html#a399fe6c055fa8053a5302a00cd29f8f1">llvm::bfi_detail::BFICallbackVH&lt; BasicBlock, BFIImplT &gt;::deleted</a></div><div class="ttdeci">void deleted() override</div><div class="ttdoc">Callback for Value destruction.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01093">BlockFrequencyInfoImpl.h:1093</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">llvm::BlockFrequencyInfoImplBase::Distribution</a></div><div class="ttdoc">Distribution of unscaled probability weight.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00384">BlockFrequencyInfoImpl.h:384</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_a9920ac737bd7393a090ee45bb2ca4bef"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a9920ac737bd7393a090ee45bb2ca4bef">llvm::BlockFrequencyInfoImplBase::WorkingData::isLoopHeader</a></div><div class="ttdeci">bool isLoopHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00285">BlockFrequencyInfoImpl.h:285</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aBranchProbability_8h_html"><div class="ttname"><a href="BranchProbability_8h.html">BranchProbability.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_ab147fa0abcd57b2d539d3287dea94999"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab147fa0abcd57b2d539d3287dea94999">llvm::BlockFrequencyInfoImplBase::WorkingData::isDoubleLoopHeader</a></div><div class="ttdeci">bool isDoubleLoopHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00287">BlockFrequencyInfoImpl.h:287</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdeci">@ IE</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00027">ARMBaseInfo.h:27</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_ac24f62f9ac4bff8273ed15798ea650e8"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac24f62f9ac4bff8273ed15798ea650e8">llvm::BlockFrequencyInfoImplBase::Distribution::normalize</a></div><div class="ttdeci">void normalize()</div><div class="ttdoc">Normalize the distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00235">BlockFrequencyInfoImpl.cpp:235</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_a0b14c1d2be046c6ce3fd639bd38b83eb"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a0b14c1d2be046c6ce3fd639bd38b83eb">llvm::bfi_detail::IrreducibleGraph::IrrNode::pred_end</a></div><div class="ttdeci">iterator pred_end() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00619">BlockFrequencyInfoImpl.h:619</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_af153ca0eadca8bc464492b7aba7feb00"><div class="ttname"><a href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a></div><div class="ttdeci">const DataFlowGraph &amp; G</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00200">RDFGraph.cpp:200</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a23d4c211faf80b8789923262b5b5ae77"><div class="ttname"><a href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">llvm::ProfileCount</a></div><div class="ttdeci">Function::ProfileCount ProfileCount</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00048">SampleProfileLoaderBaseImpl.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a3e68f251e5b9b11aa8ee9d969a70ba3c"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">llvm::BlockFrequencyInfoImplBase::printBlockFreq</a></div><div class="ttdeci">raw_ostream &amp; printBlockFreq(raw_ostream &amp;OS, const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00646">BlockFrequencyInfoImpl.cpp:646</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a8884f4ab1dd22269ce25837403cbb726"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">llvm::BlockFrequencyInfoImplBase::LoopData::isIrreducible</a></div><div class="ttdeci">bool isIrreducible() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00257">BlockFrequencyInfoImpl.h:257</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a5d7eee89d3edd68fd385f1479f78c952"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a5d7eee89d3edd68fd385f1479f78c952">llvm::BlockFrequencyInfoImplBase::BlockNode::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00206">BlockFrequencyInfoImpl.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineLoop_html"><div class="ttname"><a href="classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00044">MachineLoopInfo.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequency_html"><div class="ttname"><a href="classllvm_1_1BlockFrequency.html">llvm::BlockFrequency</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequency_8h_source.html#l00023">BlockFrequency.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_aa30d0ce3ab3c581a34fe633339fd6748"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#aa30d0ce3ab3c581a34fe633339fd6748">llvm::bfi_detail::operator-</a></div><div class="ttdeci">BlockMass operator-(BlockMass L, BlockMass R)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00155">BlockFrequencyInfoImpl.h:155</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_a1f4f138ccfef4b11927a51fed0aa4fbe"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a1f4f138ccfef4b11927a51fed0aa4fbe">llvm::BlockFrequencyInfoImplBase::Distribution::addBackedge</a></div><div class="ttdeci">void addBackedge(const BlockNode &amp;Node, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00401">BlockFrequencyInfoImpl.h:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1BlockEdgesAdder_html_a4756d9b84fd6e36c91404fc760b1e117"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a4756d9b84fd6e36c91404fc760b1e117">llvm::bfi_detail::BlockEdgesAdder::operator()</a></div><div class="ttdeci">void operator()(IrreducibleGraph &amp;G, IrreducibleGraph::IrrNode &amp;Irr, const LoopData *OuterLoop)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01655">BlockFrequencyInfoImpl.h:1655</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a07e9c2c2d820ae6830cb200d9c127839"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a07e9c2c2d820ae6830cb200d9c127839">llvm::bfi_detail::BlockMass::operator!</a></div><div class="ttdeci">bool operator!() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00109">BlockFrequencyInfoImpl.h:109</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f">llvm::BlockFrequencyInfoImplBase::Weight::Exit</a></div><div class="ttdeci">@ Exit</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00366">BlockFrequencyInfoImpl.h:366</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1BlockEdgesAdder_html"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">llvm::bfi_detail::BlockEdgesAdder</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00075">BlockFrequencyInfoImpl.h:75</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a7e01fd6906e4f92d60997202d50fc7fb"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a7e01fd6906e4f92d60997202d50fc7fb">llvm::bfi_detail::BlockMass::operator-=</a></div><div class="ttdeci">BlockMass &amp; operator-=(BlockMass X)</div><div class="ttdoc">Subtract another mass.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00124">BlockFrequencyInfoImpl.h:124</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData_html_a8af0190a66e3f259ae8328030aee145a"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html#a8af0190a66e3f259ae8328030aee145a">llvm::BlockFrequencyInfoImplBase::FrequencyData::Scaled</a></div><div class="ttdeci">Scaled64 Scaled</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00215">BlockFrequencyInfoImpl.h:215</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html">llvm::BlockFrequencyInfoImplBase::WorkingData</a></div><div class="ttdoc">Index of loop information.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00278">BlockFrequencyInfoImpl.h:278</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">llvm::bfi_detail::IrreducibleGraph::IrrNode</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00608">BlockFrequencyInfoImpl.h:608</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67">llvm::BlockFrequencyInfoImplBase::Weight::DistType</a></div><div class="ttdeci">DistType</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00366">BlockFrequencyInfoImpl.h:366</a></div></div>
<div class="ttc" id="anamespacellvm_html_abe792757c5d7b85e61cd2986e899f7f9"><div class="ttname"><a href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">llvm::IterativeBFIPrecision</a></div><div class="ttdeci">llvm::cl::opt&lt; double &gt; IterativeBFIPrecision</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops().</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00428">BlockFrequencyInfoImpl.h:428</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a641b0782e0cc309372855bfc19fdfd97"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a641b0782e0cc309372855bfc19fdfd97">llvm::SmallVectorImpl&lt; BlockNode &gt;::const_iterator</a></div><div class="ttdeci">typename SuperClass::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00582">SmallVector.h:582</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a4787a1f347aa9845ad92e5696a104e15"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a4787a1f347aa9845ad92e5696a104e15">llvm::BlockFrequencyInfoImplBase::BlockNode::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(const BlockNode &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00203">BlockFrequencyInfoImpl.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a41ea5a32fdaf85d4aa83b1e2d8473fdc"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">llvm::BlockFrequencyInfoImplBase::addLoopSuccessorsToDist</a></div><div class="ttdeci">bool addLoopSuccessorsToDist(const LoopData *OuterLoop, LoopData &amp;Loop, Distribution &amp;Dist)</div><div class="ttdoc">Add all edges out of a packaged loop to the distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00373">BlockFrequencyInfoImpl.cpp:373</a></div></div>
<div class="ttc" id="anamespacellvm_html_a77e0432868a8d88e98b2fdb383790e4a"><div class="ttname"><a href="namespacellvm.html#a77e0432868a8d88e98b2fdb383790e4a">llvm::children</a></div><div class="ttdeci">iterator_range&lt; typename GraphTraits&lt; GraphType &gt;::ChildIteratorType &gt; children(const typename GraphTraits&lt; GraphType &gt;::NodeRef &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00123">GraphTraits.h:123</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a0299c4b86be9e4857e810b2160f37cf7"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a0299c4b86be9e4857e810b2160f37cf7">llvm::bfi_detail::IrreducibleGraph::addNodesInFunction</a></div><div class="ttdeci">void addNodesInFunction()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00668">BlockFrequencyInfoImpl.cpp:668</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_a6899d11b3abe21eebd9130ff4b30b6a4"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#a6899d11b3abe21eebd9130ff4b30b6a4">llvm::BFIDOTGraphTraitsBase::EdgeIter</a></div><div class="ttdeci">typename GTraits::ChildIteratorType EdgeIter</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01811">BlockFrequencyInfoImpl.h:1811</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a598ca821da6b5dab9a4d59f6b6fe1cac"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a598ca821da6b5dab9a4d59f6b6fe1cac">llvm::BlockFrequencyInfoImplBase::Weight::Weight</a></div><div class="ttdeci">Weight(DistType Type, BlockNode TargetNode, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00372">BlockFrequencyInfoImpl.h:372</a></div></div>
<div class="ttc" id="aiterator__range_8h_html"><div class="ttname"><a href="iterator__range_8h.html">iterator_range.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf">llvm::ISD::BasicBlock</a></div><div class="ttdeci">@ BasicBlock</div><div class="ttdoc">Various leaf nodes.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00071">ISDOpcodes.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_ab4e21a41841bffe8a6532d475455d161"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#ab4e21a41841bffe8a6532d475455d161">llvm::bfi_detail::BlockMass::operator+=</a></div><div class="ttdeci">BlockMass &amp; operator+=(BlockMass X)</div><div class="ttdoc">Add another mass.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00114">BlockFrequencyInfoImpl.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_ab4e1554fca8ef98622714e55215db4a9"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">llvm::BlockFrequencyInfoImplBase::unwrapLoops</a></div><div class="ttdeci">void unwrapLoops()</div><div class="ttdoc">Unwrap loops.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00542">BlockFrequencyInfoImpl.cpp:542</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a0fc6aab5a3de5a10eae97d30fdaa8430"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a0fc6aab5a3de5a10eae97d30fdaa8430">llvm::bfi_detail::BlockMass::operator&gt;</a></div><div class="ttdeci">bool operator&gt;(BlockMass X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00140">BlockFrequencyInfoImpl.h:140</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_af59992d1f4d494ae6d3c33f61df86d20"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#af59992d1f4d494ae6d3c33f61df86d20">llvm::BlockFrequencyInfoImplBase::WorkingData::isADoublePackage</a></div><div class="ttdeci">bool isADoublePackage() const</div><div class="ttdoc">Has Loop been packaged up twice?</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00347">BlockFrequencyInfoImpl.h:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a42dc56500d44820d4526a0863abc2943"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">llvm::bfi_detail::BlockMass::getEmpty</a></div><div class="ttdeci">static BlockMass getEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00098">BlockFrequencyInfoImpl.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BFICallbackVH_3_01MachineBasicBlock_00_01BFIImplT_01_4_html_ad522483e1a0a6bc9241518ef07d0a500"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01MachineBasicBlock_00_01BFIImplT_01_4.html#ad522483e1a0a6bc9241518ef07d0a500">llvm::bfi_detail::BFICallbackVH&lt; MachineBasicBlock, BFIImplT &gt;::BFICallbackVH</a></div><div class="ttdeci">BFICallbackVH(const MachineBasicBlock *, BFIImplT *)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01104">BlockFrequencyInfoImpl.h:1104</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0bf055834b973decc2477a8061624ffae3b2a620ff91a9b7da54d7b3322be77a"><div class="ttname"><a href="namespacellvm.html#af0bf055834b973decc2477a8061624ffae3b2a620ff91a9b7da54d7b3322be77a">llvm::GVDT_Integer</a></div><div class="ttdeci">@ GVDT_Integer</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01805">BlockFrequencyInfoImpl.h:1805</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_ad04ba0323a3bbcf8ab86213d4d2b072e"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#ad04ba0323a3bbcf8ab86213d4d2b072e">llvm::BlockFrequencyInfoImplBase::BlockNode::operator&gt;</a></div><div class="ttdeci">bool operator&gt;(const BlockNode &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00204">BlockFrequencyInfoImpl.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_a1c78d4d6544b97f0fb4219ec8a99c54b"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#a1c78d4d6544b97f0fb4219ec8a99c54b">llvm::BFIDOTGraphTraitsBase::getNodeAttributes</a></div><div class="ttdeci">std::string getNodeAttributes(NodeRef Node, const BlockFrequencyInfoT *Graph, unsigned HotPercentThreshold=0)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01823">BlockFrequencyInfoImpl.h:1823</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67980a8ae101d2fda845eb750ffb1942"><div class="ttname"><a href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">llvm::print</a></div><div class="ttdeci">Printable print(const GCNRegPressure &amp;RP, const GCNSubtarget *ST=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="GCNRegPressure_8cpp_source.html#l00138">GCNRegPressure.cpp:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a465570f79f2250f090fe8302742e7c83"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a465570f79f2250f090fe8302742e7c83">llvm::bfi_detail::BlockMass::operator*=</a></div><div class="ttdeci">BlockMass &amp; operator*=(BranchProbability P)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00130">BlockFrequencyInfoImpl.h:130</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a58e8e5e2a292484f1f8f386ecce6f89c"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a58e8e5e2a292484f1f8f386ecce6f89c">llvm::BlockFrequencyInfoImplBase::BlockNode::getMaxIndex</a></div><div class="ttdeci">static size_t getMaxIndex()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00208">BlockFrequencyInfoImpl.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">llvm::Sched::Source</a></div><div class="ttdeci">@ Source</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00100">TargetLowering.h:100</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData_html_ac8e1be818fb7efab7e7c1be02e3786ff"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html#ac8e1be818fb7efab7e7c1be02e3786ff">llvm::BlockFrequencyInfoImplBase::FrequencyData::Integer</a></div><div class="ttdeci">uint64_t Integer</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00216">BlockFrequencyInfoImpl.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_ac61cd6020768ae1e60dc3040ce5fbd8d"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#ac61cd6020768ae1e60dc3040ce5fbd8d">llvm::BlockFrequencyInfoImpl::BlockFrequencyInfoImpl</a></div><div class="ttdeci">BlockFrequencyInfoImpl()=default</div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeed11dc79f40b5a20c11997197f18543"><div class="ttname"><a href="namespacellvm.html#aeed11dc79f40b5a20c11997197f18543">llvm::CheckBFIUnknownBlockQueries</a></div><div class="ttdeci">llvm::cl::opt&lt; bool &gt; CheckBFIUnknownBlockQueries</div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea">llvm::BlockFrequencyInfoImplBase::Weight::Backedge</a></div><div class="ttdeci">@ Backedge</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00366">BlockFrequencyInfoImpl.h:366</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_a3486139f8bad153d3890d929a628de1a"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#a3486139f8bad153d3890d929a628de1a">llvm::BlockFrequencyInfoImplBase::WorkingData::Mass</a></div><div class="ttdeci">BlockMass Mass</div><div class="ttdoc">Mass distribution from the entry block.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00281">BlockFrequencyInfoImpl.h:281</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a2d4ad30cd1d596501e3d99462d1af74e"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a2d4ad30cd1d596501e3d99462d1af74e">llvm::bfi_detail::IrreducibleGraph::addEdges</a></div><div class="ttdeci">void addEdges(const BlockNode &amp;Node, const BFIBase::LoopData *OuterLoop, BlockEdgesAdder addBlockEdges)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00677">BlockFrequencyInfoImpl.h:677</a></div></div>
<div class="ttc" id="astructllvm_1_1DefaultDOTGraphTraits_html_ae8629cdc360910256304238ca5db1a45"><div class="ttname"><a href="structllvm_1_1DefaultDOTGraphTraits.html#ae8629cdc360910256304238ca5db1a45">llvm::DefaultDOTGraphTraits::isSimple</a></div><div class="ttdeci">bool isSimple()</div><div class="ttdef"><b>Definition:</b> <a href="DOTGraphTraits_8h_source.html#l00033">DOTGraphTraits.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_afd6ff190a72a58d7c890cf480bc6f6e8"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">llvm::BlockFrequencyInfoImplBase::BlockNode::Index</a></div><div class="ttdeci">IndexType Index</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00194">BlockFrequencyInfoImpl.h:194</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html"><div class="ttname"><a href="classllvm_1_1BranchProbability.html">llvm::BranchProbability</a></div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00030">BranchProbability.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a3874be041c63e0b867d82331409a0de2"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3874be041c63e0b867d82331409a0de2">llvm::bfi_detail::BlockMass::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00107">BlockFrequencyInfoImpl.h:107</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_ad9359948311bce04a3628b0db4376b77"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ad9359948311bce04a3628b0db4376b77">llvm::BlockFrequencyInfoImplBase::Distribution::DidOverflow</a></div><div class="ttdeci">bool DidOverflow</div><div class="ttdoc">Whether Total did overflow.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00389">BlockFrequencyInfoImpl.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a84e3c2dabc626ebe107c5fd847bd7a01"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a84e3c2dabc626ebe107c5fd847bd7a01">llvm::BlockFrequencyInfoImplBase::print</a></div><div class="ttdeci">virtual raw_ostream &amp; print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00519">BlockFrequencyInfoImpl.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a92a5bef9afab84656590bbe1c530c86a"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">llvm::BlockFrequencyInfoImplBase::getBlockProfileCount</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getBlockProfileCount(const Function &amp;F, const BlockNode &amp;Node, bool AllowSynthetic=false) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00589">BlockFrequencyInfoImpl.cpp:589</a></div></div>
<div class="ttc" id="anamespacellvm_html_a66f0c57e04037076030c6a6e48f44f2d"><div class="ttname"><a href="namespacellvm.html#a66f0c57e04037076030c6a6e48f44f2d">llvm::format</a></div><div class="ttdeci">format_object&lt; Ts... &gt; format(const char *Fmt, const Ts &amp;... Vals)</div><div class="ttdoc">These are helper functions used to produce formatted output.</div><div class="ttdef"><b>Definition:</b> <a href="Format_8h_source.html#l00124">Format.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html">llvm::BlockFrequencyInfoImplBase</a></div><div class="ttdoc">Base class for BlockFrequencyInfoImpl.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00179">BlockFrequencyInfoImpl.h:179</a></div></div>
<div class="ttc" id="aclassNode_html"><div class="ttname"><a href="classNode.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="ItaniumDemangle_8h_source.html#l00156">ItaniumDemangle.h:156</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">llvm::AMDGPUISD::BFI</a></div><div class="ttdeci">@ BFI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00441">AMDGPUISelLowering.h:441</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a2ba9de56719382167db6112ba3d0b056"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056">llvm::BlockFrequencyInfoImplBase::LoopData::Exits</a></div><div class="ttdeci">ExitMap Exits</div><div class="ttdoc">Successor edges (and weights).</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00231">BlockFrequencyInfoImpl.h:231</a></div></div>
<div class="ttc" id="aValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="aScaledNumber_8h_html"><div class="ttname"><a href="ScaledNumber_8h.html">ScaledNumber.h</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a07ad8547a841472e2087996e8a0754b6"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a07ad8547a841472e2087996e8a0754b6">llvm::bfi_detail::BlockMass::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(BlockMass X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00139">BlockFrequencyInfoImpl.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a5514a17c0ec3ccae841930a4f8f74f99"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a5514a17c0ec3ccae841930a4f8f74f99">llvm::BlockFrequencyInfoImplBase::Scaled64</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; Scaled64</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00181">BlockFrequencyInfoImpl.h:181</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a05d7859069ea9f72d9f1c790acd814fd"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a05d7859069ea9f72d9f1c790acd814fd">llvm::BlockFrequencyInfoImpl::getFunction</a></div><div class="ttdeci">const FunctionT * getFunction() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01012">BlockFrequencyInfoImpl.h:1012</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScaledNumber_html"><div class="ttname"><a href="classllvm_1_1ScaledNumber.html">llvm::ScaledNumber&lt; uint64_t &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_af6d6f33b83e5ef8cd04b509149ad7b79"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#af6d6f33b83e5ef8cd04b509149ad7b79">llvm::BlockFrequencyInfoImplBase::Weight::Weight</a></div><div class="ttdeci">Weight()=default</div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_afa65e9330ea446ed6f3b50dcefd93905"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#afa65e9330ea446ed6f3b50dcefd93905">llvm::bfi_detail::IrreducibleGraph::IrrNode::NumIn</a></div><div class="ttdeci">unsigned NumIn</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00610">BlockFrequencyInfoImpl.h:610</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ae42219072d798876e6b08e6b78614ff6"><div class="ttname"><a href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a></div><div class="ttdeci">#define H(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00057">MD5.cpp:57</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_a9b6978cc75ac9c9148cad23ab52b2247"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#a9b6978cc75ac9c9148cad23ab52b2247">llvm::bfi_detail::operator&lt;&lt;</a></div><div class="ttdeci">raw_ostream &amp; operator&lt;&lt;(raw_ostream &amp;OS, BlockMass X)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00165">BlockFrequencyInfoImpl.h:165</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_a0f37c69a1a04176b4ea286802ad344ef"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#a0f37c69a1a04176b4ea286802ad344ef">llvm::bfi_detail::IrreducibleGraph::IrrNode::IrrNode</a></div><div class="ttdeci">IrrNode(const BlockNode &amp;Node)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00613">BlockFrequencyInfoImpl.h:613</a></div></div>
<div class="ttc" id="anamespacellvm_html_a63540526d092e2f4bbc70590b6034f4e"><div class="ttname"><a href="namespacellvm.html#a63540526d092e2f4bbc70590b6034f4e">llvm::toString</a></div><div class="ttdeci">const char * toString(DWARFSectionKind Kind)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFUnitIndex_8h_source.html#l00067">DWARFUnitIndex.h:67</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a4f2854e822f1b323869fb6c7ae6fc0d0"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a4f2854e822f1b323869fb6c7ae6fc0d0">llvm::bfi_detail::IrreducibleGraph::BlockNode</a></div><div class="ttdeci">BFIBase::BlockNode BlockNode</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00607">BlockFrequencyInfoImpl.h:607</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4_html_a8250c86c5e4911c3c202a531cd95f5b9"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BFICallbackVH_3_01BasicBlock_00_01BFIImplT_01_4.html#a8250c86c5e4911c3c202a531cd95f5b9">llvm::bfi_detail::BFICallbackVH&lt; BasicBlock, BFIImplT &gt;::BFICallbackVH</a></div><div class="ttdeci">BFICallbackVH(const BasicBlock *BB, BFIImplT *BFIImpl)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01088">BlockFrequencyInfoImpl.h:1088</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_af8aa6262fff3f09a8e2076d7a76e1628"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#af8aa6262fff3f09a8e2076d7a76e1628">llvm::BlockFrequencyInfoImplBase::adjustLoopHeaderMass</a></div><div class="ttdeci">void adjustLoopHeaderMass(LoopData &amp;Loop)</div><div class="ttdoc">Adjust the mass of all headers in an irreducible loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00835">BlockFrequencyInfoImpl.cpp:835</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a5bb4a78fac5f3140664755105ac9c88d"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a5bb4a78fac5f3140664755105ac9c88d">llvm::BlockFrequencyInfoImplBase::LoopData::LoopData</a></div><div class="ttdeci">LoopData(LoopData *Parent, const BlockNode &amp;Header)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00237">BlockFrequencyInfoImpl.h:237</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_a56cfbd001abdcda753e1fa4e1a8eec74"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#a56cfbd001abdcda753e1fa4e1a8eec74">llvm::BFIDOTGraphTraitsBase::NodeRef</a></div><div class="ttdeci">typename GTraits::NodeRef NodeRef</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01810">BlockFrequencyInfoImpl.h:1810</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_adc0b4a681eb28808ca79e6b13e50f0d4"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#adc0b4a681eb28808ca79e6b13e50f0d4">llvm::BlockFrequencyInfoImplBase::getFloatingBlockFreq</a></div><div class="ttdeci">Scaled64 getFloatingBlockFreq(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00622">BlockFrequencyInfoImpl.cpp:622</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_a5e4eb3a7c89dcc532ee7aee4e2029674"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">llvm::BlockFrequencyInfoImplBase::Distribution::Weights</a></div><div class="ttdeci">WeightList Weights</div><div class="ttdoc">Individual successor weights.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00387">BlockFrequencyInfoImpl.h:387</a></div></div>
<div class="ttc" id="aDOTGraphTraits_8h_html"><div class="ttname"><a href="DOTGraphTraits_8h.html">DOTGraphTraits.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html">llvm::BFIDOTGraphTraitsBase</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01808">BlockFrequencyInfoImpl.h:1808</a></div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">llvm::TargetStackID::Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00027">TargetFrameLowering.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_aa5f7676e79d9c74b94e3f28292a21976"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#aa5f7676e79d9c74b94e3f28292a21976">llvm::BlockFrequencyInfoImpl::getBPI</a></div><div class="ttdeci">const BranchProbabilityInfoT &amp; getBPI() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01054">BlockFrequencyInfoImpl.h:1054</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a7c975e946b42a0ad92debf1ee6ee488a"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a7c975e946b42a0ad92debf1ee6ee488a">llvm::BlockFrequencyInfoImplBase::BlockNode::operator&lt;=</a></div><div class="ttdeci">bool operator&lt;=(const BlockNode &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00201">BlockFrequencyInfoImpl.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_ae87d24146ddae3b92a07246e2a63aa8b"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#ae87d24146ddae3b92a07246e2a63aa8b">llvm::BlockFrequencyInfoImpl::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const BlockT *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01019">BlockFrequencyInfoImpl.h:1019</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a8b0a39cdeb682fee807685db5cfffd5a"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">llvm::BlockFrequencyInfoImplBase::setBlockFreq</a></div><div class="ttdeci">void setBlockFreq(const BlockNode &amp;Node, uint64_t Freq)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00628">BlockFrequencyInfoImpl.cpp:628</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_adfdb00b2c71ac98e68da9a48c4e4f016"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#adfdb00b2c71ac98e68da9a48c4e4f016">llvm::bfi_detail::BlockMass::BlockMass</a></div><div class="ttdeci">BlockMass()=default</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html_a61a62f8b812123edf5c45e719f43d95b"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html#a61a62f8b812123edf5c45e719f43d95b">llvm::BlockFrequencyInfoImpl::verifyMatch</a></div><div class="ttdeci">void verifyMatch(BlockFrequencyInfoImpl&lt; BT &gt; &amp;Other) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01748">BlockFrequencyInfoImpl.h:1748</a></div></div>
<div class="ttc" id="aSyntheticCountsPropagation_8cpp_html_a49c1e422196c0091065074ac15fb6ba3"><div class="ttname"><a href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; Scaled64</div><div class="ttdef"><b>Definition:</b> <a href="SyntheticCountsPropagation_8cpp_source.html#l00037">SyntheticCountsPropagation.cpp:37</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_afe4f7d179969d3688d4dfeca69ba8f7a"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#afe4f7d179969d3688d4dfeca69ba8f7a">llvm::BlockFrequencyInfoImplBase::LoopData::members</a></div><div class="ttdeci">iterator_range&lt; NodeList::const_iterator &gt; members() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00272">BlockFrequencyInfoImpl.h:272</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">llvm::BlockFrequencyInfoImplBase::Weight</a></div><div class="ttdoc">Unscaled probability weight.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00365">BlockFrequencyInfoImpl.h:365</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_afbc333c186999469beac266c7b17870d"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#afbc333c186999469beac266c7b17870d">llvm::BlockFrequencyInfoImplBase::LoopData::Scale</a></div><div class="ttdeci">Scaled64 Scale</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00235">BlockFrequencyInfoImpl.h:235</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_aa694a8c0f8d2a04ac086fc4217615367"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">llvm::BlockFrequencyInfoImplBase::LoopData::Nodes</a></div><div class="ttdeci">NodeList Nodes</div><div class="ttdoc">Header and the members of the loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00232">BlockFrequencyInfoImpl.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallbackVH_html"><div class="ttname"><a href="classllvm_1_1CallbackVH.html">llvm::CallbackVH</a></div><div class="ttdoc">Value handle with callbacks on RAUW and destruction.</div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00383">ValueHandle.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a2d2eb10767a708e79d160dae4ebcd0a2"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a2d2eb10767a708e79d160dae4ebcd0a2">llvm::bfi_detail::BlockMass::print</a></div><div class="ttdeci">raw_ostream &amp; print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00081">BlockFrequencyInfoImpl.cpp:81</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0bf055834b973decc2477a8061624ffa719898e1e3b5b25d1c681f6f87ca990c"><div class="ttname"><a href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa719898e1e3b5b25d1c681f6f87ca990c">llvm::GVDT_Count</a></div><div class="ttdeci">@ GVDT_Count</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01805">BlockFrequencyInfoImpl.h:1805</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00421">BlockFrequencyInfoImpl.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a221f01eee80db0b0c4f4567c84b54fb5"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a221f01eee80db0b0c4f4567c84b54fb5">llvm::bfi_detail::BlockMass::getMass</a></div><div class="ttdeci">uint64_t getMass() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00104">BlockFrequencyInfoImpl.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_ae6a50da1ec57ffdb0576275d819dcb50"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#ae6a50da1ec57ffdb0576275d819dcb50">llvm::BlockFrequencyInfoImplBase::IsIrrLoopHeader</a></div><div class="ttdeci">SparseBitVector IsIrrLoopHeader</div><div class="ttdoc">Whether each block is an irreducible loop header.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00425">BlockFrequencyInfoImpl.h:425</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData_html_ab78a93d1080175c10d7a9d7080422669"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html#ab78a93d1080175c10d7a9d7080422669">llvm::BlockFrequencyInfoImplBase::WorkingData::getPackagedLoop</a></div><div class="ttdeci">LoopData * getPackagedLoop() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00318">BlockFrequencyInfoImpl.h:318</a></div></div>
<div class="ttc" id="aPostOrderIterator_8h_html"><div class="ttname"><a href="PostOrderIterator_8h.html">PostOrderIterator.h</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_ac7119657849326a17e7ada6cb242c288"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">llvm::BlockFrequencyInfoImplBase::LoopData::BackedgeMass</a></div><div class="ttdeci">HeaderMassList BackedgeMass</div><div class="ttdoc">Mass returned to each loop header.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00233">BlockFrequencyInfoImpl.h:233</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1BlockEdgesAdder_html_a2d0455d82a8bfe124836184293da9d02"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html#a2d0455d82a8bfe124836184293da9d02">llvm::bfi_detail::BlockEdgesAdder::BlockEdgesAdder</a></div><div class="ttdeci">BlockEdgesAdder(const BlockFrequencyInfoImpl&lt; BT &gt; &amp;BFI)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01652">BlockFrequencyInfoImpl.h:1652</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556"><div class="ttname"><a href="namespacellvm.html#af0bf055834b973decc2477a8061624ffa49315903a2559d882f356ae28a455556">llvm::GVDT_None</a></div><div class="ttdeci">@ GVDT_None</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01805">BlockFrequencyInfoImpl.h:1805</a></div></div>
<div class="ttc" id="aBitTracker_8cpp_html_ae3e523a6a11b1e24604b40363978a62a"><div class="ttname"><a href="BitTracker_8cpp.html#ae3e523a6a11b1e24604b40363978a62a">BT</a></div><div class="ttdeci">BitTracker BT</div><div class="ttdef"><b>Definition:</b> <a href="BitTracker_8cpp_source.html#l00073">BitTracker.cpp:73</a></div></div>
<div class="ttc" id="anamespacellvm_html_a94af5377a23091e9f0cf395b6e129dfb"><div class="ttname"><a href="namespacellvm.html#a94af5377a23091e9f0cf395b6e129dfb">llvm::IterativeBFIMaxIterationsPerBlock</a></div><div class="ttdeci">llvm::cl::opt&lt; unsigned &gt; IterativeBFIMaxIterationsPerBlock</div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_a10318535dafa46543d1c1d2b67301cc8"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a10318535dafa46543d1c1d2b67301cc8">llvm::BlockFrequencyInfoImplBase::Distribution::Distribution</a></div><div class="ttdeci">Distribution()=default</div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1AssertingVH_html"><div class="ttname"><a href="classllvm_1_1AssertingVH.html">llvm::AssertingVH</a></div><div class="ttdoc">Value handle that asserts if the Value is deleted.</div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00260">ValueHandle.h:260</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_a01e9ac225b83bb4ded4adbba7d360cbe"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">llvm::bfi_detail::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockT *BB)</div><div class="ttdoc">Get the name of a MachineBasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00575">BlockFrequencyInfoImpl.h:575</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_aed41720d98aa4fd0970afd37bab9406e"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#aed41720d98aa4fd0970afd37bab9406e">llvm::BFIDOTGraphTraitsBase::getGraphName</a></div><div class="ttdeci">static StringRef getGraphName(const BlockFrequencyInfoT *G)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01819">BlockFrequencyInfoImpl.h:1819</a></div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a4f9621609a1a9b7c883c8b5e0f3afe84"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a4f9621609a1a9b7c883c8b5e0f3afe84">llvm::BlockFrequencyInfoImplBase::BlockNode::operator&gt;=</a></div><div class="ttdeci">bool operator&gt;=(const BlockNode &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00202">BlockFrequencyInfoImpl.h:202</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_ad8c901b3cabbffe2815f23e07664c821"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ad8c901b3cabbffe2815f23e07664c821">llvm::bfi_detail::IrreducibleGraph::IrrNode::Node</a></div><div class="ttdeci">BlockNode Node</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00609">BlockFrequencyInfoImpl.h:609</a></div></div>
<div class="ttc" id="anamespacellvm_html_a598a6261818f8c015f4ebd74ad4ae81a"><div class="ttname"><a href="namespacellvm.html#a598a6261818f8c015f4ebd74ad4ae81a">llvm::UseIterativeBFIInference</a></div><div class="ttdeci">llvm::cl::opt&lt; bool &gt; UseIterativeBFIInference</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImpl_html"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a></div><div class="ttdoc">Shared implementation for block frequency analysis.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfo_8h_source.html#l00031">BlockFrequencyInfo.h:31</a></div></div>
<div class="ttc" id="astructllvm_1_1DefaultDOTGraphTraits_html"><div class="ttname"><a href="structllvm_1_1DefaultDOTGraphTraits.html">llvm::DefaultDOTGraphTraits</a></div><div class="ttdoc">DefaultDOTGraphTraits - This class provides the default implementations of all of the DOTGraphTraits ...</div><div class="ttdef"><b>Definition:</b> <a href="DOTGraphTraits_8h_source.html#l00028">DOTGraphTraits.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a81aacbe4befdc892179bb8cdac170370"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a81aacbe4befdc892179bb8cdac170370">llvm::BlockFrequencyInfoImplBase::getBlockName</a></div><div class="ttdeci">virtual std::string getBlockName(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00636">BlockFrequencyInfoImpl.cpp:636</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_aed6828c6f5229e4099a34c13da1d2d08"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aed6828c6f5229e4099a34c13da1d2d08">llvm::BlockFrequencyInfoImplBase::LoopData::getHeaderIndex</a></div><div class="ttdeci">HeaderMassList::difference_type getHeaderIndex(const BlockNode &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00259">BlockFrequencyInfoImpl.h:259</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a15176dcd11b934430b2c5d0683b79492"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a15176dcd11b934430b2c5d0683b79492">llvm::BlockFrequencyInfoImplBase::BlockNode::operator==</a></div><div class="ttdeci">bool operator==(const BlockNode &amp;X) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00199">BlockFrequencyInfoImpl.h:199</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1618f47bea0cb600291c8fb627eede51"><div class="ttname"><a href="namespacellvm.html#a1618f47bea0cb600291c8fb627eede51">llvm::getWeightFromBranchProb</a></div><div class="ttdeci">uint32_t getWeightFromBranchProb(const BranchProbability Prob)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01689">BlockFrequencyInfoImpl.h:1689</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a673d335f21e5df4fb227432b653fe8ab"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a673d335f21e5df4fb227432b653fe8ab">llvm::BlockFrequencyInfoImplBase::isIrrLoopHeader</a></div><div class="ttdeci">bool isIrrLoopHeader(const BlockNode &amp;Node)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00615">BlockFrequencyInfoImpl.cpp:615</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_html_a741f7d63af17a7bd0bcf63f68e8658bd"><div class="ttname"><a href="structllvm_1_1GraphTraits.html#a741f7d63af17a7bd0bcf63f68e8658bd">llvm::GraphTraits::NodeRef</a></div><div class="ttdeci">typename GraphType::UnknownGraphTypeError NodeRef</div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00080">GraphTraits.h:80</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_html"><div class="ttname"><a href="structllvm_1_1GraphTraits.html">llvm::GraphTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00037">GraphTraits.h:37</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">llvm::BlockFrequencyInfoImplBase::LoopData</a></div><div class="ttdoc">Data about a loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00223">BlockFrequencyInfoImpl.h:223</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a1377985f15180a3717b4a519b13eaedb"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">llvm::bfi_detail::IrreducibleGraph::indexNodes</a></div><div class="ttdeci">void indexNodes()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00676">BlockFrequencyInfoImpl.cpp:676</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a8961714adf03d003152f5f785da8b26a"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">llvm::bfi_detail::IrreducibleGraph::Nodes</a></div><div class="ttdeci">std::vector&lt; IrrNode &gt; Nodes</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00624">BlockFrequencyInfoImpl.h:624</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_1_1ProfileCount_html"><div class="ttname"><a href="classllvm_1_1Function_1_1ProfileCount.html">llvm::Function::ProfileCount</a></div><div class="ttdoc">Class to represent profile counts.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00252">Function.h:252</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_aae0e48b4d74e4dbcd777495cd16ae822"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">llvm::bfi_detail::IrreducibleGraph::Lookup</a></div><div class="ttdeci">SmallDenseMap&lt; uint32_t, IrrNode *, 4 &gt; Lookup</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00625">BlockFrequencyInfoImpl.h:625</a></div></div>
<div class="ttc" id="alib_2Target_2WebAssembly_2README_8txt_html_a79ea041233b5866026c3071dfc464ec0"><div class="ttname"><a href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">copy</a></div><div class="ttdeci">we should consider alternate ways to model stack dependencies Lots of things could be done in WebAssemblyTargetTransformInfo cpp there are numerous optimization related hooks that can be overridden in WebAssemblyTargetLowering Instead of the OptimizeReturned which should consider preserving the returned attribute through to MachineInstrs and extending the MemIntrinsicResults pass to do this optimization on calls too That would also let the WebAssemblyPeephole pass clean up dead defs for such as it does for stores Consider implementing and or getMachineCombinerPatterns Find a clean way to fix the problem which leads to the Shrink Wrapping pass being run after the WebAssembly PEI pass When setting multiple variables to the same we currently get code like const It could be done with a smaller encoding like local tee $pop5 local copy</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2WebAssembly_2README_8txt_source.html#l00101">README.txt:101</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::pdb::PDB_SymType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_ac86fec7279ee04ded4052cdc9a867ea9"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac86fec7279ee04ded4052cdc9a867ea9">llvm::BlockFrequencyInfoImplBase::Distribution::addExit</a></div><div class="ttdeci">void addExit(const BlockNode &amp;Node, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00397">BlockFrequencyInfoImpl.h:397</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">llvm::BlockFrequencyInfoImplBase::BlockNode</a></div><div class="ttdoc">Representative of a block.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00191">BlockFrequencyInfoImpl.h:191</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_aaf226952008495c98bd9d9652b25cfd8"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#aaf226952008495c98bd9d9652b25cfd8">llvm::BlockFrequencyInfoImplBase::Distribution::Total</a></div><div class="ttdeci">uint64_t Total</div><div class="ttdoc">Sum of all weights.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00388">BlockFrequencyInfoImpl.h:388</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_ae21e5d7ba9e61bdd5a1b97cf142fbaa1"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">llvm::bfi_detail::IrreducibleGraph::IrrNode::Edges</a></div><div class="ttdeci">std::deque&lt; const IrrNode * &gt; Edges</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00611">BlockFrequencyInfoImpl.h:611</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_abb6ffa63ccb2a569d6b4dc397086e1fe"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#abb6ffa63ccb2a569d6b4dc397086e1fe">llvm::bfi_detail::IrreducibleGraph::IrrNode::succ_begin</a></div><div class="ttdeci">iterator succ_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00618">BlockFrequencyInfoImpl.h:618</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aac32cd773a37b10c8f835459a23ac606"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">llvm::BlockFrequencyInfoImplBase::addToDist</a></div><div class="ttdeci">bool addToDist(Distribution &amp;Dist, const LoopData *OuterLoop, const BlockNode &amp;Pred, const BlockNode &amp;Succ, uint64_t Weight)</div><div class="ttdoc">Add an edge to the distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00311">BlockFrequencyInfoImpl.cpp:311</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aabc6780051353310f8899f9cc5283337"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">llvm::BlockFrequencyInfoImplBase::analyzeIrreducible</a></div><div class="ttdeci">iterator_range&lt; std::list&lt; LoopData &gt;::iterator &gt; analyzeIrreducible(const bfi_detail::IrreducibleGraph &amp;G, LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert)</div><div class="ttdoc">Analyze irreducible SCCs.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00804">BlockFrequencyInfoImpl.cpp:804</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a57337f61d0a424ccd49ba147b0691fb5"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a57337f61d0a424ccd49ba147b0691fb5">llvm::BlockFrequencyInfoImplBase::BlockNode::BlockNode</a></div><div class="ttdeci">BlockNode(IndexType Index)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00197">BlockFrequencyInfoImpl.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a542ba189f3ea922222b703a4b345c1a8"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a542ba189f3ea922222b703a4b345c1a8">llvm::bfi_detail::BlockMass::BlockMass</a></div><div class="ttdeci">BlockMass(uint64_t Mass)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00096">BlockFrequencyInfoImpl.h:96</a></div></div>
<div class="ttc" id="astructllvm_1_1BFIDOTGraphTraitsBase_html_a4f485b79982569296daa3a3bd6bb7882"><div class="ttname"><a href="structllvm_1_1BFIDOTGraphTraitsBase.html#a4f485b79982569296daa3a3bd6bb7882">llvm::BFIDOTGraphTraitsBase::MaxFrequency</a></div><div class="ttdeci">uint64_t MaxFrequency</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01814">BlockFrequencyInfoImpl.h:1814</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a3a1365a0e73d71419aad3e55da8c2cb5"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a3a1365a0e73d71419aad3e55da8c2cb5">llvm::BlockFrequencyInfoImplBase::LoopData::IsPackaged</a></div><div class="ttdeci">bool IsPackaged</div><div class="ttdoc">Whether this has been packaged.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00229">BlockFrequencyInfoImpl.h:229</a></div></div>
<div class="ttc" id="anamespacellvm_html_af0bf055834b973decc2477a8061624ff"><div class="ttname"><a href="namespacellvm.html#af0bf055834b973decc2477a8061624ff">llvm::GVDAGType</a></div><div class="ttdeci">GVDAGType</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l01805">BlockFrequencyInfoImpl.h:1805</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:42:06 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
