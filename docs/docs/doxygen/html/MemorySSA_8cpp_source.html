<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Analysis/MemorySSA.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a25db018342d3ae6c7e6779086c18378.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MemorySSA.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MemorySSA_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MemorySSA.cpp - Memory SSA Builder ---------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the MemorySSA class.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemorySSA_8h.html">llvm/Analysis/MemorySSA.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMapInfo_8h.html">llvm/ADT/DenseMapInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Hashing_8h.html">llvm/ADT/Hashing.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator_8h.html">llvm/ADT/iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator__range_8h.html">llvm/ADT/iterator_range.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CFGPrinter_8h.html">llvm/Analysis/CFGPrinter.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IteratedDominanceFrontier_8h.html">llvm/Analysis/IteratedDominanceFrontier.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryLocation_8h.html">llvm/Analysis/MemoryLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssemblyAnnotationWriter_8h.html">llvm/IR/AssemblyAnnotationWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AtomicOrdering_8h.html">llvm/Support/AtomicOrdering.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FormattedStream_8h.html">llvm/Support/FormattedStream.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GraphWriter_8h.html">llvm/Support/GraphWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   60</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;memoryssa&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="MemorySSA_8cpp.html#a340e155528d3d902fac9349a3bab435d">DotCFGMSSA</a>(<span class="stringliteral">&quot;dot-cfg-mssa&quot;</span>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;               <a class="code" href="structllvm_1_1cl_1_1value__desc.html">cl::value_desc</a>(<span class="stringliteral">&quot;file name for generated dot file&quot;</span>),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;               <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;file name for generated dot file&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="MemorySSA_8cpp.html#a72507946850fcd3cdea22735440c5a83">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>, <span class="stringliteral">&quot;memoryssa&quot;</span>, <span class="stringliteral">&quot;Memory SSA&quot;</span>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                      <span class="keyword">true</span>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#a20a60bdac22b099d87d8cb0c1d554120">   71</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>, &quot;<a class="code" href="MemorySSA_8cpp.html#a06e2f0489fb9bed0b271e8fe6c2b7545">memoryssa</a>&quot;, &quot;<a class="code" href="classllvm_1_1sys_1_1Memory.html">Memory</a> <a class="code" href="MemorySSA_8cpp.html#a20a60bdac22b099d87d8cb0c1d554120">SSA</a>&quot;, <a class="code" href="namespacefalse.html">false</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                    <a class="code" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<a class="code" href="MemorySSA_8cpp.html#a72507946850fcd3cdea22735440c5a83">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1MemorySSAPrinterLegacyPass.html">MemorySSAPrinterLegacyPass</a>, &quot;<a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>-<a class="code" href="MemorySSA_8cpp.html#a06e2f0489fb9bed0b271e8fe6c2b7545">memoryssa</a>&quot;,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                      &quot;<a class="code" href="classllvm_1_1sys_1_1Memory.html">Memory</a> <a class="code" href="MemorySSA_8cpp.html#a20a60bdac22b099d87d8cb0c1d554120">SSA</a> <a class="code" href="MemorySSA_8cpp.html#aced78c3344e93eaed9a44b319bf14c29">Printer</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1MemorySSAPrinterLegacyPass.html">MemorySSAPrinterLegacyPass</a>, &quot;<a class="code" href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">print</a>-<a class="code" href="MemorySSA_8cpp.html#a06e2f0489fb9bed0b271e8fe6c2b7545">memoryssa</a>&quot;,</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#aced78c3344e93eaed9a44b319bf14c29">   78</a></span>&#160;                    &quot;<a class="code" href="classllvm_1_1sys_1_1Memory.html">Memory</a> <a class="code" href="MemorySSA_8cpp.html#a20a60bdac22b099d87d8cb0c1d554120">SSA</a> <a class="code" href="MemorySSA_8cpp.html#aced78c3344e93eaed9a44b319bf14c29">Printer</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;static <a class="code" href="lib_2Target_2X86_2README_8txt.html#ae1268e7601b73d11a7237fc33631a6e6">cl</a>::<a class="code" href="ARMLoadStoreOptimizer_8cpp.html#ab3bfc7321acfbc3619170d5bed907cb3">opt</a>&lt;<span class="keywordtype">unsigned</span>&gt; <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>(</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    &quot;<a class="code" href="EarlyCSE_8cpp.html#a310e3a79b8a474993ca1d62a3de9338c">memssa</a>-<a class="code" href="GenericCycleImpl_8h.html#a9b7ee5bbb263671ca310a70e0d1526e9">check</a>-limit&quot;, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ae1268e7601b73d11a7237fc33631a6e6">cl</a>::Hidden, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ae1268e7601b73d11a7237fc33631a6e6">cl</a>::<a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">init</a>(100),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ae1268e7601b73d11a7237fc33631a6e6">cl</a>::desc(&quot;The <a class="code" href="namespacellvm.html#a38dcdde63d81fbda1d22dffd1a27b343">maximum</a> number <a class="code" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="code" href="HexagonStoreWidening_8cpp.html#a7d2c711a42f51c1f7b3ce3f8f560fa74">stores</a>/phis <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a>&quot;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;             &quot;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09571efa45610bd20734656e6c524047">will</a> <a class="code" href="README-SSE_8txt.html#a46c8085554844d09b2f3c80bdc833a19">consider</a> trying <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a91f4469a9d29e354421494afd4ba466d">to</a> walk past (default = 100)&quot;));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// Always verify MemorySSA if expensive checking is enabled.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">llvm::VerifyMemorySSA</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">   89</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">llvm::VerifyMemorySSA</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool, true&gt;</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="MemorySSA_8cpp.html#aba328dc3197724a10ffa60efc7e308be">VerifyMemorySSAX</a>(<span class="stringliteral">&quot;verify-memoryssa&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#aed47e4757f3240146f8ad40c2cdbf2d1">cl::location</a>(<a class="code" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                     <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable verification of MemorySSA.&quot;</span>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">   96</a></span>&#160;<span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">LiveOnEntryStr</a>[] = <span class="stringliteral">&quot;liveOnEntry&quot;</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/// An assembly annotator class to print Memory SSA information in</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/// comments.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span><span class="keyword">class </span>MemorySSAAnnotatedWriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1AssemblyAnnotationWriter.html">AssemblyAnnotationWriter</a> {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  MemorySSAAnnotatedWriter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) : MSSA(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">void</span> emitBasicBlockStartAnnot(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                <a class="code" href="classllvm_1_1formatted__raw__ostream.html">formatted_raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;; &quot;</span> &lt;&lt; *MA &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">void</span> emitInstructionAnnot(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                            <a class="code" href="classllvm_1_1formatted__raw__ostream.html">formatted_raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;; &quot;</span> &lt;&lt; *MA &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// An assembly annotator class to print Memory SSA information in</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// comments.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span><span class="keyword">class </span>MemorySSAWalkerAnnotatedWriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1AssemblyAnnotationWriter.html">AssemblyAnnotationWriter</a> {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a> *Walker;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BAA;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  MemorySSAWalkerAnnotatedWriter(<a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      : MSSA(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), Walker(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getWalker()), BAA(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getAA()) {}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordtype">void</span> emitBasicBlockStartAnnot(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                <a class="code" href="classllvm_1_1formatted__raw__ostream.html">formatted_raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;; &quot;</span> &lt;&lt; *MA &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">void</span> emitInstructionAnnot(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                            <a class="code" href="classllvm_1_1formatted__raw__ostream.html">formatted_raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Clobber = Walker-&gt;<a class="code" href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">getClobberingMemoryAccess</a>(MA, BAA);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;; &quot;</span> &lt;&lt; *MA;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">if</span> (Clobber) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot; - clobbered by &quot;</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Clobber))</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">LiveOnEntryStr</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;          <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; *Clobber;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;};</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">/// Our current alias analysis API differentiates heavily between calls and</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">/// non-calls, and functions called on one usually assert on the other.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/// This class encapsulates the distinction to simplify other code that wants</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/// &quot;Memory affecting instructions and related data&quot; to use as a key.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// For example, this class is used as a densemap key in the use optimizer.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"></span><span class="keyword">class </span>MemoryLocOrCall {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">bool</span> IsCall = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  MemoryLocOrCall(<a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MUD)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      : MemoryLocOrCall(MUD-&gt;getMemoryInst()) {}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  MemoryLocOrCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MUD)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      : MemoryLocOrCall(MUD-&gt;getMemoryInst()) {}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  MemoryLocOrCall(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;CallBase&gt;(Inst)) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      IsCall = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      IsCall = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="comment">// There is no such thing as a memorylocation for a fence inst, and it is</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">// unique in that regard.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;FenceInst&gt;(Inst))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(Inst);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keyword">explicit</span> MemoryLocOrCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc) : Loc(Loc) {}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *getCall()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IsCall);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> getLoc()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!IsCall);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> Loc;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<span class="keyword">const</span> MemoryLocOrCall &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (IsCall != <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.IsCall)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (!IsCall)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">return</span> Loc == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Loc;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getCalledOperand() != <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Call-&gt;getCalledOperand())</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;arg_size() == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Call-&gt;arg_size() &amp;&amp;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;           <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1abf5ba3ee47e95dae362eb24b6d4f48e5">std::equal</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;arg_begin(), <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;arg_end(),</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                      <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Call-&gt;arg_begin());</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keyword">union </span>{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> Loc;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  };</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;};</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html">  224</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo</a>&lt;MemoryLocOrCall&gt; {</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#ac9f27c5f4b485fa4c3101856d82d40bc">  225</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> MemoryLocOrCall <a class="code" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#ac9f27c5f4b485fa4c3101856d82d40bc">getEmptyKey</a>() {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> MemoryLocOrCall(<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;MemoryLocation&gt;::getEmptyKey</a>());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#afeeee37d51ca9e41d7ef8d85fc47e807">  229</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> MemoryLocOrCall <a class="code" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#afeeee37d51ca9e41d7ef8d85fc47e807">getTombstoneKey</a>() {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> MemoryLocOrCall(<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;MemoryLocation&gt;::getTombstoneKey</a>());</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#a8067c360f88c5012f1ffebb342f72d36">  233</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#a8067c360f88c5012f1ffebb342f72d36">getHashValue</a>(<span class="keyword">const</span> MemoryLocOrCall &amp;MLOC) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (!MLOC.IsCall)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#add71474638430694c84640146383fc44">hash_combine</a>(</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          MLOC.IsCall,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;MemoryLocation&gt;::getHashValue</a>(MLOC.getLoc()));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classllvm_1_1hash__code.html">hash_code</a> hash =</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="namespacellvm.html#add71474638430694c84640146383fc44">hash_combine</a>(MLOC.IsCall, <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;const Value *&gt;::getHashValue</a>(</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                      MLOC.getCall()-&gt;getCalledOperand()));</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : MLOC.getCall()-&gt;args())</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      hash = <a class="code" href="namespacellvm.html#add71474638430694c84640146383fc44">hash_combine</a>(hash, <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;const Value *&gt;::getHashValue</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> hash;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#a1aaef96a9b5ebb2c88c4001393744f9e">  248</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#a1aaef96a9b5ebb2c88c4001393744f9e">isEqual</a>(<span class="keyword">const</span> MemoryLocOrCall &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> MemoryLocOrCall &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;};</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">/// This does one-way checks to see if Use could theoretically be hoisted above</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/// MayClobber. This will not check the other way around.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/// This assumes that, for the purposes of MemorySSA, Use comes directly after</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/// MayClobber, with no potentially clobbering operations in between them.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">/// (Where potentially clobbering ops are memory barriers, aliased stores, etc.)</span></div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#ac01b3bf4dda9266ec05d70b2f55281fa">  261</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MemorySSA_8cpp.html#ac01b3bf4dda9266ec05d70b2f55281fa">areLoadsReorderable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *<a class="code" href="classllvm_1_1Use.html">Use</a>,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *MayClobber) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordtype">bool</span> VolatileUse = <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;isVolatile();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordtype">bool</span> VolatileClobber = MayClobber-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a2eccc19f9061eeb7ad1e30e21f76034d">isVolatile</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// Volatile operations may never be reordered with other volatile operations.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span> (VolatileUse &amp;&amp; VolatileClobber)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// Otherwise, volatile doesn&#39;t matter here. From the language reference:</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// &#39;optimizers may change the order of volatile operations relative to</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// non-volatile operations.&#39;&quot;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// If a load is seq_cst, it cannot be moved above other loads. If its ordering</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// is weaker, it can be moved above other loads. We just need to be sure that</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// MayClobber isn&#39;t an acquire load, because loads can&#39;t be moved above</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// acquire loads.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// Note that this explicitly *does* allow the free reordering of monotonic (or</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// weaker) loads of the same address.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordtype">bool</span> SeqCstUse = <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOrdering() == <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7ae3b0fa849dbd758b450f98fcfde936a2">AtomicOrdering::SequentiallyConsistent</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">bool</span> MayClobberIsAcquire = <a class="code" href="namespacellvm.html#a7f04318888b610cbdd037adc9b1b17e3">isAtLeastOrStrongerThan</a>(MayClobber-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a93603fe0d4168b92a901f06015ecb2e7">getOrdering</a>(),</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                                     <a class="code" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a993ca650a85e8e69b8f7eaa4809c4862">AtomicOrdering::Acquire</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">return</span> !(SeqCstUse || MayClobberIsAcquire);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AliasAnalysisType&gt;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">  287</a></span>&#160;<a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *MD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;UseLoc,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst, AliasAnalysisType &amp;AA) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *DefInst = MD-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DefInst &amp;&amp; <span class="stringliteral">&quot;Defining instruction not actually an instruction&quot;</span>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(DefInst)) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// These intrinsics will show up as affecting memory, but they are just</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// markers, mostly.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// FIXME: We probably don&#39;t actually want MemorySSA to model these at all</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// (including creating MemoryAccesses for them): we just end up inventing</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// clobbers where they don&#39;t really exist at all. Please see D43269 for</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// context.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">case</span> Intrinsic::invariant_start:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">case</span> Intrinsic::invariant_end:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">case</span> Intrinsic::assume:</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">case</span> Intrinsic::experimental_noalias_scope_decl:</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">case</span> Intrinsic::pseudoprobe:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_addr:</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_declare:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_label:</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">case</span> Intrinsic::dbg_value:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;debuginfo shouldn&#39;t have associated defs!&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast_or_null&lt;CallBase&gt;(UseInst)) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AA.getModRefInfo(DefInst, CB);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a854abfc88bcd24e3878e2c9ab1f70fd3">isModOrRefSet</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DefLoad = dyn_cast&lt;LoadInst&gt;(DefInst))</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *UseLoad = dyn_cast_or_null&lt;LoadInst&gt;(UseInst))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">return</span> !<a class="code" href="MemorySSA_8cpp.html#ac01b3bf4dda9266ec05d70b2f55281fa">areLoadsReorderable</a>(UseLoad, DefLoad);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AA.getModRefInfo(DefInst, UseLoc);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AliasAnalysisType&gt;</div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#a1814ed6d3f06b8b8adc648fa7c5453bb">  331</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *MD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MU,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                     <span class="keyword">const</span> MemoryLocOrCall &amp;UseMLOC,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                     AliasAnalysisType &amp;AA) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// FIXME: This is a temporary hack to allow a single instructionClobbersQuery</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// to exist while MemoryLocOrCall is pushed through places.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (UseMLOC.IsCall)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a>(), MU-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>(),</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                    AA);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, UseMLOC.getLoc(), MU-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>(),</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                  AA);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">// Return true when MD may alias MU, return false otherwise.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAUtil.html#ac6b2e834ecda34d360b905083ad6b37e">  344</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemorySSAUtil.html#ac6b2e834ecda34d360b905083ad6b37e">MemorySSAUtil::defClobbersUseOrDef</a>(<a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *MD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MU,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                        <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> &amp;AA) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, MU, MemoryLocOrCall(MU), AA);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keyword">struct </span>UpwardsMemoryQuery {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// True if our original query started off as a call</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordtype">bool</span> IsCall = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// The pointer location we started the query with. This will be empty if</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// IsCall is true.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> StartingLoc;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// This is the instruction we were querying about.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// The MemoryAccess we actually got called with, used to test local domination</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *OriginalAccess = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">bool</span> SkipSelfAccess = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  UpwardsMemoryQuery() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  UpwardsMemoryQuery(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Access)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      : IsCall(<a class="code" href="namespacellvm.html#a92ca992e52dddc420f4b069cae06dfbe">isa</a>&lt;<a class="code" href="classllvm_1_1CallBase.html">CallBase</a>&gt;(Inst)), Inst(Inst), OriginalAccess(Access) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (!IsCall)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      StartingLoc = <a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(Inst);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;};</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#a7d22bda4751f65ff3beea195460730e8">  374</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="MemorySSA_8cpp.html#a7d22bda4751f65ff3beea195460730e8">isUseTriviallyOptimizableToLiveOnEntry</a>(<a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;AA,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// If the memory can&#39;t be changed, then loads of the memory can&#39;t be</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// clobbered.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasMetadata(LLVMContext::MD_invariant_load) ||</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;           !<a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(AA.<a class="code" href="classllvm_1_1BatchAAResults.html#af2a774dba86bfeea3d8843822a974fe2">getModRefInfoMask</a>(<a class="code" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(LI)));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">/// Verifies that `Start` is clobbered by `ClobberAt`, and that nothing</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/// inbetween `Start` and `ClobberAt` can clobbers `Start`.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">/// This is meant to be as simple and self-contained as possible. Because it</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">/// uses no cache, etc., it can be relatively expensive.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/// \param Start     The MemoryAccess that we want to walk from.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/// \param ClobberAt A clobber for Start.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">/// \param StartLoc  The MemoryLocation for Start.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">/// \param MSSA      The MemorySSA instance that Start and ClobberAt belong to.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/// \param Query     The UpwardsMemoryQuery we used for our search.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/// \param AA        The AliasAnalysis we used for our search.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/// \param AllowImpreciseClobber Always false, unless we do relaxed verify.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<a class="code" href="Compiler_8h.html#acc1c483f4b4ee2f17bb6643a3b353609">LLVM_ATTRIBUTE_UNUSED</a> <span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#a930e3a524f031bdb14fe281e4eff4219">  400</a></span>&#160;<a class="code" href="MemorySSA_8cpp.html#a930e3a524f031bdb14fe281e4eff4219">checkClobberSanity</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Start, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *ClobberAt,</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;StartLoc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                   <span class="keyword">const</span> UpwardsMemoryQuery &amp;Query, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;AA,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                   <span class="keywordtype">bool</span> AllowImpreciseClobber = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(ClobberAt, Start) &amp;&amp; <span class="stringliteral">&quot;Clobber doesn&#39;t dominate start?&quot;</span>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Start)) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(ClobberAt) &amp;&amp;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;           <span class="stringliteral">&quot;liveOnEntry must clobber itself&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordtype">bool</span> FoundClobber = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;ConstMemoryAccessPair&gt;</a> VisitedPhis;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ConstMemoryAccessPair, 8&gt;</a> Worklist;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(Start, StartLoc);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// Walk all paths from Start to ClobberAt, while looking for clobbers. If one</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// is found, complain.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keyword">auto</span> <a class="code" href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// All we care about is that nothing from Start to ClobberAt clobbers Start.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// We learn nothing from revisiting nodes.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (!VisitedPhis.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a>).second)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MA : <a class="code" href="namespacellvm.html#ae833ff4bb3c49473a3eb6aa5db75ff25">def_chain</a>(<a class="code" href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a>.first)) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">if</span> (MA == ClobberAt) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;MemoryDef&gt;(MA)) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          <span class="comment">// instructionClobbersQuery isn&#39;t essentially free, so don&#39;t use `|=`,</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          <span class="comment">// since it won&#39;t let us short-circuit.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          <span class="comment">// Also, note that this can&#39;t be hoisted out of the `Worklist` loop,</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          <span class="comment">// since MD may only act as a clobber for 1 of N MemoryLocations.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          FoundClobber = FoundClobber || MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(MD);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          <span class="keywordflow">if</span> (!FoundClobber) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, <a class="code" href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a>.second, Query.Inst, AA))</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;              FoundClobber = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="comment">// We should never hit liveOnEntry, unless it&#39;s the clobber.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(MA) &amp;&amp; <span class="stringliteral">&quot;Hit liveOnEntry before clobber?&quot;</span>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;MemoryDef&gt;(MA)) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// If Start is a Def, skip self.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (MD == Start)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, <a class="code" href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a>.second, Query.Inst, AA) &amp;&amp;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;               <span class="stringliteral">&quot;Found clobber before reaching ClobberAt!&quot;</span>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MU = dyn_cast&lt;MemoryUse&gt;(MA)) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        (void)MU;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (MU == Start &amp;&amp;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <span class="stringliteral">&quot;Can only find use in def chain if Start is a use&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;MemoryPhi&gt;(MA));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="comment">// Add reachable phi predecessors</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> ItB = <a class="code" href="namespacellvm.html#a4a580cd523b1b82c2c5770101e8ab3ec">upward_defs_begin</a>(</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    {<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<span class="keyword">&gt;</span>(MA), <a class="code" href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a>.second},</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#aa7b3b79fbb6cea38252bce951169add4">getDomTree</a>()),</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                ItE = <a class="code" href="namespacellvm.html#aaa8db63ab2c8843f6e41c7fde63b1d84">upward_defs_end</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;           ItB != ItE; ++ItB)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span> (MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#aa7b3b79fbb6cea38252bce951169add4">getDomTree</a>().<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(ItB.getPhiArgBlock()))</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(*ItB);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// If the verify is done following an optimization, it&#39;s possible that</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// ClobberAt was a conservative clobbering, that we can now infer is not a</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// true clobbering access. Don&#39;t fail the verify if that&#39;s the case.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// We do have accesses that claim they&#39;re optimized, but could be optimized</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// further. Updating all these can be expensive, so allow it for now (FIXME).</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (AllowImpreciseClobber)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// If ClobberAt is a MemoryPhi, we can assume something above it acted as a</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// clobber. Otherwise, `ClobberAt` should&#39;ve acted as a clobber at some point.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;MemoryPhi&gt;(ClobberAt) || FoundClobber) &amp;&amp;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         <span class="stringliteral">&quot;ClobberAt never acted as a clobber&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/// Our algorithm for walking (and trying to optimize) clobbers, all wrapped up</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">/// in one class.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"></span><span class="keyword">class </span>ClobberWalker {<span class="comment"></span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">  /// Save a few bytes by using unsigned instead of size_t.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"></span>  <span class="keyword">using</span> ListIndex = <a class="code" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">  /// Represents a span of contiguous MemoryDefs, potentially ending in a</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">  /// MemoryPhi.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>DefPath {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> Loc;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// Note that, because we always walk in reverse, Last will always dominate</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// First. Also note that First and Last are inclusive.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    std::optional&lt;ListIndex&gt; Previous;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    DefPath(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *First, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Last,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            std::optional&lt;ListIndex&gt; Previous)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        : Loc(Loc), <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>(<a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>), <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>(<a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>), Previous(Previous) {}</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    DefPath(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1Init.html">Init</a>,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            std::optional&lt;ListIndex&gt; Previous)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        : DefPath(Loc, <a class="code" href="classllvm_1_1Init.html">Init</a>, <a class="code" href="classllvm_1_1Init.html">Init</a>, Previous) {}</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  };</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> *AA;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  UpwardsMemoryQuery *Query;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordtype">unsigned</span> *UpwardWalkLimit;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Phi optimization bookkeeping:</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// List of DefPath to process during the current phi optimization walk.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DefPath, 32&gt;</a> Paths;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// List of visited &lt;Access, Location&gt; pairs; we can skip paths already</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="comment">// visited with the same memory location.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;ConstMemoryAccessPair&gt;</a> VisitedPhis;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">  /// Find the nearest def or phi that `From` can legally be optimized to.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *getWalkTarget(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getNumOperands() &amp;&amp; <span class="stringliteral">&quot;Phi with no operands?&quot;</span>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getBlock();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a468b8d23a3bb5b9a484f54193f177713">getLiveOnEntryDef</a>();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *Node = DT.<a class="code" href="classllvm_1_1DominatorTreeBase.html#a4344e66fb61ea313a85a9e054124ac55">getNode</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">while</span> ((Node = Node-&gt;getIDom())) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keyword">auto</span> *Defs = MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a65b7c715bf28eb17cfd012dd9bc3ad4b">getBlockDefs</a>(Node-&gt;getBlock());</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">if</span> (Defs)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">return</span> &amp;*Defs-&gt;<a class="code" href="classllvm_1_1simple__ilist.html#aefb5430ea919aa7223dbf8583e947111">rbegin</a>();</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">  /// Result of calling walkToPhiOrClobber.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>UpwardsWalkResult {<span class="comment"></span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">    /// The &quot;Result&quot; of the walk. Either a clobber, the last thing we walked, or</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">    /// both. Include alias info when clobber found.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">bool</span> IsKnownClobber;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  };</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">  /// Walk to the next Phi or Clobber in the def chain starting at Desc.Last.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">  /// This will update Desc.Last as it walks. It will (optionally) also stop at</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">  /// StopAt.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">  /// This does not test for whether StopAt is a clobber</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"></span>  UpwardsWalkResult</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  walkToPhiOrClobber(DefPath &amp;Desc, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *StopAt = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *SkipStopAt = <span class="keyword">nullptr</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;MemoryUse&gt;(Desc.Last) &amp;&amp; <span class="stringliteral">&quot;Uses don&#39;t exist in my world&quot;</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UpwardWalkLimit &amp;&amp; <span class="stringliteral">&quot;Need a valid walk limit&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">bool</span> LimitAlreadyReached = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// (*UpwardWalkLimit) may be 0 here, due to the loop in tryOptimizePhi. Set</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// it to 1. This will not do any alias() calls. It either returns in the</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// first iteration in the loop below, or is set back to 0 if all def chains</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// are free of MemoryDefs.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (!*UpwardWalkLimit) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      *UpwardWalkLimit = 1;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      LimitAlreadyReached = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Current : <a class="code" href="namespacellvm.html#ae833ff4bb3c49473a3eb6aa5db75ff25">def_chain</a>(Desc.Last)) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      Desc.Last = Current;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (Current == StopAt || Current == SkipStopAt)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">return</span> {Current, <span class="keyword">false</span>};</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = dyn_cast&lt;MemoryDef&gt;(Current)) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> (MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(MD))</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;          <span class="keywordflow">return</span> {MD, <span class="keyword">true</span>};</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> (!--*UpwardWalkLimit)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          <span class="keywordflow">return</span> {Current, <span class="keyword">true</span>};</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, Desc.Loc, Query-&gt;Inst, *AA))</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;          <span class="keywordflow">return</span> {MD, <span class="keyword">true</span>};</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (LimitAlreadyReached)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      *UpwardWalkLimit = 0;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;MemoryPhi&gt;(Desc.Last) &amp;&amp;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;           <span class="stringliteral">&quot;Ended at a non-clobber that&#39;s not a phi?&quot;</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> {Desc.Last, <span class="keyword">false</span>};</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordtype">void</span> addSearches(<a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *Phi, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ListIndex&gt;</a> &amp;PausedSearches,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                   ListIndex PriorNode) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keyword">auto</span> UpwardDefsBegin = <a class="code" href="namespacellvm.html#a4a580cd523b1b82c2c5770101e8ab3ec">upward_defs_begin</a>({Phi, Paths[PriorNode].Loc}, DT);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keyword">auto</span> UpwardDefs = <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(UpwardDefsBegin, <a class="code" href="namespacellvm.html#aaa8db63ab2c8843f6e41c7fde63b1d84">upward_defs_end</a>());</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacellvm.html#aa9d12274f5a8784ab14b568bfa25ec0f">MemoryAccessPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : UpwardDefs) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      PausedSearches.push_back(Paths.size());</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      Paths.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first, PriorNode);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">  /// Represents a search that terminated after finding a clobber. This clobber</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">  /// may or may not be present in the path of defs from LastNode..SearchStart,</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">  /// since it may have been retrieved from cache.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>TerminatedPath {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Clobber;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    ListIndex LastNode;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  };</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">  /// Get an access that keeps us from optimizing to the given phi.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">  /// PausedSearches is an array of indices into the Paths array. Its incoming</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">  /// value is the indices of searches that stopped at the last phi optimization</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">  /// target. It&#39;s left in an unspecified state.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">  /// If this returns std::nullopt, NewPaused is a vector of searches that</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">  /// terminated at StopWhere. Otherwise, NewPaused is left in an unspecified</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">  /// state.</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"></span>  std::optional&lt;TerminatedPath&gt;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  getBlockingAccess(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *StopWhere,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ListIndex&gt;</a> &amp;PausedSearches,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ListIndex&gt;</a> &amp;NewPaused,</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;TerminatedPath&gt;</a> &amp;Terminated) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PausedSearches.empty() &amp;&amp; <span class="stringliteral">&quot;No searches to continue?&quot;</span>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// BFS vs DFS really doesn&#39;t make a difference here, so just do a DFS with</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// PausedSearches as our stack.</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">while</span> (!PausedSearches.empty()) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      ListIndex PathIndex = PausedSearches.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      DefPath &amp;Node = Paths[PathIndex];</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="comment">// If we&#39;ve already visited this path with this MemoryLocation, we don&#39;t</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="comment">// need to do so again.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="comment">// NOTE: That we just drop these paths on the ground makes caching</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="comment">// behavior sporadic. e.g. given a diamond:</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="comment">//  A</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="comment">// B C</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="comment">//  D</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">// ...If we walk D, B, A, C, we&#39;ll only cache the result of phi</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="comment">// optimization for A, B, and D; C will be skipped because it dies here.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="comment">// This arguably isn&#39;t the worst thing ever, since:</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="comment">//   - We generally query things in a top-down order, so if we got below D</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="comment">//     without needing cache entries for {C, MemLoc}, then chances are</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="comment">//     that those cache entries would end up ultimately unused.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="comment">//   - We still cache things for A, so C only needs to walk up a bit.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">// If this behavior becomes problematic, we can fix without a ton of extra</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="comment">// work.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">if</span> (!VisitedPhis.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>({Node.Last, Node.Loc}).second)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *SkipStopWhere = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">if</span> (Query-&gt;SkipSelfAccess &amp;&amp; Node.Loc == Query-&gt;StartingLoc) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;MemoryDef&gt;(Query-&gt;OriginalAccess));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        SkipStopWhere = Query-&gt;OriginalAccess;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      UpwardsWalkResult Res = walkToPhiOrClobber(Node,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                                 <span class="comment">/*StopAt=*/</span>StopWhere,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                                                 <span class="comment">/*SkipStopAt=*/</span>SkipStopWhere);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordflow">if</span> (Res.IsKnownClobber) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Res.Result != StopWhere &amp;&amp; Res.Result != SkipStopWhere);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">// If this wasn&#39;t a cache hit, we hit a clobber when walking. That&#39;s a</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="comment">// failure.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        TerminatedPath <a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>{Res.Result, PathIndex};</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> (!MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(Res.Result, StopWhere))</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="comment">// Otherwise, it&#39;s a valid thing to potentially optimize to.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        Terminated.push_back(<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">if</span> (Res.Result == StopWhere || Res.Result == SkipStopWhere) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// We&#39;ve hit our target. Save this path off for if we want to continue</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="comment">// walking. If we are in the mode of skipping the OriginalAccess, and</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="comment">// we&#39;ve reached back to the OriginalAccess, do not save path, we&#39;ve</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment">// just looped back to self.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span> (Res.Result != SkipStopWhere)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          NewPaused.push_back(PathIndex);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Res.Result) &amp;&amp; <span class="stringliteral">&quot;liveOnEntry is a clobber&quot;</span>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      addSearches(cast&lt;MemoryPhi&gt;(Res.Result), PausedSearches, PathIndex);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Walker&gt;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keyword">struct </span>generic_def_path_iterator</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      : <span class="keyword">public</span> <a class="code" href="classllvm_1_1iterator__facade__base.html">iterator_facade_base</a>&lt;generic_def_path_iterator&lt;T, Walker&gt;,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                                    std::forward_iterator_tag, T *&gt; {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    generic_def_path_iterator() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    generic_def_path_iterator(Walker *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, ListIndex <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) : <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {}</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="classT.html">T</a> &amp;<a class="code" href="namespacellvm.html#a2366b4a30c90d2207626fb717dfb778d">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> curNode(); }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    generic_def_path_iterator &amp;operator++() {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = curNode().Previous;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<span class="keyword">const</span> generic_def_path_iterator &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.has_value() != <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.N.has_value())</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">return</span> !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> || *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> == *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.N;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="classT.html">T</a> &amp;curNode()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>-&gt;Paths[*<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>]; }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    Walker *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    std::optional&lt;ListIndex&gt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  };</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keyword">using</span> def_path_iterator = generic_def_path_iterator&lt;DefPath, ClobberWalker&gt;;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keyword">using</span> const_def_path_iterator =</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      generic_def_path_iterator&lt;const DefPath, const ClobberWalker&gt;;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;def_path_iterator&gt;</a> def_path(ListIndex <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(def_path_iterator(<span class="keyword">this</span>, <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>), def_path_iterator());</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;const_def_path_iterator&gt;</a> const_def_path(ListIndex <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(const_def_path_iterator(<span class="keyword">this</span>, <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>),</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                      const_def_path_iterator());</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keyword">struct </span>OptznResult {<span class="comment"></span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">    /// The path that contains our result.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"></span>    TerminatedPath PrimaryClobber;<span class="comment"></span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">    /// The paths that we can legally cache back from, but that aren&#39;t</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">    /// necessarily the result of the Phi optimization.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TerminatedPath, 4&gt;</a> OtherClobbers;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  };</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  ListIndex defPathIndex(<span class="keyword">const</span> DefPath &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// The assert looks nicer if we don&#39;t need to do &amp;N</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keyword">const</span> DefPath *NP = &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Paths.empty() &amp;&amp; NP &gt;= &amp;Paths.front() &amp;&amp; NP &lt;= &amp;Paths.back() &amp;&amp;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;           <span class="stringliteral">&quot;Out of bounds DefPath!&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">return</span> NP - &amp;Paths.front();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">  /// Try to optimize a phi as best as we can. Returns a SmallVector of Paths</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">  /// that act as legal clobbers. Note that this won&#39;t return *all* clobbers.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">  /// Phi optimization algorithm tl;dr:</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">  ///   - Find the earliest def/phi, A, we can optimize to</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">  ///   - Find if all paths from the starting memory access ultimately reach A</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">  ///     - If not, optimization isn&#39;t possible.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">  ///     - Otherwise, walk from A to another clobber or phi, A&#39;.</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">  ///       - If A&#39; is a def, we&#39;re done.</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">  ///       - If A&#39; is a phi, try to optimize it.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">  /// A path is a series of {MemoryAccess, MemoryLocation} pairs. A path</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">  /// terminates when a MemoryAccess that clobbers said MemoryLocation is found.</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"></span>  OptznResult tryOptimizePhi(<a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *Phi, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Start,</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Paths.empty() &amp;&amp; VisitedPhis.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;           <span class="stringliteral">&quot;Reset the optimization state.&quot;</span>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    Paths.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">emplace_back</a>(Loc, Start, Phi, std::nullopt);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// Stores how many &quot;valid&quot; optimization nodes we had prior to calling</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// addSearches/getBlockingAccess. Necessary for caching if we had a blocker.</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keyword">auto</span> PriorPathsSize = Paths.size();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ListIndex, 16&gt;</a> PausedSearches;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ListIndex, 8&gt;</a> NewPaused;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TerminatedPath, 4&gt;</a> TerminatedPaths;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    addSearches(Phi, PausedSearches, 0);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// Moves the TerminatedPath with the &quot;most dominated&quot; Clobber to the end of</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// Paths.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keyword">auto</span> MoveDominatedPathToEnd = [&amp;](<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;TerminatedPath&gt;</a> &amp;Paths) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Paths.empty() &amp;&amp; <span class="stringliteral">&quot;Need a path to move&quot;</span>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="keyword">auto</span> Dom = Paths.begin();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = std::next(Dom), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Paths.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">if</span> (!MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Clobber, Dom-&gt;Clobber))</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          Dom = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a> = Paths.end() - 1;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">if</span> (Last != Dom)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        std::iter_swap(Last, Dom);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    };</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *Current = Phi;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Current) &amp;&amp;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;             <span class="stringliteral">&quot;liveOnEntry wasn&#39;t treated as a clobber?&quot;</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Target.html">Target</a> = getWalkTarget(Current);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="comment">// If a TerminatedPath doesn&#39;t dominate Target, then it wasn&#39;t a legal</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="comment">// optimization for the prior phi.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(TerminatedPaths, [&amp;](<span class="keyword">const</span> TerminatedPath &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">return</span> MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Clobber, <a class="code" href="classllvm_1_1Target.html">Target</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      }));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="comment">// FIXME: This is broken, because the Blocker may be reported to be</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="comment">// liveOnEntry, and we&#39;ll happily wait for that to disappear (read: never)</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="comment">// For the moment, this is fine, since we do nothing with blocker info.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">if</span> (std::optional&lt;TerminatedPath&gt; Blocker = getBlockingAccess(</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;              <a class="code" href="classllvm_1_1Target.html">Target</a>, PausedSearches, NewPaused, TerminatedPaths)) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="comment">// Find the node we started at. We can&#39;t search based on N-&gt;Last, since</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="comment">// we may have gone around a loop with a different MemoryLocation.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keyword">auto</span> Iter = <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">find_if</a>(def_path(Blocker-&gt;LastNode), [&amp;](<span class="keyword">const</span> DefPath &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          return defPathIndex(N) &lt; PriorPathsSize;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        });</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Iter != def_path_iterator());</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        DefPath &amp;CurNode = *Iter;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurNode.Last == Current);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="comment">// Two things:</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="comment">// A. We can&#39;t reliably cache all of NewPaused back. Consider a case</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="comment">//    where we have two paths in NewPaused; one of which can&#39;t optimize</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="comment">//    above this phi, whereas the other can. If we cache the second path</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="comment">//    back, we&#39;ll end up with suboptimal cache entries. We can handle</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="comment">//    cases like this a bit better when we either try to find all</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="comment">//    clobbers that block phi optimization, or when our cache starts</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="comment">//    supporting unfinished searches.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="comment">// B. We can&#39;t reliably cache TerminatedPaths back here without doing</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="comment">//    extra checks; consider a case like:</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="comment">//       T</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="comment">//      / \</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">        //     D   C</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="comment">//      \ /</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="comment">//       S</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="comment">//    Where T is our target, C is a node with a clobber on it, D is a</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">//    diamond (with a clobber *only* on the left or right node, N), and</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="comment">//    S is our start. Say we walk to D, through the node opposite N</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="comment">//    (read: ignoring the clobber), and see a cache entry in the top</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="comment">//    node of D. That cache entry gets put into TerminatedPaths. We then</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="comment">//    walk up to C (N is later in our worklist), find the clobber, and</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="comment">//    quit. If we append TerminatedPaths to OtherClobbers, we&#39;ll cache</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="comment">//    the bottom part of D to the cached clobber, ignoring the clobber</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="comment">//    in N. Again, this problem goes away if we start tracking all</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="comment">//    blockers for a given phi optimization.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        TerminatedPath <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>{CurNode.Last, defPathIndex(CurNode)};</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>, {}};</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="comment">// If there&#39;s nothing left to search, then all paths led to valid clobbers</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="comment">// that we got from our cache; pick the nearest to the start, and allow</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">// the rest to be cached back.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">if</span> (NewPaused.empty()) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        MoveDominatedPathToEnd(TerminatedPaths);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        TerminatedPath <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = TerminatedPaths.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(TerminatedPaths)};</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *DefChainEnd = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TerminatedPath, 4&gt;</a> Clobbers;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">for</span> (ListIndex Paused : NewPaused) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        UpwardsWalkResult WR = walkToPhiOrClobber(Paths[Paused]);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">if</span> (WR.IsKnownClobber)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          Clobbers.push_back({WR.Result, Paused});</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;          <span class="comment">// Micro-opt: If we hit the end of the chain, save it.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          DefChainEnd = WR.Result;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">if</span> (!TerminatedPaths.empty()) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="comment">// If we couldn&#39;t find the dominating phi/liveOnEntry in the above loop,</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="comment">// do it now.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">if</span> (!DefChainEnd)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> *MA : <a class="code" href="namespacellvm.html#ae833ff4bb3c49473a3eb6aa5db75ff25">def_chain</a>(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1Target.html">Target</a>)))</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            DefChainEnd = MA;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DefChainEnd &amp;&amp; <span class="stringliteral">&quot;Failed to find dominating phi/liveOnEntry&quot;</span>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="comment">// If any of the terminated paths don&#39;t dominate the phi we&#39;ll try to</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="comment">// optimize, we need to figure out what they are and quit.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ChainBB = DefChainEnd-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> TerminatedPath &amp;TP : TerminatedPaths) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <span class="comment">// Because we know that DefChainEnd is as &quot;high&quot; as we can go, we</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          <span class="comment">// don&#39;t need local dominance checks; BB dominance is sufficient.</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          <span class="keywordflow">if</span> (DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(ChainBB, TP.Clobber-&gt;getBlock()))</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            Clobbers.push_back(TP);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="comment">// If we have clobbers in the def chain, find the one closest to Current</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="comment">// and quit.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">if</span> (!Clobbers.empty()) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        MoveDominatedPathToEnd(Clobbers);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        TerminatedPath <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = Clobbers.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Clobbers)};</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(NewPaused,</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                    [&amp;](ListIndex <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> Paths[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].Last == DefChainEnd; }));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="comment">// Because liveOnEntry is a clobber, this must be a phi.</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="keyword">auto</span> *DefChainPhi = cast&lt;MemoryPhi&gt;(DefChainEnd);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      PriorPathsSize = Paths.size();</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      PausedSearches.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keywordflow">for</span> (ListIndex <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NewPaused)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        addSearches(DefChainPhi, PausedSearches, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      NewPaused.clear();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      Current = DefChainPhi;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordtype">void</span> verifyOptResult(<span class="keyword">const</span> OptznResult &amp;R)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.OtherClobbers, [&amp;](<span class="keyword">const</span> TerminatedPath &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      return MSSA.dominates(P.Clobber, R.PrimaryClobber.Clobber);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordtype">void</span> resetPhiOptznState() {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    Paths.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    VisitedPhis.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">clear</a>();</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  ClobberWalker(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      : MSSA(MSSA), DT(DT) {}</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">  /// Finds the nearest clobber for the given query, optimizing phis if</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">  /// possible.</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *findClobber(<a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Start,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                            UpwardsMemoryQuery &amp;Q, <span class="keywordtype">unsigned</span> &amp;UpWalkLimit) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    AA = &amp;BAA;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    Query = &amp;Q;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    UpwardWalkLimit = &amp;UpWalkLimit;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// Starting limit must be &gt; 0.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">if</span> (!UpWalkLimit)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      UpWalkLimit++;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Current = Start;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// This walker pretends uses don&#39;t exist. If we&#39;re handed one, silently grab</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="comment">// its def. (This has the nice side-effect of ensuring we never cache uses)</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MU = dyn_cast&lt;MemoryUse&gt;(Start))</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      Current = MU-&gt;getDefiningAccess();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    DefPath FirstDesc(Q.StartingLoc, Current, Current, std::nullopt);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">// Fast path for the overly-common case (no crazy phi optimization</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="comment">// necessary)</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    UpwardsWalkResult WalkResult = walkToPhiOrClobber(FirstDesc);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">if</span> (WalkResult.IsKnownClobber) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = WalkResult.Result;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      OptznResult OptRes = tryOptimizePhi(cast&lt;MemoryPhi&gt;(FirstDesc.Last),</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                                          Current, Q.StartingLoc);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      verifyOptResult(OptRes);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      resetPhiOptznState();</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = OptRes.PrimaryClobber.Clobber;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">#ifdef EXPENSIVE_CHECKS</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span> (!Q.SkipSelfAccess &amp;&amp; *UpwardWalkLimit &gt; 0)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <a class="code" href="MemorySSA_8cpp.html#a930e3a524f031bdb14fe281e4eff4219">checkClobberSanity</a>(Current, Result, Q.StartingLoc, MSSA, Q, BAA);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;};</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="keyword">struct </span>RenamePassData {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *DTN;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="classllvm_1_1DomTreeNodeBase.html#ae2ff5b5e73931f046c93195dbf8c360a">DomTreeNode::const_iterator</a> ChildIt;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *IncomingVal;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  RenamePassData(<a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <a class="code" href="classllvm_1_1DomTreeNodeBase.html#ae2ff5b5e73931f046c93195dbf8c360a">DomTreeNode::const_iterator</a> It,</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                 <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *M)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      : DTN(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), ChildIt(It), IncomingVal(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">swap</a>(RenamePassData &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(DTN, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.DTN);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(ChildIt, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.ChildIt);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(IncomingVal, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.IncomingVal);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;};</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">  991</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">MemorySSA::ClobberWalkerBase</a> {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  ClobberWalker Walker;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a195c8f56de5acfa828fa5d3215e9a497">  996</a></span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a195c8f56de5acfa828fa5d3215e9a497">ClobberWalkerBase</a>(<a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *M, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) : Walker(*<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, *<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>), MSSA(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {}</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a2899bbd6d1587b3bfc3fa9e63eb3210c">getClobberingMemoryAccessBase</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                              <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;, <span class="keywordtype">unsigned</span> &amp;);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// Third argument (bool), defines whether the clobber search should skip the</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// original queried access. If true, there will be a follow-up query searching</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// for a clobber access past &quot;self&quot;. Note that the Optimized access is not</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="comment">// updated if a new clobber is found by this SkipSelf search. If this</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// additional query becomes heavily used we may decide to cache the result.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="comment">// Walker instantiations will decide how to set the SkipSelf bool.</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a2899bbd6d1587b3bfc3fa9e63eb3210c">getClobberingMemoryAccessBase</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;,</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                                              <span class="keywordtype">unsigned</span> &amp;, <span class="keywordtype">bool</span>,</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                              <span class="keywordtype">bool</span> UseInvariantGroup = <span class="keyword">true</span>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;};</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">/// A MemorySSAWalker that does AA walks to disambiguate accesses. It no</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">/// longer does caching on its own, but the name has been retained for the</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">/// moment.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html"> 1015</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html">MemorySSA::CachingWalker</a> final : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a> {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">ClobberWalkerBase</a> *Walker;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#acdde325b4f76f437b0f682f3f59d3a6f"> 1019</a></span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#acdde325b4f76f437b0f682f3f59d3a6f">CachingWalker</a>(<a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *M, <a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">ClobberWalkerBase</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      : <a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), Walker(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>) {}</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a8f0db7e077ab99af203421d92277acd5">~CachingWalker</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">MemorySSAWalker::getClobberingMemoryAccess</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad20a919e3afba7f5a5b58ac994d6a687"> 1025</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad20a919e3afba7f5a5b58ac994d6a687">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                          <span class="keywordtype">unsigned</span> &amp;UWL) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">return</span> Walker-&gt;getClobberingMemoryAccessBase(MA, BAA, UWL, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div>
<div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad041c3e71ad6d9cb7bc560e02355b7f8"> 1029</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad041c3e71ad6d9cb7bc560e02355b7f8">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc,</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                                          <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA, <span class="keywordtype">unsigned</span> &amp;UWL) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">return</span> Walker-&gt;getClobberingMemoryAccessBase(MA, Loc, BAA, UWL);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">// This method is not accessible outside of this file.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a5477a209c68910a270096616871491ce"> 1035</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a5477a209c68910a270096616871491ce">getClobberingMemoryAccessWithoutInvariantGroup</a>(</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA, <span class="keywordtype">unsigned</span> &amp;UWL) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">return</span> Walker-&gt;getClobberingMemoryAccessBase(MA, BAA, UWL, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a393660b1037368a292082fed485aa22a"> 1040</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a393660b1037368a292082fed485aa22a">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                          <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordtype">unsigned</span> UpwardWalkLimit = <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad20a919e3afba7f5a5b58ac994d6a687">getClobberingMemoryAccess</a>(MA, BAA, UpwardWalkLimit);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  }</div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a6e7776745ea6a7ef7851f1b97fdf8d64"> 1045</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a6e7776745ea6a7ef7851f1b97fdf8d64">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                                          <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordtype">unsigned</span> UpwardWalkLimit = <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad20a919e3afba7f5a5b58ac994d6a687">getClobberingMemoryAccess</a>(MA, Loc, BAA, UpwardWalkLimit);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a775e17001d1ae4c4af6133518a1eadf0"> 1052</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a775e17001d1ae4c4af6133518a1eadf0">invalidateInfo</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MUD = dyn_cast&lt;MemoryUseOrDef&gt;(MA))</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      MUD-&gt;resetOptimized();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;};</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html"> 1058</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html">MemorySSA::SkipSelfWalker</a> final : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a> {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">ClobberWalkerBase</a> *Walker;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#abe29855a2ec8d6cc4977c397b646e591"> 1062</a></span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#abe29855a2ec8d6cc4977c397b646e591">SkipSelfWalker</a>(<a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *M, <a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">ClobberWalkerBase</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      : <a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), Walker(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>) {}</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a64147a79aaac7db360bbe04da925f70d">~SkipSelfWalker</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">MemorySSAWalker::getClobberingMemoryAccess</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a702f5587ca1aa58ffea0218248bcbd25"> 1068</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a702f5587ca1aa58ffea0218248bcbd25">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                                          <span class="keywordtype">unsigned</span> &amp;UWL) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">return</span> Walker-&gt;getClobberingMemoryAccessBase(MA, BAA, UWL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div>
<div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#aac93691c4bbfb7d9be35d1f757781b76"> 1072</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#aac93691c4bbfb7d9be35d1f757781b76">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                          <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA, <span class="keywordtype">unsigned</span> &amp;UWL) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> Walker-&gt;getClobberingMemoryAccessBase(MA, Loc, BAA, UWL);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#ac0c898d041e4ba387416c5da7d087a6d"> 1078</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#ac0c898d041e4ba387416c5da7d087a6d">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                                          <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordtype">unsigned</span> UpwardWalkLimit = <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a702f5587ca1aa58ffea0218248bcbd25">getClobberingMemoryAccess</a>(MA, BAA, UpwardWalkLimit);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  }</div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a1f28d0fdd8c042afe70e2ad5632f28cf"> 1083</a></span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a1f28d0fdd8c042afe70e2ad5632f28cf">getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                          <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordtype">unsigned</span> UpwardWalkLimit = <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a702f5587ca1aa58ffea0218248bcbd25">getClobberingMemoryAccess</a>(MA, Loc, BAA, UpwardWalkLimit);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#af6b567bc09d96e972d2f2636374a8bd7"> 1090</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#af6b567bc09d96e972d2f2636374a8bd7">invalidateInfo</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MUD = dyn_cast&lt;MemoryUseOrDef&gt;(MA))</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      MUD-&gt;resetOptimized();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;};</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="keywordtype">void</span> MemorySSA::renameSuccessorPhis(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *IncomingVal,</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                                    <span class="keywordtype">bool</span> RenameAllUses) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// Pass through values to our successors</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keyword">auto</span> It = PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// Rename the phi nodes in our successor block</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (It == PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() || !isa&lt;MemoryPhi&gt;(It-&gt;second-&gt;front()))</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#aebb7eeee08b08e9d52a6c29eb7501ad5">AccessList</a> *Accesses = It-&gt;second.get();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keyword">auto</span> *Phi = cast&lt;MemoryPhi&gt;(&amp;Accesses-&gt;front());</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (RenameAllUses) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordtype">bool</span> ReplacementDone = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a1c403c86f16af563cec6961666e8cc2e">getNumIncomingValues</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">if</span> (Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a6ecf3b528e1fab88068bd3baefb8b0ed">getIncomingBlock</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;          Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a055daa2efd196d7b72c0f2d36019854e">setIncomingValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, IncomingVal);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;          ReplacementDone = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      (void) ReplacementDone;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ReplacementDone &amp;&amp; <span class="stringliteral">&quot;Incomplete phi during partial rename&quot;</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#ab9945ed381faa9dbee65a92e6225768d">addIncoming</a>(IncomingVal, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;}</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">/// Rename a single basic block into MemorySSA form.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">/// Uses the standard SSA renaming algorithm.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">/// \returns The new incoming value.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MemorySSA::renameBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *IncomingVal,</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                                     <span class="keywordtype">bool</span> RenameAllUses) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keyword">auto</span> It = PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// Skip most processing if the list is empty.</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">if</span> (It != PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#aebb7eeee08b08e9d52a6c29eb7501ad5">AccessList</a> *Accesses = It-&gt;second.get();</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> &amp;L : *Accesses) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MUD = dyn_cast&lt;MemoryUseOrDef&gt;(&amp;L)) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">if</span> (MUD-&gt;getDefiningAccess() == <span class="keyword">nullptr</span> || RenameAllUses)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;          MUD-&gt;setDefiningAccess(IncomingVal);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span> (isa&lt;MemoryDef&gt;(&amp;L))</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;          IncomingVal = &amp;L;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        IncomingVal = &amp;L;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">return</span> IncomingVal;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">/// This is the standard SSA renaming algorithm.</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">/// We walk the dominator tree in preorder, renaming accesses, and then filling</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">/// in phi nodes in our successors.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a1aa1ce1cb2192a65bf9e113882cd4ae9">MemorySSA::renamePass</a>(<a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *Root, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *IncomingVal,</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                           <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;BasicBlock *&gt;</a> &amp;Visited,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                           <span class="keywordtype">bool</span> SkipVisited, <span class="keywordtype">bool</span> RenameAllUses) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Root &amp;&amp; <span class="stringliteral">&quot;Trying to rename accesses in an unreachable block&quot;</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;RenamePassData, 32&gt;</a> WorkStack;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="comment">// Skip everything if we already renamed this block and we are skipping.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// Note: You can&#39;t sink this into the if, because we need it to occur</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">// regardless of whether we skip blocks or not.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordtype">bool</span> AlreadyVisited = !Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Root-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">getBlock</a>()).second;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">if</span> (SkipVisited &amp;&amp; AlreadyVisited)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  IncomingVal = renameBlock(Root-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">getBlock</a>(), IncomingVal, RenameAllUses);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  renameSuccessorPhis(Root-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">getBlock</a>(), IncomingVal, RenameAllUses);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  WorkStack.push_back({Root, Root-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a40b8345d54ada5dab71ae11d71e89d2f">begin</a>(), IncomingVal});</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">while</span> (!WorkStack.empty()) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *Node = WorkStack.back().DTN;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="classllvm_1_1DomTreeNodeBase.html#ae2ff5b5e73931f046c93195dbf8c360a">DomTreeNode::const_iterator</a> ChildIt = WorkStack.back().ChildIt;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    IncomingVal = WorkStack.back().IncomingVal;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">if</span> (ChildIt == Node-&gt;end()) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      WorkStack.pop_back();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *Child = *ChildIt;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      ++WorkStack.back().ChildIt;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Child-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">getBlock</a>();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="comment">// Note: You can&#39;t sink this into the if, because we need it to occur</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// regardless of whether we skip blocks or not.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      AlreadyVisited = !Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>).second;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">if</span> (SkipVisited &amp;&amp; AlreadyVisited) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="comment">// We already visited this during our renaming, which can happen when</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="comment">// being asked to rename multiple blocks. Figure out the incoming val,</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">// which is the last def.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="comment">// Incoming value can only change if there is a block def, and in that</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="comment">// case, it&#39;s the last block def in the list.</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BlockDefs = <a class="code" href="classllvm_1_1MemorySSA.html#af22da23886673c59b93659b92b91fa86">getWritableBlockDefs</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;          IncomingVal = &amp;*BlockDefs-&gt;rbegin();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        IncomingVal = renameBlock(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, IncomingVal, RenameAllUses);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      renameSuccessorPhis(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, IncomingVal, RenameAllUses);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      WorkStack.push_back({Child, Child-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a40b8345d54ada5dab71ae11d71e89d2f">begin</a>(), IncomingVal});</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;}</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">/// This handles unreachable block accesses by deleting phi nodes in</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">/// unreachable blocks, and marking all other unreachable MemoryAccess&#39;s as</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">/// being uses of the live on entry definition.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemorySSA::markUnreachableAsLiveOnEntry(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &amp;&amp;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;         <span class="stringliteral">&quot;Reachable block found while handling unreachable blocks&quot;</span>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// Make sure phi nodes in our reachable successors end up with a</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// LiveOnEntryDef for our incoming edge, even though our block is forward</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// unreachable.  We could just disconnect these blocks from the CFG fully,</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// but we do not right now.</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span> (!DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keyword">auto</span> It = PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// Rename the phi nodes in our successor block</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (It == PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() || !isa&lt;MemoryPhi&gt;(It-&gt;second-&gt;front()))</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#aebb7eeee08b08e9d52a6c29eb7501ad5">AccessList</a> *Accesses = It-&gt;second.get();</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keyword">auto</span> *Phi = cast&lt;MemoryPhi&gt;(&amp;Accesses-&gt;front());</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#ab9945ed381faa9dbee65a92e6225768d">addIncoming</a>(LiveOnEntryDef.get(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keyword">auto</span> It = PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (It == PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keyword">auto</span> &amp;Accesses = It-&gt;second;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> AI = Accesses-&gt;begin(), AE = Accesses-&gt;end(); AI != AE;) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keyword">auto</span> Next = std::next(AI);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="comment">// If we have a phi, just remove it. We are going to replace all</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="comment">// users with live on entry.</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *UseOrDef = dyn_cast&lt;MemoryUseOrDef&gt;(AI))</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      UseOrDef-&gt;setDefiningAccess(LiveOnEntryDef.get());</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      Accesses-&gt;erase(AI);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    AI = Next;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a49f6b5c5e36a86395a7f91838768798d"> 1236</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSA.html#a49f6b5c5e36a86395a7f91838768798d">MemorySSA::MemorySSA</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func, <a class="code" href="classllvm_1_1AAResults.html">AliasAnalysis</a> *AA, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    : DT(DT), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(Func), LiveOnEntryDef(nullptr), Walker(nullptr),</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      SkipWalker(nullptr) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// Build MemorySSA using a batch alias analysis. This reuses the internal</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">// state that AA collects during an alias()/getModRefInfo() call. This is</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="comment">// safe because there are no CFG changes while building MemorySSA and can</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="comment">// significantly reduce the time spent by the compiler in AA, because we will</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// make queries about all the instructions in the Function.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AA &amp;&amp; <span class="stringliteral">&quot;No alias analysis?&quot;</span>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BatchAA(*AA);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  buildMemorySSA(BatchAA);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// Intentionally leave AA to nullptr while building so we don&#39;t accidently</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// use non-batch AliasAnalysis.</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  this-&gt;AA = AA;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// Also create the walker here.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53">getWalker</a>();</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#ae7375c161ecaf6b6f4ebd6abfcb5ce71"> 1254</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSA.html#ae7375c161ecaf6b6f4ebd6abfcb5ce71">MemorySSA::~MemorySSA</a>() {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="comment">// Drop all our references</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : PerBlockAccesses)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> &amp;MA : *Pair.second)</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      MA.<a class="code" href="classllvm_1_1User.html#a48ec5fcee6d2c17c723e8e67f169f948">dropAllReferences</a>();</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<a class="code" href="classllvm_1_1iplist.html">MemorySSA::AccessList</a> *MemorySSA::getOrCreateAccessList(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keyword">auto</span> Res = PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">if</span> (Res.second)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    Res.first-&gt;second = std::make_unique&lt;AccessList&gt;();</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordflow">return</span> Res.first-&gt;second.get();</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;}</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<a class="code" href="classllvm_1_1simple__ilist.html">MemorySSA::DefsList</a> *MemorySSA::getOrCreateDefsList(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keyword">auto</span> Res = PerBlockDefs.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">if</span> (Res.second)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    Res.first-&gt;second = std::make_unique&lt;DefsList&gt;();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keywordflow">return</span> Res.first-&gt;second.get();</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;}</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">/// This class is a batch walker of all MemoryUse&#39;s in the program, and points</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">/// their defining access at the thing that actually clobbers them.  Because it</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">/// is a batch walker that touches everything, it does not operate like the</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">/// other walkers.  This walker is basically performing a top-down SSA renaming</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">/// pass, where the version stack is used as the cache.  This enables it to be</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">/// significantly more time and memory efficient than using the regular walker,</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">/// which is walking bottom-up.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html"> 1286</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html">MemorySSA::OptimizeUses</a> {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#ad7fb8e8bcc5cf17ad15225ab3cb9e401"> 1288</a></span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#ad7fb8e8bcc5cf17ad15225ab3cb9e401">OptimizeUses</a>(<a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA, <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html">CachingWalker</a> *Walker, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> *BAA,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;               <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      : MSSA(MSSA), Walker(Walker), AA(BAA), DT(DT) {}</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#a195658a43b30378309ff4e62455dc137">optimizeUses</a>();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">  /// This represents where a given memorylocation is in the stack.</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>MemlocStackInfo {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="comment">// This essentially is keeping track of versions of the stack. Whenever</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">// the stack changes due to pushes or pops, these versions increase.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> StackEpoch;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> PopEpoch;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="comment">// This is the lower bound of places on the stack to check. It is equal to</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">// the place the last stack walk ended.</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// Note: Correctness depends on this being initialized to 0, which densemap</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// does</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> LowerBound;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LowerBoundBlock;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="comment">// This is where the last walk for this memory location ended.</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> LastKill;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordtype">bool</span> LastKillValid;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  };</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordtype">void</span> optimizeUsesInBlock(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> &amp;, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> &amp;,</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MemoryAccess *&gt;</a> &amp;,</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                           <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MemoryLocOrCall, MemlocStackInfo&gt;</a> &amp;);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  CachingWalker *Walker;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> *AA;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;};</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">/// Optimize the uses in a given block This is basically the SSA renaming</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">/// algorithm, with one caveat: We are able to use a single stack for all</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">/// MemoryUses.  This is because the set of *possible* reaching MemoryDefs is</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">/// the same for every MemoryUse.  The *actual* clobbering MemoryDef is just</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment">/// going to be some position in that stack of possible ones.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">/// We track the stack positions that each MemoryLocation needs</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment">/// to check, and last ended at.  This is because we only want to check the</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">/// things that changed since last time.  The same MemoryLocation should</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">/// get clobbered by the same store (getModRefInfo does not use invariantness or</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">/// things like this, and if they start, we can modify MemoryLocOrCall to</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">/// include relevant data)</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemorySSA::OptimizeUses::optimizeUsesInBlock(</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> &amp;StackEpoch, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> &amp;PopEpoch,</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MemoryAccess *&gt;</a> &amp;VersionStack,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MemoryLocOrCall, MemlocStackInfo&gt;</a> &amp;LocStackInfo) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment">  /// If no accesses, nothing to do.</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1iplist.html">MemorySSA::AccessList</a> *Accesses = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a2bfd991f2f853a9a689ac782f7030406">getWritableBlockAccesses</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">if</span> (Accesses == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// Pop everything that doesn&#39;t dominate the current block off the stack,</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// increment the PopEpoch to account for this.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        !VersionStack.empty() &amp;&amp;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="stringliteral">&quot;Version stack should have liveOnEntry sentinel dominating everything&quot;</span>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BackBlock = VersionStack.back()-&gt;getBlock();</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(BackBlock, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">while</span> (VersionStack.back()-&gt;getBlock() == BackBlock)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      VersionStack.pop_back();</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    ++PopEpoch;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> &amp;MA : *Accesses) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keyword">auto</span> *MU = dyn_cast&lt;MemoryUse&gt;(&amp;MA);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (!MU) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      VersionStack.push_back(&amp;MA);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      ++StackEpoch;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (MU-&gt;isOptimized())</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a7d22bda4751f65ff3beea195460730e8">isUseTriviallyOptimizableToLiveOnEntry</a>(*AA, MU-&gt;getMemoryInst())) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      MU-&gt;setDefiningAccess(MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a468b8d23a3bb5b9a484f54193f177713">getLiveOnEntryDef</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    MemoryLocOrCall UseMLOC(MU);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keyword">auto</span> &amp;LocInfo = LocStackInfo[UseMLOC];</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="comment">// If the pop epoch changed, it means we&#39;ve removed stuff from top of</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="comment">// stack due to changing blocks. We may have to reset the lower bound or</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="comment">// last kill info.</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">if</span> (LocInfo.PopEpoch != PopEpoch) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      LocInfo.PopEpoch = PopEpoch;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      LocInfo.StackEpoch = StackEpoch;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="comment">// If the lower bound was in something that no longer dominates us, we</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="comment">// have to reset it.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="comment">// We can&#39;t simply track stack size, because the stack may have had</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="comment">// pushes/pops in the meantime.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="comment">// XXX: This is non-optimal, but only is slower cases with heavily</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="comment">// branching dominator trees.  To get the optimal number of queries would</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <span class="comment">// be to make lowerbound and lastkill a per-loc stack, and pop it until</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="comment">// the top of that stack dominates us.  This does not seem worth it ATM.</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="comment">// A much cheaper optimization would be to always explore the deepest</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="comment">// branch of the dominator tree first. This will guarantee this resets on</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="comment">// the smallest set of blocks.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">if</span> (LocInfo.LowerBoundBlock &amp;&amp; LocInfo.LowerBoundBlock != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> &amp;&amp;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;          !DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(LocInfo.LowerBoundBlock, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="comment">// Reset the lower bound of things to check.</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="comment">// TODO: Some day we should be able to reset to last kill, rather than</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="comment">// 0.</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        LocInfo.LowerBound = 0;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        LocInfo.LowerBoundBlock = VersionStack[0]-&gt;getBlock();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        LocInfo.LastKillValid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LocInfo.StackEpoch != StackEpoch) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="comment">// If all that has changed is the StackEpoch, we only have to check the</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="comment">// new things on the stack, because we&#39;ve checked everything before.  In</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="comment">// this case, the lower bound of things to check remains the same.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      LocInfo.PopEpoch = PopEpoch;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      LocInfo.StackEpoch = StackEpoch;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">if</span> (!LocInfo.LastKillValid) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      LocInfo.LastKill = VersionStack.size() - 1;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      LocInfo.LastKillValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// At this point, we should have corrected last kill and LowerBound to be</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// in bounds.</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LocInfo.LowerBound &lt; VersionStack.size() &amp;&amp;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;           <span class="stringliteral">&quot;Lower bound out of range&quot;</span>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LocInfo.LastKill &lt; VersionStack.size() &amp;&amp;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;           <span class="stringliteral">&quot;Last kill info out of range&quot;</span>);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="comment">// In any case, the new upper bound is the top of the stack.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> UpperBound = VersionStack.size() - 1;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (UpperBound - LocInfo.LowerBound &gt; <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MemorySSA skipping optimization of &quot;</span> &lt;&lt; *MU &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                        &lt;&lt; *(MU-&gt;getMemoryInst()) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; because there are &quot;</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                        &lt;&lt; UpperBound - LocInfo.LowerBound</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; stores to disambiguate\n&quot;</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="comment">// Because we did not walk, LastKill is no longer valid, as this may</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="comment">// have been a kill.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      LocInfo.LastKillValid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordtype">bool</span> FoundClobberResult = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordtype">unsigned</span> UpwardWalkLimit = <a class="code" href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">while</span> (UpperBound &gt; LocInfo.LowerBound) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(VersionStack[UpperBound])) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="comment">// For phis, use the walker, see where we ended up, go there.</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="comment">// The invariant.group handling in MemorySSA is ad-hoc and doesn&#39;t</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="comment">// support updates, so don&#39;t use it to optimize uses.</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            Walker-&gt;<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a5477a209c68910a270096616871491ce">getClobberingMemoryAccessWithoutInvariantGroup</a>(</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                MU, *AA, UpwardWalkLimit);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="comment">// We are guaranteed to find it or something is wrong.</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="keywordflow">while</span> (VersionStack[UpperBound] != Result) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UpperBound != 0);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;          --UpperBound;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        FoundClobberResult = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *MD = cast&lt;MemoryDef&gt;(VersionStack[UpperBound]);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a>(MD, MU, UseMLOC, *AA)) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        FoundClobberResult = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      --UpperBound;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="comment">// At the end of this loop, UpperBound is either a clobber, or lower bound</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="comment">// PHI walking may cause it to be &lt; LowerBound, and in fact, &lt; LastKill.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> (FoundClobberResult || UpperBound &lt; LocInfo.LastKill) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      MU-&gt;setDefiningAccess(VersionStack[UpperBound], <span class="keyword">true</span>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      LocInfo.LastKill = UpperBound;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <span class="comment">// Otherwise, we checked all the new ones, and now we know we can get to</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="comment">// LastKill.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      MU-&gt;setDefiningAccess(VersionStack[LocInfo.LastKill], <span class="keyword">true</span>);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    LocInfo.LowerBound = VersionStack.size() - 1;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    LocInfo.LowerBoundBlock = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">/// Optimize uses to point to their actual clobbering definitions.</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#a195658a43b30378309ff4e62455dc137"> 1479</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#a195658a43b30378309ff4e62455dc137">MemorySSA::OptimizeUses::optimizeUses</a>() {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MemoryAccess *, 16&gt;</a> VersionStack;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MemoryLocOrCall, MemlocStackInfo&gt;</a> LocStackInfo;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  VersionStack.push_back(MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a468b8d23a3bb5b9a484f54193f177713">getLiveOnEntryDef</a>());</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> StackEpoch = 1;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> PopEpoch = 1;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">// We perform a non-recursive top-down dominator tree walk.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DomNode : <a class="code" href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">depth_first</a>(DT-&gt;<a class="code" href="classllvm_1_1DominatorTreeBase.html#a87275fed35339b180f858673e80e36ff">getRootNode</a>()))</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    optimizeUsesInBlock(DomNode-&gt;getBlock(), StackEpoch, PopEpoch, VersionStack,</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                        LocStackInfo);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;}</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="keywordtype">void</span> MemorySSA::placePHINodes(</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;BasicBlock *&gt;</a> &amp;DefiningBlocks) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// Determine where our MemoryPhi&#39;s should go</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <a class="code" href="classllvm_1_1IDFCalculator.html">ForwardIDFCalculator</a> IDFs(*DT);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  IDFs.setDefiningBlocks(DefiningBlocks);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 32&gt;</a> IDFBlocks;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  IDFs.calculate(IDFBlocks);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">// Now place MemoryPhi nodes.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : IDFBlocks)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    createMemoryPhi(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="keywordtype">void</span> MemorySSA::buildMemorySSA(<a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// We create an access to represent &quot;live on entry&quot;, for things like</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// arguments or users of globals, where the memory they use is defined before</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// the beginning of the function. We do not actually insert it into the IR.</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// We do not define a live on exit for the immediate uses, and thus our</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">// semantics do *not* imply that something with no immediate uses can simply</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// be removed.</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;StartingPoint = F.<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>();</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  LiveOnEntryDef.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a>(F.<a class="code" href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">getContext</a>(), <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                     &amp;StartingPoint, NextID++));</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">// We maintain lists of memory accesses per-block, trading memory for time. We</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// could just look up the memory access for every possible instruction in the</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="comment">// stream.</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 32&gt;</a> DefiningBlocks;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">// Go through each block, figure out where defs occur, and chain together all</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// the accesses.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : F) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordtype">bool</span> InsertIntoDef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#aebb7eeee08b08e9d52a6c29eb7501ad5">AccessList</a> *Accesses = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#a182f60fdefc7814687f4fe9b55ea0063">DefsList</a> *Defs = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MUD = createNewAccess(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, &amp;BAA);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">if</span> (!MUD)</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordflow">if</span> (!Accesses)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        Accesses = getOrCreateAccessList(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      Accesses-&gt;push_back(MUD);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryDef&gt;(MUD)) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        InsertIntoDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">if</span> (!Defs)</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          Defs = getOrCreateDefsList(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        Defs-&gt;push_back(*MUD);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (InsertIntoDef)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      DefiningBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  placePHINodes(DefiningBlocks);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="comment">// Now do regular SSA renaming on the MemoryDef/MemoryUse. Visited will get</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="comment">// filled in with all blocks.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#a1aa1ce1cb2192a65bf9e113882cd4ae9">renamePass</a>(DT-&gt;<a class="code" href="classllvm_1_1DominatorTreeBase.html#a87275fed35339b180f858673e80e36ff">getRootNode</a>(), LiveOnEntryDef.get(), Visited);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="comment">// Mark the uses in unreachable blocks as live on entry, so that they go</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="comment">// somewhere.</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : F)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      markUnreachableAsLiveOnEntry(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53"> 1558</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a> *<a class="code" href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53">MemorySSA::getWalker</a>() { <span class="keywordflow">return</span> getWalkerImpl(); }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html">MemorySSA::CachingWalker</a> *MemorySSA::getWalkerImpl() {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordflow">if</span> (Walker)</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> Walker.get();</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">if</span> (!WalkerBase)</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    WalkerBase = std::make_unique&lt;ClobberWalkerBase&gt;(<span class="keyword">this</span>, DT);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  Walker = std::make_unique&lt;CachingWalker&gt;(<span class="keyword">this</span>, WalkerBase.get());</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keywordflow">return</span> Walker.get();</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;}</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a2ef6f9107316d963f20b9003b7668c4e"> 1571</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSAWalker.html">MemorySSAWalker</a> *<a class="code" href="classllvm_1_1MemorySSA.html#a2ef6f9107316d963f20b9003b7668c4e">MemorySSA::getSkipSelfWalker</a>() {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">if</span> (SkipWalker)</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">return</span> SkipWalker.get();</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">if</span> (!WalkerBase)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    WalkerBase = std::make_unique&lt;ClobberWalkerBase&gt;(<span class="keyword">this</span>, DT);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  SkipWalker = std::make_unique&lt;SkipSelfWalker&gt;(<span class="keyword">this</span>, WalkerBase.get());</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">return</span> SkipWalker.get();</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="comment">// This is a helper function used by the creation routines. It places NewAccess</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="comment">// into the access and defs lists for a given basic block, at the given</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment">// insertion point.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a8bc47ee66a3ac3b5f1a57c497048b090"> 1586</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a8bc47ee66a3ac3b5f1a57c497048b090">MemorySSA::insertIntoListsForBlock</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *NewAccess,</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                                        <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5">InsertionPlace</a> Point) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keyword">auto</span> *Accesses = getOrCreateAccessList(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keywordflow">if</span> (Point == <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5ad02ebd2ab52855a8e9fb8082c9530085">Beginning</a>) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <span class="comment">// If it&#39;s a phi node, it goes first, otherwise, it goes after any phi</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">// nodes.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(NewAccess)) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      Accesses-&gt;push_front(NewAccess);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      <span class="keyword">auto</span> *Defs = getOrCreateDefsList(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      Defs-&gt;push_front(*NewAccess);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      <span class="keyword">auto</span> AI = <a class="code" href="namespacellvm.html#a7b49849160e7f089916f83c52511da9e">find_if_not</a>(</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;          *Accesses, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> &amp;MA) { <span class="keywordflow">return</span> isa&lt;MemoryPhi&gt;(MA); });</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      Accesses-&gt;insert(AI, NewAccess);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;MemoryUse&gt;(NewAccess)) {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="keyword">auto</span> *Defs = getOrCreateDefsList(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="keyword">auto</span> DI = <a class="code" href="namespacellvm.html#a7b49849160e7f089916f83c52511da9e">find_if_not</a>(</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            *Defs, [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> &amp;MA) { <span class="keywordflow">return</span> isa&lt;MemoryPhi&gt;(MA); });</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        Defs-&gt;insert(DI, *NewAccess);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    Accesses-&gt;push_back(NewAccess);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;MemoryUse&gt;(NewAccess)) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="keyword">auto</span> *Defs = getOrCreateDefsList(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      Defs-&gt;push_back(*NewAccess);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  BlockNumberingValid.erase(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;}</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a97891043f9eacb9b0e18e22767cc7802"> 1618</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a97891043f9eacb9b0e18e22767cc7802">MemorySSA::insertIntoListsBefore</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *What, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                                      <a class="code" href="classllvm_1_1iplist__impl.html#a4563732eae31ee14694e7ce17a5a6749">AccessList::iterator</a> InsertPt) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keyword">auto</span> *Accesses = <a class="code" href="classllvm_1_1MemorySSA.html#a2bfd991f2f853a9a689ac782f7030406">getWritableBlockAccesses</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordtype">bool</span> WasEnd = InsertPt == Accesses-&gt;end();</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  Accesses-&gt;insert(<a class="code" href="classllvm_1_1iplist__impl.html#a4563732eae31ee14694e7ce17a5a6749">AccessList::iterator</a>(InsertPt), What);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;MemoryUse&gt;(What)) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keyword">auto</span> *Defs = getOrCreateDefsList(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="comment">// If we got asked to insert at the end, we have an easy job, just shove it</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="comment">// at the end. If we got asked to insert before an existing def, we also get</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="comment">// an iterator. If we got asked to insert before a use, we have to hunt for</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// the next def.</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">if</span> (WasEnd) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      Defs-&gt;push_back(*What);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;MemoryDef&gt;(InsertPt)) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      Defs-&gt;insert(InsertPt-&gt;getDefsIterator(), *What);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">while</span> (InsertPt != Accesses-&gt;end() &amp;&amp; !isa&lt;MemoryDef&gt;(InsertPt))</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        ++InsertPt;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="comment">// Either we found a def, or we are inserting at the end</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="keywordflow">if</span> (InsertPt == Accesses-&gt;end())</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        Defs-&gt;push_back(*What);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        Defs-&gt;insert(InsertPt-&gt;getDefsIterator(), *What);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    }</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  BlockNumberingValid.erase(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;}</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="keywordtype">void</span> MemorySSA::prepareForMoveTo(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *What, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="comment">// Keep it in the lookup tables, remove from the lists</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#ae20e35b50e6cf67987421c996cf14a8c">removeFromLists</a>(What, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="comment">// Note that moving should implicitly invalidate the optimized state of a</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="comment">// MemoryUse (and Phis can&#39;t be optimized). However, it doesn&#39;t do so for a</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">// MemoryDef.</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = dyn_cast&lt;MemoryDef&gt;(What))</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    MD-&gt;<a class="code" href="classllvm_1_1MemoryDef.html#a2531f35f826de9886540ea39428e144c">resetOptimized</a>();</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  What-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#adaa94f3c67c7301f0172b1aa9dad07fe">setBlock</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">// Move What before Where in the IR.  The end result is that What will belong to</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">// the right lists and have the right Block set, but will not otherwise be</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">// correct. It will not have the right defining access, and if it is a def,</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">// things below it will not properly be updated.</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a131110a75135a123427d3280dff1fef4"> 1662</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a131110a75135a123427d3280dff1fef4">MemorySSA::moveTo</a>(<a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *What, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                       <a class="code" href="classllvm_1_1iplist__impl.html#a4563732eae31ee14694e7ce17a5a6749">AccessList::iterator</a> Where) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  prepareForMoveTo(What, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#a97891043f9eacb9b0e18e22767cc7802">insertIntoListsBefore</a>(What, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Where);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a13073dfc4fd40b8388fb60885e493f8d"> 1668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a131110a75135a123427d3280dff1fef4">MemorySSA::moveTo</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *What, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                       <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5">InsertionPlace</a> Point) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">if</span> (isa&lt;MemoryPhi&gt;(What)) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Point == <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5ad02ebd2ab52855a8e9fb8082c9530085">Beginning</a> &amp;&amp;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;           <span class="stringliteral">&quot;Can only move a Phi at the beginning of the block&quot;</span>);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="comment">// Update lookup table entry</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    ValueToMemoryAccess.erase(What-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>());</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordtype">bool</span> Inserted = ValueToMemoryAccess.insert({<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, What}).second;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    (void)Inserted;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inserted &amp;&amp; <span class="stringliteral">&quot;Cannot move a Phi to a block that already has one&quot;</span>);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  prepareForMoveTo(What, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#a8bc47ee66a3ac3b5f1a57c497048b090">insertIntoListsForBlock</a>(What, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Point);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *MemorySSA::createMemoryPhi(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &amp;&amp; <span class="stringliteral">&quot;MemoryPhi already exists for this BB&quot;</span>);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *Phi = <span class="keyword">new</span> <a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, NextID++);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="comment">// Phi&#39;s always are placed at the front of the block.</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#a8bc47ee66a3ac3b5f1a57c497048b090">insertIntoListsForBlock</a>(Phi, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5ad02ebd2ab52855a8e9fb8082c9530085">Beginning</a>);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  ValueToMemoryAccess[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = Phi;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">return</span> Phi;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;}</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a9939794555fe9e24e885d55e301de803"> 1693</a></span>&#160;<a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *<a class="code" href="classllvm_1_1MemorySSA.html#a9939794555fe9e24e885d55e301de803">MemorySSA::createDefinedAccess</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                                               <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Definition,</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *Template,</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                                               <span class="keywordtype">bool</span> CreationMustSucceed) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; <span class="stringliteral">&quot;Cannot create a defined access for a PHI&quot;</span>);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *NewAccess = createNewAccess(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, AA, <a class="code" href="ItaniumDemangle_8h.html#a88ee8e4eea43084bd8964682683da88ca278c491bdd8a53618c149c4ac790da34">Template</a>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">if</span> (CreationMustSucceed)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewAccess != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;Tried to create a memory access for a &quot;</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                                   <span class="stringliteral">&quot;non-memory touching instruction&quot;</span>);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keywordflow">if</span> (NewAccess) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!Definition || !isa&lt;MemoryUse&gt;(Definition)) &amp;&amp;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;           <span class="stringliteral">&quot;A use cannot be a defining access&quot;</span>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    NewAccess-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a5c00de32cf1426ab78c346e7a251d608">setDefiningAccess</a>(Definition);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  }</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keywordflow">return</span> NewAccess;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;}</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">// Return true if the instruction has ordering constraints.</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment">// Note specifically that this only considers stores and loads</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment">// because others are still considered ModRef by getModRefInfo.</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061"> 1713</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isUnordered())</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keywordflow">if</span> (!LI-&gt;isUnordered())</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="comment">/// Helper function to create new memory accesses</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AliasAnalysisType&gt;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MemorySSA::createNewAccess(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                                           AliasAnalysisType *AAP,</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *Template) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">// The assume intrinsic has a control dependency which we model by claiming</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="comment">// that it writes arbitrarily. Debuginfo intrinsics may be considered</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="comment">// clobbers when we have a nonstandard AA pipeline. Ignore these fake memory</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="comment">// dependencies here.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="comment">// FIXME: Replace this special casing with a more accurate modelling of</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="comment">// assume&#39;s control dependency.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">case</span> Intrinsic::assume:</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">case</span> Intrinsic::experimental_noalias_scope_decl:</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">case</span> Intrinsic::pseudoprobe:</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  }</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="comment">// Using a nonstandard AA pipelines might leave us with unexpected modref</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="comment">// results for I, so add a check to not model instructions that may not read</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="comment">// from or write to memory. This is necessary for correctness.</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayReadFromMemory() &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayWriteToMemory())</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <a class="code" href="classllvm_1_1Use.html">Use</a>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordflow">if</span> (Template) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = isa&lt;MemoryDef&gt;(Template);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="classllvm_1_1Use.html">Use</a> = isa&lt;MemoryUse&gt;(Template);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="preprocessor">#if !defined(NDEBUG)</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRef</a> = AAP-&gt;getModRefInfo(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, std::nullopt);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordtype">bool</span> DefCheck, UseCheck;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    DefCheck = <a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(ModRef) || <a class="code" href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    UseCheck = <a class="code" href="namespacellvm.html#af7787f6b577cd7a63f043b87301b8e81">isRefSet</a>(ModRef);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">// Memory accesses should only be reduced and can not be increased since AA</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">// just might return better results as a result of some transformations.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> == DefCheck || !DefCheck) &amp;&amp;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;           <span class="stringliteral">&quot;Memory accesses should only be reduced&quot;</span>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; <a class="code" href="classllvm_1_1Use.html">Use</a> != UseCheck) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <span class="comment">// New Access should not have more power than template access</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!UseCheck &amp;&amp; <span class="stringliteral">&quot;Invalid template&quot;</span>);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    }</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="comment">// Find out what affect this instruction has on memory.</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRef</a> = AAP-&gt;getModRefInfo(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, std::nullopt);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="comment">// The isOrdered check is used to ensure that volatiles end up as defs</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="comment">// (atomics end up as ModRef right now anyway).  Until we separate the</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="comment">// ordering chain from the memory chain, this enables people to see at least</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">// some relative ordering to volatiles.  Note that getClobberingMemoryAccess</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="comment">// will still give an answer that bypasses other volatile loads.  TODO:</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="comment">// Separate memory aliasing and ordering into two different chains so that</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">// we can precisely represent both &quot;what memory will this read/write/is</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="comment">// clobbered by&quot; and &quot;what instructions can I move this past&quot;.</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">isModSet</a>(ModRef) || <a class="code" href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="classllvm_1_1Use.html">Use</a> = <a class="code" href="namespacellvm.html#af7787f6b577cd7a63f043b87301b8e81">isRefSet</a>(ModRef);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="comment">// It&#39;s possible for an instruction to not modify memory at all. During</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">// construction, we ignore them.</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; !<a class="code" href="classllvm_1_1Use.html">Use</a>)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MUD;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    MUD = <span class="keyword">new</span> <a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getContext(), <span class="keyword">nullptr</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent(), NextID++);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    MUD = <span class="keyword">new</span> <a class="code" href="classllvm_1_1MemoryUse.html">MemoryUse</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getContext(), <span class="keyword">nullptr</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent());</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  ValueToMemoryAccess[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = MUD;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordflow">return</span> MUD;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;}</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="comment">/// Properly remove \p MA from all of MemorySSA&#39;s lookup tables.</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#acd0427b84adce00e5b26f993c7aa48c8"> 1800</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#acd0427b84adce00e5b26f993c7aa48c8">MemorySSA::removeFromLookups</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MA-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() &amp;&amp;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;         <span class="stringliteral">&quot;Trying to remove memory access that still has uses&quot;</span>);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  BlockNumbering.erase(MA);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MUD = dyn_cast&lt;MemoryUseOrDef&gt;(MA))</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    MUD-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a5c00de32cf1426ab78c346e7a251d608">setDefiningAccess</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="comment">// Invalidate our walker&#39;s cache if necessary</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;MemoryUse&gt;(MA))</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53">getWalker</a>()-&gt;<a class="code" href="classllvm_1_1MemorySSAWalker.html#a8bb8d1cc3b3a95d81ee75395cadf83c3">invalidateInfo</a>(MA);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *MemoryInst;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MUD = dyn_cast&lt;MemoryUseOrDef&gt;(MA))</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    MemoryInst = MUD-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">getMemoryInst</a>();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    MemoryInst = MA-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>();</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keyword">auto</span> VMA = ValueToMemoryAccess.find(MemoryInst);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="keywordflow">if</span> (VMA-&gt;second == MA)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    ValueToMemoryAccess.erase(VMA);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;}</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">/// Properly remove \p MA from all of MemorySSA&#39;s lists.</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">/// Because of the way the intrusive list and use lists work, it is important to</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">/// do removal in the right order.</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">/// ShouldDelete defaults to true, and will cause the memory access to also be</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">/// deleted, not just removed.</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#ae20e35b50e6cf67987421c996cf14a8c"> 1827</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#ae20e35b50e6cf67987421c996cf14a8c">MemorySSA::removeFromLists</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA, <span class="keywordtype">bool</span> ShouldDelete) {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = MA-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>();</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// The access list owns the reference, so we erase it from the non-owning list</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// first.</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;MemoryUse&gt;(MA)) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keyword">auto</span> DefsIt = PerBlockDefs.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    std::unique_ptr&lt;DefsList&gt; &amp;Defs = DefsIt-&gt;second;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    Defs-&gt;remove(*MA);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (Defs-&gt;empty())</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      PerBlockDefs.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(DefsIt);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  }</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="comment">// The erase call here will delete it. If we don&#39;t want it deleted, we call</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// remove instead.</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keyword">auto</span> AccessIt = PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  std::unique_ptr&lt;AccessList&gt; &amp;Accesses = AccessIt-&gt;second;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">if</span> (ShouldDelete)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    Accesses-&gt;erase(MA);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    Accesses-&gt;remove(MA);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">if</span> (Accesses-&gt;empty()) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    PerBlockAccesses.<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(AccessIt);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    BlockNumberingValid.erase(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;}</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234"> 1854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">MemorySSA::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  MemorySSAAnnotatedWriter Writer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, &amp;Writer);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;}</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a0211e050a705084ef5e653127a7fb3df"> 1860</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a0211e050a705084ef5e653127a7fb3df">MemorySSA::dump</a>()<span class="keyword"> const </span>{ <a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()); }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17"> 1863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17">MemorySSA::verifyMemorySSA</a>(<a class="code" href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7">VerificationLevel</a> VL)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) &amp;&amp; defined(EXPENSIVE_CHECKS)</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  VL = <a class="code" href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7abbd47109890259c0127154db1af26c75">VerificationLevel::Full</a>;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#ace11a1239f13631eef473d24c8598d5c">verifyOrderingDominationAndDefUses</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, VL);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#a3e9609868c465ed02093014a27d5a479">verifyDominationNumbers</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">if</span> (VL == <a class="code" href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7abbd47109890259c0127154db1af26c75">VerificationLevel::Full</a>)</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="classllvm_1_1MemorySSA.html#a25dee04a50bd25afa513d772adba5737">verifyPrevDefInPhis</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="comment">// Previously, the verification used to also verify that the clobberingAccess</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="comment">// cached by MemorySSA is the same as the clobberingAccess found at a later</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">// query to AA. This does not hold true in general due to the current fragility</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="comment">// of BasicAA which has arbitrary caps on the things it analyzes before giving</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// up. As a result, transformations that are correct, will lead to BasicAA</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="comment">// returning different Alias answers before and after that transformation.</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="comment">// Invalidating MemorySSA is not an option, as the results in BasicAA can be so</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="comment">// random, in the worst case we&#39;d need to rebuild MemorySSA from scratch after</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="comment">// every transformation, which defeats the purpose of using it. For such an</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="comment">// example, see test4 added in D51960.</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a25dee04a50bd25afa513d772adba5737"> 1886</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a25dee04a50bd25afa513d772adba5737">MemorySSA::verifyPrevDefInPhis</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;F)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *Phi = <a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a1c403c86f16af563cec6961666e8cc2e">getNumIncomingValues</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="keyword">auto</span> *Pred = Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a6ecf3b528e1fab88068bd3baefb8b0ed">getIncomingBlock</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <span class="keyword">auto</span> *IncAcc = Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#ad9d171a8662f441f5c7c50061e628565">getIncomingValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <span class="comment">// If Pred has no unreachable predecessors, get last def looking at</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="comment">// IDoms. If, while walkings IDoms, any of these has an unreachable</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <span class="comment">// predecessor, then the incoming def can be any access.</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DTNode = DT-&gt;<a class="code" href="classllvm_1_1DominatorTreeBase.html#a4344e66fb61ea313a85a9e054124ac55">getNode</a>(Pred)) {</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;          <span class="keywordflow">while</span> (DTNode) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DefList = <a class="code" href="classllvm_1_1MemorySSA.html#a65b7c715bf28eb17cfd012dd9bc3ad4b">getBlockDefs</a>(DTNode-&gt;getBlock())) {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;              <span class="keyword">auto</span> *LastAcc = &amp;*(--DefList-&gt;end());</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;              <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LastAcc == IncAcc &amp;&amp;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                     <span class="stringliteral">&quot;Incorrect incoming access into phi.&quot;</span>);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;              (void)IncAcc;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;              (void)LastAcc;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            }</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            DTNode = DTNode-&gt;getIDom();</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;          }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          <span class="comment">// If Pred has unreachable predecessors, but has at least a Def, the</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;          <span class="comment">// incoming access can be the last Def in Pred, or it could have been</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;          <span class="comment">// optimized to LoE. After an update, though, the LoE may have been</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;          <span class="comment">// replaced by another access, so IncAcc may be any access.</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;          <span class="comment">// If Pred has unreachable predecessors and no Defs, incoming access</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;          <span class="comment">// should be LoE; However, after an update, it may be any access.</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      }</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;}</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment">/// Verify that all of the blocks we believe to have valid domination numbers</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment">/// actually have valid domination numbers.</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a3e9609868c465ed02093014a27d5a479"> 1922</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#a3e9609868c465ed02093014a27d5a479">MemorySSA::verifyDominationNumbers</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;F)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="keywordflow">if</span> (BlockNumberingValid.empty())</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const BasicBlock *, 16&gt;</a> ValidBlocks = BlockNumberingValid;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">if</span> (!ValidBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    ValidBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a11045c7973ab24a8d6315b61fa337d4e">erase</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160; </div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1iplist.html">AccessList</a> *Accesses = <a class="code" href="classllvm_1_1MemorySSA.html#aaff19b909f903fe2a431e97424ffced5">getBlockAccesses</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="comment">// It&#39;s correct to say an empty block has valid numbering.</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> (!Accesses)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="comment">// Block numbering starts at 1.</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> LastNumber = 0;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> &amp;MA : *Accesses) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <span class="keyword">auto</span> ThisNumberIter = BlockNumbering.find(&amp;MA);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ThisNumberIter != BlockNumbering.end() &amp;&amp;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;             <span class="stringliteral">&quot;MemoryAccess has no domination number in a valid block!&quot;</span>);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ThisNumber = ThisNumberIter-&gt;second;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ThisNumber &gt; LastNumber &amp;&amp;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;             <span class="stringliteral">&quot;Domination numbers should be strictly increasing!&quot;</span>);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      (void)LastNumber;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      LastNumber = ThisNumber;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValidBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;         <span class="stringliteral">&quot;All valid BasicBlocks should exist in F -- dangling pointers?&quot;</span>);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">/// Verify ordering: the order and existence of MemoryAccesses matches the</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">/// order and existence of memory affecting instructions.</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">/// Verify domination: each definition dominates all of its uses.</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment">/// Verify def-uses: the immediate use information - walk all the memory</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment">/// accesses and verifying that, for each use, it appears in the appropriate</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment">/// def&#39;s use list</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#ace11a1239f13631eef473d24c8598d5c"> 1963</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#ace11a1239f13631eef473d24c8598d5c">MemorySSA::verifyOrderingDominationAndDefUses</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;F,</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                                                   <a class="code" href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7">VerificationLevel</a> VL)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="comment">// Walk all the blocks, comparing what the lookups think and what the access</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="comment">// lists think, as well as the order in the blocks vs the order in the access</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="comment">// lists.</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MemoryAccess *, 32&gt;</a> ActualAccesses;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MemoryAccess *, 32&gt;</a> ActualDefs;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1iplist.html">AccessList</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="classllvm_1_1MemorySSA.html#aaff19b909f903fe2a431e97424ffced5">getBlockAccesses</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1MemorySSA.html#a65b7c715bf28eb17cfd012dd9bc3ad4b">getBlockDefs</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *Phi = <a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (Phi) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <span class="comment">// Verify ordering.</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      ActualAccesses.push_back(Phi);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      ActualDefs.push_back(Phi);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      <span class="comment">// Verify domination</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : Phi-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(Phi, U) &amp;&amp; <span class="stringliteral">&quot;Memory PHI does not dominate it&#39;s uses&quot;</span>);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        (void)U;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      <span class="comment">// Verify def-uses for full verify.</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      <span class="keywordflow">if</span> (VL == <a class="code" href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7abbd47109890259c0127154db1af26c75">VerificationLevel::Full</a>) {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Phi-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(std::distance(</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                                            <a class="code" href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">pred_begin</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), <a class="code" href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">pred_end</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))) &amp;&amp;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;               <span class="stringliteral">&quot;Incomplete MemoryPhi Node&quot;</span>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a1c403c86f16af563cec6961666e8cc2e">getNumIncomingValues</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;          verifyUseInDefs(Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#ad9d171a8662f441f5c7c50061e628565">getIncomingValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), Phi);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(<a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>), Phi-&gt;<a class="code" href="classllvm_1_1MemoryPhi.html#a6ecf3b528e1fab88068bd3baefb8b0ed">getIncomingBlock</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) &amp;&amp;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                 <span class="stringliteral">&quot;Incoming phi block not a block predecessor&quot;</span>);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      }</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160; </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <a class="code" href="classllvm_1_1MemoryUseOrDef.html">MemoryUseOrDef</a> *MA = <a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!MA || (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> &amp;&amp; (isa&lt;MemoryUse&gt;(MA) || <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>))) &amp;&amp;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;             <span class="stringliteral">&quot;We have memory affecting instructions &quot;</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;             <span class="stringliteral">&quot;in this block but they are not in the &quot;</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;             <span class="stringliteral">&quot;access list or defs list&quot;</span>);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">if</span> (MA) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="comment">// Verify ordering.</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        ActualAccesses.push_back(MA);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MD = dyn_cast&lt;MemoryDef&gt;(MA)) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          <span class="comment">// Verify ordering.</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;          ActualDefs.push_back(MA);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          <span class="comment">// Verify domination.</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : MD-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(MD, U) &amp;&amp;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                   <span class="stringliteral">&quot;Memory Def does not dominate it&#39;s uses&quot;</span>);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            (void)U;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;          }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="comment">// Verify def-uses for full verify.</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <span class="keywordflow">if</span> (VL == <a class="code" href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7abbd47109890259c0127154db1af26c75">VerificationLevel::Full</a>)</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;          verifyUseInDefs(MA-&gt;<a class="code" href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">getDefiningAccess</a>(), MA);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="comment">// Either we hit the assert, really have no accesses, or we have both</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">// accesses and an access list. Same with defs.</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> &amp;&amp; !<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="comment">// Verify ordering.</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>-&gt;size() == ActualAccesses.size() &amp;&amp;</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;           <span class="stringliteral">&quot;We don&#39;t have the same number of accesses in the block as on the &quot;</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;           <span class="stringliteral">&quot;access list&quot;</span>);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> || ActualDefs.size() == 0) &amp;&amp;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;           <span class="stringliteral">&quot;Either we should have a defs list, or we should have no defs&quot;</span>);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> || <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">size</a>() == ActualDefs.size()) &amp;&amp;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;           <span class="stringliteral">&quot;We don&#39;t have the same number of defs in the block as on the &quot;</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;           <span class="stringliteral">&quot;def list&quot;</span>);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keyword">auto</span> ALI = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>-&gt;begin();</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keyword">auto</span> AAI = ActualAccesses.begin();</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keywordflow">while</span> (ALI != <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>-&gt;end() &amp;&amp; AAI != ActualAccesses.end()) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(&amp;*ALI == *AAI &amp;&amp; <span class="stringliteral">&quot;Not the same accesses in the same order&quot;</span>);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      ++ALI;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      ++AAI;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    }</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    ActualAccesses.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      <span class="keyword">auto</span> DLI = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keyword">auto</span> ADI = ActualDefs.begin();</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keywordflow">while</span> (DLI != <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; ADI != ActualDefs.end()) {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(&amp;*DLI == *ADI &amp;&amp; <span class="stringliteral">&quot;Not the same defs in the same order&quot;</span>);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        ++DLI;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        ++ADI;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    ActualDefs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;}</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="comment">/// Verify the def-use lists in MemorySSA, by verifying that \p Use</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="comment">/// appears in the use list of \p Def.</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemorySSA::verifyUseInDefs(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1Use.html">Use</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="comment">// The live on entry use may cause us to get a NULL def here</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(<a class="code" href="classllvm_1_1Use.html">Use</a>) &amp;&amp;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;           <span class="stringliteral">&quot;Null def but use not point to live on entry def&quot;</span>);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;users(), <a class="code" href="classllvm_1_1Use.html">Use</a>) &amp;&amp;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;           <span class="stringliteral">&quot;Did not find use in def&#39;s use list&quot;</span>);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;}</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="comment">/// Perform a local numbering on blocks so that instruction ordering can be</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="comment">/// determined in constant time.</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="comment">/// TODO: We currently just number in order.  If we numbered by N, we could</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="comment">/// allow at least N-1 sequences of insertBefore or insertAfter (and at least</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="comment">/// log2(N) sequences of mixed before and after) without needing to invalidate</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="comment">/// the numbering.</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemorySSA::renumberBlock(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="comment">// The pre-increment ensures the numbers really start at 1.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> CurrentNumber = 0;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemorySSA.html#aebb7eeee08b08e9d52a6c29eb7501ad5">AccessList</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> = <a class="code" href="classllvm_1_1MemorySSA.html#aaff19b909f903fe2a431e97424ffced5">getBlockAccesses</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a> != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;Asking to renumber an empty block&quot;</span>);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>)</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    BlockNumbering[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = ++CurrentNumber;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  BlockNumberingValid.insert(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;}</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;<span class="comment">/// Determine, for two memory accesses in the same block,</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<span class="comment">/// whether \p Dominator dominates \p Dominatee.</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="comment">/// \returns True if \p Dominator dominates \p Dominatee.</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#ade88aedcbd2b55711000cf3e36c0fc91"> 2085</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemorySSA.html#ade88aedcbd2b55711000cf3e36c0fc91">MemorySSA::locallyDominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Dominator,</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Dominatee)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DominatorBlock = Dominator-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>();</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((DominatorBlock == Dominatee-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>()) &amp;&amp;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;         <span class="stringliteral">&quot;Asking for local domination when accesses are in different blocks!&quot;</span>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="comment">// A node dominates itself.</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keywordflow">if</span> (Dominatee == Dominator)</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="comment">// When Dominatee is defined on function entry, it is not dominated by another</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="comment">// memory access.</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Dominatee))</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="comment">// When Dominator is defined on function entry, it dominates the other memory</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <span class="comment">// access.</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Dominator))</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160; </div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">if</span> (!BlockNumberingValid.count(DominatorBlock))</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    renumberBlock(DominatorBlock);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> DominatorNum = BlockNumbering.lookup(Dominator);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="comment">// All numbers start with 1</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DominatorNum != 0 &amp;&amp; <span class="stringliteral">&quot;Block was not numbered properly&quot;</span>);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> DominateeNum = BlockNumbering.lookup(Dominatee);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DominateeNum != 0 &amp;&amp; <span class="stringliteral">&quot;Block was not numbered properly&quot;</span>);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keywordflow">return</span> DominatorNum &lt; DominateeNum;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;}</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160; </div>
<div class="line"><a name="l02116"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3"> 2116</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">MemorySSA::dominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Dominator,</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Dominatee)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="keywordflow">if</span> (Dominator == Dominatee)</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(Dominatee))</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160; </div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">if</span> (Dominator-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>() != Dominatee-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>())</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">return</span> DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(Dominator-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>(), Dominatee-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>());</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA.html#ade88aedcbd2b55711000cf3e36c0fc91">locallyDominates</a>(Dominator, Dominatee);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;}</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#a4e92272bbf0049770569394d4956918b"> 2129</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">MemorySSA::dominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Dominator,</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;Dominatee)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *MP = dyn_cast&lt;MemoryPhi&gt;(Dominatee.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>())) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UseBB = MP-&gt;getIncomingBlock(Dominatee);</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="comment">// The def must dominate the incoming block of the phi.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keywordflow">if</span> (UseBB != Dominator-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>())</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="keywordflow">return</span> DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(Dominator-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">getBlock</a>(), UseBB);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="comment">// If the UseBB and the DefBB are the same, compare locally.</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA.html#ade88aedcbd2b55711000cf3e36c0fc91">locallyDominates</a>(Dominator, cast&lt;MemoryAccess&gt;(Dominatee));</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="comment">// If it&#39;s not a PHI node use, the normal dominates can already handle it.</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">dominates</a>(Dominator, cast&lt;MemoryAccess&gt;(Dominatee.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>()));</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;}</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160; </div>
<div class="line"><a name="l02143"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5"> 2143</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5">MemorySSA::ensureOptimizedUses</a>() {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="keywordflow">if</span> (IsOptimized)</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> BatchAA(*AA);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">ClobberWalkerBase</a> WalkerBase(<span class="keyword">this</span>, DT);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1CachingWalker.html">CachingWalker</a> WalkerLocal(<span class="keyword">this</span>, &amp;WalkerBase);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html">OptimizeUses</a>(<span class="keyword">this</span>, &amp;WalkerLocal, &amp;BatchAA, DT).<a class="code" href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#a195658a43b30378309ff4e62455dc137">optimizeUses</a>();</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  IsOptimized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;}</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryAccess.html#aadff5eaae30623b4077b9dec90f29dcf"> 2154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryAccess.html#aadff5eaae30623b4077b9dec90f29dcf">MemoryAccess::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">switch</span> (getValueID()) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordflow">case</span> MemoryPhiVal: <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="keywordflow">case</span> MemoryDefVal: <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="keywordflow">case</span> MemoryUseVal: <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1MemoryUse.html">MemoryUse</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid value id&quot;</span>);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;}</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDef.html#a09f277b48a8bdfb5edf85ba468537141"> 2163</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDef.html#a09f277b48a8bdfb5edf85ba468537141">MemoryDef::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *UO = getDefiningAccess();</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keyword">auto</span> printID = [&amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>](<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *A) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (A &amp;&amp; A-&gt;getID())</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; A-&gt;getID();</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">LiveOnEntryStr</a>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  };</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160; </div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; getID() &lt;&lt; <span class="stringliteral">&quot; = MemoryDef(&quot;</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  printID(UO);</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160; </div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">if</span> (isOptimized()) {</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span>;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    printID(getOptimized());</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;}</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160; </div>
<div class="line"><a name="l02183"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryPhi.html#ad75b48c94bacfc6a1d166164bd51af8b"> 2183</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryPhi.html#ad75b48c94bacfc6a1d166164bd51af8b">MemoryPhi::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  ListSeparator <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; getID() &lt;&lt; <span class="stringliteral">&quot; = MemoryPhi(&quot;</span>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : operands()) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = getIncomingBlock(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = cast&lt;MemoryAccess&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> &lt;&lt; <span class="charliteral">&#39;{&#39;</span>;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;hasName())</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName();</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;printAsOperand(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = MA-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#ab3a9d1e32d4473460c83d5db60bd0d8b">getID</a>())</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">LiveOnEntryStr</a>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;}</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryUse.html#a39bac19197190015e13adba7ddb9db2f"> 2205</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryUse.html#a39bac19197190015e13adba7ddb9db2f">MemoryUse::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *UO = getDefiningAccess();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;MemoryUse(&quot;</span>;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordflow">if</span> (UO &amp;&amp; UO-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#ab3a9d1e32d4473460c83d5db60bd0d8b">getID</a>())</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; UO-&gt;<a class="code" href="classllvm_1_1MemoryAccess.html#ab3a9d1e32d4473460c83d5db60bd0d8b">getID</a>();</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">LiveOnEntryStr</a>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;}</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryAccess.html#a0323cfb2d9032e14069108390831f5b7"> 2215</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryAccess.html#a0323cfb2d9032e14069108390831f5b7">MemoryAccess::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">// Cannot completely remove virtual function even in release mode.</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;}</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#ae168ddebaf2036d7c0aec6d953753d75">MemorySSAPrinterLegacyPass::ID</a> = 0;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#a7fd32d6e21b99950b61963e1a7a26f13"> 2225</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#a7fd32d6e21b99950b61963e1a7a26f13">MemorySSAPrinterLegacyPass::MemorySSAPrinterLegacyPass</a>() : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <a class="code" href="namespacellvm.html#a1255776be971ababbd9e5790cc56eb33">initializeMemorySSAPrinterLegacyPassPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;}</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160; </div>
<div class="line"><a name="l02229"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#ae2bdb6f1c51c03cc2bb47f1af18667a5"> 2229</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#ae2bdb6f1c51c03cc2bb47f1af18667a5">MemorySSAPrinterLegacyPass::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;}</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"><a class="line" href="classDOTFuncMSSAInfo.html"> 2234</a></span>&#160;<span class="keyword">class </span><a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> {</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  MemorySSAAnnotatedWriter MSSAWriter;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l02240"></a><span class="lineno"><a class="line" href="classDOTFuncMSSAInfo.html#a21971c6cce1ec1e5ae0d0839f8deb1bd"> 2240</a></span>&#160;  <a class="code" href="classDOTFuncMSSAInfo.html#a21971c6cce1ec1e5ae0d0839f8deb1bd">DOTFuncMSSAInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA)</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), MSSAWriter(&amp;MSSA) {}</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160; </div>
<div class="line"><a name="l02243"></a><span class="lineno"><a class="line" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b"> 2243</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">getFunction</a>() { <span class="keywordflow">return</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>; }</div>
<div class="line"><a name="l02244"></a><span class="lineno"><a class="line" href="classDOTFuncMSSAInfo.html#a93bafe35974f4c174b844b89c1c74a58"> 2244</a></span>&#160;  MemorySSAAnnotatedWriter &amp;<a class="code" href="classDOTFuncMSSAInfo.html#a93bafe35974f4c174b844b89c1c74a58">getWriter</a>() { <span class="keywordflow">return</span> MSSAWriter; }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;};</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l02250"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html"> 2250</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits</a>&lt;<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *&gt; : <span class="keyword">public</span> <a class="code" href="structllvm_1_1GraphTraits_3_01const_01BasicBlock_01_5_01_4.html">GraphTraits&lt;const BasicBlock *&gt;</a> {</div>
<div class="line"><a name="l02251"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#ade0092d991b99727f68454905d4023cb"> 2251</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1BasicBlock.html">NodeRef</a> <a class="code" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#ade0092d991b99727f68454905d4023cb">getEntryNode</a>(<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">return</span> &amp;(CFGInfo-&gt;<a class="code" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>());</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  }</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="comment">// nodes_iterator/begin/end - Allow iteration over all nodes in the graph</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a75d1311bdbe5c30f0743ef95b4ce8f7c"> 2256</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1pointer__iterator.html">nodes_iterator</a> = <a class="code" href="classllvm_1_1pointer__iterator.html">pointer_iterator&lt;Function::const_iterator&gt;</a>;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#afc5cb7046c606977b01abe2914be8323"> 2258</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1pointer__iterator.html">nodes_iterator</a> <a class="code" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#afc5cb7046c606977b01abe2914be8323">nodes_begin</a>(<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1pointer__iterator.html">nodes_iterator</a>(CFGInfo-&gt;<a class="code" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>());</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160; </div>
<div class="line"><a name="l02262"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#afd7e457d45b1fc78888f3c5e4e4f7c4a"> 2262</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1pointer__iterator.html">nodes_iterator</a> <a class="code" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#afd7e457d45b1fc78888f3c5e4e4f7c4a">nodes_end</a>(<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1pointer__iterator.html">nodes_iterator</a>(CFGInfo-&gt;<a class="code" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>());</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  }</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a8e36b2fa578fdab4bef52c01f3e171c5"> 2266</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a8e36b2fa578fdab4bef52c01f3e171c5">size</a>(<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="keywordflow">return</span> CFGInfo-&gt;<a class="code" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a969eb757b1e43b455d4a8d0f603e695b">size</a>();</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;};</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160; </div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l02272"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html"> 2272</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1DOTGraphTraits.html">DOTGraphTraits</a>&lt;<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *&gt; : <span class="keyword">public</span> <a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html">DefaultDOTGraphTraits</a> {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#af60d76a41274028f16b7b22ec8812199"> 2274</a></span>&#160;  <a class="code" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#af60d76a41274028f16b7b22ec8812199">DOTGraphTraits</a>(<span class="keywordtype">bool</span> IsSimple = <span class="keyword">false</span>) : <a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html">DefaultDOTGraphTraits</a>(IsSimple) {}</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160; </div>
<div class="line"><a name="l02276"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#af2539ced6ca24d31e88f9b0217579a3e"> 2276</a></span>&#160;  <span class="keyword">static</span> std::string <a class="code" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#af2539ced6ca24d31e88f9b0217579a3e">getGraphName</a>(<a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;MSSA CFG for &#39;&quot;</span> + CFGInfo-&gt;<a class="code" href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>() +</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;           <span class="stringliteral">&quot;&#39; function&quot;</span>;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#ae7114057f671ef14b2fbbb1aa29adfe5"> 2281</a></span>&#160;  std::string <a class="code" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#ae7114057f671ef14b2fbbb1aa29adfe5">getNodeLabel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Node, <a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DOTGraphTraits.html">DOTGraphTraits&lt;DOTFuncInfo *&gt;::getCompleteNodeLabel</a>(</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        Node, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        [CFGInfo](<a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;          <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, &amp;CFGInfo-&gt;<a class="code" href="classDOTFuncMSSAInfo.html#a93bafe35974f4c174b844b89c1c74a58">getWriter</a>(), <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        },</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        [](std::string &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">unsigned</span> Idx) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;          std::string Str = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.substr(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Idx - <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;          <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SR = Str;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;          <span class="keywordflow">if</span> (SR.<a class="code" href="classllvm_1_1StringRef.html#ac2c31b7b3c778d12aa176f9253511f37">count</a>(<span class="stringliteral">&quot; = MemoryDef(&quot;</span>) || SR.<a class="code" href="classllvm_1_1StringRef.html#ac2c31b7b3c778d12aa176f9253511f37">count</a>(<span class="stringliteral">&quot; = MemoryPhi(&quot;</span>) ||</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;              SR.<a class="code" href="classllvm_1_1StringRef.html#ac2c31b7b3c778d12aa176f9253511f37">count</a>(<span class="stringliteral">&quot;MemoryUse(&quot;</span>))</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;          <a class="code" href="structllvm_1_1DOTGraphTraits.html">DOTGraphTraits&lt;DOTFuncInfo *&gt;::eraseComment</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Idx);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        });</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#acfdd1c83d2d8a1c44845c1d76a6fcfc2"> 2297</a></span>&#160;  <span class="keyword">static</span> std::string <a class="code" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#acfdd1c83d2d8a1c44845c1d76a6fcfc2">getEdgeSourceLabel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Node,</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                                        <a class="code" href="classllvm_1_1SuccIterator.html">const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DefaultDOTGraphTraits.html#ab027bd32578caffc0ba18d84406a18c6">DOTGraphTraits&lt;DOTFuncInfo *&gt;::getEdgeSourceLabel</a>(Node, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  }</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">  /// Display the raw branch weights from PGO.</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a0955eaa755ffddda2cfc17b7e82dd591"> 2303</a></span>&#160;<span class="comment"></span>  std::string <a class="code" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a0955eaa755ffddda2cfc17b7e82dd591">getEdgeAttributes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Node, <a class="code" href="classllvm_1_1SuccIterator.html">const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;                                <a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  }</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160; </div>
<div class="line"><a name="l02308"></a><span class="lineno"><a class="line" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a7487cfcc4919d2e3934469e8a84c1ad7"> 2308</a></span>&#160;  std::string <a class="code" href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a7487cfcc4919d2e3934469e8a84c1ad7">getNodeAttributes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Node,</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;                                <a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> *CFGInfo) {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ModuleSummaryIndex_8cpp.html#a0fc3ecfdb3206f557e0639397c61d1c9">getNodeLabel</a>(Node, CFGInfo).find(<span class="charliteral">&#39;;&#39;</span>) != std::string::npos</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;               ? <span class="stringliteral">&quot;style=filled, fillcolor=lightpink&quot;</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;               : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  }</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;};</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160; </div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160; </div>
<div class="line"><a name="l02318"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#aaf05971d64f8cc042d8ca50995508fb5"> 2318</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemorySSAPrinterLegacyPass.html#aaf05971d64f8cc042d8ca50995508fb5">MemorySSAPrinterLegacyPass::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="keyword">auto</span> &amp;MSSA = getAnalysis&lt;MemorySSAWrapperPass&gt;().getMSSA();</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5">ensureOptimizedUses</a>();</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a340e155528d3d902fac9349a3bab435d">DotCFGMSSA</a> != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> CFGInfo(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, MSSA);</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <a class="code" href="namespacellvm.html#ad6441cc53729e3cc831bd5c78b4349d0">WriteGraph</a>(&amp;CFGInfo, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, <span class="stringliteral">&quot;MSSA&quot;</span>, <a class="code" href="MemorySSA_8cpp.html#a340e155528d3d902fac9349a3bab435d">DotCFGMSSA</a>);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160; </div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>)</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17">verifyMemorySSA</a>();</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;}</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<a class="code" href="structllvm_1_1AnalysisKey.html">AnalysisKey</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">MemorySSAAnalysis::Key</a>;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160; </div>
<div class="line"><a name="l02334"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAAnalysis.html#a0edf62c9bbb9566682c697dfb8fb2ed5"> 2334</a></span>&#160;<a class="code" href="structllvm_1_1MemorySSAAnalysis_1_1Result.html">MemorySSAAnalysis::Result</a> <a class="code" href="classllvm_1_1MemorySSAAnalysis.html#a0edf62c9bbb9566682c697dfb8fb2ed5">MemorySSAAnalysis::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                                                 <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keyword">auto</span> &amp;DT = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keyword">auto</span> &amp;AA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1MemorySSAAnalysis_1_1Result.html">MemorySSAAnalysis::Result</a>(std::make_unique&lt;MemorySSA&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, &amp;AA, &amp;DT));</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1MemorySSAAnalysis_1_1Result.html#aa7ef622a6a2b5d83ccd6b06a42f0ba48">MemorySSAAnalysis::Result::invalidate</a>(</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> &amp;PA,</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html">FunctionAnalysisManager::Invalidator</a> &amp;Inv) {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="keyword">auto</span> PAC = PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#aa7a1b769f9c57010cc41d9c3bb9d39c6">getChecker</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;();</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">return</span> !(PAC.preserved() || PAC.preservedSet&lt;<a class="code" href="classllvm_1_1AllAnalysesOn.html">AllAnalysesOn&lt;Function&gt;</a>&gt;()) ||</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;         Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA) ||</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;         Inv.<a class="code" href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, PA);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;}</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160; </div>
<div class="line"><a name="l02350"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAPrinterPass.html#ab228481c477a8f642742650e2f03c231"> 2350</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1MemorySSAPrinterPass.html#ab228481c477a8f642742650e2f03c231">MemorySSAPrinterPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                                            <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="keyword">auto</span> &amp;MSSA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).getMSSA();</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5">ensureOptimizedUses</a>();</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a340e155528d3d902fac9349a3bab435d">DotCFGMSSA</a> != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a> CFGInfo(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, MSSA);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <a class="code" href="namespacellvm.html#ad6441cc53729e3cc831bd5c78b4349d0">WriteGraph</a>(&amp;CFGInfo, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, <span class="stringliteral">&quot;MSSA&quot;</span>, <a class="code" href="MemorySSA_8cpp.html#a340e155528d3d902fac9349a3bab435d">DotCFGMSSA</a>);</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;MemorySSA for function: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    MSSA.<a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160; </div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;}</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160; </div>
<div class="line"><a name="l02365"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWalkerPrinterPass.html#a9982e0fb4d45bbefee3aa1a790306610"> 2365</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1MemorySSAWalkerPrinterPass.html#a9982e0fb4d45bbefee3aa1a790306610">MemorySSAWalkerPrinterPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                                                  <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <span class="keyword">auto</span> &amp;MSSA = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).getMSSA();</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;MemorySSA (walker) for function: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  MemorySSAWalkerAnnotatedWriter Writer(&amp;MSSA);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.print(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, &amp;Writer);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160; </div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160; </div>
<div class="line"><a name="l02375"></a><span class="lineno"><a class="line" href="structllvm_1_1MemorySSAVerifierPass.html#a5fa2dbea1ad6cf5950da7d2a642a73bd"> 2375</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="structllvm_1_1MemorySSAVerifierPass.html#a5fa2dbea1ad6cf5950da7d2a642a73bd">MemorySSAVerifierPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                                             <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1MemorySSAAnalysis.html">MemorySSAAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).getMSSA().verifyMemorySSA();</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;}</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#ab799aedc9177a0d0ecc04299b48015ab">MemorySSAWrapperPass::ID</a> = 0;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWrapperPass.html#ae3df661a4d028ba1a08c8b243c721663"> 2384</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#ae3df661a4d028ba1a08c8b243c721663">MemorySSAWrapperPass::MemorySSAWrapperPass</a>() : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <a class="code" href="namespacellvm.html#a1b8a8e0fdb91dab1ae030d1fc7df73ea">initializeMemorySSAWrapperPassPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;}</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWrapperPass.html#a34629477d192d754033321906b13264e"> 2388</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#a34629477d192d754033321906b13264e">MemorySSAWrapperPass::releaseMemory</a>() { MSSA.reset(); }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160; </div>
<div class="line"><a name="l02390"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWrapperPass.html#ab9923984766bd759aab387db40458ceb"> 2390</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#ab9923984766bd759aab387db40458ceb">MemorySSAWrapperPass::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;}</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWrapperPass.html#a4c858dddb5beb0ab1b09ea1f03befcee"> 2396</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#a4c858dddb5beb0ab1b09ea1f03befcee">MemorySSAWrapperPass::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keyword">auto</span> &amp;DT = getAnalysis&lt;DominatorTreeWrapperPass&gt;().getDomTree();</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keyword">auto</span> &amp;AA = getAnalysis&lt;AAResultsWrapperPass&gt;().getAAResults();</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  MSSA.reset(<span class="keyword">new</span> <a class="code" href="EarlyCSE_8cpp.html#a8dbb9a70b80f850edc8194bde1b5b305">MemorySSA</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, &amp;AA, &amp;DT));</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;}</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWrapperPass.html#a0d649c533f559969a7ffb8291eb63876"> 2403</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#a0d649c533f559969a7ffb8291eb63876">MemorySSAWrapperPass::verifyAnalysis</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>)</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17">verifyMemorySSA</a>();</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;}</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160; </div>
<div class="line"><a name="l02408"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWrapperPass.html#adff456f388a9f1fd6e349ecdd58afe56"> 2408</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemorySSAWrapperPass.html#adff456f388a9f1fd6e349ecdd58afe56">MemorySSAWrapperPass::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;}</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160; </div>
<div class="line"><a name="l02412"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSAWalker.html#a3cda9987d773268f1db499ac10de10f3"> 2412</a></span>&#160;<a class="code" href="classllvm_1_1MemorySSAWalker.html#a3cda9987d773268f1db499ac10de10f3">MemorySSAWalker::MemorySSAWalker</a>(<a class="code" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) : MSSA(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {}</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">/// Walk the use-def chains starting at \p StartingAccess and find</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">/// the MemoryAccess that actually clobbers Loc.</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">/// \returns our clobbering memory access</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a2899bbd6d1587b3bfc3fa9e63eb3210c"> 2418</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a2899bbd6d1587b3bfc3fa9e63eb3210c">MemorySSA::ClobberWalkerBase::getClobberingMemoryAccessBase</a>(</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *StartingAccess, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc,</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA, <span class="keywordtype">unsigned</span> &amp;UpwardWalkLimit) {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;MemoryUse&gt;(StartingAccess) &amp;&amp; <span class="stringliteral">&quot;Use cannot be defining access&quot;</span>);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *StartingUseOrDef = dyn_cast&lt;MemoryUseOrDef&gt;(StartingAccess)) {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="keywordflow">if</span> (MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(StartingUseOrDef))</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <span class="keywordflow">return</span> StartingUseOrDef;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160; </div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = StartingUseOrDef-&gt;getMemoryInst();</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160; </div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="comment">// Conservatively, fences are always clobbers, so don&#39;t perform the walk if</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="comment">// we hit a fence.</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isFenceLike())</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      <span class="keywordflow">return</span> StartingUseOrDef;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  }</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160; </div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  UpwardsMemoryQuery Q;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  Q.OriginalAccess = StartingAccess;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  Q.StartingLoc = Loc;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  Q.Inst = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  Q.IsCall = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="comment">// Unlike the other function, do not walk to the def of a def, because we are</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <span class="comment">// handed something we already believe is the clobbering access.</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <span class="comment">// We never set SkipSelf to true in Q in this method.</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Clobber =</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      Walker.findClobber(BAA, StartingAccess, Q, UpwardWalkLimit);</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Clobber starting at access &quot;</span> &lt;&lt; *StartingAccess &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  for instruction &quot;</span> &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  is &quot;</span> &lt;&lt; *Clobber &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  });</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="keywordflow">return</span> Clobber;</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;}</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160; </div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *</div>
<div class="line"><a name="l02457"></a><span class="lineno"><a class="line" href="MemorySSA_8cpp.html#a546c6ff14bd11bf29028c4a307c85c13"> 2457</a></span>&#160;<a class="code" href="MemorySSA_8cpp.html#a546c6ff14bd11bf29028c4a307c85c13">getInvariantGroupClobberingInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT) {</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD_invariant_group) || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isVolatile())</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160; </div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="comment">// We consider bitcasts and zero GEPs to be the same pointer value. Start by</span></div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="comment">// stripping bitcasts and zero GEPs, then we will recursively look at loads</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="comment">// and stores through bitcasts and zero GEPs.</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PointerOperand = <a class="code" href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">getLoadStorePointerOperand</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; </div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="comment">// It&#39;s not safe to walk the use list of a global value because function</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="comment">// passes aren&#39;t allowed to look outside their functions.</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="comment">// FIXME: this could be fixed by filtering instructions from outside of</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="comment">// current function.</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Constant&gt;(PointerOperand))</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="comment">// Queue to process all pointers that are equivalent to load operand.</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 8&gt;</a> PointerUsesQueue;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  PointerUsesQueue.push_back(PointerOperand);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *MostDominatingInstruction = &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160; </div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="comment">// FIXME: This loop is O(n^2) because dominates can be O(n) and in worst case</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="comment">// we will see all the instructions. It may not matter in practice. If it</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="comment">// does, we will have to support MemorySSA construction and updates.</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keywordflow">while</span> (!PointerUsesQueue.empty()) {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = PointerUsesQueue.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> &amp;&amp; !isa&lt;GlobalValue&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) &amp;&amp;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;           <span class="stringliteral">&quot;Null or GlobalValue should not be inserted&quot;</span>);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1User.html">User</a> *Us : <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;users()) {</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <span class="keyword">auto</span> *U = dyn_cast&lt;Instruction&gt;(Us);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <span class="keywordflow">if</span> (!U || U == &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> || !DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(U, MostDominatingInstruction))</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160; </div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <span class="comment">// Add bitcasts and zero GEPs to queue.</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">if</span> (isa&lt;BitCastInst&gt;(U)) {</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        PointerUsesQueue.push_back(U);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      }</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GetElementPtrInst&gt;(U)) {</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;hasAllZeroIndices())</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;          PointerUsesQueue.push_back(U);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      }</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160; </div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      <span class="comment">// If we hit a load/store with an invariant.group metadata and the same</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;      <span class="comment">// pointer operand, we can assume that value pointed to by the pointer</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      <span class="comment">// operand didn&#39;t change.</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="keywordflow">if</span> (U-&gt;hasMetadata(LLVMContext::MD_invariant_group) &amp;&amp;</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;          <a class="code" href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">getLoadStorePointerOperand</a>(U) == <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> &amp;&amp; !U-&gt;isVolatile()) {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        MostDominatingInstruction = U;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      }</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  }</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  <span class="keywordflow">return</span> MostDominatingInstruction == &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> ? nullptr : MostDominatingInstruction;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;}</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"><a class="line" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#aced2cdb601fc982f93a57efbf5a3e4de"> 2515</a></span>&#160;<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a2899bbd6d1587b3bfc3fa9e63eb3210c">MemorySSA::ClobberWalkerBase::getClobberingMemoryAccessBase</a>(</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;BAA, <span class="keywordtype">unsigned</span> &amp;UpwardWalkLimit,</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="keywordtype">bool</span> SkipSelf, <span class="keywordtype">bool</span> UseInvariantGroup) {</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <span class="keyword">auto</span> *StartingAccess = dyn_cast&lt;MemoryUseOrDef&gt;(MA);</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="comment">// If this is a MemoryPhi, we can&#39;t do anything.</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <span class="keywordflow">if</span> (!StartingAccess)</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">return</span> MA;</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="keywordflow">if</span> (UseInvariantGroup) {</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="MemorySSA_8cpp.html#a546c6ff14bd11bf29028c4a307c85c13">getInvariantGroupClobberingInstruction</a>(</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            *StartingAccess-&gt;getMemoryInst(), MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#aa7b3b79fbb6cea38252bce951169add4">getDomTree</a>())) {</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160; </div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      <span class="keyword">auto</span> *ClobberMA = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">getMemoryAccess</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ClobberMA);</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      <span class="keywordflow">if</span> (isa&lt;MemoryUse&gt;(ClobberMA))</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <span class="keywordflow">return</span> ClobberMA-&gt;getDefiningAccess();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <span class="keywordflow">return</span> ClobberMA;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    }</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  }</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160; </div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="keywordtype">bool</span> IsOptimized = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160; </div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="comment">// If this is an already optimized use or def, return the optimized result.</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <span class="comment">// Note: Currently, we store the optimized def result in a separate field,</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="comment">// since we can&#39;t use the defining access.</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="keywordflow">if</span> (StartingAccess-&gt;isOptimized()) {</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">if</span> (!SkipSelf || !isa&lt;MemoryDef&gt;(StartingAccess))</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="keywordflow">return</span> StartingAccess-&gt;getOptimized();</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    IsOptimized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  }</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160; </div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = StartingAccess-&gt;getMemoryInst();</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="comment">// We can&#39;t sanely do anything with a fence, since they conservatively clobber</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="comment">// all memory, and have no locations to get pointers from to try to</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="comment">// disambiguate.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isFenceLike())</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">return</span> StartingAccess;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  UpwardsMemoryQuery Q(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, StartingAccess);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160; </div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MemorySSA_8cpp.html#a7d22bda4751f65ff3beea195460730e8">isUseTriviallyOptimizableToLiveOnEntry</a>(BAA, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *LiveOnEntry = MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#a468b8d23a3bb5b9a484f54193f177713">getLiveOnEntryDef</a>();</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    StartingAccess-&gt;setOptimized(LiveOnEntry);</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <span class="keywordflow">return</span> LiveOnEntry;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160; </div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *OptimizedAccess;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="keywordflow">if</span> (!IsOptimized) {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="comment">// Start with the thing we already think clobbers this location</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *DefiningAccess = StartingAccess-&gt;getDefiningAccess();</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160; </div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <span class="comment">// At this point, DefiningAccess may be the live on entry def.</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="comment">// If it is, we will not get a better result.</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="keywordflow">if</span> (MSSA-&gt;<a class="code" href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">isLiveOnEntryDef</a>(DefiningAccess)) {</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      StartingAccess-&gt;setOptimized(DefiningAccess);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <span class="keywordflow">return</span> DefiningAccess;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    }</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160; </div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    OptimizedAccess =</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        Walker.findClobber(BAA, DefiningAccess, Q, UpwardWalkLimit);</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    StartingAccess-&gt;setOptimized(OptimizedAccess);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    OptimizedAccess = StartingAccess-&gt;getOptimized();</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Starting Memory SSA clobber for &quot;</span> &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>);</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; *StartingAccess &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Optimized Memory SSA clobber for &quot;</span> &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>);</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; *OptimizedAccess &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160; </div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Result;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="keywordflow">if</span> (SkipSelf &amp;&amp; isa&lt;MemoryPhi&gt;(OptimizedAccess) &amp;&amp;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      isa&lt;MemoryDef&gt;(StartingAccess) &amp;&amp; UpwardWalkLimit) {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;MemoryDef&gt;(Q.OriginalAccess));</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    Q.SkipSelfAccess = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    Result = Walker.findClobber(BAA, OptimizedAccess, Q, UpwardWalkLimit);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    Result = OptimizedAccess;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Result Memory SSA clobber [SkipSelf = &quot;</span> &lt;&lt; SkipSelf);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;] for &quot;</span> &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; *Result &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160; </div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;}</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160; </div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *</div>
<div class="line"><a name="l02601"></a><span class="lineno"><a class="line" href="classllvm_1_1DoNothingMemorySSAWalker.html#a57722bcbe1bd2c1790af9bc8453a2f80"> 2601</a></span>&#160;<a class="code" href="classllvm_1_1DoNothingMemorySSAWalker.html#a57722bcbe1bd2c1790af9bc8453a2f80">DoNothingMemorySSAWalker::getClobberingMemoryAccess</a>(<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA,</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                                                    <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;) {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Use.html">Use</a> = dyn_cast&lt;MemoryUseOrDef&gt;(MA))</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getDefiningAccess();</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <span class="keywordflow">return</span> MA;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;}</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160; </div>
<div class="line"><a name="l02608"></a><span class="lineno"><a class="line" href="classllvm_1_1DoNothingMemorySSAWalker.html#a3a06a2393ac5f2a1ce4fe2c7ab9b4457"> 2608</a></span>&#160;<a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *<a class="code" href="classllvm_1_1DoNothingMemorySSAWalker.html#a57722bcbe1bd2c1790af9bc8453a2f80">DoNothingMemorySSAWalker::getClobberingMemoryAccess</a>(</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <a class="code" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *StartingAccess, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;, <a class="code" href="classllvm_1_1BatchAAResults.html">BatchAAResults</a> &amp;) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Use.html">Use</a> = dyn_cast&lt;MemoryUseOrDef&gt;(StartingAccess))</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getDefiningAccess();</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="keywordflow">return</span> StartingAccess;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;}</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160; </div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="keywordtype">void</span> MemoryPhi::deleteMe(<a class="code" href="classllvm_1_1DerivedUser.html">DerivedUser</a> *Self) {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MemoryPhi.html">MemoryPhi</a> *<span class="keyword">&gt;</span>(Self);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;}</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160; </div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="keywordtype">void</span> MemoryDef::deleteMe(<a class="code" href="classllvm_1_1DerivedUser.html">DerivedUser</a> *Self) {</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MemoryDef.html">MemoryDef</a> *<span class="keyword">&gt;</span>(Self);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;}</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160; </div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<span class="keywordtype">void</span> MemoryUse::deleteMe(<a class="code" href="classllvm_1_1DerivedUser.html">DerivedUser</a> *Self) {</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MemoryUse.html">MemoryUse</a> *<span class="keyword">&gt;</span>(Self);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;}</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160; </div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="keywordtype">bool</span> upward_defs_iterator::IsGuaranteedLoopInvariant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keyword">auto</span> IsGuaranteedLoopInvariantBase = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;stripPointerCasts();</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;Instruction&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>))</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordflow">return</span> isa&lt;AllocaInst&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  };</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160; </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;stripPointerCasts();</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()-&gt;isEntryBlock())</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  }</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GEPOperator&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordflow">return</span> IsGuaranteedLoopInvariantBase(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand()) &amp;&amp;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;           <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;hasAllConstantIndices();</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordflow">return</span> IsGuaranteedLoopInvariantBase(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aMemorySSA_8cpp_html_af21791a898355d83b502fd655b90e061"><div class="ttname"><a href="MemorySSA_8cpp.html#af21791a898355d83b502fd655b90e061">isOrdered</a></div><div class="ttdeci">static bool isOrdered(const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01713">MemorySSA.cpp:1713</a></div></div>
<div class="ttc" id="aclassllvm_1_1SuccIterator_html"><div class="ttname"><a href="classllvm_1_1SuccIterator.html">llvm::SuccIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2CFG_8h_source.html#l00138">CFG.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html">llvm::BatchAAResults</a></div><div class="ttdoc">This class is a wrapper over an AAResults, and it is intended to be used only when there are no IR ch...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00612">AliasAnalysis.h:612</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_ade0092d991b99727f68454905d4023cb"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#ade0092d991b99727f68454905d4023cb">llvm::GraphTraits&lt; DOTFuncMSSAInfo * &gt;::getEntryNode</a></div><div class="ttdeci">static NodeRef getEntryNode(DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02251">MemorySSA.cpp:2251</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1ClobberWalkerBase_html_a195c8f56de5acfa828fa5d3215e9a497"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a195c8f56de5acfa828fa5d3215e9a497">llvm::MemorySSA::ClobberWalkerBase::ClobberWalkerBase</a></div><div class="ttdeci">ClobberWalkerBase(MemorySSA *M, DominatorTree *D)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00996">MemorySSA.cpp:996</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a18e5a3f1d71ba10a624f2a8e5121cf1f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">llvm::MemoryLocation::get</a></div><div class="ttdeci">static MemoryLocation get(const LoadInst *LI)</div><div class="ttdoc">Return a location with information about the memory reference by the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00036">MemoryLocation.cpp:36</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a88b10d37f671e58cf138ac84a8257c17"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a88b10d37f671e58cf138ac84a8257c17">llvm::MemorySSA::verifyMemorySSA</a></div><div class="ttdeci">void verifyMemorySSA(VerificationLevel=VerificationLevel::Fast) const</div><div class="ttdoc">Verify that MemorySSA is self consistent (IE definitions dominate all uses, uses appear in the right ...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01863">MemorySSA.cpp:1863</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a7d22bda4751f65ff3beea195460730e8"><div class="ttname"><a href="MemorySSA_8cpp.html#a7d22bda4751f65ff3beea195460730e8">isUseTriviallyOptimizableToLiveOnEntry</a></div><div class="ttdeci">static bool isUseTriviallyOptimizableToLiveOnEntry(BatchAAResults &amp;AA, const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00374">MemorySSA.cpp:374</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">llvm::AArch64CC::AL</a></div><div class="ttdeci">@ AL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00269">AArch64BaseInfo.h:269</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_af22da23886673c59b93659b92b91fa86"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#af22da23886673c59b93659b92b91fa86">llvm::MemorySSA::getWritableBlockDefs</a></div><div class="ttdeci">DefsList * getWritableBlockDefs(const BasicBlock *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00816">MemorySSA.h:816</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a11045c7973ab24a8d6315b61fa337d4e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a11045c7973ab24a8d6315b61fa337d4e">llvm::SmallPtrSetImpl::erase</a></div><div class="ttdeci">bool erase(PtrType Ptr)</div><div class="ttdoc">erase - If the set contains the specified pointer, remove it and return true, otherwise return false.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00379">SmallPtrSet.h:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00753">Function.h:753</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_a702f5587ca1aa58ffea0218248bcbd25"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a702f5587ca1aa58ffea0218248bcbd25">llvm::MemorySSA::SkipSelfWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, BatchAAResults &amp;BAA, unsigned &amp;UWL)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01068">MemorySSA.cpp:1068</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aAtomicOrdering_8h_html"><div class="ttname"><a href="AtomicOrdering_8h.html">AtomicOrdering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_aba328dc3197724a10ffa60efc7e308be"><div class="ttname"><a href="MemorySSA_8cpp.html#aba328dc3197724a10ffa60efc7e308be">VerifyMemorySSAX</a></div><div class="ttdeci">static cl::opt&lt; bool, true &gt; VerifyMemorySSAX(&quot;verify-memoryssa&quot;, cl::location(VerifyMemorySSA), cl::Hidden, cl::desc(&quot;Enable verification of MemorySSA.&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a92ca992e52dddc420f4b069cae06dfbe"><div class="ttname"><a href="namespacellvm.html#a92ca992e52dddc420f4b069cae06dfbe">llvm::isa</a></div><div class="ttdeci">bool isa(const From &amp;Val)</div><div class="ttdoc">isa&lt;X&gt; - Return true if the parameter to the template is an instance of one of the template type argu...</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00549">Casting.h:549</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_abe29855a2ec8d6cc4977c397b646e591"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#abe29855a2ec8d6cc4977c397b646e591">llvm::MemorySSA::SkipSelfWalker::SkipSelfWalker</a></div><div class="ttdeci">SkipSelfWalker(MemorySSA *M, ClobberWalkerBase *W)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01062">MemorySSA.cpp:1062</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_aed47e4757f3240146f8ad40c2cdbf2d1"><div class="ttname"><a href="namespacellvm_1_1cl.html#aed47e4757f3240146f8ad40c2cdbf2d1">llvm::cl::location</a></div><div class="ttdeci">LocationClass&lt; Ty &gt; location(Ty &amp;L)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00465">CommandLine.h:465</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_1_1Invalidator_html_a5e8e9230fa677542877d1f3c6ff95ae2"><div class="ttname"><a href="classllvm_1_1AnalysisManager_1_1Invalidator.html#a5e8e9230fa677542877d1f3c6ff95ae2">llvm::AnalysisManager::Invalidator::invalidate</a></div><div class="ttdeci">bool invalidate(IRUnitT &amp;IR, const PreservedAnalyses &amp;PA)</div><div class="ttdoc">Trigger the invalidation of some other analysis pass if not already handled and return whether it was...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00679">PassManager.h:679</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b"><div class="ttname"><a href="namespacellvm.html#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">llvm::PseudoProbeReservedId::Last</a></div><div class="ttdeci">@ Last</div></div>
<div class="ttc" id="anamespacellvm_html_a4a580cd523b1b82c2c5770101e8ab3ec"><div class="ttname"><a href="namespacellvm.html#a4a580cd523b1b82c2c5770101e8ab3ec">llvm::upward_defs_begin</a></div><div class="ttdeci">upward_defs_iterator upward_defs_begin(const MemoryAccessPair &amp;Pair, DominatorTree &amp;DT)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01301">MemorySSA.h:1301</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDef_html_a2531f35f826de9886540ea39428e144c"><div class="ttname"><a href="classllvm_1_1MemoryDef.html#a2531f35f826de9886540ea39428e144c">llvm::MemoryDef::resetOptimized</a></div><div class="ttdeci">void resetOptimized()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00405">MemorySSA.h:405</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdoc">Target - Wrapper for Target specific information.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00149">TargetRegistry.h:149</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26e2a938b431eaa6eca2beaa96410c9d"><div class="ttname"><a href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">llvm::successors</a></div><div class="ttdeci">auto successors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01265">MachineBasicBlock.h:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a182f60fdefc7814687f4fe9b55ea0063"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a182f60fdefc7814687f4fe9b55ea0063">llvm::MemorySSA::DefsList</a></div><div class="ttdeci">simple_ilist&lt; MemoryAccess, ilist_tag&lt; MSSAHelpers::DefsOnlyTag &gt; &gt; DefsList</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00752">MemorySSA.h:752</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a48ec5fcee6d2c17c723e8e67f169f948"><div class="ttname"><a href="classllvm_1_1User.html#a48ec5fcee6d2c17c723e8e67f169f948">llvm::User::dropAllReferences</a></div><div class="ttdeci">void dropAllReferences()</div><div class="ttdoc">Drop all references to operands.</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00299">User.h:299</a></div></div>
<div class="ttc" id="aItaniumDemangle_8h_html_a88ee8e4eea43084bd8964682683da88ca278c491bdd8a53618c149c4ac790da34"><div class="ttname"><a href="ItaniumDemangle_8h.html#a88ee8e4eea43084bd8964682683da88ca278c491bdd8a53618c149c4ac790da34">TemplateParamKind::Template</a></div><div class="ttdeci">@ Template</div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_af2539ced6ca24d31e88f9b0217579a3e"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#af2539ced6ca24d31e88f9b0217579a3e">llvm::DOTGraphTraits&lt; DOTFuncMSSAInfo * &gt;::getGraphName</a></div><div class="ttdeci">static std::string getGraphName(DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02276">MemorySSA.cpp:2276</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_ae6a4da5f41fc6a36735cc1704c01ce60"><div class="ttname"><a href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00735">Function.h:735</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllAnalysesOn_html"><div class="ttname"><a href="classllvm_1_1AllAnalysesOn.html">llvm::AllAnalysesOn</a></div><div class="ttdoc">This templated class represents &quot;all analyses that operate over &lt;a particular IR unit&gt;&quot; (e....</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00090">PassManager.h:90</a></div></div>
<div class="ttc" id="anamespacellvm_html_a728f79528ca8659e15d00c1e6818b316"><div class="ttname"><a href="namespacellvm.html#a728f79528ca8659e15d00c1e6818b316">llvm::isModSet</a></div><div class="ttdeci">bool isModSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00048">ModRef.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a56004f54560e9950f6eb148cb5dfa0a3"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a56004f54560e9950f6eb148cb5dfa0a3">llvm::MemorySSA::dominates</a></div><div class="ttdeci">bool dominates(const MemoryAccess *A, const MemoryAccess *B) const</div><div class="ttdoc">Given two memory accesses in potentially different blocks, determine whether MemoryAccess A dominates...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02116">MemorySSA.cpp:2116</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html">llvm::MemorySSA::CachingWalker</a></div><div class="ttdoc">A MemorySSAWalker that does AA walks to disambiguate accesses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01015">MemorySSA.cpp:1015</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_ab3a9d1e32d4473460c83d5db60bd0d8b"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#ab3a9d1e32d4473460c83d5db60bd0d8b">llvm::MemoryAccess::getID</a></div><div class="ttdeci">unsigned getID() const</div><div class="ttdoc">Used for debugging and tracking things about MemoryAccesses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00661">MemorySSA.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a1aa1ce1cb2192a65bf9e113882cd4ae9"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a1aa1ce1cb2192a65bf9e113882cd4ae9">llvm::MemorySSA::renamePass</a></div><div class="ttdeci">void renamePass(BasicBlock *BB, MemoryAccess *IncomingVal, SmallPtrSetImpl&lt; BasicBlock * &gt; &amp;Visited)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00829">MemorySSA.h:829</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7ae3b0fa849dbd758b450f98fcfde936a2"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7ae3b0fa849dbd758b450f98fcfde936a2">llvm::AtomicOrdering::SequentiallyConsistent</a></div><div class="ttdeci">@ SequentiallyConsistent</div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aHexagonStoreWidening_8cpp_html_a7d2c711a42f51c1f7b3ce3f8f560fa74"><div class="ttname"><a href="HexagonStoreWidening_8cpp.html#a7d2c711a42f51c1f7b3ce3f8f560fa74">stores</a></div><div class="ttdeci">hexagon widen stores</div><div class="ttdef"><b>Definition:</b> <a href="HexagonStoreWidening_8cpp_source.html#l00118">HexagonStoreWidening.cpp:118</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWalker_html_a3cda9987d773268f1db499ac10de10f3"><div class="ttname"><a href="classllvm_1_1MemorySSAWalker.html#a3cda9987d773268f1db499ac10de10f3">llvm::MemorySSAWalker::MemorySSAWalker</a></div><div class="ttdeci">MemorySSAWalker(MemorySSA *)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02412">MemorySSA.cpp:2412</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a91f4469a9d29e354421494afd4ba466d"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a91f4469a9d29e354421494afd4ba466d">to</a></div><div class="ttdeci">Should compile to</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00449">README.txt:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a9fffac2512fe651f0d5e37e27f5bd51c"><div class="ttname"><a href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">getContext - Return a reference to the LLVMContext associated with this function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00315">Function.cpp:315</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_ab799aedc9177a0d0ecc04299b48015ab"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#ab799aedc9177a0d0ecc04299b48015ab">llvm::MemorySSAWrapperPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00990">MemorySSA.h:990</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a97891043f9eacb9b0e18e22767cc7802"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a97891043f9eacb9b0e18e22767cc7802">llvm::MemorySSA::insertIntoListsBefore</a></div><div class="ttdeci">void insertIntoListsBefore(MemoryAccess *, const BasicBlock *, AccessList::iterator)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01618">MemorySSA.cpp:1618</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_a8f0db7e077ab99af203421d92277acd5"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a8f0db7e077ab99af203421d92277acd5">llvm::MemorySSA::CachingWalker::~CachingWalker</a></div><div class="ttdeci">~CachingWalker() override=default</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a468b8d23a3bb5b9a484f54193f177713"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a468b8d23a3bb5b9a484f54193f177713">llvm::MemorySSA::getLiveOnEntryDef</a></div><div class="ttdeci">MemoryAccess * getLiveOnEntryDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00741">MemorySSA.h:741</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_a4344e66fb61ea313a85a9e054124ac55"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#a4344e66fb61ea313a85a9e054124ac55">llvm::DominatorTreeBase::getNode</a></div><div class="ttdeci">DomTreeNodeBase&lt; NodeT &gt; * getNode(const NodeT *BB) const</div><div class="ttdoc">getNode - return the (Post)DominatorTree node for the specified basic block.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00367">GenericDomTree.h:367</a></div></div>
<div class="ttc" id="anamespacellvm_html_a854abfc88bcd24e3878e2c9ab1f70fd3"><div class="ttname"><a href="namespacellvm.html#a854abfc88bcd24e3878e2c9ab1f70fd3">llvm::isModOrRefSet</a></div><div class="ttdeci">bool isModOrRefSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00042">ModRef.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_aac93691c4bbfb7d9be35d1f757781b76"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#aac93691c4bbfb7d9be35d1f757781b76">llvm::MemorySSA::SkipSelfWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, const MemoryLocation &amp;Loc, BatchAAResults &amp;BAA, unsigned &amp;UWL)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01072">MemorySSA.cpp:1072</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a8a5ce5c05f5824d269bc5751104973c7"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7">llvm::MemorySSA::VerificationLevel</a></div><div class="ttdeci">VerificationLevel</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00781">MemorySSA.h:781</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a8a5ce5c05f5824d269bc5751104973c7abbd47109890259c0127154db1af26c75"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a8a5ce5c05f5824d269bc5751104973c7abbd47109890259c0127154db1af26c75">llvm::MemorySSA::VerificationLevel::Full</a></div><div class="ttdeci">@ Full</div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassDOTFuncMSSAInfo_html"><div class="ttname"><a href="classDOTFuncMSSAInfo.html">DOTFuncMSSAInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02234">MemorySSA.cpp:2234</a></div></div>
<div class="ttc" id="aOperator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="aHashing_8h_html"><div class="ttname"><a href="Hashing_8h.html">Hashing.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1ClobberWalkerBase_html_a2899bbd6d1587b3bfc3fa9e63eb3210c"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html#a2899bbd6d1587b3bfc3fa9e63eb3210c">llvm::MemorySSA::ClobberWalkerBase::getClobberingMemoryAccessBase</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccessBase(MemoryAccess *, const MemoryLocation &amp;, BatchAAResults &amp;, unsigned &amp;)</div><div class="ttdoc">Walk the use-def chains starting at StartingAccess and find the MemoryAccess that actually clobbers L...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02418">MemorySSA.cpp:2418</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html">llvm::MemoryPhi</a></div><div class="ttdoc">Represents phi nodes for memory accesses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00479">MemorySSA.h:479</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUse_html_a39bac19197190015e13adba7ddb9db2f"><div class="ttname"><a href="classllvm_1_1MemoryUse.html#a39bac19197190015e13adba7ddb9db2f">llvm::MemoryUse::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02205">MemorySSA.cpp:2205</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ae7375c161ecaf6b6f4ebd6abfcb5ce71"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ae7375c161ecaf6b6f4ebd6abfcb5ce71">llvm::MemorySSA::~MemorySSA</a></div><div class="ttdeci">~MemorySSA()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01254">MemorySSA.cpp:1254</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUse_html"><div class="ttname"><a href="classllvm_1_1MemoryUse.html">llvm::MemoryUse</a></div><div class="ttdoc">Represents read-only accesses to memory.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00312">MemorySSA.h:312</a></div></div>
<div class="ttc" id="aCompiler_8h_html_acc1c483f4b4ee2f17bb6643a3b353609"><div class="ttname"><a href="Compiler_8h.html#acc1c483f4b4ee2f17bb6643a3b353609">LLVM_ATTRIBUTE_UNUSED</a></div><div class="ttdeci">#define LLVM_ATTRIBUTE_UNUSED</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00172">Compiler.h:172</a></div></div>
<div class="ttc" id="aEarlyCSE_8cpp_html_a310e3a79b8a474993ca1d62a3de9338c"><div class="ttname"><a href="EarlyCSE_8cpp.html#a310e3a79b8a474993ca1d62a3de9338c">memssa</a></div><div class="ttdeci">early cse memssa</div><div class="ttdef"><b>Definition:</b> <a href="EarlyCSE_8cpp_source.html#l01808">EarlyCSE.cpp:1808</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a25dee04a50bd25afa513d772adba5737"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a25dee04a50bd25afa513d772adba5737">llvm::MemorySSA::verifyPrevDefInPhis</a></div><div class="ttdeci">void verifyPrevDefInPhis(Function &amp;F) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01886">MemorySSA.cpp:1886</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_afa9b4a650e1a6de2061538a19be3a234"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#afa9b4a650e1a6de2061538a19be3a234">llvm::MemorySSA::print</a></div><div class="ttdeci">void print(raw_ostream &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01854">MemorySSA.cpp:1854</a></div></div>
<div class="ttc" id="aclassllvm_1_1iplist_html"><div class="ttname"><a href="classllvm_1_1iplist.html">llvm::iplist</a></div><div class="ttdoc">An intrusive list with ownership and callbacks specified/controlled by ilist_traits,...</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00391">ilist.h:391</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html_a6ecf3b528e1fab88068bd3baefb8b0ed"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html#a6ecf3b528e1fab88068bd3baefb8b0ed">llvm::MemoryPhi::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned I) const</div><div class="ttdoc">Return incoming basic block number i.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00540">MemorySSA.h:540</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAPrinterLegacyPass_html_ae168ddebaf2036d7c0aec6d953753d75"><div class="ttname"><a href="classllvm_1_1MemorySSAPrinterLegacyPass.html#ae168ddebaf2036d7c0aec6d953753d75">llvm::MemorySSAPrinterLegacyPass::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00931">MemorySSA.h:931</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a8bc47ee66a3ac3b5f1a57c497048b090"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a8bc47ee66a3ac3b5f1a57c497048b090">llvm::MemorySSA::insertIntoListsForBlock</a></div><div class="ttdeci">void insertIntoListsForBlock(MemoryAccess *, const BasicBlock *, InsertionPlace)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01586">MemorySSA.cpp:1586</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1abf5ba3ee47e95dae362eb24b6d4f48e5"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1abf5ba3ee47e95dae362eb24b6d4f48e5">llvm::lltok::equal</a></div><div class="ttdeci">@ equal</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00025">LLToken.h:25</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f04318888b610cbdd037adc9b1b17e3"><div class="ttname"><a href="namespacellvm.html#a7f04318888b610cbdd037adc9b1b17e3">llvm::isAtLeastOrStrongerThan</a></div><div class="ttdeci">bool isAtLeastOrStrongerThan(AtomicOrdering AO, AtomicOrdering Other)</div><div class="ttdef"><b>Definition:</b> <a href="AtomicOrdering_8h_source.html#l00105">AtomicOrdering.h:105</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aFormattedStream_8h_html"><div class="ttname"><a href="FormattedStream_8h.html">FormattedStream.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_ae3df661a4d028ba1a08c8b243c721663"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#ae3df661a4d028ba1a08c8b243c721663">llvm::MemorySSAWrapperPass::MemorySSAWrapperPass</a></div><div class="ttdeci">MemorySSAWrapperPass()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02384">MemorySSA.cpp:2384</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a06e2f0489fb9bed0b271e8fe6c2b7545"><div class="ttname"><a href="MemorySSA_8cpp.html#a06e2f0489fb9bed0b271e8fe6c2b7545">memoryssa</a></div><div class="ttdeci">memoryssa</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00071">MemorySSA.cpp:71</a></div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_a7487cfcc4919d2e3934469e8a84c1ad7"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a7487cfcc4919d2e3934469e8a84c1ad7">llvm::DOTGraphTraits&lt; DOTFuncMSSAInfo * &gt;::getNodeAttributes</a></div><div class="ttdeci">std::string getNodeAttributes(const BasicBlock *Node, DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02308">MemorySSA.cpp:2308</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAPrinterPass_html_ab228481c477a8f642742650e2f03c231"><div class="ttname"><a href="classllvm_1_1MemorySSAPrinterPass.html#ab228481c477a8f642742650e2f03c231">llvm::MemorySSAPrinterPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02350">MemorySSA.cpp:2350</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html">llvm::MemorySSAWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes MemorySSA.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00986">MemorySSA.h:986</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_a87275fed35339b180f858673e80e36ff"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#a87275fed35339b180f858673e80e36ff">llvm::DominatorTreeBase::getRootNode</a></div><div class="ttdeci">DomTreeNodeBase&lt; NodeT &gt; * getRootNode()</div><div class="ttdoc">getRootNode - This returns the entry node for the CFG of the function.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00386">GenericDomTree.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38dcdde63d81fbda1d22dffd1a27b343"><div class="ttname"><a href="namespacellvm.html#a38dcdde63d81fbda1d22dffd1a27b343">llvm::maximum</a></div><div class="ttdeci">LLVM_READONLY APFloat maximum(const APFloat &amp;A, const APFloat &amp;B)</div><div class="ttdoc">Implements IEEE 754-2018 maximum semantics.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01381">APFloat.h:1381</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ae3b89ffde42778289bcbd8a187199420"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ae3b89ffde42778289bcbd8a187199420">llvm::MemorySSA::isLiveOnEntryDef</a></div><div class="ttdeci">bool isLiveOnEntryDef(const MemoryAccess *MA) const</div><div class="ttdoc">Return true if MA represents the live on entry value.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00737">MemorySSA.h:737</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a131110a75135a123427d3280dff1fef4"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a131110a75135a123427d3280dff1fef4">llvm::MemorySSA::moveTo</a></div><div class="ttdeci">void moveTo(MemoryUseOrDef *What, BasicBlock *BB, AccessList::iterator Where)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01662">MemorySSA.cpp:1662</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_a34629477d192d754033321906b13264e"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#a34629477d192d754033321906b13264e">llvm::MemorySSAWrapperPass::releaseMemory</a></div><div class="ttdeci">void releaseMemory() override</div><div class="ttdoc">releaseMemory() - This member can be implemented by a pass if it wants to be able to release its memo...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02388">MemorySSA.cpp:2388</a></div></div>
<div class="ttc" id="astructllvm_1_1MemorySSAAnalysis_1_1Result_html"><div class="ttname"><a href="structllvm_1_1MemorySSAAnalysis_1_1Result.html">llvm::MemorySSAAnalysis::Result</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00945">MemorySSA.h:945</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4_html_a1aaef96a9b5ebb2c88c4001393744f9e"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#a1aaef96a9b5ebb2c88c4001393744f9e">llvm::DenseMapInfo&lt; MemoryLocOrCall &gt;::isEqual</a></div><div class="ttdeci">static bool isEqual(const MemoryLocOrCall &amp;LHS, const MemoryLocOrCall &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00248">MemorySSA.cpp:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a9773fde54683945b9e34a0f2e5c1a5a5ad02ebd2ab52855a8e9fb8082c9530085"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5ad02ebd2ab52855a8e9fb8082c9530085">llvm::MemorySSA::Beginning</a></div><div class="ttdeci">@ Beginning</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00788">MemorySSA.h:788</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_a393660b1037368a292082fed485aa22a"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a393660b1037368a292082fed485aa22a">llvm::MemorySSA::CachingWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, BatchAAResults &amp;BAA) override</div><div class="ttdoc">Does the same thing as getClobberingMemoryAccess(const Instruction *I), but takes a MemoryAccess inst...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01040">MemorySSA.cpp:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAPrinterLegacyPass_html_aaf05971d64f8cc042d8ca50995508fb5"><div class="ttname"><a href="classllvm_1_1MemorySSAPrinterLegacyPass.html#aaf05971d64f8cc042d8ca50995508fb5">llvm::MemorySSAPrinterLegacyPass::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(Function &amp;) override</div><div class="ttdoc">runOnFunction - Virtual method overriden by subclasses to do the per-function processing of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02318">MemorySSA.cpp:2318</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_adff456f388a9f1fd6e349ecdd58afe56"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#adff456f388a9f1fd6e349ecdd58afe56">llvm::MemorySSAWrapperPass::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const Module *M=nullptr) const override</div><div class="ttdoc">print - Print out the internal state of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02408">MemorySSA.cpp:2408</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1DoNothingMemorySSAWalker_html_a57722bcbe1bd2c1790af9bc8453a2f80"><div class="ttname"><a href="classllvm_1_1DoNothingMemorySSAWalker.html#a57722bcbe1bd2c1790af9bc8453a2f80">llvm::DoNothingMemorySSAWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *, BatchAAResults &amp;) override</div><div class="ttdoc">Does the same thing as getClobberingMemoryAccess(const Instruction *I), but takes a MemoryAccess inst...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02601">MemorySSA.cpp:2601</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWalker_html_a8bb8d1cc3b3a95d81ee75395cadf83c3"><div class="ttname"><a href="classllvm_1_1MemorySSAWalker.html#a8bb8d1cc3b3a95d81ee75395cadf83c3">llvm::MemorySSAWalker::invalidateInfo</a></div><div class="ttdeci">virtual void invalidateInfo(MemoryAccess *)</div><div class="ttdoc">Given a memory access, invalidate anything this walker knows about that access.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01094">MemorySSA.h:1094</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aGenericCycleImpl_8h_html_a9b7ee5bbb263671ca310a70e0d1526e9"><div class="ttname"><a href="GenericCycleImpl_8h.html#a9b7ee5bbb263671ca310a70e0d1526e9">check</a></div><div class="ttdeci">#define check(cond)</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAPrinterLegacyPass_html_ae2bdb6f1c51c03cc2bb47f1af18667a5"><div class="ttname"><a href="classllvm_1_1MemorySSAPrinterLegacyPass.html#ae2bdb6f1c51c03cc2bb47f1af18667a5">llvm::MemorySSAPrinterLegacyPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02229">MemorySSA.cpp:2229</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab24db72f7bd10b13351812874015861b"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees First</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00054">README.txt:54</a></div></div>
<div class="ttc" id="aARMLoadStoreOptimizer_8cpp_html_ab3bfc7321acfbc3619170d5bed907cb3"><div class="ttname"><a href="ARMLoadStoreOptimizer_8cpp.html#ab3bfc7321acfbc3619170d5bed907cb3">opt</a></div><div class="ttdeci">arm prera ldst opt</div><div class="ttdef"><b>Definition:</b> <a href="ARMLoadStoreOptimizer_8cpp_source.html#l02191">ARMLoadStoreOptimizer.cpp:2191</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAAnalysis_html_a0edf62c9bbb9566682c697dfb8fb2ed5"><div class="ttname"><a href="classllvm_1_1MemorySSAAnalysis.html#a0edf62c9bbb9566682c697dfb8fb2ed5">llvm::MemorySSAAnalysis::run</a></div><div class="ttdeci">Result run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02334">MemorySSA.cpp:2334</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html_ab9945ed381faa9dbee65a92e6225768d"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html#ab9945ed381faa9dbee65a92e6225768d">llvm::MemoryPhi::addIncoming</a></div><div class="ttdeci">void addIncoming(MemoryAccess *V, BasicBlock *BB)</div><div class="ttdoc">Add an incoming value to the end of the PHI list.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00561">MemorySSA.h:561</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00314">Dominators.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9bccbe67aaab722783ca4e7c504aaaa7a993ca650a85e8e69b8f7eaa4809c4862"><div class="ttname"><a href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7a993ca650a85e8e69b8f7eaa4809c4862">llvm::AtomicOrdering::Acquire</a></div><div class="ttdeci">@ Acquire</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_aaff19b909f903fe2a431e97424ffced5"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#aaff19b909f903fe2a431e97424ffced5">llvm::MemorySSA::getBlockAccesses</a></div><div class="ttdeci">const AccessList * getBlockAccesses(const BasicBlock *BB) const</div><div class="ttdoc">Return the list of MemoryAccess's for a given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00757">MemorySSA.h:757</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a50a2e57da274f8d69b9f932977379cdf"><div class="ttname"><a href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">llvm::Use::getUser</a></div><div class="ttdeci">User * getUser() const</div><div class="ttdoc">Returns the User that contains this Use.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00072">Use.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_acd0427b84adce00e5b26f993c7aa48c8"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#acd0427b84adce00e5b26f993c7aa48c8">llvm::MemorySSA::removeFromLookups</a></div><div class="ttdeci">void removeFromLookups(MemoryAccess *)</div><div class="ttdoc">Properly remove MA from all of MemorySSA's lookup tables.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01800">MemorySSA.cpp:1800</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_1_1Invalidator_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager_1_1Invalidator.html">llvm::AnalysisManager::Invalidator</a></div><div class="ttdoc">API to communicate dependencies between analyses during invalidation.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00661">PassManager.h:661</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html_a1c403c86f16af563cec6961666e8cc2e"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html#a1c403c86f16af563cec6961666e8cc2e">llvm::MemoryPhi::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00527">MemorySSA.h:527</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html_a1111232011a32357ce2f84d3a633597c"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html#a1111232011a32357ce2f84d3a633597c">llvm::MemoryUseOrDef::getMemoryInst</a></div><div class="ttdeci">Instruction * getMemoryInst() const</div><div class="ttdoc">Get the instruction that this MemoryUse represents.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00259">MemorySSA.h:259</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1255776be971ababbd9e5790cc56eb33"><div class="ttname"><a href="namespacellvm.html#a1255776be971ababbd9e5790cc56eb33">llvm::initializeMemorySSAPrinterLegacyPassPass</a></div><div class="ttdeci">void initializeMemorySSAPrinterLegacyPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_a1f28d0fdd8c042afe70e2ad5632f28cf"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a1f28d0fdd8c042afe70e2ad5632f28cf">llvm::MemorySSA::SkipSelfWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, const MemoryLocation &amp;Loc, BatchAAResults &amp;BAA) override</div><div class="ttdoc">Given a potentially clobbering memory access and a new location, calling this will give you the neare...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01083">MemorySSA.cpp:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_acdde325b4f76f437b0f682f3f59d3a6f"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#acdde325b4f76f437b0f682f3f59d3a6f">llvm::MemorySSA::CachingWalker::CachingWalker</a></div><div class="ttdeci">CachingWalker(MemorySSA *M, ClobberWalkerBase *W)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01019">MemorySSA.cpp:1019</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_aa468ad3fa68bdf6703c391deaec97706"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#aa468ad3fa68bdf6703c391deaec97706">llvm::MemoryAccess::getBlock</a></div><div class="ttdeci">BasicBlock * getBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00164">MemorySSA.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAPrinterLegacyPass_html"><div class="ttname"><a href="classllvm_1_1MemorySSAPrinterLegacyPass.html">llvm::MemorySSAPrinterLegacyPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00924">MemorySSA.h:924</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1MemorySSAVerifierPass_html_a5fa2dbea1ad6cf5950da7d2a642a73bd"><div class="ttname"><a href="structllvm_1_1MemorySSAVerifierPass.html#a5fa2dbea1ad6cf5950da7d2a642a73bd">llvm::MemorySSAVerifierPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02375">MemorySSA.cpp:2375</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09571efa45610bd20734656e6c524047"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09571efa45610bd20734656e6c524047">will</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM ID Predecessors according to mbb&lt; bb27, 0x8b0a7c0 &gt; Note ADDri is not a two address instruction its result reg1037 is an operand of the PHI node in bb76 and its operand reg1039 is the result of the PHI node We should treat it as a two address code and make sure the ADDri is scheduled after any node that reads reg1039 Use info(i.e. register scavenger) to assign it a free register to allow reuse the collector could move the objects and invalidate the derived pointer This is bad enough in the first but safe points can crop up unpredictably **array_addr i32 n y store obj obj **nth_el If the i64 division is lowered to a then a safe point will(must) appear for the call site. If a collection occurs</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ade88aedcbd2b55711000cf3e36c0fc91"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ade88aedcbd2b55711000cf3e36c0fc91">llvm::MemorySSA::locallyDominates</a></div><div class="ttdeci">bool locallyDominates(const MemoryAccess *A, const MemoryAccess *B) const</div><div class="ttdoc">Given two memory accesses in the same basic block, determine whether MemoryAccess A dominates MemoryA...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02085">MemorySSA.cpp:2085</a></div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_html"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits.html">llvm::DOTGraphTraits</a></div><div class="ttdoc">DOTGraphTraits - Template class that can be specialized to customize how graphs are converted to 'dot...</div><div class="ttdef"><b>Definition:</b> <a href="DOTGraphTraits_8h_source.html#l00166">DOTGraphTraits.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb22fb04083152eee862457e42e8dc31"><div class="ttname"><a href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">llvm::predecessors</a></div><div class="ttdeci">auto predecessors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01266">MachineBasicBlock.h:1266</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html_a5c00de32cf1426ab78c346e7a251d608"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html#a5c00de32cf1426ab78c346e7a251d608">llvm::MemoryUseOrDef::setDefiningAccess</a></div><div class="ttdeci">void setDefiningAccess(MemoryAccess *DMA, bool Optimized=false)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00295">MemorySSA.h:295</a></div></div>
<div class="ttc" id="aAssemblyAnnotationWriter_8h_html"><div class="ttname"><a href="AssemblyAnnotationWriter_8h.html">AssemblyAnnotationWriter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDef_html_a09f277b48a8bdfb5edf85ba468537141"><div class="ttname"><a href="classllvm_1_1MemoryDef.html#a09f277b48a8bdfb5edf85ba468537141">llvm::MemoryDef::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02163">MemorySSA.cpp:2163</a></div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_ae7114057f671ef14b2fbbb1aa29adfe5"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#ae7114057f671ef14b2fbbb1aa29adfe5">llvm::DOTGraphTraits&lt; DOTFuncMSSAInfo * &gt;::getNodeLabel</a></div><div class="ttdeci">std::string getNodeLabel(const BasicBlock *Node, DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02281">MemorySSA.cpp:2281</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1pointer__iterator_html"><div class="ttname"><a href="classllvm_1_1pointer__iterator.html">llvm::pointer_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="iterator_8h_source.html#l00344">iterator.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_a5477a209c68910a270096616871491ce"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a5477a209c68910a270096616871491ce">llvm::MemorySSA::CachingWalker::getClobberingMemoryAccessWithoutInvariantGroup</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccessWithoutInvariantGroup(MemoryAccess *MA, BatchAAResults &amp;BAA, unsigned &amp;UWL)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01035">MemorySSA.cpp:1035</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_a4c858dddb5beb0ab1b09ea1f03befcee"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#a4c858dddb5beb0ab1b09ea1f03befcee">llvm::MemorySSAWrapperPass::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(Function &amp;) override</div><div class="ttdoc">runOnFunction - Virtual method overriden by subclasses to do the per-function processing of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02396">MemorySSA.cpp:2396</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a20a60bdac22b099d87d8cb0c1d554120"><div class="ttname"><a href="MemorySSA_8cpp.html#a20a60bdac22b099d87d8cb0c1d554120">SSA</a></div><div class="ttdeci">Memory SSA</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00071">MemorySSA.cpp:71</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a0211e050a705084ef5e653127a7fb3df"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a0211e050a705084ef5e653127a7fb3df">llvm::MemorySSA::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01860">MemorySSA.cpp:1860</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_aa10ee7493bddf2c751ca6e05451ef410"><div class="ttname"><a href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aCFGPrinter_8h_html"><div class="ttname"><a href="CFGPrinter_8h.html">CFGPrinter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ace11a1239f13631eef473d24c8598d5c"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ace11a1239f13631eef473d24c8598d5c">llvm::MemorySSA::verifyOrderingDominationAndDefUses</a></div><div class="ttdeci">void verifyOrderingDominationAndDefUses(Function &amp;F, VerificationLevel=VerificationLevel::Fast) const</div><div class="ttdoc">Verify ordering: the order and existence of MemoryAccesses matches the order and existence of memory ...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01963">MemorySSA.cpp:1963</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html_a6a15a030098342e06ea73e1241d614c9"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a6a15a030098342e06ea73e1241d614c9">llvm::DomTreeNodeBase::getBlock</a></div><div class="ttdeci">NodeT * getBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00089">GenericDomTree.h:89</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_afd7e457d45b1fc78888f3c5e4e4f7c4a"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#afd7e457d45b1fc78888f3c5e4e4f7c4a">llvm::GraphTraits&lt; DOTFuncMSSAInfo * &gt;::nodes_end</a></div><div class="ttdeci">static nodes_iterator nodes_end(DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02262">MemorySSA.cpp:2262</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_aadff5eaae30623b4077b9dec90f29dcf"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#aadff5eaae30623b4077b9dec90f29dcf">llvm::MemoryAccess::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02154">MemorySSA.cpp:2154</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html">llvm::MemorySSA::SkipSelfWalker</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01058">MemorySSA.cpp:1058</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_ad20a919e3afba7f5a5b58ac994d6a687"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad20a919e3afba7f5a5b58ac994d6a687">llvm::MemorySSA::CachingWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, BatchAAResults &amp;BAA, unsigned &amp;UWL)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01025">MemorySSA.cpp:1025</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aclassllvm_1_1iplist__impl_html_a4563732eae31ee14694e7ce17a5a6749"><div class="ttname"><a href="classllvm_1_1iplist__impl.html#a4563732eae31ee14694e7ce17a5a6749">llvm::iplist_impl&lt; simple_ilist&lt; T, Options... &gt;, ilist_traits&lt; T &gt; &gt;::iterator</a></div><div class="ttdeci">base_list_type::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00178">ilist.h:178</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae833ff4bb3c49473a3eb6aa5db75ff25"><div class="ttname"><a href="namespacellvm.html#ae833ff4bb3c49473a3eb6aa5db75ff25">llvm::def_chain</a></div><div class="ttdeci">iterator_range&lt; def_chain_iterator&lt; T &gt; &gt; def_chain(T MA, MemoryAccess *UpTo=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01356">MemorySSA.h:1356</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1OptimizeUses_html_a195658a43b30378309ff4e62455dc137"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#a195658a43b30378309ff4e62455dc137">llvm::MemorySSA::OptimizeUses::optimizeUses</a></div><div class="ttdeci">void optimizeUses()</div><div class="ttdoc">Optimize uses to point to their actual clobbering definitions.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01479">MemorySSA.cpp:1479</a></div></div>
<div class="ttc" id="aMemoryLocation_8h_html"><div class="ttname"><a href="MemoryLocation_8h.html">MemoryLocation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="astructllvm_1_1AnalysisKey_html"><div class="ttname"><a href="structllvm_1_1AnalysisKey.html">llvm::AnalysisKey</a></div><div class="ttdoc">A special type used by analysis passes to provide an address that identifies that particular analysis...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00069">PassManager.h:69</a></div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_a0955eaa755ffddda2cfc17b7e82dd591"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a0955eaa755ffddda2cfc17b7e82dd591">llvm::DOTGraphTraits&lt; DOTFuncMSSAInfo * &gt;::getEdgeAttributes</a></div><div class="ttdeci">std::string getEdgeAttributes(const BasicBlock *Node, const_succ_iterator I, DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdoc">Display the raw branch weights from PGO.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02303">MemorySSA.cpp:2303</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_af6d5cafbdfc5313e65d990120021a3ec"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a></div><div class="ttdeci">basic Basic Alias true</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l01804">BasicAliasAnalysis.cpp:1804</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html"><div class="ttname"><a href="classllvm_1_1MemorySSA.html">llvm::MemorySSA</a></div><div class="ttdoc">Encapsulates MemorySSA, including all data associated with memory accesses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00700">MemorySSA.h:700</a></div></div>
<div class="ttc" id="aiterator_8h_html"><div class="ttname"><a href="iterator_8h.html">iterator.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a4ece07ee1030856099726901d0eef81b"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a4ece07ee1030856099726901d0eef81b">llvm::MemorySSA::getMemoryAccess</a></div><div class="ttdeci">MemoryUseOrDef * getMemoryAccess(const Instruction *I) const</div><div class="ttdoc">Given a memory Mod/Ref'ing instruction, get the MemorySSA access associated with it.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00717">MemorySSA.h:717</a></div></div>
<div class="ttc" id="aStringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1iterator__facade__base_html"><div class="ttname"><a href="classllvm_1_1iterator__facade__base.html">llvm::iterator_facade_base</a></div><div class="ttdoc">CRTP base class which implements the entire standard iterator facade in terms of a minimal subset of ...</div><div class="ttdef"><b>Definition:</b> <a href="iterator_8h_source.html#l00080">iterator.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a9a3c9d867ff6bde97841c2b7983f5c70"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a3c9d867ff6bde97841c2b7983f5c70">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00080">DenseSet.h:80</a></div></div>
<div class="ttc" id="aclassDOTFuncMSSAInfo_html_a93bafe35974f4c174b844b89c1c74a58"><div class="ttname"><a href="classDOTFuncMSSAInfo.html#a93bafe35974f4c174b844b89c1c74a58">DOTFuncMSSAInfo::getWriter</a></div><div class="ttdeci">MemorySSAAnnotatedWriter &amp; getWriter()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02244">MemorySSA.cpp:2244</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_ac0c898d041e4ba387416c5da7d087a6d"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#ac0c898d041e4ba387416c5da7d087a6d">llvm::MemorySSA::SkipSelfWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, BatchAAResults &amp;BAA) override</div><div class="ttdoc">Does the same thing as getClobberingMemoryAccess(const Instruction *I), but takes a MemoryAccess inst...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01078">MemorySSA.cpp:1078</a></div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_acfdd1c83d2d8a1c44845c1d76a6fcfc2"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#acfdd1c83d2d8a1c44845c1d76a6fcfc2">llvm::DOTGraphTraits&lt; DOTFuncMSSAInfo * &gt;::getEdgeSourceLabel</a></div><div class="ttdeci">static std::string getEdgeSourceLabel(const BasicBlock *Node, const_succ_iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02297">MemorySSA.cpp:2297</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryDef_html"><div class="ttname"><a href="classllvm_1_1MemoryDef.html">llvm::MemoryDef</a></div><div class="ttdoc">Represents a read-write access to memory, whether it is a must-alias, or a may-alias.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00372">MemorySSA.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_aa7b3b79fbb6cea38252bce951169add4"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#aa7b3b79fbb6cea38252bce951169add4">llvm::MemorySSA::getDomTree</a></div><div class="ttdeci">DominatorTree &amp; getDomTree() const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00725">MemorySSA.h:725</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a9773fde54683945b9e34a0f2e5c1a5a5"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a9773fde54683945b9e34a0f2e5c1a5a5">llvm::MemorySSA::InsertionPlace</a></div><div class="ttdeci">InsertionPlace</div><div class="ttdoc">Used in various insertion functions to specify whether we are talking about the beginning or end of a...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00788">MemorySSA.h:788</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2e"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">llvm::ModRefInfo</a></div><div class="ttdeci">ModRefInfo</div><div class="ttdoc">Flags indicating whether a memory access modifies or references memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00027">ModRef.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1formatted__raw__ostream_html"><div class="ttname"><a href="classllvm_1_1formatted__raw__ostream.html">llvm::formatted_raw_ostream</a></div><div class="ttdoc">formatted_raw_ostream - A raw_ostream that wraps another one and keeps track of line and column posit...</div><div class="ttdef"><b>Definition:</b> <a href="FormattedStream_8h_source.html#l00030">FormattedStream.h:30</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_adbff55f335d303816547f35eb6edb948"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adbff55f335d303816547f35eb6edb948">llvm::MachineBasicBlock::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00279">MachineBasicBlock.h:279</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_a775e17001d1ae4c4af6133518a1eadf0"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a775e17001d1ae4c4af6133518a1eadf0">llvm::MemorySSA::CachingWalker::invalidateInfo</a></div><div class="ttdeci">void invalidateInfo(MemoryAccess *MA) override</div><div class="ttdoc">Given a memory access, invalidate anything this walker knows about that access.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01052">MemorySSA.cpp:1052</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a1a70f2c359aadd76a72aaaede16aca4a"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const Use &amp;U) const</div><div class="ttdoc">Provide an overload for a Use.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00335">Dominators.cpp:335</a></div></div>
<div class="ttc" id="aclassllvm_1_1IDFCalculator_html"><div class="ttname"><a href="classllvm_1_1IDFCalculator.html">llvm::IDFCalculator</a></div><div class="ttdef"><b>Definition:</b> <a href="IteratedDominanceFrontier_8h_source.html#l00039">IteratedDominanceFrontier.h:39</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad6441cc53729e3cc831bd5c78b4349d0"><div class="ttname"><a href="namespacellvm.html#ad6441cc53729e3cc831bd5c78b4349d0">llvm::WriteGraph</a></div><div class="ttdeci">raw_ostream &amp; WriteGraph(raw_ostream &amp;O, const GraphType &amp;G, bool ShortNames=false, const Twine &amp;Title=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00359">GraphWriter.h:359</a></div></div>
<div class="ttc" id="aiterator__range_8h_html"><div class="ttname"><a href="iterator__range_8h.html">iterator_range.h</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a930e3a524f031bdb14fe281e4eff4219"><div class="ttname"><a href="MemorySSA_8cpp.html#a930e3a524f031bdb14fe281e4eff4219">checkClobberSanity</a></div><div class="ttdeci">static LLVM_ATTRIBUTE_UNUSED void checkClobberSanity(const MemoryAccess *Start, MemoryAccess *ClobberAt, const MemoryLocation &amp;StartLoc, const MemorySSA &amp;MSSA, const UpwardsMemoryQuery &amp;Query, BatchAAResults &amp;AA, bool AllowImpreciseClobber=false)</div><div class="ttdoc">Verifies that Start is clobbered by ClobberAt, and that nothing inbetween Start and ClobberAt can clo...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00400">MemorySSA.cpp:400</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01const_01BasicBlock_01_5_01_4_html"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01const_01BasicBlock_01_5_01_4.html">llvm::GraphTraits&lt; const BasicBlock * &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2CFG_8h_source.html#l00309">CFG.h:309</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_a8e36b2fa578fdab4bef52c01f3e171c5"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#a8e36b2fa578fdab4bef52c01f3e171c5">llvm::GraphTraits&lt; DOTFuncMSSAInfo * &gt;::size</a></div><div class="ttdeci">static size_t size(DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02266">MemorySSA.cpp:2266</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemorySSAAnalysis.html">llvm::MemorySSAAnalysis</a></div><div class="ttdoc">An analysis that produces MemorySSA for a function.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00936">MemorySSA.h:936</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a949151a1ebd664cb397323294cec0e53"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a949151a1ebd664cb397323294cec0e53">llvm::MemorySSA::getWalker</a></div><div class="ttdeci">MemorySSAWalker * getWalker()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01558">MemorySSA.cpp:1558</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html_ad9d171a8662f441f5c7c50061e628565"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html#ad9d171a8662f441f5c7c50061e628565">llvm::MemoryPhi::getIncomingValue</a></div><div class="ttdeci">MemoryAccess * getIncomingValue(unsigned I) const</div><div class="ttdoc">Return incoming value number x.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00530">MemorySSA.h:530</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_ab9923984766bd759aab387db40458ceb"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#ab9923984766bd759aab387db40458ceb">llvm::MemorySSAWrapperPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02390">MemorySSA.cpp:2390</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_a6e7776745ea6a7ef7851f1b97fdf8d64"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#a6e7776745ea6a7ef7851f1b97fdf8d64">llvm::MemorySSA::CachingWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, const MemoryLocation &amp;Loc, BatchAAResults &amp;BAA) override</div><div class="ttdoc">Given a potentially clobbering memory access and a new location, calling this will give you the neare...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01045">MemorySSA.cpp:1045</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4d812a2dd18aa186c164447e20e348e7"><div class="ttname"><a href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">llvm::operator==</a></div><div class="ttdeci">bool operator==(const AddressRangeValuePair &amp;LHS, const AddressRangeValuePair &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00153">AddressRanges.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a1fbf4d66a9eeaa9ade03e8febee097ee"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00092">DenseSet.h:92</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67980a8ae101d2fda845eb750ffb1942"><div class="ttname"><a href="namespacellvm.html#a67980a8ae101d2fda845eb750ffb1942">llvm::print</a></div><div class="ttdeci">Printable print(const GCNRegPressure &amp;RP, const GCNSubtarget *ST=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="GCNRegPressure_8cpp_source.html#l00138">GCNRegPressure.cpp:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1OptimizeUses_html_ad7fb8e8bcc5cf17ad15225ab3cb9e401"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1OptimizeUses.html#ad7fb8e8bcc5cf17ad15225ab3cb9e401">llvm::MemorySSA::OptimizeUses::OptimizeUses</a></div><div class="ttdeci">OptimizeUses(MemorySSA *MSSA, CachingWalker *Walker, BatchAAResults *BAA, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01288">MemorySSA.cpp:1288</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWalker_html_a95d0e423957d029a78e5868f539e9cce"><div class="ttname"><a href="classllvm_1_1MemorySSAWalker.html#a95d0e423957d029a78e5868f539e9cce">llvm::MemorySSAWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(const Instruction *I, BatchAAResults &amp;AA)</div><div class="ttdoc">Given a memory Mod/Ref/ModRef'ing instruction, calling this will give you the nearest dominating Memo...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01046">MemorySSA.h:1046</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a9939794555fe9e24e885d55e301de803"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a9939794555fe9e24e885d55e301de803">llvm::MemorySSA::createDefinedAccess</a></div><div class="ttdeci">MemoryUseOrDef * createDefinedAccess(Instruction *, MemoryAccess *, const MemoryUseOrDef *Template=nullptr, bool CreationMustSucceed=true)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01693">MemorySSA.cpp:1693</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2366b4a30c90d2207626fb717dfb778d"><div class="ttname"><a href="namespacellvm.html#a2366b4a30c90d2207626fb717dfb778d">llvm::operator*</a></div><div class="ttdeci">APInt operator*(APInt a, uint64_t RHS)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02162">APInt.h:2162</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa9d12274f5a8784ab14b568bfa25ec0f"><div class="ttname"><a href="namespacellvm.html#aa9d12274f5a8784ab14b568bfa25ec0f">llvm::MemoryAccessPair</a></div><div class="ttdeci">std::pair&lt; MemoryAccess *, MemoryLocation &gt; MemoryAccessPair</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01117">MemorySSA.h:1117</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a01bd739644e8d3cbbb80f37f6ddb8b0e"><div class="ttname"><a href="regcomp_8c.html#a01bd739644e8d3cbbb80f37f6ddb8b0e">MAP</a></div><div class="ttdeci">#define MAP(n)</div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a546c6ff14bd11bf29028c4a307c85c13"><div class="ttname"><a href="MemorySSA_8cpp.html#a546c6ff14bd11bf29028c4a307c85c13">getInvariantGroupClobberingInstruction</a></div><div class="ttdeci">static const Instruction * getInvariantGroupClobberingInstruction(Instruction &amp;I, DominatorTree &amp;DT)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02457">MemorySSA.cpp:2457</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html">llvm::sys::Memory</a></div><div class="ttdoc">This class provides various memory handling functions that manipulate MemoryBlock instances.</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00052">Memory.h:52</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4_html_a8067c360f88c5012f1ffebb342f72d36"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#a8067c360f88c5012f1ffebb342f72d36">llvm::DenseMapInfo&lt; MemoryLocOrCall &gt;::getHashValue</a></div><div class="ttdeci">static unsigned getHashValue(const MemoryLocOrCall &amp;MLOC)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00233">MemorySSA.cpp:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a2ef6f9107316d963f20b9003b7668c4e"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a2ef6f9107316d963f20b9003b7668c4e">llvm::MemorySSA::getSkipSelfWalker</a></div><div class="ttdeci">MemorySSAWalker * getSkipSelfWalker()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01571">MemorySSA.cpp:1571</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_aced78c3344e93eaed9a44b319bf14c29"><div class="ttname"><a href="MemorySSA_8cpp.html#aced78c3344e93eaed9a44b319bf14c29">Printer</a></div><div class="ttdeci">Memory true print Memory SSA Printer</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00078">MemorySSA.cpp:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1simple__ilist_html_aefb5430ea919aa7223dbf8583e947111"><div class="ttname"><a href="classllvm_1_1simple__ilist.html#aefb5430ea919aa7223dbf8583e947111">llvm::simple_ilist::rbegin</a></div><div class="ttdeci">reverse_iterator rbegin()</div><div class="ttdef"><b>Definition:</b> <a href="simple__ilist_8h_source.html#l00121">simple_ilist.h:121</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ae1268e7601b73d11a7237fc33631a6e6"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ae1268e7601b73d11a7237fc33631a6e6">cl</a></div><div class="ttdeci">http eax xorl edx cl sete al setne dl sall cl</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00025">README.txt:25</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a65b7c715bf28eb17cfd012dd9bc3ad4b"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a65b7c715bf28eb17cfd012dd9bc3ad4b">llvm::MemorySSA::getBlockDefs</a></div><div class="ttdeci">const DefsList * getBlockDefs(const BasicBlock *BB) const</div><div class="ttdoc">Return the list of MemoryDef's and MemoryPhi's for a given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00765">MemorySSA.h:765</a></div></div>
<div class="ttc" id="astructllvm_1_1DefaultDOTGraphTraits_html_ab027bd32578caffc0ba18d84406a18c6"><div class="ttname"><a href="structllvm_1_1DefaultDOTGraphTraits.html#ab027bd32578caffc0ba18d84406a18c6">llvm::DefaultDOTGraphTraits::getEdgeSourceLabel</a></div><div class="ttdeci">static std::string getEdgeSourceLabel(const void *, EdgeIter)</div><div class="ttdoc">getEdgeSourceLabel - If you want to label the edge source itself, implement this method.</div><div class="ttdef"><b>Definition:</b> <a href="DOTGraphTraits_8h_source.html#l00112">DOTGraphTraits.h:112</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_af6b567bc09d96e972d2f2636374a8bd7"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#af6b567bc09d96e972d2f2636374a8bd7">llvm::MemorySSA::SkipSelfWalker::invalidateInfo</a></div><div class="ttdeci">void invalidateInfo(MemoryAccess *MA) override</div><div class="ttdoc">Given a memory access, invalidate anything this walker knows about that access.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01090">MemorySSA.cpp:1090</a></div></div>
<div class="ttc" id="anamespacellvm_html_af7787f6b577cd7a63f043b87301b8e81"><div class="ttname"><a href="namespacellvm.html#af7787f6b577cd7a63f043b87301b8e81">llvm::isRefSet</a></div><div class="ttdeci">bool isRefSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00051">ModRef.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html_a055daa2efd196d7b72c0f2d36019854e"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html#a055daa2efd196d7b72c0f2d36019854e">llvm::MemoryPhi::setIncomingValue</a></div><div class="ttdeci">void setIncomingValue(unsigned I, MemoryAccess *V)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00531">MemorySSA.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html_a40b8345d54ada5dab71ae11d71e89d2f"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a40b8345d54ada5dab71ae11d71e89d2f">llvm::DomTreeNodeBase::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00076">GenericDomTree.h:76</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1ClobberWalkerBase_html"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1ClobberWalkerBase.html">llvm::MemorySSA::ClobberWalkerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00991">MemorySSA.cpp:991</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a93603fe0d4168b92a901f06015ecb2e7"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a93603fe0d4168b92a901f06015ecb2e7">llvm::LoadInst::getOrdering</a></div><div class="ttdeci">AtomicOrdering getOrdering() const</div><div class="ttdoc">Returns the ordering constraint of this load instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00229">Instructions.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html">llvm::MemoryAccess</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00142">MemorySSA.h:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase&lt; BasicBlock &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a46c8085554844d09b2f3c80bdc833a19"><div class="ttname"><a href="README-SSE_8txt.html#a46c8085554844d09b2f3c80bdc833a19">consider</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from where P can be anything The alignment inference code cannot handle loads from globals in static non mode because it doesn t look through the extra dyld stub load If you try vec_align ll without relocation you ll see what I mean We should lower which eliminates a constant pool load For consider</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00421">README-SSE.txt:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1Init_html"><div class="ttname"><a href="classllvm_1_1Init.html">llvm::Init</a></div><div class="ttdef"><b>Definition:</b> <a href="Record_8h_source.html#l00282">Record.h:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ac2c31b7b3c778d12aa176f9253511f37"><div class="ttname"><a href="classllvm_1_1StringRef.html#ac2c31b7b3c778d12aa176f9253511f37">llvm::StringRef::count</a></div><div class="ttdeci">size_t count(char C) const</div><div class="ttdoc">Return the number of occurrences of C in the string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00450">StringRef.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00751">Function.h:751</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4_html_ac9f27c5f4b485fa4c3101856d82d40bc"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#ac9f27c5f4b485fa4c3101856d82d40bc">llvm::DenseMapInfo&lt; MemoryLocOrCall &gt;::getEmptyKey</a></div><div class="ttdeci">static MemoryLocOrCall getEmptyKey()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00225">MemorySSA.cpp:225</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a5926ddc0f7c4225c6ced440baa2fb7a3"><div class="ttname"><a href="MemorySSA_8cpp.html#a5926ddc0f7c4225c6ced440baa2fb7a3">MaxCheckLimit</a></div><div class="ttdeci">Memory true print Memory SSA static false cl::opt&lt; unsigned &gt; MaxCheckLimit(&quot;memssa-check-limit&quot;, cl::Hidden, cl::init(100), cl::desc(&quot;The maximum number of stores/phis MemorySSA&quot; &quot;will consider trying to walk past (default = 100)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac78c09ae232b2ce188ff590d51e3c268"><div class="ttname"><a href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a></div><div class="ttdeci">auto find_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::find_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01762">STLExtras.h:1762</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_adaa94f3c67c7301f0172b1aa9dad07fe"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#adaa94f3c67c7301f0172b1aa9dad07fe">llvm::MemoryAccess::setBlock</a></div><div class="ttdeci">void setBlock(BasicBlock *BB)</div><div class="ttdoc">Used by MemorySSA to change the block of a MemoryAccess when it is moved.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00217">MemorySSA.h:217</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1OptimizeUses_html"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1OptimizeUses.html">llvm::MemorySSA::OptimizeUses</a></div><div class="ttdoc">This class is a batch walker of all MemoryUse's in the program, and points their defining access at t...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01286">MemorySSA.cpp:1286</a></div></div>
<div class="ttc" id="anamespacellvm_html_add49d9f7abebe402adf1a57c762abeef"><div class="ttname"><a href="namespacellvm.html#add49d9f7abebe402adf1a57c762abeef">llvm::depth_first</a></div><div class="ttdeci">iterator_range&lt; df_iterator&lt; T &gt; &gt; depth_first(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00229">DepthFirstIterator.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_acd30a2d319950c138d97d5b3356342b5"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#acd30a2d319950c138d97d5b3356342b5">llvm::MemorySSA::ensureOptimizedUses</a></div><div class="ttdeci">void ensureOptimizedUses()</div><div class="ttdoc">By default, uses are not optimized during MemorySSA construction.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02143">MemorySSA.cpp:2143</a></div></div>
<div class="ttc" id="aclassDOTFuncMSSAInfo_html_af911eb2850fc09fc07e7246052e3747b"><div class="ttname"><a href="classDOTFuncMSSAInfo.html#af911eb2850fc09fc07e7246052e3747b">DOTFuncMSSAInfo::getFunction</a></div><div class="ttdeci">const Function * getFunction()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02243">MemorySSA.cpp:2243</a></div></div>
<div class="ttc" id="aGraphWriter_8h_html"><div class="ttname"><a href="GraphWriter_8h.html">GraphWriter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_afc5cb7046c606977b01abe2914be8323"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#afc5cb7046c606977b01abe2914be8323">llvm::GraphTraits&lt; DOTFuncMSSAInfo * &gt;::nodes_begin</a></div><div class="ttdeci">static nodes_iterator nodes_begin(DOTFuncMSSAInfo *CFGInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02258">MemorySSA.cpp:2258</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html_abc4e1b6cc483cfd57ca75c4ab92bd360"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html#abc4e1b6cc483cfd57ca75c4ab92bd360">llvm::MemoryUseOrDef::getDefiningAccess</a></div><div class="ttdeci">MemoryAccess * getDefiningAccess() const</div><div class="ttdoc">Get the access that produces the memory state used by this Use.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00262">MemorySSA.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryPhi_html_ad75b48c94bacfc6a1d166164bd51af8b"><div class="ttname"><a href="classllvm_1_1MemoryPhi.html#ad75b48c94bacfc6a1d166164bd51af8b">llvm::MemoryPhi::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02183">MemorySSA.cpp:2183</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_ac01b3bf4dda9266ec05d70b2f55281fa"><div class="ttname"><a href="MemorySSA_8cpp.html#ac01b3bf4dda9266ec05d70b2f55281fa">areLoadsReorderable</a></div><div class="ttdeci">static bool areLoadsReorderable(const LoadInst *Use, const LoadInst *MayClobber)</div><div class="ttdoc">This does one-way checks to see if Use could theoretically be hoisted above MayClobber.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00261">MemorySSA.cpp:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssemblyAnnotationWriter_html"><div class="ttname"><a href="classllvm_1_1AssemblyAnnotationWriter.html">llvm::AssemblyAnnotationWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="AssemblyAnnotationWriter_8h_source.html#l00027">AssemblyAnnotationWriter.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5eeaf08e96168c2cac8960f87f0ef360"><div class="ttname"><a href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">llvm::pred_end</a></div><div class="ttdeci">Interval::pred_iterator pred_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00112">Interval.h:112</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">llvm::AArch64CC::LS</a></div><div class="ttdeci">@ LS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00264">AArch64BaseInfo.h:264</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_ac924d5bdea6ffb5a0278c3dbd8b06e4d"><div class="ttname"><a href="MemorySSA_8cpp.html#ac924d5bdea6ffb5a0278c3dbd8b06e4d">LiveOnEntryStr</a></div><div class="ttdeci">const static char LiveOnEntryStr[]</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00096">MemorySSA.cpp:96</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html_a0d649c533f559969a7ffb8291eb63876"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html#a0d649c533f559969a7ffb8291eb63876">llvm::MemorySSAWrapperPass::verifyAnalysis</a></div><div class="ttdeci">void verifyAnalysis() const override</div><div class="ttdoc">verifyAnalysis() - This member can be implemented by a analysis pass to check state of analysis infor...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02403">MemorySSA.cpp:2403</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1SkipSelfWalker_html_a64147a79aaac7db360bbe04da925f70d"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1SkipSelfWalker.html#a64147a79aaac7db360bbe04da925f70d">llvm::MemorySSA::SkipSelfWalker::~SkipSelfWalker</a></div><div class="ttdeci">~SkipSelfWalker() override=default</div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ae20e35b50e6cf67987421c996cf14a8c"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ae20e35b50e6cf67987421c996cf14a8c">llvm::MemorySSA::removeFromLists</a></div><div class="ttdeci">void removeFromLists(MemoryAccess *, bool ShouldDelete=true)</div><div class="ttdoc">Properly remove MA from all of MemorySSA's lists.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01827">MemorySSA.cpp:1827</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryUseOrDef_html"><div class="ttname"><a href="classllvm_1_1MemoryUseOrDef.html">llvm::MemoryUseOrDef</a></div><div class="ttdoc">Class that has the common methods + fields of memory uses/defs.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00252">MemorySSA.h:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1BatchAAResults_html_af2a774dba86bfeea3d8843822a974fe2"><div class="ttname"><a href="classllvm_1_1BatchAAResults.html#af2a774dba86bfeea3d8843822a974fe2">llvm::BatchAAResults::getModRefInfoMask</a></div><div class="ttdeci">ModRefInfo getModRefInfoMask(const MemoryLocation &amp;Loc, bool IgnoreLocals=false)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00627">AliasAnalysis.h:627</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1value__desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1value__desc.html">llvm::cl::value_desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00420">CommandLine.h:420</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_a0323cfb2d9032e14069108390831f5b7"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#a0323cfb2d9032e14069108390831f5b7">llvm::MemoryAccess::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02215">MemorySSA.cpp:2215</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a2bfd991f2f853a9a689ac782f7030406"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a2bfd991f2f853a9a689ac782f7030406">llvm::MemorySSA::getWritableBlockAccesses</a></div><div class="ttdeci">AccessList * getWritableBlockAccesses(const BasicBlock *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00810">MemorySSA.h:810</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="aIteratedDominanceFrontier_8h_html"><div class="ttname"><a href="IteratedDominanceFrontier_8h.html">IteratedDominanceFrontier.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e108932dc3da5294aed99a353aac9c4"><div class="ttname"><a href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">llvm::pred_begin</a></div><div class="ttdeci">Interval::pred_iterator pred_begin(Interval *I)</div><div class="ttdoc">pred_begin/pred_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00109">Interval.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="aMemorySSA_8h_html"><div class="ttname"><a href="MemorySSA_8h.html">MemorySSA.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html_ae2ff5b5e73931f046c93195dbf8c360a"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#ae2ff5b5e73931f046c93195dbf8c360a">llvm::DomTreeNodeBase&lt; BasicBlock &gt;::const_iterator</a></div><div class="ttdeci">typename SmallVector&lt; DomTreeNodeBase *, 4 &gt;::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00074">GenericDomTree.h:74</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_addec638786f763d967811b45cb662f1f"><div class="ttname"><a href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00191">User.h:191</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_a2eccc19f9061eeb7ad1e30e21f76034d"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a2eccc19f9061eeb7ad1e30e21f76034d">llvm::LoadInst::isVolatile</a></div><div class="ttdeci">bool isVolatile() const</div><div class="ttdoc">Return true if this is a load from a volatile memory location.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00214">Instructions.h:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWalkerPrinterPass_html_a9982e0fb4d45bbefee3aa1a790306610"><div class="ttname"><a href="classllvm_1_1MemorySSAWalkerPrinterPass.html#a9982e0fb4d45bbefee3aa1a790306610">llvm::MemorySSAWalkerPrinterPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02365">MemorySSA.cpp:2365</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="anamespacellvm_html_add71474638430694c84640146383fc44"><div class="ttname"><a href="namespacellvm.html#add71474638430694c84640146383fc44">llvm::hash_combine</a></div><div class="ttdeci">hash_code hash_combine(const Ts &amp;...args)</div><div class="ttdoc">Combine values into a single hash_code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00613">Hashing.h:613</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1b8a8e0fdb91dab1ae030d1fc7df73ea"><div class="ttname"><a href="namespacellvm.html#a1b8a8e0fdb91dab1ae030d1fc7df73ea">llvm::initializeMemorySSAWrapperPassPass</a></div><div class="ttdeci">void initializeMemorySSAWrapperPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a49f6b5c5e36a86395a7f91838768798d"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a49f6b5c5e36a86395a7f91838768798d">llvm::MemorySSA::MemorySSA</a></div><div class="ttdeci">MemorySSA(Function &amp;, AliasAnalysis *, DominatorTree *)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01236">MemorySSA.cpp:1236</a></div></div>
<div class="ttc" id="aclassllvm_1_1simple__ilist_html"><div class="ttname"><a href="classllvm_1_1simple__ilist.html">llvm::simple_ilist</a></div><div class="ttdoc">A simple intrusive list implementation.</div><div class="ttdef"><b>Definition:</b> <a href="simple__ilist_8h_source.html#l00078">simple_ilist.h:78</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a0a4950cbe1624334aaba286e4924383d"><div class="ttname"><a href="MemorySSA_8cpp.html#a0a4950cbe1624334aaba286e4924383d">instructionClobbersQuery</a></div><div class="ttdeci">static bool instructionClobbersQuery(const MemoryDef *MD, const MemoryLocation &amp;UseLoc, const Instruction *UseInst, AliasAnalysisType &amp;AA)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00287">MemorySSA.cpp:287</a></div></div>
<div class="ttc" id="aclassDOTFuncMSSAInfo_html_a21971c6cce1ec1e5ae0d0839f8deb1bd"><div class="ttname"><a href="classDOTFuncMSSAInfo.html#a21971c6cce1ec1e5ae0d0839f8deb1bd">DOTFuncMSSAInfo::DOTFuncMSSAInfo</a></div><div class="ttdeci">DOTFuncMSSAInfo(const Function &amp;F, MemorySSA &amp;MSSA)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02240">MemorySSA.cpp:2240</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_aebb7eeee08b08e9d52a6c29eb7501ad5"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#aebb7eeee08b08e9d52a6c29eb7501ad5">llvm::MemorySSA::AccessList</a></div><div class="ttdeci">iplist&lt; MemoryAccess, ilist_tag&lt; MSSAHelpers::AllAccessTag &gt; &gt; AccessList</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l00750">MemorySSA.h:750</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="astructllvm_1_1DefaultDOTGraphTraits_html"><div class="ttname"><a href="structllvm_1_1DefaultDOTGraphTraits.html">llvm::DefaultDOTGraphTraits</a></div><div class="ttdoc">DefaultDOTGraphTraits - This class provides the default implementations of all of the DOTGraphTraits ...</div><div class="ttdef"><b>Definition:</b> <a href="DOTGraphTraits_8h_source.html#l00028">DOTGraphTraits.h:28</a></div></div>
<div class="ttc" id="aDenseMapInfo_8h_html"><div class="ttname"><a href="DenseMapInfo_8h.html">DenseMapInfo.h</a></div></div>
<div class="ttc" id="astructllvm_1_1MemorySSAAnalysis_1_1Result_html_aa7ef622a6a2b5d83ccd6b06a42f0ba48"><div class="ttname"><a href="structllvm_1_1MemorySSAAnalysis_1_1Result.html#aa7ef622a6a2b5d83ccd6b06a42f0ba48">llvm::MemorySSAAnalysis::Result::invalidate</a></div><div class="ttdeci">bool invalidate(Function &amp;F, const PreservedAnalyses &amp;PA, FunctionAnalysisManager::Invalidator &amp;Inv)</div><div class="ttdef"><b>Definition:</b> <a href="LoopAnalysisManager_8cpp_source.html#l00029">LoopAnalysisManager.cpp:29</a></div></div>
<div class="ttc" id="aModuleSummaryIndex_8cpp_html_a0fc3ecfdb3206f557e0639397c61d1c9"><div class="ttname"><a href="ModuleSummaryIndex_8cpp.html#a0fc3ecfdb3206f557e0639397c61d1c9">getNodeLabel</a></div><div class="ttdeci">static std::string getNodeLabel(const ValueInfo &amp;VI, GlobalValueSummary *GVS)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8cpp_source.html#l00488">ModuleSummaryIndex.cpp:488</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl</a></div><div class="ttdoc">A templated base class for SmallPtrSet which provides the typesafe interface that is common across al...</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00344">SmallPtrSet.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_aa7a1b769f9c57010cc41d9c3bb9d39c6"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#aa7a1b769f9c57010cc41d9c3bb9d39c6">llvm::PreservedAnalyses::getChecker</a></div><div class="ttdeci">PreservedAnalysisChecker getChecker() const</div><div class="ttdoc">Build a checker for this PreservedAnalyses and the specified analysis type.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00310">PassManager.h:310</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee44336886a06f3c1b8c35c701ba8316"><div class="ttname"><a href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">llvm::getLoadStorePointerOperand</a></div><div class="ttdeci">const Value * getLoadStorePointerOperand(const Value *V)</div><div class="ttdoc">A helper function that returns the pointer operand of a load or store instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05363">Instructions.h:5363</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a3e9609868c465ed02093014a27d5a479"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a3e9609868c465ed02093014a27d5a479">llvm::MemorySSA::verifyDominationNumbers</a></div><div class="ttdeci">void verifyDominationNumbers(const Function &amp;F) const</div><div class="ttdoc">Verify that all of the blocks we believe to have valid domination numbers actually have valid dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01922">MemorySSA.cpp:1922</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a72507946850fcd3cdea22735440c5a83"><div class="ttname"><a href="MemorySSA_8cpp.html#a72507946850fcd3cdea22735440c5a83">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(MemorySSAWrapperPass, &quot;memoryssa&quot;, &quot;Memory SSA&quot;, false, true) INITIALIZE_PASS_END(MemorySSAWrapperPass</div></div>
<div class="ttc" id="anamespacellvm_html_aaa8db63ab2c8843f6e41c7fde63b1d84"><div class="ttname"><a href="namespacellvm.html#aaa8db63ab2c8843f6e41c7fde63b1d84">llvm::upward_defs_end</a></div><div class="ttdeci">upward_defs_iterator upward_defs_end()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01305">MemorySSA.h:1305</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUtil_html_ac6b2e834ecda34d360b905083ad6b37e"><div class="ttname"><a href="classllvm_1_1MemorySSAUtil.html#ac6b2e834ecda34d360b905083ad6b37e">llvm::MemorySSAUtil::defClobbersUseOrDef</a></div><div class="ttdeci">static bool defClobbersUseOrDef(MemoryDef *MD, const MemoryUseOrDef *MU, AliasAnalysis &amp;AA)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00344">MemorySSA.cpp:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_html"><div class="ttname"><a href="structllvm_1_1GraphTraits.html">llvm::GraphTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00037">GraphTraits.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa29fe161c408879ada30c90ebbf55dcf"><div class="ttname"><a href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">llvm::VerifyMemorySSA</a></div><div class="ttdeci">bool VerifyMemorySSA</div><div class="ttdoc">Enables verification of MemorySSA.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00089">MemorySSA.cpp:89</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWalker_html"><div class="ttname"><a href="classllvm_1_1MemorySSAWalker.html">llvm::MemorySSAWalker</a></div><div class="ttdoc">This is the generic walker interface for walkers of MemorySSA.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8h_source.html#l01017">MemorySSA.h:1017</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1M68kBeads_html_a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd"><div class="ttname"><a href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">llvm::M68kBeads::Term</a></div><div class="ttdeci">@ Term</div><div class="ttdef"><b>Definition:</b> <a href="M68kBaseInfo_8h_source.html#l00090">M68kBaseInfo.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAPrinterLegacyPass_html_a7fd32d6e21b99950b61963e1a7a26f13"><div class="ttname"><a href="classllvm_1_1MemorySSAPrinterLegacyPass.html#a7fd32d6e21b99950b61963e1a7a26f13">llvm::MemorySSAPrinterLegacyPass::MemorySSAPrinterLegacyPass</a></div><div class="ttdeci">MemorySSAPrinterLegacyPass()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02225">MemorySSA.cpp:2225</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4_html_afeeee37d51ca9e41d7ef8d85fc47e807"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01MemoryLocOrCall_01_4.html#afeeee37d51ca9e41d7ef8d85fc47e807">llvm::DenseMapInfo&lt; MemoryLocOrCall &gt;::getTombstoneKey</a></div><div class="ttdeci">static MemoryLocOrCall getTombstoneKey()</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l00229">MemorySSA.cpp:229</a></div></div>
<div class="ttc" id="aEarlyCSE_8cpp_html_a8dbb9a70b80f850edc8194bde1b5b305"><div class="ttname"><a href="EarlyCSE_8cpp.html#a8dbb9a70b80f850edc8194bde1b5b305">MemorySSA</a></div><div class="ttdeci">early cse Early CSE w MemorySSA</div><div class="ttdef"><b>Definition:</b> <a href="EarlyCSE_8cpp_source.html#l01809">EarlyCSE.cpp:1809</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aMemorySSA_8cpp_html_a340e155528d3d902fac9349a3bab435d"><div class="ttname"><a href="MemorySSA_8cpp.html#a340e155528d3d902fac9349a3bab435d">DotCFGMSSA</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; DotCFGMSSA(&quot;dot-cfg-mssa&quot;, cl::value_desc(&quot;file name for generated dot file&quot;), cl::desc(&quot;file name for generated dot file&quot;), cl::init(&quot;&quot;))</div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DerivedUser_html"><div class="ttname"><a href="classllvm_1_1DerivedUser.html">llvm::DerivedUser</a></div><div class="ttdoc">Extension point for the Value hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedUser_8h_source.html#l00027">DerivedUser.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b49849160e7f089916f83c52511da9e"><div class="ttname"><a href="namespacellvm.html#a7b49849160e7f089916f83c52511da9e">llvm::find_if_not</a></div><div class="ttdeci">auto find_if_not(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01767">STLExtras.h:1767</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="astructllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4_html_af60d76a41274028f16b7b22ec8812199"><div class="ttname"><a href="structllvm_1_1DOTGraphTraits_3_01DOTFuncMSSAInfo_01_5_01_4.html#af60d76a41274028f16b7b22ec8812199">llvm::DOTGraphTraits&lt; DOTFuncMSSAInfo * &gt;::DOTGraphTraits</a></div><div class="ttdeci">DOTGraphTraits(bool IsSimple=false)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l02274">MemorySSA.cpp:2274</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">llvm::ModRefInfo::ModRef</a></div><div class="ttdeci">@ ModRef</div><div class="ttdoc">The access may reference and may modify the value stored in memory.</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00211">MemoryLocation.h:211</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ace6b37d5eaf50e6fd3465513bc022e93"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a></div><div class="ttdeci">Add support for conditional and other related patterns Instead of</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00134">README.txt:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a396fcfee6914c76974b73c3d203da6a5"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a396fcfee6914c76974b73c3d203da6a5">llvm::SmallVectorImpl::emplace_back</a></div><div class="ttdeci">reference emplace_back(ArgTypes &amp;&amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00941">SmallVector.h:941</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a969eb757b1e43b455d4a8d0f603e695b"><div class="ttname"><a href="classllvm_1_1Function.html#a969eb757b1e43b455d4a8d0f603e695b">llvm::Function::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00756">Function.h:756</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_1_1CachingWalker_html_ad041c3e71ad6d9cb7bc560e02355b7f8"><div class="ttname"><a href="classllvm_1_1MemorySSA_1_1CachingWalker.html#ad041c3e71ad6d9cb7bc560e02355b7f8">llvm::MemorySSA::CachingWalker::getClobberingMemoryAccess</a></div><div class="ttdeci">MemoryAccess * getClobberingMemoryAccess(MemoryAccess *MA, const MemoryLocation &amp;Loc, BatchAAResults &amp;BAA, unsigned &amp;UWL)</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSA_8cpp_source.html#l01029">MemorySSA.cpp:1029</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1hash__code_html"><div class="ttname"><a href="classllvm_1_1hash__code.html">llvm::hash_code</a></div><div class="ttdoc">An opaque object representing a hash code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00074">Hashing.h:74</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:49:29 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
